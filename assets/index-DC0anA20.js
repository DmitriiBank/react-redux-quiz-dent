var LY=Object.defineProperty;var uz=t=>{throw TypeError(t)};var NY=(t,e,n)=>e in t?LY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var je=(t,e,n)=>NY(t,typeof e!="symbol"?e+"":e,n),$P=(t,e,n)=>e.has(t)||uz("Cannot "+n);var y=(t,e,n)=>($P(t,e,"read from private field"),n?n.call(t):e.get(t)),Q=(t,e,n)=>e.has(t)?uz("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),G=(t,e,n,r)=>($P(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),J=(t,e,n)=>($P(t,e,"access private method"),n);var Bi=(t,e,n,r)=>({set _(o){G(t,e,o,n)},get _(){return y(t,e,r)}});function FY(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in t)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(t,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function tE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var VP={exports:{}},Ow={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dz;function $Y(){if(dz)return Ow;dz=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,i){var s=null;if(i!==void 0&&(s=""+i),o.key!==void 0&&(s=""+o.key),"key"in o){i={};for(var a in o)a!=="key"&&(i[a]=o[a])}else i=o;return o=i.ref,{$$typeof:t,type:r,key:s,ref:o!==void 0?o:null,props:i}}return Ow.Fragment=e,Ow.jsx=n,Ow.jsxs=n,Ow}var hz;function VY(){return hz||(hz=1,VP.exports=$Y()),VP.exports}var T=VY(),zP={exports:{}},Dw={},BP={exports:{}},HP={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fz;function zY(){return fz||(fz=1,function(t){function e(z,H){var Z=z.length;z.push(H);e:for(;0<Z;){var re=Z-1>>>1,j=z[re];if(0<o(j,H))z[re]=H,z[Z]=j,Z=re;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var H=z[0],Z=z.pop();if(Z!==H){z[0]=Z;e:for(var re=0,j=z.length,X=j>>>1;re<X;){var ne=2*(re+1)-1,ie=z[ne],se=ne+1,ce=z[se];if(0>o(ie,Z))se<j&&0>o(ce,ie)?(z[re]=ce,z[se]=Z,re=se):(z[re]=ie,z[ne]=Z,re=ne);else if(se<j&&0>o(ce,Z))z[re]=ce,z[se]=Z,re=se;else break e}}return H}function o(z,H){var Z=z.sortIndex-H.sortIndex;return Z!==0?Z:z.id-H.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var c=[],d=[],h=1,p=null,g=3,m=!1,v=!1,S=!1,C=!1,x=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function P(z){for(var H=n(d);H!==null;){if(H.callback===null)r(d);else if(H.startTime<=z)r(d),H.sortIndex=H.expirationTime,e(c,H);else break;H=n(d)}}function k(z){if(S=!1,P(z),!v)if(n(c)!==null)v=!0,$||($=!0,R());else{var H=n(d);H!==null&&K(k,H.startTime-z)}}var $=!1,D=-1,I=5,A=-1;function N(){return C?!0:!(t.unstable_now()-A<I)}function F(){if(C=!1,$){var z=t.unstable_now();A=z;var H=!0;try{e:{v=!1,S&&(S=!1,O(D),D=-1),m=!0;var Z=g;try{t:{for(P(z),p=n(c);p!==null&&!(p.expirationTime>z&&N());){var re=p.callback;if(typeof re=="function"){p.callback=null,g=p.priorityLevel;var j=re(p.expirationTime<=z);if(z=t.unstable_now(),typeof j=="function"){p.callback=j,P(z),H=!0;break t}p===n(c)&&r(c),P(z)}else r(c);p=n(c)}if(p!==null)H=!0;else{var X=n(d);X!==null&&K(k,X.startTime-z),H=!1}}break e}finally{p=null,g=Z,m=!1}H=void 0}}finally{H?R():$=!1}}}var R;if(typeof M=="function")R=function(){M(F)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,q=V.port2;V.port1.onmessage=F,R=function(){q.postMessage(null)}}else R=function(){x(F,0)};function K(z,H){D=x(function(){z(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(z){switch(g){case 1:case 2:case 3:var H=3;break;default:H=g}var Z=g;g=H;try{return z()}finally{g=Z}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(z,H){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Z=g;g=z;try{return H()}finally{g=Z}},t.unstable_scheduleCallback=function(z,H,Z){var re=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?re+Z:re):Z=re,z){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=Z+j,z={id:h++,callback:H,priorityLevel:z,startTime:Z,expirationTime:j,sortIndex:-1},Z>re?(z.sortIndex=Z,e(d,z),n(c)===null&&z===n(d)&&(S?(O(D),D=-1):S=!0,K(k,Z-re))):(z.sortIndex=j,e(c,z),v||m||(v=!0,$||($=!0,R()))),z},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(z){var H=g;return function(){var Z=g;g=H;try{return z.apply(this,arguments)}finally{g=Z}}}}(HP)),HP}var pz;function BY(){return pz||(pz=1,BP.exports=zY()),BP.exports}var jP={exports:{}},tn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gz;function HY(){if(gz)return tn;gz=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),s=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function g(j){return j===null||typeof j!="object"?null:(j=p&&j[p]||j["@@iterator"],typeof j=="function"?j:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,S={};function C(j,X,ne){this.props=j,this.context=X,this.refs=S,this.updater=ne||m}C.prototype.isReactComponent={},C.prototype.setState=function(j,X){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,X,"setState")},C.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function x(){}x.prototype=C.prototype;function O(j,X,ne){this.props=j,this.context=X,this.refs=S,this.updater=ne||m}var M=O.prototype=new x;M.constructor=O,v(M,C.prototype),M.isPureReactComponent=!0;var P=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},$=Object.prototype.hasOwnProperty;function D(j,X,ne,ie,se,ce){return ne=ce.ref,{$$typeof:t,type:j,key:X,ref:ne!==void 0?ne:null,props:ce}}function I(j,X){return D(j.type,X,void 0,void 0,void 0,j.props)}function A(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function N(j){var X={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ne){return X[ne]})}var F=/\/+/g;function R(j,X){return typeof j=="object"&&j!==null&&j.key!=null?N(""+j.key):X.toString(36)}function V(){}function q(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(V,V):(j.status="pending",j.then(function(X){j.status==="pending"&&(j.status="fulfilled",j.value=X)},function(X){j.status==="pending"&&(j.status="rejected",j.reason=X)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function K(j,X,ne,ie,se){var ce=typeof j;(ce==="undefined"||ce==="boolean")&&(j=null);var ae=!1;if(j===null)ae=!0;else switch(ce){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(j.$$typeof){case t:case e:ae=!0;break;case h:return ae=j._init,K(ae(j._payload),X,ne,ie,se)}}if(ae)return se=se(j),ae=ie===""?"."+R(j,0):ie,P(se)?(ne="",ae!=null&&(ne=ae.replace(F,"$&/")+"/"),K(se,X,ne,"",function(Te){return Te})):se!=null&&(A(se)&&(se=I(se,ne+(se.key==null||j&&j.key===se.key?"":(""+se.key).replace(F,"$&/")+"/")+ae)),X.push(se)),1;ae=0;var ge=ie===""?".":ie+":";if(P(j))for(var Ee=0;Ee<j.length;Ee++)ie=j[Ee],ce=ge+R(ie,Ee),ae+=K(ie,X,ne,ce,se);else if(Ee=g(j),typeof Ee=="function")for(j=Ee.call(j),Ee=0;!(ie=j.next()).done;)ie=ie.value,ce=ge+R(ie,Ee++),ae+=K(ie,X,ne,ce,se);else if(ce==="object"){if(typeof j.then=="function")return K(q(j),X,ne,ie,se);throw X=String(j),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return ae}function z(j,X,ne){if(j==null)return j;var ie=[],se=0;return K(j,ie,"","",function(ce){return X.call(ne,ce,se++)}),ie}function H(j){if(j._status===-1){var X=j._result;X=X(),X.then(function(ne){(j._status===0||j._status===-1)&&(j._status=1,j._result=ne)},function(ne){(j._status===0||j._status===-1)&&(j._status=2,j._result=ne)}),j._status===-1&&(j._status=0,j._result=X)}if(j._status===1)return j._result.default;throw j._result}var Z=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function re(){}return tn.Children={map:z,forEach:function(j,X,ne){z(j,function(){X.apply(this,arguments)},ne)},count:function(j){var X=0;return z(j,function(){X++}),X},toArray:function(j){return z(j,function(X){return X})||[]},only:function(j){if(!A(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},tn.Component=C,tn.Fragment=n,tn.Profiler=o,tn.PureComponent=O,tn.StrictMode=r,tn.Suspense=c,tn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,tn.__COMPILER_RUNTIME={__proto__:null,c:function(j){return k.H.useMemoCache(j)}},tn.cache=function(j){return function(){return j.apply(null,arguments)}},tn.cloneElement=function(j,X,ne){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var ie=v({},j.props),se=j.key,ce=void 0;if(X!=null)for(ae in X.ref!==void 0&&(ce=void 0),X.key!==void 0&&(se=""+X.key),X)!$.call(X,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&X.ref===void 0||(ie[ae]=X[ae]);var ae=arguments.length-2;if(ae===1)ie.children=ne;else if(1<ae){for(var ge=Array(ae),Ee=0;Ee<ae;Ee++)ge[Ee]=arguments[Ee+2];ie.children=ge}return D(j.type,se,void 0,void 0,ce,ie)},tn.createContext=function(j){return j={$$typeof:s,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:i,_context:j},j},tn.createElement=function(j,X,ne){var ie,se={},ce=null;if(X!=null)for(ie in X.key!==void 0&&(ce=""+X.key),X)$.call(X,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(se[ie]=X[ie]);var ae=arguments.length-2;if(ae===1)se.children=ne;else if(1<ae){for(var ge=Array(ae),Ee=0;Ee<ae;Ee++)ge[Ee]=arguments[Ee+2];se.children=ge}if(j&&j.defaultProps)for(ie in ae=j.defaultProps,ae)se[ie]===void 0&&(se[ie]=ae[ie]);return D(j,ce,void 0,void 0,null,se)},tn.createRef=function(){return{current:null}},tn.forwardRef=function(j){return{$$typeof:a,render:j}},tn.isValidElement=A,tn.lazy=function(j){return{$$typeof:h,_payload:{_status:-1,_result:j},_init:H}},tn.memo=function(j,X){return{$$typeof:d,type:j,compare:X===void 0?null:X}},tn.startTransition=function(j){var X=k.T,ne={};k.T=ne;try{var ie=j(),se=k.S;se!==null&&se(ne,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(re,Z)}catch(ce){Z(ce)}finally{k.T=X}},tn.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},tn.use=function(j){return k.H.use(j)},tn.useActionState=function(j,X,ne){return k.H.useActionState(j,X,ne)},tn.useCallback=function(j,X){return k.H.useCallback(j,X)},tn.useContext=function(j){return k.H.useContext(j)},tn.useDebugValue=function(){},tn.useDeferredValue=function(j,X){return k.H.useDeferredValue(j,X)},tn.useEffect=function(j,X,ne){var ie=k.H;if(typeof ne=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(j,X)},tn.useId=function(){return k.H.useId()},tn.useImperativeHandle=function(j,X,ne){return k.H.useImperativeHandle(j,X,ne)},tn.useInsertionEffect=function(j,X){return k.H.useInsertionEffect(j,X)},tn.useLayoutEffect=function(j,X){return k.H.useLayoutEffect(j,X)},tn.useMemo=function(j,X){return k.H.useMemo(j,X)},tn.useOptimistic=function(j,X){return k.H.useOptimistic(j,X)},tn.useReducer=function(j,X,ne){return k.H.useReducer(j,X,ne)},tn.useRef=function(j){return k.H.useRef(j)},tn.useState=function(j){return k.H.useState(j)},tn.useSyncExternalStore=function(j,X,ne){return k.H.useSyncExternalStore(j,X,ne)},tn.useTransition=function(){return k.H.useTransition()},tn.version="19.1.0",tn}var mz;function mv(){return mz||(mz=1,jP.exports=HY()),jP.exports}var UP={exports:{}},Ci={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yz;function jY(){if(yz)return Ci;yz=1;var t=mv();function e(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function i(c,d,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:p==null?null:""+p,children:c,containerInfo:d,implementation:h}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Ci.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ci.createPortal=function(c,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return i(c,d,null,h)},Ci.flushSync=function(c){var d=s.T,h=r.p;try{if(s.T=null,r.p=2,c)return c()}finally{s.T=d,r.p=h,r.d.f()}},Ci.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(c,d))},Ci.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},Ci.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var h=d.as,p=a(h,d.crossOrigin),g=typeof d.integrity=="string"?d.integrity:void 0,m=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:m}):h==="script"&&r.d.X(c,{crossOrigin:p,integrity:g,fetchPriority:m,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Ci.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=a(d.as,d.crossOrigin);r.d.M(c,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(c)},Ci.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,p=a(h,d.crossOrigin);r.d.L(c,h,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Ci.preloadModule=function(c,d){if(typeof c=="string")if(d){var h=a(d.as,d.crossOrigin);r.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(c)},Ci.requestFormReset=function(c){r.d.r(c)},Ci.unstable_batchedUpdates=function(c,d){return c(d)},Ci.useFormState=function(c,d,h){return s.H.useFormState(c,d,h)},Ci.useFormStatus=function(){return s.H.useHostTransitionStatus()},Ci.version="19.1.0",Ci}var bz;function tU(){if(bz)return UP.exports;bz=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),UP.exports=jY(),UP.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vz;function UY(){if(vz)return Dw;vz=1;var t=BY(),e=mv(),n=tU();function r(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)u+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function i(l){var u=l,f=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(f=u.return),l=u.return;while(l)}return u.tag===3?f:null}function s(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function a(l){if(i(l)!==l)throw Error(r(188))}function c(l){var u=l.alternate;if(!u){if(u=i(l),u===null)throw Error(r(188));return u!==l?null:l}for(var f=l,b=u;;){var _=f.return;if(_===null)break;var L=_.alternate;if(L===null){if(b=_.return,b!==null){f=b;continue}break}if(_.child===L.child){for(L=_.child;L;){if(L===f)return a(_),l;if(L===b)return a(_),u;L=L.sibling}throw Error(r(188))}if(f.return!==b.return)f=_,b=L;else{for(var Y=!1,te=_.child;te;){if(te===f){Y=!0,f=_,b=L;break}if(te===b){Y=!0,b=_,f=L;break}te=te.sibling}if(!Y){for(te=L.child;te;){if(te===f){Y=!0,f=L,b=_;break}if(te===b){Y=!0,b=L,f=_;break}te=te.sibling}if(!Y)throw Error(r(189))}}if(f.alternate!==b)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?l:u}function d(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l;for(l=l.child;l!==null;){if(u=d(l),u!==null)return u;l=l.sibling}return null}var h=Object.assign,p=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),M=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function R(l){return l===null||typeof l!="object"?null:(l=F&&l[F]||l["@@iterator"],typeof l=="function"?l:null)}var V=Symbol.for("react.client.reference");function q(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===V?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case v:return"Fragment";case C:return"Profiler";case S:return"StrictMode";case k:return"Suspense";case $:return"SuspenseList";case A:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case m:return"Portal";case M:return(l.displayName||"Context")+".Provider";case O:return(l._context.displayName||"Context")+".Consumer";case P:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case D:return u=l.displayName||null,u!==null?u:q(l.type)||"Memo";case I:u=l._payload,l=l._init;try{return q(l(u))}catch{}}return null}var K=Array.isArray,z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},re=[],j=-1;function X(l){return{current:l}}function ne(l){0>j||(l.current=re[j],re[j]=null,j--)}function ie(l,u){j++,re[j]=l.current,l.current=u}var se=X(null),ce=X(null),ae=X(null),ge=X(null);function Ee(l,u){switch(ie(ae,u),ie(ce,l),ie(se,null),u.nodeType){case 9:case 11:l=(l=u.documentElement)&&(l=l.namespaceURI)?$V(l):0;break;default:if(l=u.tagName,u=u.namespaceURI)u=$V(u),l=VV(u,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}ne(se),ie(se,l)}function Te(){ne(se),ne(ce),ne(ae)}function le(l){l.memoizedState!==null&&ie(ge,l);var u=se.current,f=VV(u,l.type);u!==f&&(ie(ce,l),ie(se,f))}function pe(l){ce.current===l&&(ne(se),ne(ce)),ge.current===l&&(ne(ge),Iw._currentValue=Z)}var ye=Object.prototype.hasOwnProperty,xe=t.unstable_scheduleCallback,Ce=t.unstable_cancelCallback,Pe=t.unstable_shouldYield,ze=t.unstable_requestPaint,Ke=t.unstable_now,ke=t.unstable_getCurrentPriorityLevel,ot=t.unstable_ImmediatePriority,Ye=t.unstable_UserBlockingPriority,at=t.unstable_NormalPriority,he=t.unstable_LowPriority,Ue=t.unstable_IdlePriority,qe=t.log,nt=t.unstable_setDisableYieldValue,Je=null,Qe=null;function dt(l){if(typeof qe=="function"&&nt(l),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(Je,l)}catch{}}var ht=Math.clz32?Math.clz32:it,Ge=Math.log,De=Math.LN2;function it(l){return l>>>=0,l===0?32:31-(Ge(l)/De|0)|0}var Et=256,gt=4194304;function mt(l){var u=l&42;if(u!==0)return u;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function Ut(l,u,f){var b=l.pendingLanes;if(b===0)return 0;var _=0,L=l.suspendedLanes,Y=l.pingedLanes;l=l.warmLanes;var te=b&134217727;return te!==0?(b=te&~L,b!==0?_=mt(b):(Y&=te,Y!==0?_=mt(Y):f||(f=te&~l,f!==0&&(_=mt(f))))):(te=b&~L,te!==0?_=mt(te):Y!==0?_=mt(Y):f||(f=b&~l,f!==0&&(_=mt(f)))),_===0?0:u!==0&&u!==_&&(u&L)===0&&(L=_&-_,f=u&-u,L>=f||L===32&&(f&4194048)!==0)?u:_}function Ot(l,u){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&u)===0}function mn(l,u){switch(l){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vt(){var l=Et;return Et<<=1,(Et&4194048)===0&&(Et=256),l}function Yt(){var l=gt;return gt<<=1,(gt&62914560)===0&&(gt=4194304),l}function Zt(l){for(var u=[],f=0;31>f;f++)u.push(l);return u}function An(l,u){l.pendingLanes|=u,u!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function _r(l,u,f,b,_,L){var Y=l.pendingLanes;l.pendingLanes=f,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=f,l.entangledLanes&=f,l.errorRecoveryDisabledLanes&=f,l.shellSuspendCounter=0;var te=l.entanglements,ue=l.expirationTimes,we=l.hiddenUpdates;for(f=Y&~f;0<f;){var Fe=31-ht(f),Be=1<<Fe;te[Fe]=0,ue[Fe]=-1;var _e=we[Fe];if(_e!==null)for(we[Fe]=null,Fe=0;Fe<_e.length;Fe++){var Ae=_e[Fe];Ae!==null&&(Ae.lane&=-536870913)}f&=~Be}b!==0&&Qn(l,b,0),L!==0&&_===0&&l.tag!==0&&(l.suspendedLanes|=L&~(Y&~u))}function Qn(l,u,f){l.pendingLanes|=u,l.suspendedLanes&=~u;var b=31-ht(u);l.entangledLanes|=u,l.entanglements[b]=l.entanglements[b]|1073741824|f&4194090}function Tr(l,u){var f=l.entangledLanes|=u;for(l=l.entanglements;f;){var b=31-ht(f),_=1<<b;_&u|l[b]&u&&(l[b]|=u),f&=~_}}function jr(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function Nt(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function Nn(){var l=H.p;return l!==0?l:(l=window.event,l===void 0?32:oz(l.type))}function ts(l,u){var f=H.p;try{return H.p=l,u()}finally{H.p=f}}var Fn=Math.random().toString(36).slice(2),Zn="__reactFiber$"+Fn,$n="__reactProps$"+Fn,Ur="__reactContainer$"+Fn,la="__reactEvents$"+Fn,Df="__reactListeners$"+Fn,ca="__reactHandles$"+Fn,Ad="__reactResources$"+Fn,ws="__reactMarker$"+Fn;function Jn(l){delete l[Zn],delete l[$n],delete l[la],delete l[Df],delete l[ca]}function er(l){var u=l[Zn];if(u)return u;for(var f=l.parentNode;f;){if(u=f[Ur]||f[Zn]){if(f=u.alternate,u.child!==null||f!==null&&f.child!==null)for(l=jV(l);l!==null;){if(f=l[Zn])return f;l=jV(l)}return u}l=f,f=l.parentNode}return null}function So(l){if(l=l[Zn]||l[Ur]){var u=l.tag;if(u===5||u===6||u===13||u===26||u===27||u===3)return l}return null}function ns(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l.stateNode;throw Error(r(33))}function eo(l){var u=l[Ad];return u||(u=l[Ad]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function mr(l){l[ws]=!0}var Oe=new Set,Me={};function lt(l,u){Tt(l,u),Tt(l+"Capture",u)}function Tt(l,u){for(Me[l]=u,l=0;l<u.length;l++)Oe.add(u[l])}var Bt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nr={},Gn={};function wi(l){return ye.call(Gn,l)?!0:ye.call(Nr,l)?!1:Bt.test(l)?Gn[l]=!0:(Nr[l]=!0,!1)}function Ss(l,u,f){if(wi(u))if(f===null)l.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":l.removeAttribute(u);return;case"boolean":var b=u.toLowerCase().slice(0,5);if(b!=="data-"&&b!=="aria-"){l.removeAttribute(u);return}}l.setAttribute(u,""+f)}}function Cs(l,u,f){if(f===null)l.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(u);return}l.setAttribute(u,""+f)}}function Gr(l,u,f,b){if(b===null)l.removeAttribute(f);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(f);return}l.setAttributeNS(u,f,""+b)}}var ua,un;function Fo(l){if(ua===void 0)try{throw Error()}catch(f){var u=f.stack.trim().match(/\n( *(at )?)/);ua=u&&u[1]||"",un=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ua+l+un}var Fi=!1;function da(l,u){if(!l||Fi)return"";Fi=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(u){var Be=function(){throw Error()};if(Object.defineProperty(Be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Be,[])}catch(Ae){var _e=Ae}Reflect.construct(l,[],Be)}else{try{Be.call()}catch(Ae){_e=Ae}l.call(Be.prototype)}}else{try{throw Error()}catch(Ae){_e=Ae}(Be=l())&&typeof Be.catch=="function"&&Be.catch(function(){})}}catch(Ae){if(Ae&&_e&&typeof Ae.stack=="string")return[Ae.stack,_e.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var L=b.DetermineComponentFrameRoot(),Y=L[0],te=L[1];if(Y&&te){var ue=Y.split(`
`),we=te.split(`
`);for(_=b=0;b<ue.length&&!ue[b].includes("DetermineComponentFrameRoot");)b++;for(;_<we.length&&!we[_].includes("DetermineComponentFrameRoot");)_++;if(b===ue.length||_===we.length)for(b=ue.length-1,_=we.length-1;1<=b&&0<=_&&ue[b]!==we[_];)_--;for(;1<=b&&0<=_;b--,_--)if(ue[b]!==we[_]){if(b!==1||_!==1)do if(b--,_--,0>_||ue[b]!==we[_]){var Fe=`
`+ue[b].replace(" at new "," at ");return l.displayName&&Fe.includes("<anonymous>")&&(Fe=Fe.replace("<anonymous>",l.displayName)),Fe}while(1<=b&&0<=_);break}}}finally{Fi=!1,Error.prepareStackTrace=f}return(f=l?l.displayName||l.name:"")?Fo(f):""}function Lv(l){switch(l.tag){case 26:case 27:case 5:return Fo(l.type);case 16:return Fo("Lazy");case 13:return Fo("Suspense");case 19:return Fo("SuspenseList");case 0:case 15:return da(l.type,!1);case 11:return da(l.type.render,!1);case 1:return da(l.type,!0);case 31:return Fo("Activity");default:return""}}function gm(l){try{var u="";do u+=Lv(l),l=l.return;while(l);return u}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}function $i(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function Nv(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function HI(l){var u=Nv(l)?"checked":"value",f=Object.getOwnPropertyDescriptor(l.constructor.prototype,u),b=""+l[u];if(!l.hasOwnProperty(u)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var _=f.get,L=f.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return _.call(this)},set:function(Y){b=""+Y,L.call(this,Y)}}),Object.defineProperty(l,u,{enumerable:f.enumerable}),{getValue:function(){return b},setValue:function(Y){b=""+Y},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function mm(l){l._valueTracker||(l._valueTracker=HI(l))}function Fv(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var f=u.getValue(),b="";return l&&(b=Nv(l)?l.checked?"true":"false":l.value),l=b,l!==f?(u.setValue(l),!0):!1}function Lf(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var jI=/[\n"\\]/g;function ho(l){return l.replace(jI,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function Es(l,u,f,b,_,L,Y,te){l.name="",Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"?l.type=Y:l.removeAttribute("type"),u!=null?Y==="number"?(u===0&&l.value===""||l.value!=u)&&(l.value=""+$i(u)):l.value!==""+$i(u)&&(l.value=""+$i(u)):Y!=="submit"&&Y!=="reset"||l.removeAttribute("value"),u!=null?Id(l,Y,$i(u)):f!=null?Id(l,Y,$i(f)):b!=null&&l.removeAttribute("value"),_==null&&L!=null&&(l.defaultChecked=!!L),_!=null&&(l.checked=_&&typeof _!="function"&&typeof _!="symbol"),te!=null&&typeof te!="function"&&typeof te!="symbol"&&typeof te!="boolean"?l.name=""+$i(te):l.removeAttribute("name")}function Nf(l,u,f,b,_,L,Y,te){if(L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(l.type=L),u!=null||f!=null){if(!(L!=="submit"&&L!=="reset"||u!=null))return;f=f!=null?""+$i(f):"",u=u!=null?""+$i(u):f,te||u===l.value||(l.value=u),l.defaultValue=u}b=b??_,b=typeof b!="function"&&typeof b!="symbol"&&!!b,l.checked=te?l.checked:!!b,l.defaultChecked=!!b,Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"&&(l.name=Y)}function Id(l,u,f){u==="number"&&Lf(l.ownerDocument)===l||l.defaultValue===""+f||(l.defaultValue=""+f)}function qc(l,u,f,b){if(l=l.options,u){u={};for(var _=0;_<f.length;_++)u["$"+f[_]]=!0;for(f=0;f<l.length;f++)_=u.hasOwnProperty("$"+l[f].value),l[f].selected!==_&&(l[f].selected=_),_&&b&&(l[f].defaultSelected=!0)}else{for(f=""+$i(f),u=null,_=0;_<l.length;_++){if(l[_].value===f){l[_].selected=!0,b&&(l[_].defaultSelected=!0);return}u!==null||l[_].disabled||(u=l[_])}u!==null&&(u.selected=!0)}}function tr(l,u,f){if(u!=null&&(u=""+$i(u),u!==l.value&&(l.value=u),f==null)){l.defaultValue!==u&&(l.defaultValue=u);return}l.defaultValue=f!=null?""+$i(f):""}function Ff(l,u,f,b){if(u==null){if(b!=null){if(f!=null)throw Error(r(92));if(K(b)){if(1<b.length)throw Error(r(93));b=b[0]}f=b}f==null&&(f=""),u=f}f=$i(u),l.defaultValue=f,b=l.textContent,b===f&&b!==""&&b!==null&&(l.value=b)}function ha(l,u){if(u){var f=l.firstChild;if(f&&f===l.lastChild&&f.nodeType===3){f.nodeValue=u;return}}l.textContent=u}var $f=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qE(l,u,f){var b=u.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?b?l.setProperty(u,""):u==="float"?l.cssFloat="":l[u]="":b?l.setProperty(u,f):typeof f!="number"||f===0||$f.has(u)?u==="float"?l.cssFloat=f:l[u]=(""+f).trim():l[u]=f+"px"}function $v(l,u,f){if(u!=null&&typeof u!="object")throw Error(r(62));if(l=l.style,f!=null){for(var b in f)!f.hasOwnProperty(b)||u!=null&&u.hasOwnProperty(b)||(b.indexOf("--")===0?l.setProperty(b,""):b==="float"?l.cssFloat="":l[b]="");for(var _ in u)b=u[_],u.hasOwnProperty(_)&&f[_]!==b&&qE(l,_,b)}else for(var L in u)u.hasOwnProperty(L)&&qE(l,L,u[L])}function Vv(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var UI=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),GI=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ym(l){return GI.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}var Kc=null;function fa(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Yc=null,Xc=null;function zv(l){var u=So(l);if(u&&(l=u.stateNode)){var f=l[$n]||null;e:switch(l=u.stateNode,u.type){case"input":if(Es(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),u=f.name,f.type==="radio"&&u!=null){for(f=l;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+ho(""+u)+'"][type="radio"]'),u=0;u<f.length;u++){var b=f[u];if(b!==l&&b.form===l.form){var _=b[$n]||null;if(!_)throw Error(r(90));Es(b,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(u=0;u<f.length;u++)b=f[u],b.form===l.form&&Fv(b)}break e;case"textarea":tr(l,f.value,f.defaultValue);break e;case"select":u=f.value,u!=null&&qc(l,!!f.multiple,u,!1)}}}var Vl=!1;function KE(l,u,f){if(Vl)return l(u,f);Vl=!0;try{var b=l(u);return b}finally{if(Vl=!1,(Yc!==null||Xc!==null)&&(Bx(),Yc&&(u=Yc,l=Xc,Xc=Yc=null,zv(u),l)))for(u=0;u<l.length;u++)zv(l[u])}}function Vf(l,u){var f=l.stateNode;if(f===null)return null;var b=f[$n]||null;if(b===null)return null;f=b[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(l=l.type,b=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!b;break e;default:l=!1}if(l)return null;if(f&&typeof f!="function")throw Error(r(231,u,typeof f));return f}var tl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pa=!1;if(tl)try{var zf={};Object.defineProperty(zf,"passive",{get:function(){pa=!0}}),window.addEventListener("test",zf,zf),window.removeEventListener("test",zf,zf)}catch{pa=!1}var zl=null,Rd=null,Qc=null;function Bv(){if(Qc)return Qc;var l,u=Rd,f=u.length,b,_="value"in zl?zl.value:zl.textContent,L=_.length;for(l=0;l<f&&u[l]===_[l];l++);var Y=f-l;for(b=1;b<=Y&&u[f-b]===_[L-b];b++);return Qc=_.slice(l,1<b?1-b:void 0)}function Bl(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function Hl(){return!0}function Hv(){return!1}function $o(l){function u(f,b,_,L,Y){this._reactName=f,this._targetInst=_,this.type=b,this.nativeEvent=L,this.target=Y,this.currentTarget=null;for(var te in l)l.hasOwnProperty(te)&&(f=l[te],this[te]=f?f(L):L[te]);return this.isDefaultPrevented=(L.defaultPrevented!=null?L.defaultPrevented:L.returnValue===!1)?Hl:Hv,this.isPropagationStopped=Hv,this}return h(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Hl)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Hl)},persist:function(){},isPersistent:Hl}),u}var Vn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bm=$o(Vn),Bf=h({},Vn,{view:0,detail:0}),YE=$o(Bf),vm,wm,jl,Hf=h({},Bf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gf,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==jl&&(jl&&l.type==="mousemove"?(vm=l.screenX-jl.screenX,wm=l.screenY-jl.screenY):wm=vm=0,jl=l),vm)},movementY:function(l){return"movementY"in l?l.movementY:wm}}),ga=$o(Hf),XE=h({},Hf,{dataTransfer:0}),WI=$o(XE),jf=h({},Bf,{relatedTarget:0}),Sm=$o(jf),jv=h({},Vn,{animationName:0,elapsedTime:0,pseudoElement:0}),Cm=$o(jv),QE=h({},Vn,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),Em=$o(QE),qI=h({},Vn,{data:0}),Uv=$o(qI),Uf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ZE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},JE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gv(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=JE[l])?!!u[l]:!1}function Gf(){return Gv}var ex=h({},Bf,{key:function(l){if(l.key){var u=Uf[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=Bl(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?ZE[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gf,charCode:function(l){return l.type==="keypress"?Bl(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Bl(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),xm=$o(ex),tx=h({},Hf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wv=$o(tx),Zc=h({},Bf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gf}),nx=$o(Zc),rx=h({},Vn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ox=$o(rx),ix=h({},Hf,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),_m=$o(ix),Vi=h({},Vn,{newState:0,oldState:0}),sx=$o(Vi),ax=[9,13,27,32],Ul=tl&&"CompositionEvent"in window,E=null;tl&&"documentMode"in document&&(E=document.documentMode);var B=tl&&"TextEvent"in window&&!E,W=tl&&(!Ul||E&&8<E&&11>=E),oe=" ",be=!1;function Re(l,u){switch(l){case"keyup":return ax.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rt(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Cn=!1;function Co(l,u){switch(l){case"compositionend":return rt(u);case"keypress":return u.which!==32?null:(be=!0,oe);case"textInput":return l=u.data,l===oe&&be?null:l;default:return null}}function En(l,u){if(Cn)return l==="compositionend"||!Ul&&Re(l,u)?(l=Bv(),Qc=Rd=zl=null,Cn=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return W&&u.locale!=="ko"?null:u.data;default:return null}}var Vo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Eo(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!Vo[l.type]:u==="textarea"}function Jc(l,u,f,b){Yc?Xc?Xc.push(b):Xc=[b]:Yc=b,u=qx(u,"onChange"),0<u.length&&(f=new bm("onChange","change",null,f,b),l.push({event:f,listeners:u}))}var ni=null,Gl=null;function qv(l){OV(l,0)}function lx(l){var u=ns(l);if(Fv(u))return l}function eF(l,u){if(l==="change")return u}var tF=!1;if(tl){var KI;if(tl){var YI="oninput"in document;if(!YI){var nF=document.createElement("div");nF.setAttribute("oninput","return;"),YI=typeof nF.oninput=="function"}KI=YI}else KI=!1;tF=KI&&(!document.documentMode||9<document.documentMode)}function rF(){ni&&(ni.detachEvent("onpropertychange",oF),Gl=ni=null)}function oF(l){if(l.propertyName==="value"&&lx(Gl)){var u=[];Jc(u,Gl,l,fa(l)),KE(qv,u)}}function dK(l,u,f){l==="focusin"?(rF(),ni=u,Gl=f,ni.attachEvent("onpropertychange",oF)):l==="focusout"&&rF()}function hK(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return lx(Gl)}function fK(l,u){if(l==="click")return lx(u)}function pK(l,u){if(l==="input"||l==="change")return lx(u)}function gK(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var xs=typeof Object.is=="function"?Object.is:gK;function Kv(l,u){if(xs(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var f=Object.keys(l),b=Object.keys(u);if(f.length!==b.length)return!1;for(b=0;b<f.length;b++){var _=f[b];if(!ye.call(u,_)||!xs(l[_],u[_]))return!1}return!0}function iF(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function sF(l,u){var f=iF(l);l=0;for(var b;f;){if(f.nodeType===3){if(b=l+f.textContent.length,l<=u&&b>=u)return{node:f,offset:u-l};l=b}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=iF(f)}}function aF(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?aF(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function lF(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var u=Lf(l.document);u instanceof l.HTMLIFrameElement;){try{var f=typeof u.contentWindow.location.href=="string"}catch{f=!1}if(f)l=u.contentWindow;else break;u=Lf(l.document)}return u}function XI(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}var mK=tl&&"documentMode"in document&&11>=document.documentMode,Tm=null,QI=null,Yv=null,ZI=!1;function cF(l,u,f){var b=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;ZI||Tm==null||Tm!==Lf(b)||(b=Tm,"selectionStart"in b&&XI(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),Yv&&Kv(Yv,b)||(Yv=b,b=qx(QI,"onSelect"),0<b.length&&(u=new bm("onSelect","select",null,u,f),l.push({event:u,listeners:b}),u.target=Tm)))}function Wf(l,u){var f={};return f[l.toLowerCase()]=u.toLowerCase(),f["Webkit"+l]="webkit"+u,f["Moz"+l]="moz"+u,f}var Am={animationend:Wf("Animation","AnimationEnd"),animationiteration:Wf("Animation","AnimationIteration"),animationstart:Wf("Animation","AnimationStart"),transitionrun:Wf("Transition","TransitionRun"),transitionstart:Wf("Transition","TransitionStart"),transitioncancel:Wf("Transition","TransitionCancel"),transitionend:Wf("Transition","TransitionEnd")},JI={},uF={};tl&&(uF=document.createElement("div").style,"AnimationEvent"in window||(delete Am.animationend.animation,delete Am.animationiteration.animation,delete Am.animationstart.animation),"TransitionEvent"in window||delete Am.transitionend.transition);function qf(l){if(JI[l])return JI[l];if(!Am[l])return l;var u=Am[l],f;for(f in u)if(u.hasOwnProperty(f)&&f in uF)return JI[l]=u[f];return l}var dF=qf("animationend"),hF=qf("animationiteration"),fF=qf("animationstart"),yK=qf("transitionrun"),bK=qf("transitionstart"),vK=qf("transitioncancel"),pF=qf("transitionend"),gF=new Map,eR="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");eR.push("scrollEnd");function nl(l,u){gF.set(l,u),lt(u,[l])}var mF=new WeakMap;function ma(l,u){if(typeof l=="object"&&l!==null){var f=mF.get(l);return f!==void 0?f:(u={value:l,source:u,stack:gm(u)},mF.set(l,u),u)}return{value:l,source:u,stack:gm(u)}}var ya=[],Im=0,tR=0;function cx(){for(var l=Im,u=tR=Im=0;u<l;){var f=ya[u];ya[u++]=null;var b=ya[u];ya[u++]=null;var _=ya[u];ya[u++]=null;var L=ya[u];if(ya[u++]=null,b!==null&&_!==null){var Y=b.pending;Y===null?_.next=_:(_.next=Y.next,Y.next=_),b.pending=_}L!==0&&yF(f,_,L)}}function ux(l,u,f,b){ya[Im++]=l,ya[Im++]=u,ya[Im++]=f,ya[Im++]=b,tR|=b,l.lanes|=b,l=l.alternate,l!==null&&(l.lanes|=b)}function nR(l,u,f,b){return ux(l,u,f,b),dx(l)}function Rm(l,u){return ux(l,null,null,u),dx(l)}function yF(l,u,f){l.lanes|=f;var b=l.alternate;b!==null&&(b.lanes|=f);for(var _=!1,L=l.return;L!==null;)L.childLanes|=f,b=L.alternate,b!==null&&(b.childLanes|=f),L.tag===22&&(l=L.stateNode,l===null||l._visibility&1||(_=!0)),l=L,L=L.return;return l.tag===3?(L=l.stateNode,_&&u!==null&&(_=31-ht(f),l=L.hiddenUpdates,b=l[_],b===null?l[_]=[u]:b.push(u),u.lane=f|536870912),L):null}function dx(l){if(50<ww)throw ww=0,lP=null,Error(r(185));for(var u=l.return;u!==null;)l=u,u=l.return;return l.tag===3?l.stateNode:null}var Pm={};function wK(l,u,f,b){this.tag=l,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _s(l,u,f,b){return new wK(l,u,f,b)}function rR(l){return l=l.prototype,!(!l||!l.isReactComponent)}function eu(l,u){var f=l.alternate;return f===null?(f=_s(l.tag,u,l.key,l.mode),f.elementType=l.elementType,f.type=l.type,f.stateNode=l.stateNode,f.alternate=l,l.alternate=f):(f.pendingProps=u,f.type=l.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=l.flags&65011712,f.childLanes=l.childLanes,f.lanes=l.lanes,f.child=l.child,f.memoizedProps=l.memoizedProps,f.memoizedState=l.memoizedState,f.updateQueue=l.updateQueue,u=l.dependencies,f.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},f.sibling=l.sibling,f.index=l.index,f.ref=l.ref,f.refCleanup=l.refCleanup,f}function bF(l,u){l.flags&=65011714;var f=l.alternate;return f===null?(l.childLanes=0,l.lanes=u,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=f.childLanes,l.lanes=f.lanes,l.child=f.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=f.memoizedProps,l.memoizedState=f.memoizedState,l.updateQueue=f.updateQueue,l.type=f.type,u=f.dependencies,l.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),l}function hx(l,u,f,b,_,L){var Y=0;if(b=l,typeof l=="function")rR(l)&&(Y=1);else if(typeof l=="string")Y=CY(l,f,se.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case A:return l=_s(31,f,u,_),l.elementType=A,l.lanes=L,l;case v:return Kf(f.children,_,L,u);case S:Y=8,_|=24;break;case C:return l=_s(12,f,u,_|2),l.elementType=C,l.lanes=L,l;case k:return l=_s(13,f,u,_),l.elementType=k,l.lanes=L,l;case $:return l=_s(19,f,u,_),l.elementType=$,l.lanes=L,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case x:case M:Y=10;break e;case O:Y=9;break e;case P:Y=11;break e;case D:Y=14;break e;case I:Y=16,b=null;break e}Y=29,f=Error(r(130,l===null?"null":typeof l,"")),b=null}return u=_s(Y,f,u,_),u.elementType=l,u.type=b,u.lanes=L,u}function Kf(l,u,f,b){return l=_s(7,l,b,u),l.lanes=f,l}function oR(l,u,f){return l=_s(6,l,null,u),l.lanes=f,l}function iR(l,u,f){return u=_s(4,l.children!==null?l.children:[],l.key,u),u.lanes=f,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}var Mm=[],km=0,fx=null,px=0,ba=[],va=0,Yf=null,tu=1,nu="";function Xf(l,u){Mm[km++]=px,Mm[km++]=fx,fx=l,px=u}function vF(l,u,f){ba[va++]=tu,ba[va++]=nu,ba[va++]=Yf,Yf=l;var b=tu;l=nu;var _=32-ht(b)-1;b&=~(1<<_),f+=1;var L=32-ht(u)+_;if(30<L){var Y=_-_%5;L=(b&(1<<Y)-1).toString(32),b>>=Y,_-=Y,tu=1<<32-ht(u)+_|f<<_|b,nu=L+l}else tu=1<<L|f<<_|b,nu=l}function sR(l){l.return!==null&&(Xf(l,1),vF(l,1,0))}function aR(l){for(;l===fx;)fx=Mm[--km],Mm[km]=null,px=Mm[--km],Mm[km]=null;for(;l===Yf;)Yf=ba[--va],ba[va]=null,nu=ba[--va],ba[va]=null,tu=ba[--va],ba[va]=null}var zi=null,Wr=null,kn=!1,Qf=null,Wl=!1,lR=Error(r(519));function Zf(l){var u=Error(r(418,""));throw Zv(ma(u,l)),lR}function wF(l){var u=l.stateNode,f=l.type,b=l.memoizedProps;switch(u[Zn]=l,u[$n]=b,f){case"dialog":hn("cancel",u),hn("close",u);break;case"iframe":case"object":case"embed":hn("load",u);break;case"video":case"audio":for(f=0;f<Cw.length;f++)hn(Cw[f],u);break;case"source":hn("error",u);break;case"img":case"image":case"link":hn("error",u),hn("load",u);break;case"details":hn("toggle",u);break;case"input":hn("invalid",u),Nf(u,b.value,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name,!0),mm(u);break;case"select":hn("invalid",u);break;case"textarea":hn("invalid",u),Ff(u,b.value,b.defaultValue,b.children),mm(u)}f=b.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||u.textContent===""+f||b.suppressHydrationWarning===!0||FV(u.textContent,f)?(b.popover!=null&&(hn("beforetoggle",u),hn("toggle",u)),b.onScroll!=null&&hn("scroll",u),b.onScrollEnd!=null&&hn("scrollend",u),b.onClick!=null&&(u.onclick=Kx),u=!0):u=!1,u||Zf(l)}function SF(l){for(zi=l.return;zi;)switch(zi.tag){case 5:case 13:Wl=!1;return;case 27:case 3:Wl=!0;return;default:zi=zi.return}}function Xv(l){if(l!==zi)return!1;if(!kn)return SF(l),kn=!0,!1;var u=l.tag,f;if((f=u!==3&&u!==27)&&((f=u===5)&&(f=l.type,f=!(f!=="form"&&f!=="button")||xP(l.type,l.memoizedProps)),f=!f),f&&Wr&&Zf(l),SF(l),u===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));e:{for(l=l.nextSibling,u=0;l;){if(l.nodeType===8)if(f=l.data,f==="/$"){if(u===0){Wr=ol(l.nextSibling);break e}u--}else f!=="$"&&f!=="$!"&&f!=="$?"||u++;l=l.nextSibling}Wr=null}}else u===27?(u=Wr,Gd(l.type)?(l=IP,IP=null,Wr=l):Wr=u):Wr=zi?ol(l.stateNode.nextSibling):null;return!0}function Qv(){Wr=zi=null,kn=!1}function CF(){var l=Qf;return l!==null&&(is===null?is=l:is.push.apply(is,l),Qf=null),l}function Zv(l){Qf===null?Qf=[l]:Qf.push(l)}var cR=X(null),Jf=null,ru=null;function Pd(l,u,f){ie(cR,u._currentValue),u._currentValue=f}function ou(l){l._currentValue=cR.current,ne(cR)}function uR(l,u,f){for(;l!==null;){var b=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,b!==null&&(b.childLanes|=u)):b!==null&&(b.childLanes&u)!==u&&(b.childLanes|=u),l===f)break;l=l.return}}function dR(l,u,f,b){var _=l.child;for(_!==null&&(_.return=l);_!==null;){var L=_.dependencies;if(L!==null){var Y=_.child;L=L.firstContext;e:for(;L!==null;){var te=L;L=_;for(var ue=0;ue<u.length;ue++)if(te.context===u[ue]){L.lanes|=f,te=L.alternate,te!==null&&(te.lanes|=f),uR(L.return,f,l),b||(Y=null);break e}L=te.next}}else if(_.tag===18){if(Y=_.return,Y===null)throw Error(r(341));Y.lanes|=f,L=Y.alternate,L!==null&&(L.lanes|=f),uR(Y,f,l),Y=null}else Y=_.child;if(Y!==null)Y.return=_;else for(Y=_;Y!==null;){if(Y===l){Y=null;break}if(_=Y.sibling,_!==null){_.return=Y.return,Y=_;break}Y=Y.return}_=Y}}function Jv(l,u,f,b){l=null;for(var _=u,L=!1;_!==null;){if(!L){if((_.flags&524288)!==0)L=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var Y=_.alternate;if(Y===null)throw Error(r(387));if(Y=Y.memoizedProps,Y!==null){var te=_.type;xs(_.pendingProps.value,Y.value)||(l!==null?l.push(te):l=[te])}}else if(_===ge.current){if(Y=_.alternate,Y===null)throw Error(r(387));Y.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(l!==null?l.push(Iw):l=[Iw])}_=_.return}l!==null&&dR(u,l,f,b),u.flags|=262144}function gx(l){for(l=l.firstContext;l!==null;){if(!xs(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function ep(l){Jf=l,ru=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function Si(l){return EF(Jf,l)}function mx(l,u){return Jf===null&&ep(l),EF(l,u)}function EF(l,u){var f=u._currentValue;if(u={context:u,memoizedValue:f,next:null},ru===null){if(l===null)throw Error(r(308));ru=u,l.dependencies={lanes:0,firstContext:u},l.flags|=524288}else ru=ru.next=u;return f}var SK=typeof AbortController<"u"?AbortController:function(){var l=[],u=this.signal={aborted:!1,addEventListener:function(f,b){l.push(b)}};this.abort=function(){u.aborted=!0,l.forEach(function(f){return f()})}},CK=t.unstable_scheduleCallback,EK=t.unstable_NormalPriority,xo={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hR(){return{controller:new SK,data:new Map,refCount:0}}function ew(l){l.refCount--,l.refCount===0&&CK(EK,function(){l.controller.abort()})}var tw=null,fR=0,Om=0,Dm=null;function xK(l,u){if(tw===null){var f=tw=[];fR=0,Om=gP(),Dm={status:"pending",value:void 0,then:function(b){f.push(b)}}}return fR++,u.then(xF,xF),u}function xF(){if(--fR===0&&tw!==null){Dm!==null&&(Dm.status="fulfilled");var l=tw;tw=null,Om=0,Dm=null;for(var u=0;u<l.length;u++)(0,l[u])()}}function _K(l,u){var f=[],b={status:"pending",value:null,reason:null,then:function(_){f.push(_)}};return l.then(function(){b.status="fulfilled",b.value=u;for(var _=0;_<f.length;_++)(0,f[_])(u)},function(_){for(b.status="rejected",b.reason=_,_=0;_<f.length;_++)(0,f[_])(void 0)}),b}var _F=z.S;z.S=function(l,u){typeof u=="object"&&u!==null&&typeof u.then=="function"&&xK(l,u),_F!==null&&_F(l,u)};var tp=X(null);function pR(){var l=tp.current;return l!==null?l:yr.pooledCache}function yx(l,u){u===null?ie(tp,tp.current):ie(tp,u.pool)}function TF(){var l=pR();return l===null?null:{parent:xo._currentValue,pool:l}}var nw=Error(r(460)),AF=Error(r(474)),bx=Error(r(542)),gR={then:function(){}};function IF(l){return l=l.status,l==="fulfilled"||l==="rejected"}function vx(){}function RF(l,u,f){switch(f=l[f],f===void 0?l.push(u):f!==u&&(u.then(vx,vx),u=f),u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,MF(l),l;default:if(typeof u.status=="string")u.then(vx,vx);else{if(l=yr,l!==null&&100<l.shellSuspendCounter)throw Error(r(482));l=u,l.status="pending",l.then(function(b){if(u.status==="pending"){var _=u;_.status="fulfilled",_.value=b}},function(b){if(u.status==="pending"){var _=u;_.status="rejected",_.reason=b}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,MF(l),l}throw rw=u,nw}}var rw=null;function PF(){if(rw===null)throw Error(r(459));var l=rw;return rw=null,l}function MF(l){if(l===nw||l===bx)throw Error(r(483))}var Md=!1;function mR(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yR(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function kd(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function Od(l,u,f){var b=l.updateQueue;if(b===null)return null;if(b=b.shared,(Wn&2)!==0){var _=b.pending;return _===null?u.next=u:(u.next=_.next,_.next=u),b.pending=u,u=dx(l),yF(l,null,f),u}return ux(l,b,u,f),dx(l)}function ow(l,u,f){if(u=u.updateQueue,u!==null&&(u=u.shared,(f&4194048)!==0)){var b=u.lanes;b&=l.pendingLanes,f|=b,u.lanes=f,Tr(l,f)}}function bR(l,u){var f=l.updateQueue,b=l.alternate;if(b!==null&&(b=b.updateQueue,f===b)){var _=null,L=null;if(f=f.firstBaseUpdate,f!==null){do{var Y={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};L===null?_=L=Y:L=L.next=Y,f=f.next}while(f!==null);L===null?_=L=u:L=L.next=u}else _=L=u;f={baseState:b.baseState,firstBaseUpdate:_,lastBaseUpdate:L,shared:b.shared,callbacks:b.callbacks},l.updateQueue=f;return}l=f.lastBaseUpdate,l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=u}var vR=!1;function iw(){if(vR){var l=Dm;if(l!==null)throw l}}function sw(l,u,f,b){vR=!1;var _=l.updateQueue;Md=!1;var L=_.firstBaseUpdate,Y=_.lastBaseUpdate,te=_.shared.pending;if(te!==null){_.shared.pending=null;var ue=te,we=ue.next;ue.next=null,Y===null?L=we:Y.next=we,Y=ue;var Fe=l.alternate;Fe!==null&&(Fe=Fe.updateQueue,te=Fe.lastBaseUpdate,te!==Y&&(te===null?Fe.firstBaseUpdate=we:te.next=we,Fe.lastBaseUpdate=ue))}if(L!==null){var Be=_.baseState;Y=0,Fe=we=ue=null,te=L;do{var _e=te.lane&-536870913,Ae=_e!==te.lane;if(Ae?(xn&_e)===_e:(b&_e)===_e){_e!==0&&_e===Om&&(vR=!0),Fe!==null&&(Fe=Fe.next={lane:0,tag:te.tag,payload:te.payload,callback:null,next:null});e:{var Gt=l,$t=te;_e=u;var or=f;switch($t.tag){case 1:if(Gt=$t.payload,typeof Gt=="function"){Be=Gt.call(or,Be,_e);break e}Be=Gt;break e;case 3:Gt.flags=Gt.flags&-65537|128;case 0:if(Gt=$t.payload,_e=typeof Gt=="function"?Gt.call(or,Be,_e):Gt,_e==null)break e;Be=h({},Be,_e);break e;case 2:Md=!0}}_e=te.callback,_e!==null&&(l.flags|=64,Ae&&(l.flags|=8192),Ae=_.callbacks,Ae===null?_.callbacks=[_e]:Ae.push(_e))}else Ae={lane:_e,tag:te.tag,payload:te.payload,callback:te.callback,next:null},Fe===null?(we=Fe=Ae,ue=Be):Fe=Fe.next=Ae,Y|=_e;if(te=te.next,te===null){if(te=_.shared.pending,te===null)break;Ae=te,te=Ae.next,Ae.next=null,_.lastBaseUpdate=Ae,_.shared.pending=null}}while(!0);Fe===null&&(ue=Be),_.baseState=ue,_.firstBaseUpdate=we,_.lastBaseUpdate=Fe,L===null&&(_.shared.lanes=0),Bd|=Y,l.lanes=Y,l.memoizedState=Be}}function kF(l,u){if(typeof l!="function")throw Error(r(191,l));l.call(u)}function OF(l,u){var f=l.callbacks;if(f!==null)for(l.callbacks=null,l=0;l<f.length;l++)kF(f[l],u)}var Lm=X(null),wx=X(0);function DF(l,u){l=du,ie(wx,l),ie(Lm,u),du=l|u.baseLanes}function wR(){ie(wx,du),ie(Lm,Lm.current)}function SR(){du=wx.current,ne(Lm),ne(wx)}var Dd=0,an=null,nr=null,fo=null,Sx=!1,Nm=!1,np=!1,Cx=0,aw=0,Fm=null,TK=0;function to(){throw Error(r(321))}function CR(l,u){if(u===null)return!1;for(var f=0;f<u.length&&f<l.length;f++)if(!xs(l[f],u[f]))return!1;return!0}function ER(l,u,f,b,_,L){return Dd=L,an=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,z.H=l===null||l.memoizedState===null?y$:b$,np=!1,L=f(b,_),np=!1,Nm&&(L=NF(u,f,b,_)),LF(l),L}function LF(l){z.H=Ix;var u=nr!==null&&nr.next!==null;if(Dd=0,fo=nr=an=null,Sx=!1,aw=0,Fm=null,u)throw Error(r(300));l===null||zo||(l=l.dependencies,l!==null&&gx(l)&&(zo=!0))}function NF(l,u,f,b){an=l;var _=0;do{if(Nm&&(Fm=null),aw=0,Nm=!1,25<=_)throw Error(r(301));if(_+=1,fo=nr=null,l.updateQueue!=null){var L=l.updateQueue;L.lastEffect=null,L.events=null,L.stores=null,L.memoCache!=null&&(L.memoCache.index=0)}z.H=OK,L=u(f,b)}while(Nm);return L}function AK(){var l=z.H,u=l.useState()[0];return u=typeof u.then=="function"?lw(u):u,l=l.useState()[0],(nr!==null?nr.memoizedState:null)!==l&&(an.flags|=1024),u}function xR(){var l=Cx!==0;return Cx=0,l}function _R(l,u,f){u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~f}function TR(l){if(Sx){for(l=l.memoizedState;l!==null;){var u=l.queue;u!==null&&(u.pending=null),l=l.next}Sx=!1}Dd=0,fo=nr=an=null,Nm=!1,aw=Cx=0,Fm=null}function rs(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fo===null?an.memoizedState=fo=l:fo=fo.next=l,fo}function po(){if(nr===null){var l=an.alternate;l=l!==null?l.memoizedState:null}else l=nr.next;var u=fo===null?an.memoizedState:fo.next;if(u!==null)fo=u,nr=l;else{if(l===null)throw an.alternate===null?Error(r(467)):Error(r(310));nr=l,l={memoizedState:nr.memoizedState,baseState:nr.baseState,baseQueue:nr.baseQueue,queue:nr.queue,next:null},fo===null?an.memoizedState=fo=l:fo=fo.next=l}return fo}function AR(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function lw(l){var u=aw;return aw+=1,Fm===null&&(Fm=[]),l=RF(Fm,l,u),u=an,(fo===null?u.memoizedState:fo.next)===null&&(u=u.alternate,z.H=u===null||u.memoizedState===null?y$:b$),l}function Ex(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return lw(l);if(l.$$typeof===M)return Si(l)}throw Error(r(438,String(l)))}function IR(l){var u=null,f=an.updateQueue;if(f!==null&&(u=f.memoCache),u==null){var b=an.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(u={data:b.data.map(function(_){return _.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),f===null&&(f=AR(),an.updateQueue=f),f.memoCache=u,f=u.data[u.index],f===void 0)for(f=u.data[u.index]=Array(l),b=0;b<l;b++)f[b]=N;return u.index++,f}function iu(l,u){return typeof u=="function"?u(l):u}function xx(l){var u=po();return RR(u,nr,l)}function RR(l,u,f){var b=l.queue;if(b===null)throw Error(r(311));b.lastRenderedReducer=f;var _=l.baseQueue,L=b.pending;if(L!==null){if(_!==null){var Y=_.next;_.next=L.next,L.next=Y}u.baseQueue=_=L,b.pending=null}if(L=l.baseState,_===null)l.memoizedState=L;else{u=_.next;var te=Y=null,ue=null,we=u,Fe=!1;do{var Be=we.lane&-536870913;if(Be!==we.lane?(xn&Be)===Be:(Dd&Be)===Be){var _e=we.revertLane;if(_e===0)ue!==null&&(ue=ue.next={lane:0,revertLane:0,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null}),Be===Om&&(Fe=!0);else if((Dd&_e)===_e){we=we.next,_e===Om&&(Fe=!0);continue}else Be={lane:0,revertLane:we.revertLane,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null},ue===null?(te=ue=Be,Y=L):ue=ue.next=Be,an.lanes|=_e,Bd|=_e;Be=we.action,np&&f(L,Be),L=we.hasEagerState?we.eagerState:f(L,Be)}else _e={lane:Be,revertLane:we.revertLane,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null},ue===null?(te=ue=_e,Y=L):ue=ue.next=_e,an.lanes|=Be,Bd|=Be;we=we.next}while(we!==null&&we!==u);if(ue===null?Y=L:ue.next=te,!xs(L,l.memoizedState)&&(zo=!0,Fe&&(f=Dm,f!==null)))throw f;l.memoizedState=L,l.baseState=Y,l.baseQueue=ue,b.lastRenderedState=L}return _===null&&(b.lanes=0),[l.memoizedState,b.dispatch]}function PR(l){var u=po(),f=u.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=l;var b=f.dispatch,_=f.pending,L=u.memoizedState;if(_!==null){f.pending=null;var Y=_=_.next;do L=l(L,Y.action),Y=Y.next;while(Y!==_);xs(L,u.memoizedState)||(zo=!0),u.memoizedState=L,u.baseQueue===null&&(u.baseState=L),f.lastRenderedState=L}return[L,b]}function FF(l,u,f){var b=an,_=po(),L=kn;if(L){if(f===void 0)throw Error(r(407));f=f()}else f=u();var Y=!xs((nr||_).memoizedState,f);Y&&(_.memoizedState=f,zo=!0),_=_.queue;var te=zF.bind(null,b,_,l);if(cw(2048,8,te,[l]),_.getSnapshot!==u||Y||fo!==null&&fo.memoizedState.tag&1){if(b.flags|=2048,$m(9,_x(),VF.bind(null,b,_,f,u),null),yr===null)throw Error(r(349));L||(Dd&124)!==0||$F(b,u,f)}return f}function $F(l,u,f){l.flags|=16384,l={getSnapshot:u,value:f},u=an.updateQueue,u===null?(u=AR(),an.updateQueue=u,u.stores=[l]):(f=u.stores,f===null?u.stores=[l]:f.push(l))}function VF(l,u,f,b){u.value=f,u.getSnapshot=b,BF(u)&&HF(l)}function zF(l,u,f){return f(function(){BF(u)&&HF(l)})}function BF(l){var u=l.getSnapshot;l=l.value;try{var f=u();return!xs(l,f)}catch{return!0}}function HF(l){var u=Rm(l,2);u!==null&&Ps(u,l,2)}function MR(l){var u=rs();if(typeof l=="function"){var f=l;if(l=f(),np){dt(!0);try{f()}finally{dt(!1)}}}return u.memoizedState=u.baseState=l,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:iu,lastRenderedState:l},u}function jF(l,u,f,b){return l.baseState=f,RR(l,nr,typeof b=="function"?b:iu)}function IK(l,u,f,b,_){if(Ax(l))throw Error(r(485));if(l=u.action,l!==null){var L={payload:_,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Y){L.listeners.push(Y)}};z.T!==null?f(!0):L.isTransition=!1,b(L),f=u.pending,f===null?(L.next=u.pending=L,UF(u,L)):(L.next=f.next,u.pending=f.next=L)}}function UF(l,u){var f=u.action,b=u.payload,_=l.state;if(u.isTransition){var L=z.T,Y={};z.T=Y;try{var te=f(_,b),ue=z.S;ue!==null&&ue(Y,te),GF(l,u,te)}catch(we){kR(l,u,we)}finally{z.T=L}}else try{L=f(_,b),GF(l,u,L)}catch(we){kR(l,u,we)}}function GF(l,u,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(b){WF(l,u,b)},function(b){return kR(l,u,b)}):WF(l,u,f)}function WF(l,u,f){u.status="fulfilled",u.value=f,qF(u),l.state=f,u=l.pending,u!==null&&(f=u.next,f===u?l.pending=null:(f=f.next,u.next=f,UF(l,f)))}function kR(l,u,f){var b=l.pending;if(l.pending=null,b!==null){b=b.next;do u.status="rejected",u.reason=f,qF(u),u=u.next;while(u!==b)}l.action=null}function qF(l){l=l.listeners;for(var u=0;u<l.length;u++)(0,l[u])()}function KF(l,u){return u}function YF(l,u){if(kn){var f=yr.formState;if(f!==null){e:{var b=an;if(kn){if(Wr){t:{for(var _=Wr,L=Wl;_.nodeType!==8;){if(!L){_=null;break t}if(_=ol(_.nextSibling),_===null){_=null;break t}}L=_.data,_=L==="F!"||L==="F"?_:null}if(_){Wr=ol(_.nextSibling),b=_.data==="F!";break e}}Zf(b)}b=!1}b&&(u=f[0])}}return f=rs(),f.memoizedState=f.baseState=u,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:KF,lastRenderedState:u},f.queue=b,f=p$.bind(null,an,b),b.dispatch=f,b=MR(!1),L=FR.bind(null,an,!1,b.queue),b=rs(),_={state:u,dispatch:null,action:l,pending:null},b.queue=_,f=IK.bind(null,an,_,L,f),_.dispatch=f,b.memoizedState=l,[u,f,!1]}function XF(l){var u=po();return QF(u,nr,l)}function QF(l,u,f){if(u=RR(l,u,KF)[0],l=xx(iu)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var b=lw(u)}catch(Y){throw Y===nw?bx:Y}else b=u;u=po();var _=u.queue,L=_.dispatch;return f!==u.memoizedState&&(an.flags|=2048,$m(9,_x(),RK.bind(null,_,f),null)),[b,L,l]}function RK(l,u){l.action=u}function ZF(l){var u=po(),f=nr;if(f!==null)return QF(u,f,l);po(),u=u.memoizedState,f=po();var b=f.queue.dispatch;return f.memoizedState=l,[u,b,!1]}function $m(l,u,f,b){return l={tag:l,create:f,deps:b,inst:u,next:null},u=an.updateQueue,u===null&&(u=AR(),an.updateQueue=u),f=u.lastEffect,f===null?u.lastEffect=l.next=l:(b=f.next,f.next=l,l.next=b,u.lastEffect=l),l}function _x(){return{destroy:void 0,resource:void 0}}function JF(){return po().memoizedState}function Tx(l,u,f,b){var _=rs();b=b===void 0?null:b,an.flags|=l,_.memoizedState=$m(1|u,_x(),f,b)}function cw(l,u,f,b){var _=po();b=b===void 0?null:b;var L=_.memoizedState.inst;nr!==null&&b!==null&&CR(b,nr.memoizedState.deps)?_.memoizedState=$m(u,L,f,b):(an.flags|=l,_.memoizedState=$m(1|u,L,f,b))}function e$(l,u){Tx(8390656,8,l,u)}function t$(l,u){cw(2048,8,l,u)}function n$(l,u){return cw(4,2,l,u)}function r$(l,u){return cw(4,4,l,u)}function o$(l,u){if(typeof u=="function"){l=l();var f=u(l);return function(){typeof f=="function"?f():u(null)}}if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function i$(l,u,f){f=f!=null?f.concat([l]):null,cw(4,4,o$.bind(null,u,l),f)}function OR(){}function s$(l,u){var f=po();u=u===void 0?null:u;var b=f.memoizedState;return u!==null&&CR(u,b[1])?b[0]:(f.memoizedState=[l,u],l)}function a$(l,u){var f=po();u=u===void 0?null:u;var b=f.memoizedState;if(u!==null&&CR(u,b[1]))return b[0];if(b=l(),np){dt(!0);try{l()}finally{dt(!1)}}return f.memoizedState=[b,u],b}function DR(l,u,f){return f===void 0||(Dd&1073741824)!==0?l.memoizedState=u:(l.memoizedState=f,l=uV(),an.lanes|=l,Bd|=l,f)}function l$(l,u,f,b){return xs(f,u)?f:Lm.current!==null?(l=DR(l,f,b),xs(l,u)||(zo=!0),l):(Dd&42)===0?(zo=!0,l.memoizedState=f):(l=uV(),an.lanes|=l,Bd|=l,u)}function c$(l,u,f,b,_){var L=H.p;H.p=L!==0&&8>L?L:8;var Y=z.T,te={};z.T=te,FR(l,!1,u,f);try{var ue=_(),we=z.S;if(we!==null&&we(te,ue),ue!==null&&typeof ue=="object"&&typeof ue.then=="function"){var Fe=_K(ue,b);uw(l,u,Fe,Rs(l))}else uw(l,u,b,Rs(l))}catch(Be){uw(l,u,{then:function(){},status:"rejected",reason:Be},Rs())}finally{H.p=L,z.T=Y}}function PK(){}function LR(l,u,f,b){if(l.tag!==5)throw Error(r(476));var _=u$(l).queue;c$(l,_,u,Z,f===null?PK:function(){return d$(l),f(b)})}function u$(l){var u=l.memoizedState;if(u!==null)return u;u={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:iu,lastRenderedState:Z},next:null};var f={};return u.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:iu,lastRenderedState:f},next:null},l.memoizedState=u,l=l.alternate,l!==null&&(l.memoizedState=u),u}function d$(l){var u=u$(l).next.queue;uw(l,u,{},Rs())}function NR(){return Si(Iw)}function h$(){return po().memoizedState}function f$(){return po().memoizedState}function MK(l){for(var u=l.return;u!==null;){switch(u.tag){case 24:case 3:var f=Rs();l=kd(f);var b=Od(u,l,f);b!==null&&(Ps(b,u,f),ow(b,u,f)),u={cache:hR()},l.payload=u;return}u=u.return}}function kK(l,u,f){var b=Rs();f={lane:b,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null},Ax(l)?g$(u,f):(f=nR(l,u,f,b),f!==null&&(Ps(f,l,b),m$(f,u,b)))}function p$(l,u,f){var b=Rs();uw(l,u,f,b)}function uw(l,u,f,b){var _={lane:b,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null};if(Ax(l))g$(u,_);else{var L=l.alternate;if(l.lanes===0&&(L===null||L.lanes===0)&&(L=u.lastRenderedReducer,L!==null))try{var Y=u.lastRenderedState,te=L(Y,f);if(_.hasEagerState=!0,_.eagerState=te,xs(te,Y))return ux(l,u,_,0),yr===null&&cx(),!1}catch{}finally{}if(f=nR(l,u,_,b),f!==null)return Ps(f,l,b),m$(f,u,b),!0}return!1}function FR(l,u,f,b){if(b={lane:2,revertLane:gP(),action:b,hasEagerState:!1,eagerState:null,next:null},Ax(l)){if(u)throw Error(r(479))}else u=nR(l,f,b,2),u!==null&&Ps(u,l,2)}function Ax(l){var u=l.alternate;return l===an||u!==null&&u===an}function g$(l,u){Nm=Sx=!0;var f=l.pending;f===null?u.next=u:(u.next=f.next,f.next=u),l.pending=u}function m$(l,u,f){if((f&4194048)!==0){var b=u.lanes;b&=l.pendingLanes,f|=b,u.lanes=f,Tr(l,f)}}var Ix={readContext:Si,use:Ex,useCallback:to,useContext:to,useEffect:to,useImperativeHandle:to,useLayoutEffect:to,useInsertionEffect:to,useMemo:to,useReducer:to,useRef:to,useState:to,useDebugValue:to,useDeferredValue:to,useTransition:to,useSyncExternalStore:to,useId:to,useHostTransitionStatus:to,useFormState:to,useActionState:to,useOptimistic:to,useMemoCache:to,useCacheRefresh:to},y$={readContext:Si,use:Ex,useCallback:function(l,u){return rs().memoizedState=[l,u===void 0?null:u],l},useContext:Si,useEffect:e$,useImperativeHandle:function(l,u,f){f=f!=null?f.concat([l]):null,Tx(4194308,4,o$.bind(null,u,l),f)},useLayoutEffect:function(l,u){return Tx(4194308,4,l,u)},useInsertionEffect:function(l,u){Tx(4,2,l,u)},useMemo:function(l,u){var f=rs();u=u===void 0?null:u;var b=l();if(np){dt(!0);try{l()}finally{dt(!1)}}return f.memoizedState=[b,u],b},useReducer:function(l,u,f){var b=rs();if(f!==void 0){var _=f(u);if(np){dt(!0);try{f(u)}finally{dt(!1)}}}else _=u;return b.memoizedState=b.baseState=_,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:_},b.queue=l,l=l.dispatch=kK.bind(null,an,l),[b.memoizedState,l]},useRef:function(l){var u=rs();return l={current:l},u.memoizedState=l},useState:function(l){l=MR(l);var u=l.queue,f=p$.bind(null,an,u);return u.dispatch=f,[l.memoizedState,f]},useDebugValue:OR,useDeferredValue:function(l,u){var f=rs();return DR(f,l,u)},useTransition:function(){var l=MR(!1);return l=c$.bind(null,an,l.queue,!0,!1),rs().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,u,f){var b=an,_=rs();if(kn){if(f===void 0)throw Error(r(407));f=f()}else{if(f=u(),yr===null)throw Error(r(349));(xn&124)!==0||$F(b,u,f)}_.memoizedState=f;var L={value:f,getSnapshot:u};return _.queue=L,e$(zF.bind(null,b,L,l),[l]),b.flags|=2048,$m(9,_x(),VF.bind(null,b,L,f,u),null),f},useId:function(){var l=rs(),u=yr.identifierPrefix;if(kn){var f=nu,b=tu;f=(b&~(1<<32-ht(b)-1)).toString(32)+f,u=""+u+"R"+f,f=Cx++,0<f&&(u+="H"+f.toString(32)),u+=""}else f=TK++,u=""+u+"r"+f.toString(32)+"";return l.memoizedState=u},useHostTransitionStatus:NR,useFormState:YF,useActionState:YF,useOptimistic:function(l){var u=rs();u.memoizedState=u.baseState=l;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=f,u=FR.bind(null,an,!0,f),f.dispatch=u,[l,u]},useMemoCache:IR,useCacheRefresh:function(){return rs().memoizedState=MK.bind(null,an)}},b$={readContext:Si,use:Ex,useCallback:s$,useContext:Si,useEffect:t$,useImperativeHandle:i$,useInsertionEffect:n$,useLayoutEffect:r$,useMemo:a$,useReducer:xx,useRef:JF,useState:function(){return xx(iu)},useDebugValue:OR,useDeferredValue:function(l,u){var f=po();return l$(f,nr.memoizedState,l,u)},useTransition:function(){var l=xx(iu)[0],u=po().memoizedState;return[typeof l=="boolean"?l:lw(l),u]},useSyncExternalStore:FF,useId:h$,useHostTransitionStatus:NR,useFormState:XF,useActionState:XF,useOptimistic:function(l,u){var f=po();return jF(f,nr,l,u)},useMemoCache:IR,useCacheRefresh:f$},OK={readContext:Si,use:Ex,useCallback:s$,useContext:Si,useEffect:t$,useImperativeHandle:i$,useInsertionEffect:n$,useLayoutEffect:r$,useMemo:a$,useReducer:PR,useRef:JF,useState:function(){return PR(iu)},useDebugValue:OR,useDeferredValue:function(l,u){var f=po();return nr===null?DR(f,l,u):l$(f,nr.memoizedState,l,u)},useTransition:function(){var l=PR(iu)[0],u=po().memoizedState;return[typeof l=="boolean"?l:lw(l),u]},useSyncExternalStore:FF,useId:h$,useHostTransitionStatus:NR,useFormState:ZF,useActionState:ZF,useOptimistic:function(l,u){var f=po();return nr!==null?jF(f,nr,l,u):(f.baseState=l,[l,f.queue.dispatch])},useMemoCache:IR,useCacheRefresh:f$},Vm=null,dw=0;function Rx(l){var u=dw;return dw+=1,Vm===null&&(Vm=[]),RF(Vm,l,u)}function hw(l,u){u=u.props.ref,l.ref=u!==void 0?u:null}function Px(l,u){throw u.$$typeof===p?Error(r(525)):(l=Object.prototype.toString.call(u),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l)))}function v$(l){var u=l._init;return u(l._payload)}function w$(l){function u(me,de){if(l){var ve=me.deletions;ve===null?(me.deletions=[de],me.flags|=16):ve.push(de)}}function f(me,de){if(!l)return null;for(;de!==null;)u(me,de),de=de.sibling;return null}function b(me){for(var de=new Map;me!==null;)me.key!==null?de.set(me.key,me):de.set(me.index,me),me=me.sibling;return de}function _(me,de){return me=eu(me,de),me.index=0,me.sibling=null,me}function L(me,de,ve){return me.index=ve,l?(ve=me.alternate,ve!==null?(ve=ve.index,ve<de?(me.flags|=67108866,de):ve):(me.flags|=67108866,de)):(me.flags|=1048576,de)}function Y(me){return l&&me.alternate===null&&(me.flags|=67108866),me}function te(me,de,ve,Ve){return de===null||de.tag!==6?(de=oR(ve,me.mode,Ve),de.return=me,de):(de=_(de,ve),de.return=me,de)}function ue(me,de,ve,Ve){var wt=ve.type;return wt===v?Fe(me,de,ve.props.children,Ve,ve.key):de!==null&&(de.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===I&&v$(wt)===de.type)?(de=_(de,ve.props),hw(de,ve),de.return=me,de):(de=hx(ve.type,ve.key,ve.props,null,me.mode,Ve),hw(de,ve),de.return=me,de)}function we(me,de,ve,Ve){return de===null||de.tag!==4||de.stateNode.containerInfo!==ve.containerInfo||de.stateNode.implementation!==ve.implementation?(de=iR(ve,me.mode,Ve),de.return=me,de):(de=_(de,ve.children||[]),de.return=me,de)}function Fe(me,de,ve,Ve,wt){return de===null||de.tag!==7?(de=Kf(ve,me.mode,Ve,wt),de.return=me,de):(de=_(de,ve),de.return=me,de)}function Be(me,de,ve){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return de=oR(""+de,me.mode,ve),de.return=me,de;if(typeof de=="object"&&de!==null){switch(de.$$typeof){case g:return ve=hx(de.type,de.key,de.props,null,me.mode,ve),hw(ve,de),ve.return=me,ve;case m:return de=iR(de,me.mode,ve),de.return=me,de;case I:var Ve=de._init;return de=Ve(de._payload),Be(me,de,ve)}if(K(de)||R(de))return de=Kf(de,me.mode,ve,null),de.return=me,de;if(typeof de.then=="function")return Be(me,Rx(de),ve);if(de.$$typeof===M)return Be(me,mx(me,de),ve);Px(me,de)}return null}function _e(me,de,ve,Ve){var wt=de!==null?de.key:null;if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return wt!==null?null:te(me,de,""+ve,Ve);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case g:return ve.key===wt?ue(me,de,ve,Ve):null;case m:return ve.key===wt?we(me,de,ve,Ve):null;case I:return wt=ve._init,ve=wt(ve._payload),_e(me,de,ve,Ve)}if(K(ve)||R(ve))return wt!==null?null:Fe(me,de,ve,Ve,null);if(typeof ve.then=="function")return _e(me,de,Rx(ve),Ve);if(ve.$$typeof===M)return _e(me,de,mx(me,ve),Ve);Px(me,ve)}return null}function Ae(me,de,ve,Ve,wt){if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number"||typeof Ve=="bigint")return me=me.get(ve)||null,te(de,me,""+Ve,wt);if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case g:return me=me.get(Ve.key===null?ve:Ve.key)||null,ue(de,me,Ve,wt);case m:return me=me.get(Ve.key===null?ve:Ve.key)||null,we(de,me,Ve,wt);case I:var ln=Ve._init;return Ve=ln(Ve._payload),Ae(me,de,ve,Ve,wt)}if(K(Ve)||R(Ve))return me=me.get(ve)||null,Fe(de,me,Ve,wt,null);if(typeof Ve.then=="function")return Ae(me,de,ve,Rx(Ve),wt);if(Ve.$$typeof===M)return Ae(me,de,ve,mx(de,Ve),wt);Px(de,Ve)}return null}function Gt(me,de,ve,Ve){for(var wt=null,ln=null,It=de,zt=de=0,Ho=null;It!==null&&zt<ve.length;zt++){It.index>zt?(Ho=It,It=null):Ho=It.sibling;var Mn=_e(me,It,ve[zt],Ve);if(Mn===null){It===null&&(It=Ho);break}l&&It&&Mn.alternate===null&&u(me,It),de=L(Mn,de,zt),ln===null?wt=Mn:ln.sibling=Mn,ln=Mn,It=Ho}if(zt===ve.length)return f(me,It),kn&&Xf(me,zt),wt;if(It===null){for(;zt<ve.length;zt++)It=Be(me,ve[zt],Ve),It!==null&&(de=L(It,de,zt),ln===null?wt=It:ln.sibling=It,ln=It);return kn&&Xf(me,zt),wt}for(It=b(It);zt<ve.length;zt++)Ho=Ae(It,me,zt,ve[zt],Ve),Ho!==null&&(l&&Ho.alternate!==null&&It.delete(Ho.key===null?zt:Ho.key),de=L(Ho,de,zt),ln===null?wt=Ho:ln.sibling=Ho,ln=Ho);return l&&It.forEach(function(Xd){return u(me,Xd)}),kn&&Xf(me,zt),wt}function $t(me,de,ve,Ve){if(ve==null)throw Error(r(151));for(var wt=null,ln=null,It=de,zt=de=0,Ho=null,Mn=ve.next();It!==null&&!Mn.done;zt++,Mn=ve.next()){It.index>zt?(Ho=It,It=null):Ho=It.sibling;var Xd=_e(me,It,Mn.value,Ve);if(Xd===null){It===null&&(It=Ho);break}l&&It&&Xd.alternate===null&&u(me,It),de=L(Xd,de,zt),ln===null?wt=Xd:ln.sibling=Xd,ln=Xd,It=Ho}if(Mn.done)return f(me,It),kn&&Xf(me,zt),wt;if(It===null){for(;!Mn.done;zt++,Mn=ve.next())Mn=Be(me,Mn.value,Ve),Mn!==null&&(de=L(Mn,de,zt),ln===null?wt=Mn:ln.sibling=Mn,ln=Mn);return kn&&Xf(me,zt),wt}for(It=b(It);!Mn.done;zt++,Mn=ve.next())Mn=Ae(It,me,zt,Mn.value,Ve),Mn!==null&&(l&&Mn.alternate!==null&&It.delete(Mn.key===null?zt:Mn.key),de=L(Mn,de,zt),ln===null?wt=Mn:ln.sibling=Mn,ln=Mn);return l&&It.forEach(function(DY){return u(me,DY)}),kn&&Xf(me,zt),wt}function or(me,de,ve,Ve){if(typeof ve=="object"&&ve!==null&&ve.type===v&&ve.key===null&&(ve=ve.props.children),typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case g:e:{for(var wt=ve.key;de!==null;){if(de.key===wt){if(wt=ve.type,wt===v){if(de.tag===7){f(me,de.sibling),Ve=_(de,ve.props.children),Ve.return=me,me=Ve;break e}}else if(de.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===I&&v$(wt)===de.type){f(me,de.sibling),Ve=_(de,ve.props),hw(Ve,ve),Ve.return=me,me=Ve;break e}f(me,de);break}else u(me,de);de=de.sibling}ve.type===v?(Ve=Kf(ve.props.children,me.mode,Ve,ve.key),Ve.return=me,me=Ve):(Ve=hx(ve.type,ve.key,ve.props,null,me.mode,Ve),hw(Ve,ve),Ve.return=me,me=Ve)}return Y(me);case m:e:{for(wt=ve.key;de!==null;){if(de.key===wt)if(de.tag===4&&de.stateNode.containerInfo===ve.containerInfo&&de.stateNode.implementation===ve.implementation){f(me,de.sibling),Ve=_(de,ve.children||[]),Ve.return=me,me=Ve;break e}else{f(me,de);break}else u(me,de);de=de.sibling}Ve=iR(ve,me.mode,Ve),Ve.return=me,me=Ve}return Y(me);case I:return wt=ve._init,ve=wt(ve._payload),or(me,de,ve,Ve)}if(K(ve))return Gt(me,de,ve,Ve);if(R(ve)){if(wt=R(ve),typeof wt!="function")throw Error(r(150));return ve=wt.call(ve),$t(me,de,ve,Ve)}if(typeof ve.then=="function")return or(me,de,Rx(ve),Ve);if(ve.$$typeof===M)return or(me,de,mx(me,ve),Ve);Px(me,ve)}return typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint"?(ve=""+ve,de!==null&&de.tag===6?(f(me,de.sibling),Ve=_(de,ve),Ve.return=me,me=Ve):(f(me,de),Ve=oR(ve,me.mode,Ve),Ve.return=me,me=Ve),Y(me)):f(me,de)}return function(me,de,ve,Ve){try{dw=0;var wt=or(me,de,ve,Ve);return Vm=null,wt}catch(It){if(It===nw||It===bx)throw It;var ln=_s(29,It,null,me.mode);return ln.lanes=Ve,ln.return=me,ln}finally{}}}var zm=w$(!0),S$=w$(!1),wa=X(null),ql=null;function Ld(l){var u=l.alternate;ie(_o,_o.current&1),ie(wa,l),ql===null&&(u===null||Lm.current!==null||u.memoizedState!==null)&&(ql=l)}function C$(l){if(l.tag===22){if(ie(_o,_o.current),ie(wa,l),ql===null){var u=l.alternate;u!==null&&u.memoizedState!==null&&(ql=l)}}else Nd()}function Nd(){ie(_o,_o.current),ie(wa,wa.current)}function su(l){ne(wa),ql===l&&(ql=null),ne(_o)}var _o=X(0);function Mx(l){for(var u=l;u!==null;){if(u.tag===13){var f=u.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||AP(f)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}function $R(l,u,f,b){u=l.memoizedState,f=f(b,u),f=f==null?u:h({},u,f),l.memoizedState=f,l.lanes===0&&(l.updateQueue.baseState=f)}var VR={enqueueSetState:function(l,u,f){l=l._reactInternals;var b=Rs(),_=kd(b);_.payload=u,f!=null&&(_.callback=f),u=Od(l,_,b),u!==null&&(Ps(u,l,b),ow(u,l,b))},enqueueReplaceState:function(l,u,f){l=l._reactInternals;var b=Rs(),_=kd(b);_.tag=1,_.payload=u,f!=null&&(_.callback=f),u=Od(l,_,b),u!==null&&(Ps(u,l,b),ow(u,l,b))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var f=Rs(),b=kd(f);b.tag=2,u!=null&&(b.callback=u),u=Od(l,b,f),u!==null&&(Ps(u,l,f),ow(u,l,f))}};function E$(l,u,f,b,_,L,Y){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(b,L,Y):u.prototype&&u.prototype.isPureReactComponent?!Kv(f,b)||!Kv(_,L):!0}function x$(l,u,f,b){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(f,b),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(f,b),u.state!==l&&VR.enqueueReplaceState(u,u.state,null)}function rp(l,u){var f=u;if("ref"in u){f={};for(var b in u)b!=="ref"&&(f[b]=u[b])}if(l=l.defaultProps){f===u&&(f=h({},f));for(var _ in l)f[_]===void 0&&(f[_]=l[_])}return f}var kx=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)};function _$(l){kx(l)}function T$(l){console.error(l)}function A$(l){kx(l)}function Ox(l,u){try{var f=l.onUncaughtError;f(u.value,{componentStack:u.stack})}catch(b){setTimeout(function(){throw b})}}function I$(l,u,f){try{var b=l.onCaughtError;b(f.value,{componentStack:f.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function zR(l,u,f){return f=kd(f),f.tag=3,f.payload={element:null},f.callback=function(){Ox(l,u)},f}function R$(l){return l=kd(l),l.tag=3,l}function P$(l,u,f,b){var _=f.type.getDerivedStateFromError;if(typeof _=="function"){var L=b.value;l.payload=function(){return _(L)},l.callback=function(){I$(u,f,b)}}var Y=f.stateNode;Y!==null&&typeof Y.componentDidCatch=="function"&&(l.callback=function(){I$(u,f,b),typeof _!="function"&&(Hd===null?Hd=new Set([this]):Hd.add(this));var te=b.stack;this.componentDidCatch(b.value,{componentStack:te!==null?te:""})})}function DK(l,u,f,b,_){if(f.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(u=f.alternate,u!==null&&Jv(u,f,_,!0),f=wa.current,f!==null){switch(f.tag){case 13:return ql===null?uP():f.alternate===null&&qr===0&&(qr=3),f.flags&=-257,f.flags|=65536,f.lanes=_,b===gR?f.flags|=16384:(u=f.updateQueue,u===null?f.updateQueue=new Set([b]):u.add(b),hP(l,b,_)),!1;case 22:return f.flags|=65536,b===gR?f.flags|=16384:(u=f.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([b])},f.updateQueue=u):(f=u.retryQueue,f===null?u.retryQueue=new Set([b]):f.add(b)),hP(l,b,_)),!1}throw Error(r(435,f.tag))}return hP(l,b,_),uP(),!1}if(kn)return u=wa.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=_,b!==lR&&(l=Error(r(422),{cause:b}),Zv(ma(l,f)))):(b!==lR&&(u=Error(r(423),{cause:b}),Zv(ma(u,f))),l=l.current.alternate,l.flags|=65536,_&=-_,l.lanes|=_,b=ma(b,f),_=zR(l.stateNode,b,_),bR(l,_),qr!==4&&(qr=2)),!1;var L=Error(r(520),{cause:b});if(L=ma(L,f),vw===null?vw=[L]:vw.push(L),qr!==4&&(qr=2),u===null)return!0;b=ma(b,f),f=u;do{switch(f.tag){case 3:return f.flags|=65536,l=_&-_,f.lanes|=l,l=zR(f.stateNode,b,l),bR(f,l),!1;case 1:if(u=f.type,L=f.stateNode,(f.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(Hd===null||!Hd.has(L))))return f.flags|=65536,_&=-_,f.lanes|=_,_=R$(_),P$(_,l,f,b),bR(f,_),!1}f=f.return}while(f!==null);return!1}var M$=Error(r(461)),zo=!1;function ri(l,u,f,b){u.child=l===null?S$(u,null,f,b):zm(u,l.child,f,b)}function k$(l,u,f,b,_){f=f.render;var L=u.ref;if("ref"in b){var Y={};for(var te in b)te!=="ref"&&(Y[te]=b[te])}else Y=b;return ep(u),b=ER(l,u,f,Y,L,_),te=xR(),l!==null&&!zo?(_R(l,u,_),au(l,u,_)):(kn&&te&&sR(u),u.flags|=1,ri(l,u,b,_),u.child)}function O$(l,u,f,b,_){if(l===null){var L=f.type;return typeof L=="function"&&!rR(L)&&L.defaultProps===void 0&&f.compare===null?(u.tag=15,u.type=L,D$(l,u,L,b,_)):(l=hx(f.type,null,b,u,u.mode,_),l.ref=u.ref,l.return=u,u.child=l)}if(L=l.child,!KR(l,_)){var Y=L.memoizedProps;if(f=f.compare,f=f!==null?f:Kv,f(Y,b)&&l.ref===u.ref)return au(l,u,_)}return u.flags|=1,l=eu(L,b),l.ref=u.ref,l.return=u,u.child=l}function D$(l,u,f,b,_){if(l!==null){var L=l.memoizedProps;if(Kv(L,b)&&l.ref===u.ref)if(zo=!1,u.pendingProps=b=L,KR(l,_))(l.flags&131072)!==0&&(zo=!0);else return u.lanes=l.lanes,au(l,u,_)}return BR(l,u,f,b,_)}function L$(l,u,f){var b=u.pendingProps,_=b.children,L=l!==null?l.memoizedState:null;if(b.mode==="hidden"){if((u.flags&128)!==0){if(b=L!==null?L.baseLanes|f:f,l!==null){for(_=u.child=l.child,L=0;_!==null;)L=L|_.lanes|_.childLanes,_=_.sibling;u.childLanes=L&~b}else u.childLanes=0,u.child=null;return N$(l,u,b,f)}if((f&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},l!==null&&yx(u,L!==null?L.cachePool:null),L!==null?DF(u,L):wR(),C$(u);else return u.lanes=u.childLanes=536870912,N$(l,u,L!==null?L.baseLanes|f:f,f)}else L!==null?(yx(u,L.cachePool),DF(u,L),Nd(),u.memoizedState=null):(l!==null&&yx(u,null),wR(),Nd());return ri(l,u,_,f),u.child}function N$(l,u,f,b){var _=pR();return _=_===null?null:{parent:xo._currentValue,pool:_},u.memoizedState={baseLanes:f,cachePool:_},l!==null&&yx(u,null),wR(),C$(u),l!==null&&Jv(l,u,b,!0),null}function Dx(l,u){var f=u.ref;if(f===null)l!==null&&l.ref!==null&&(u.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(l===null||l.ref!==f)&&(u.flags|=4194816)}}function BR(l,u,f,b,_){return ep(u),f=ER(l,u,f,b,void 0,_),b=xR(),l!==null&&!zo?(_R(l,u,_),au(l,u,_)):(kn&&b&&sR(u),u.flags|=1,ri(l,u,f,_),u.child)}function F$(l,u,f,b,_,L){return ep(u),u.updateQueue=null,f=NF(u,b,f,_),LF(l),b=xR(),l!==null&&!zo?(_R(l,u,L),au(l,u,L)):(kn&&b&&sR(u),u.flags|=1,ri(l,u,f,L),u.child)}function $$(l,u,f,b,_){if(ep(u),u.stateNode===null){var L=Pm,Y=f.contextType;typeof Y=="object"&&Y!==null&&(L=Si(Y)),L=new f(b,L),u.memoizedState=L.state!==null&&L.state!==void 0?L.state:null,L.updater=VR,u.stateNode=L,L._reactInternals=u,L=u.stateNode,L.props=b,L.state=u.memoizedState,L.refs={},mR(u),Y=f.contextType,L.context=typeof Y=="object"&&Y!==null?Si(Y):Pm,L.state=u.memoizedState,Y=f.getDerivedStateFromProps,typeof Y=="function"&&($R(u,f,Y,b),L.state=u.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof L.getSnapshotBeforeUpdate=="function"||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(Y=L.state,typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount(),Y!==L.state&&VR.enqueueReplaceState(L,L.state,null),sw(u,b,L,_),iw(),L.state=u.memoizedState),typeof L.componentDidMount=="function"&&(u.flags|=4194308),b=!0}else if(l===null){L=u.stateNode;var te=u.memoizedProps,ue=rp(f,te);L.props=ue;var we=L.context,Fe=f.contextType;Y=Pm,typeof Fe=="object"&&Fe!==null&&(Y=Si(Fe));var Be=f.getDerivedStateFromProps;Fe=typeof Be=="function"||typeof L.getSnapshotBeforeUpdate=="function",te=u.pendingProps!==te,Fe||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(te||we!==Y)&&x$(u,L,b,Y),Md=!1;var _e=u.memoizedState;L.state=_e,sw(u,b,L,_),iw(),we=u.memoizedState,te||_e!==we||Md?(typeof Be=="function"&&($R(u,f,Be,b),we=u.memoizedState),(ue=Md||E$(u,f,ue,b,_e,we,Y))?(Fe||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(u.flags|=4194308)):(typeof L.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=b,u.memoizedState=we),L.props=b,L.state=we,L.context=Y,b=ue):(typeof L.componentDidMount=="function"&&(u.flags|=4194308),b=!1)}else{L=u.stateNode,yR(l,u),Y=u.memoizedProps,Fe=rp(f,Y),L.props=Fe,Be=u.pendingProps,_e=L.context,we=f.contextType,ue=Pm,typeof we=="object"&&we!==null&&(ue=Si(we)),te=f.getDerivedStateFromProps,(we=typeof te=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(Y!==Be||_e!==ue)&&x$(u,L,b,ue),Md=!1,_e=u.memoizedState,L.state=_e,sw(u,b,L,_),iw();var Ae=u.memoizedState;Y!==Be||_e!==Ae||Md||l!==null&&l.dependencies!==null&&gx(l.dependencies)?(typeof te=="function"&&($R(u,f,te,b),Ae=u.memoizedState),(Fe=Md||E$(u,f,Fe,b,_e,Ae,ue)||l!==null&&l.dependencies!==null&&gx(l.dependencies))?(we||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(b,Ae,ue),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(b,Ae,ue)),typeof L.componentDidUpdate=="function"&&(u.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof L.componentDidUpdate!="function"||Y===l.memoizedProps&&_e===l.memoizedState||(u.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||Y===l.memoizedProps&&_e===l.memoizedState||(u.flags|=1024),u.memoizedProps=b,u.memoizedState=Ae),L.props=b,L.state=Ae,L.context=ue,b=Fe):(typeof L.componentDidUpdate!="function"||Y===l.memoizedProps&&_e===l.memoizedState||(u.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||Y===l.memoizedProps&&_e===l.memoizedState||(u.flags|=1024),b=!1)}return L=b,Dx(l,u),b=(u.flags&128)!==0,L||b?(L=u.stateNode,f=b&&typeof f.getDerivedStateFromError!="function"?null:L.render(),u.flags|=1,l!==null&&b?(u.child=zm(u,l.child,null,_),u.child=zm(u,null,f,_)):ri(l,u,f,_),u.memoizedState=L.state,l=u.child):l=au(l,u,_),l}function V$(l,u,f,b){return Qv(),u.flags|=256,ri(l,u,f,b),u.child}var HR={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jR(l){return{baseLanes:l,cachePool:TF()}}function UR(l,u,f){return l=l!==null?l.childLanes&~f:0,u&&(l|=Sa),l}function z$(l,u,f){var b=u.pendingProps,_=!1,L=(u.flags&128)!==0,Y;if((Y=L)||(Y=l!==null&&l.memoizedState===null?!1:(_o.current&2)!==0),Y&&(_=!0,u.flags&=-129),Y=(u.flags&32)!==0,u.flags&=-33,l===null){if(kn){if(_?Ld(u):Nd(),kn){var te=Wr,ue;if(ue=te){e:{for(ue=te,te=Wl;ue.nodeType!==8;){if(!te){te=null;break e}if(ue=ol(ue.nextSibling),ue===null){te=null;break e}}te=ue}te!==null?(u.memoizedState={dehydrated:te,treeContext:Yf!==null?{id:tu,overflow:nu}:null,retryLane:536870912,hydrationErrors:null},ue=_s(18,null,null,0),ue.stateNode=te,ue.return=u,u.child=ue,zi=u,Wr=null,ue=!0):ue=!1}ue||Zf(u)}if(te=u.memoizedState,te!==null&&(te=te.dehydrated,te!==null))return AP(te)?u.lanes=32:u.lanes=536870912,null;su(u)}return te=b.children,b=b.fallback,_?(Nd(),_=u.mode,te=Lx({mode:"hidden",children:te},_),b=Kf(b,_,f,null),te.return=u,b.return=u,te.sibling=b,u.child=te,_=u.child,_.memoizedState=jR(f),_.childLanes=UR(l,Y,f),u.memoizedState=HR,b):(Ld(u),GR(u,te))}if(ue=l.memoizedState,ue!==null&&(te=ue.dehydrated,te!==null)){if(L)u.flags&256?(Ld(u),u.flags&=-257,u=WR(l,u,f)):u.memoizedState!==null?(Nd(),u.child=l.child,u.flags|=128,u=null):(Nd(),_=b.fallback,te=u.mode,b=Lx({mode:"visible",children:b.children},te),_=Kf(_,te,f,null),_.flags|=2,b.return=u,_.return=u,b.sibling=_,u.child=b,zm(u,l.child,null,f),b=u.child,b.memoizedState=jR(f),b.childLanes=UR(l,Y,f),u.memoizedState=HR,u=_);else if(Ld(u),AP(te)){if(Y=te.nextSibling&&te.nextSibling.dataset,Y)var we=Y.dgst;Y=we,b=Error(r(419)),b.stack="",b.digest=Y,Zv({value:b,source:null,stack:null}),u=WR(l,u,f)}else if(zo||Jv(l,u,f,!1),Y=(f&l.childLanes)!==0,zo||Y){if(Y=yr,Y!==null&&(b=f&-f,b=(b&42)!==0?1:jr(b),b=(b&(Y.suspendedLanes|f))!==0?0:b,b!==0&&b!==ue.retryLane))throw ue.retryLane=b,Rm(l,b),Ps(Y,l,b),M$;te.data==="$?"||uP(),u=WR(l,u,f)}else te.data==="$?"?(u.flags|=192,u.child=l.child,u=null):(l=ue.treeContext,Wr=ol(te.nextSibling),zi=u,kn=!0,Qf=null,Wl=!1,l!==null&&(ba[va++]=tu,ba[va++]=nu,ba[va++]=Yf,tu=l.id,nu=l.overflow,Yf=u),u=GR(u,b.children),u.flags|=4096);return u}return _?(Nd(),_=b.fallback,te=u.mode,ue=l.child,we=ue.sibling,b=eu(ue,{mode:"hidden",children:b.children}),b.subtreeFlags=ue.subtreeFlags&65011712,we!==null?_=eu(we,_):(_=Kf(_,te,f,null),_.flags|=2),_.return=u,b.return=u,b.sibling=_,u.child=b,b=_,_=u.child,te=l.child.memoizedState,te===null?te=jR(f):(ue=te.cachePool,ue!==null?(we=xo._currentValue,ue=ue.parent!==we?{parent:we,pool:we}:ue):ue=TF(),te={baseLanes:te.baseLanes|f,cachePool:ue}),_.memoizedState=te,_.childLanes=UR(l,Y,f),u.memoizedState=HR,b):(Ld(u),f=l.child,l=f.sibling,f=eu(f,{mode:"visible",children:b.children}),f.return=u,f.sibling=null,l!==null&&(Y=u.deletions,Y===null?(u.deletions=[l],u.flags|=16):Y.push(l)),u.child=f,u.memoizedState=null,f)}function GR(l,u){return u=Lx({mode:"visible",children:u},l.mode),u.return=l,l.child=u}function Lx(l,u){return l=_s(22,l,null,u),l.lanes=0,l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},l}function WR(l,u,f){return zm(u,l.child,null,f),l=GR(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function B$(l,u,f){l.lanes|=u;var b=l.alternate;b!==null&&(b.lanes|=u),uR(l.return,u,f)}function qR(l,u,f,b,_){var L=l.memoizedState;L===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:b,tail:f,tailMode:_}:(L.isBackwards=u,L.rendering=null,L.renderingStartTime=0,L.last=b,L.tail=f,L.tailMode=_)}function H$(l,u,f){var b=u.pendingProps,_=b.revealOrder,L=b.tail;if(ri(l,u,b.children,f),b=_o.current,(b&2)!==0)b=b&1|2,u.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&B$(l,f,u);else if(l.tag===19)B$(l,f,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}b&=1}switch(ie(_o,b),_){case"forwards":for(f=u.child,_=null;f!==null;)l=f.alternate,l!==null&&Mx(l)===null&&(_=f),f=f.sibling;f=_,f===null?(_=u.child,u.child=null):(_=f.sibling,f.sibling=null),qR(u,!1,_,f,L);break;case"backwards":for(f=null,_=u.child,u.child=null;_!==null;){if(l=_.alternate,l!==null&&Mx(l)===null){u.child=_;break}l=_.sibling,_.sibling=f,f=_,_=l}qR(u,!0,f,null,L);break;case"together":qR(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function au(l,u,f){if(l!==null&&(u.dependencies=l.dependencies),Bd|=u.lanes,(f&u.childLanes)===0)if(l!==null){if(Jv(l,u,f,!1),(f&u.childLanes)===0)return null}else return null;if(l!==null&&u.child!==l.child)throw Error(r(153));if(u.child!==null){for(l=u.child,f=eu(l,l.pendingProps),u.child=f,f.return=u;l.sibling!==null;)l=l.sibling,f=f.sibling=eu(l,l.pendingProps),f.return=u;f.sibling=null}return u.child}function KR(l,u){return(l.lanes&u)!==0?!0:(l=l.dependencies,!!(l!==null&&gx(l)))}function LK(l,u,f){switch(u.tag){case 3:Ee(u,u.stateNode.containerInfo),Pd(u,xo,l.memoizedState.cache),Qv();break;case 27:case 5:le(u);break;case 4:Ee(u,u.stateNode.containerInfo);break;case 10:Pd(u,u.type,u.memoizedProps.value);break;case 13:var b=u.memoizedState;if(b!==null)return b.dehydrated!==null?(Ld(u),u.flags|=128,null):(f&u.child.childLanes)!==0?z$(l,u,f):(Ld(u),l=au(l,u,f),l!==null?l.sibling:null);Ld(u);break;case 19:var _=(l.flags&128)!==0;if(b=(f&u.childLanes)!==0,b||(Jv(l,u,f,!1),b=(f&u.childLanes)!==0),_){if(b)return H$(l,u,f);u.flags|=128}if(_=u.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),ie(_o,_o.current),b)break;return null;case 22:case 23:return u.lanes=0,L$(l,u,f);case 24:Pd(u,xo,l.memoizedState.cache)}return au(l,u,f)}function j$(l,u,f){if(l!==null)if(l.memoizedProps!==u.pendingProps)zo=!0;else{if(!KR(l,f)&&(u.flags&128)===0)return zo=!1,LK(l,u,f);zo=(l.flags&131072)!==0}else zo=!1,kn&&(u.flags&1048576)!==0&&vF(u,px,u.index);switch(u.lanes=0,u.tag){case 16:e:{l=u.pendingProps;var b=u.elementType,_=b._init;if(b=_(b._payload),u.type=b,typeof b=="function")rR(b)?(l=rp(b,l),u.tag=1,u=$$(null,u,b,l,f)):(u.tag=0,u=BR(null,u,b,l,f));else{if(b!=null){if(_=b.$$typeof,_===P){u.tag=11,u=k$(null,u,b,l,f);break e}else if(_===D){u.tag=14,u=O$(null,u,b,l,f);break e}}throw u=q(b)||b,Error(r(306,u,""))}}return u;case 0:return BR(l,u,u.type,u.pendingProps,f);case 1:return b=u.type,_=rp(b,u.pendingProps),$$(l,u,b,_,f);case 3:e:{if(Ee(u,u.stateNode.containerInfo),l===null)throw Error(r(387));b=u.pendingProps;var L=u.memoizedState;_=L.element,yR(l,u),sw(u,b,null,f);var Y=u.memoizedState;if(b=Y.cache,Pd(u,xo,b),b!==L.cache&&dR(u,[xo],f,!0),iw(),b=Y.element,L.isDehydrated)if(L={element:b,isDehydrated:!1,cache:Y.cache},u.updateQueue.baseState=L,u.memoizedState=L,u.flags&256){u=V$(l,u,b,f);break e}else if(b!==_){_=ma(Error(r(424)),u),Zv(_),u=V$(l,u,b,f);break e}else{switch(l=u.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(Wr=ol(l.firstChild),zi=u,kn=!0,Qf=null,Wl=!0,f=S$(u,null,b,f),u.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(Qv(),b===_){u=au(l,u,f);break e}ri(l,u,b,f)}u=u.child}return u;case 26:return Dx(l,u),l===null?(f=qV(u.type,null,u.pendingProps,null))?u.memoizedState=f:kn||(f=u.type,l=u.pendingProps,b=Yx(ae.current).createElement(f),b[Zn]=u,b[$n]=l,ii(b,f,l),mr(b),u.stateNode=b):u.memoizedState=qV(u.type,l.memoizedProps,u.pendingProps,l.memoizedState),null;case 27:return le(u),l===null&&kn&&(b=u.stateNode=UV(u.type,u.pendingProps,ae.current),zi=u,Wl=!0,_=Wr,Gd(u.type)?(IP=_,Wr=ol(b.firstChild)):Wr=_),ri(l,u,u.pendingProps.children,f),Dx(l,u),l===null&&(u.flags|=4194304),u.child;case 5:return l===null&&kn&&((_=b=Wr)&&(b=cY(b,u.type,u.pendingProps,Wl),b!==null?(u.stateNode=b,zi=u,Wr=ol(b.firstChild),Wl=!1,_=!0):_=!1),_||Zf(u)),le(u),_=u.type,L=u.pendingProps,Y=l!==null?l.memoizedProps:null,b=L.children,xP(_,L)?b=null:Y!==null&&xP(_,Y)&&(u.flags|=32),u.memoizedState!==null&&(_=ER(l,u,AK,null,null,f),Iw._currentValue=_),Dx(l,u),ri(l,u,b,f),u.child;case 6:return l===null&&kn&&((l=f=Wr)&&(f=uY(f,u.pendingProps,Wl),f!==null?(u.stateNode=f,zi=u,Wr=null,l=!0):l=!1),l||Zf(u)),null;case 13:return z$(l,u,f);case 4:return Ee(u,u.stateNode.containerInfo),b=u.pendingProps,l===null?u.child=zm(u,null,b,f):ri(l,u,b,f),u.child;case 11:return k$(l,u,u.type,u.pendingProps,f);case 7:return ri(l,u,u.pendingProps,f),u.child;case 8:return ri(l,u,u.pendingProps.children,f),u.child;case 12:return ri(l,u,u.pendingProps.children,f),u.child;case 10:return b=u.pendingProps,Pd(u,u.type,b.value),ri(l,u,b.children,f),u.child;case 9:return _=u.type._context,b=u.pendingProps.children,ep(u),_=Si(_),b=b(_),u.flags|=1,ri(l,u,b,f),u.child;case 14:return O$(l,u,u.type,u.pendingProps,f);case 15:return D$(l,u,u.type,u.pendingProps,f);case 19:return H$(l,u,f);case 31:return b=u.pendingProps,f=u.mode,b={mode:b.mode,children:b.children},l===null?(f=Lx(b,f),f.ref=u.ref,u.child=f,f.return=u,u=f):(f=eu(l.child,b),f.ref=u.ref,u.child=f,f.return=u,u=f),u;case 22:return L$(l,u,f);case 24:return ep(u),b=Si(xo),l===null?(_=pR(),_===null&&(_=yr,L=hR(),_.pooledCache=L,L.refCount++,L!==null&&(_.pooledCacheLanes|=f),_=L),u.memoizedState={parent:b,cache:_},mR(u),Pd(u,xo,_)):((l.lanes&f)!==0&&(yR(l,u),sw(u,null,null,f),iw()),_=l.memoizedState,L=u.memoizedState,_.parent!==b?(_={parent:b,cache:b},u.memoizedState=_,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=_),Pd(u,xo,b)):(b=L.cache,Pd(u,xo,b),b!==_.cache&&dR(u,[xo],f,!0))),ri(l,u,u.pendingProps.children,f),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}function lu(l){l.flags|=4}function U$(l,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!ZV(u)){if(u=wa.current,u!==null&&((xn&4194048)===xn?ql!==null:(xn&62914560)!==xn&&(xn&536870912)===0||u!==ql))throw rw=gR,AF;l.flags|=8192}}function Nx(l,u){u!==null&&(l.flags|=4),l.flags&16384&&(u=l.tag!==22?Yt():536870912,l.lanes|=u,Um|=u)}function fw(l,u){if(!kn)switch(l.tailMode){case"hidden":u=l.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?l.tail=null:f.sibling=null;break;case"collapsed":f=l.tail;for(var b=null;f!==null;)f.alternate!==null&&(b=f),f=f.sibling;b===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:b.sibling=null}}function Fr(l){var u=l.alternate!==null&&l.alternate.child===l.child,f=0,b=0;if(u)for(var _=l.child;_!==null;)f|=_.lanes|_.childLanes,b|=_.subtreeFlags&65011712,b|=_.flags&65011712,_.return=l,_=_.sibling;else for(_=l.child;_!==null;)f|=_.lanes|_.childLanes,b|=_.subtreeFlags,b|=_.flags,_.return=l,_=_.sibling;return l.subtreeFlags|=b,l.childLanes=f,u}function NK(l,u,f){var b=u.pendingProps;switch(aR(u),u.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fr(u),null;case 1:return Fr(u),null;case 3:return f=u.stateNode,b=null,l!==null&&(b=l.memoizedState.cache),u.memoizedState.cache!==b&&(u.flags|=2048),ou(xo),Te(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(l===null||l.child===null)&&(Xv(u)?lu(u):l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,CF())),Fr(u),null;case 26:return f=u.memoizedState,l===null?(lu(u),f!==null?(Fr(u),U$(u,f)):(Fr(u),u.flags&=-16777217)):f?f!==l.memoizedState?(lu(u),Fr(u),U$(u,f)):(Fr(u),u.flags&=-16777217):(l.memoizedProps!==b&&lu(u),Fr(u),u.flags&=-16777217),null;case 27:pe(u),f=ae.current;var _=u.type;if(l!==null&&u.stateNode!=null)l.memoizedProps!==b&&lu(u);else{if(!b){if(u.stateNode===null)throw Error(r(166));return Fr(u),null}l=se.current,Xv(u)?wF(u):(l=UV(_,b,f),u.stateNode=l,lu(u))}return Fr(u),null;case 5:if(pe(u),f=u.type,l!==null&&u.stateNode!=null)l.memoizedProps!==b&&lu(u);else{if(!b){if(u.stateNode===null)throw Error(r(166));return Fr(u),null}if(l=se.current,Xv(u))wF(u);else{switch(_=Yx(ae.current),l){case 1:l=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:l=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":l=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":l=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":l=_.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l=typeof b.is=="string"?_.createElement("select",{is:b.is}):_.createElement("select"),b.multiple?l.multiple=!0:b.size&&(l.size=b.size);break;default:l=typeof b.is=="string"?_.createElement(f,{is:b.is}):_.createElement(f)}}l[Zn]=u,l[$n]=b;e:for(_=u.child;_!==null;){if(_.tag===5||_.tag===6)l.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===u)break e;for(;_.sibling===null;){if(_.return===null||_.return===u)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}u.stateNode=l;e:switch(ii(l,f,b),f){case"button":case"input":case"select":case"textarea":l=!!b.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&lu(u)}}return Fr(u),u.flags&=-16777217,null;case 6:if(l&&u.stateNode!=null)l.memoizedProps!==b&&lu(u);else{if(typeof b!="string"&&u.stateNode===null)throw Error(r(166));if(l=ae.current,Xv(u)){if(l=u.stateNode,f=u.memoizedProps,b=null,_=zi,_!==null)switch(_.tag){case 27:case 5:b=_.memoizedProps}l[Zn]=u,l=!!(l.nodeValue===f||b!==null&&b.suppressHydrationWarning===!0||FV(l.nodeValue,f)),l||Zf(u)}else l=Yx(l).createTextNode(b),l[Zn]=u,u.stateNode=l}return Fr(u),null;case 13:if(b=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(_=Xv(u),b!==null&&b.dehydrated!==null){if(l===null){if(!_)throw Error(r(318));if(_=u.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[Zn]=u}else Qv(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Fr(u),_=!1}else _=CF(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=_),_=!0;if(!_)return u.flags&256?(su(u),u):(su(u),null)}if(su(u),(u.flags&128)!==0)return u.lanes=f,u;if(f=b!==null,l=l!==null&&l.memoizedState!==null,f){b=u.child,_=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(_=b.alternate.memoizedState.cachePool.pool);var L=null;b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(L=b.memoizedState.cachePool.pool),L!==_&&(b.flags|=2048)}return f!==l&&f&&(u.child.flags|=8192),Nx(u,u.updateQueue),Fr(u),null;case 4:return Te(),l===null&&vP(u.stateNode.containerInfo),Fr(u),null;case 10:return ou(u.type),Fr(u),null;case 19:if(ne(_o),_=u.memoizedState,_===null)return Fr(u),null;if(b=(u.flags&128)!==0,L=_.rendering,L===null)if(b)fw(_,!1);else{if(qr!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(L=Mx(l),L!==null){for(u.flags|=128,fw(_,!1),l=L.updateQueue,u.updateQueue=l,Nx(u,l),u.subtreeFlags=0,l=f,f=u.child;f!==null;)bF(f,l),f=f.sibling;return ie(_o,_o.current&1|2),u.child}l=l.sibling}_.tail!==null&&Ke()>Vx&&(u.flags|=128,b=!0,fw(_,!1),u.lanes=4194304)}else{if(!b)if(l=Mx(L),l!==null){if(u.flags|=128,b=!0,l=l.updateQueue,u.updateQueue=l,Nx(u,l),fw(_,!0),_.tail===null&&_.tailMode==="hidden"&&!L.alternate&&!kn)return Fr(u),null}else 2*Ke()-_.renderingStartTime>Vx&&f!==536870912&&(u.flags|=128,b=!0,fw(_,!1),u.lanes=4194304);_.isBackwards?(L.sibling=u.child,u.child=L):(l=_.last,l!==null?l.sibling=L:u.child=L,_.last=L)}return _.tail!==null?(u=_.tail,_.rendering=u,_.tail=u.sibling,_.renderingStartTime=Ke(),u.sibling=null,l=_o.current,ie(_o,b?l&1|2:l&1),u):(Fr(u),null);case 22:case 23:return su(u),SR(),b=u.memoizedState!==null,l!==null?l.memoizedState!==null!==b&&(u.flags|=8192):b&&(u.flags|=8192),b?(f&536870912)!==0&&(u.flags&128)===0&&(Fr(u),u.subtreeFlags&6&&(u.flags|=8192)):Fr(u),f=u.updateQueue,f!==null&&Nx(u,f.retryQueue),f=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),b=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(b=u.memoizedState.cachePool.pool),b!==f&&(u.flags|=2048),l!==null&&ne(tp),null;case 24:return f=null,l!==null&&(f=l.memoizedState.cache),u.memoizedState.cache!==f&&(u.flags|=2048),ou(xo),Fr(u),null;case 25:return null;case 30:return null}throw Error(r(156,u.tag))}function FK(l,u){switch(aR(u),u.tag){case 1:return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return ou(xo),Te(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 26:case 27:case 5:return pe(u),null;case 13:if(su(u),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(r(340));Qv()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return ne(_o),null;case 4:return Te(),null;case 10:return ou(u.type),null;case 22:case 23:return su(u),SR(),l!==null&&ne(tp),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 24:return ou(xo),null;case 25:return null;default:return null}}function G$(l,u){switch(aR(u),u.tag){case 3:ou(xo),Te();break;case 26:case 27:case 5:pe(u);break;case 4:Te();break;case 13:su(u);break;case 19:ne(_o);break;case 10:ou(u.type);break;case 22:case 23:su(u),SR(),l!==null&&ne(tp);break;case 24:ou(xo)}}function pw(l,u){try{var f=u.updateQueue,b=f!==null?f.lastEffect:null;if(b!==null){var _=b.next;f=_;do{if((f.tag&l)===l){b=void 0;var L=f.create,Y=f.inst;b=L(),Y.destroy=b}f=f.next}while(f!==_)}}catch(te){hr(u,u.return,te)}}function Fd(l,u,f){try{var b=u.updateQueue,_=b!==null?b.lastEffect:null;if(_!==null){var L=_.next;b=L;do{if((b.tag&l)===l){var Y=b.inst,te=Y.destroy;if(te!==void 0){Y.destroy=void 0,_=u;var ue=f,we=te;try{we()}catch(Fe){hr(_,ue,Fe)}}}b=b.next}while(b!==L)}}catch(Fe){hr(u,u.return,Fe)}}function W$(l){var u=l.updateQueue;if(u!==null){var f=l.stateNode;try{OF(u,f)}catch(b){hr(l,l.return,b)}}}function q$(l,u,f){f.props=rp(l.type,l.memoizedProps),f.state=l.memoizedState;try{f.componentWillUnmount()}catch(b){hr(l,u,b)}}function gw(l,u){try{var f=l.ref;if(f!==null){switch(l.tag){case 26:case 27:case 5:var b=l.stateNode;break;case 30:b=l.stateNode;break;default:b=l.stateNode}typeof f=="function"?l.refCleanup=f(b):f.current=b}}catch(_){hr(l,u,_)}}function Kl(l,u){var f=l.ref,b=l.refCleanup;if(f!==null)if(typeof b=="function")try{b()}catch(_){hr(l,u,_)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(_){hr(l,u,_)}else f.current=null}function K$(l){var u=l.type,f=l.memoizedProps,b=l.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":f.autoFocus&&b.focus();break e;case"img":f.src?b.src=f.src:f.srcSet&&(b.srcset=f.srcSet)}}catch(_){hr(l,l.return,_)}}function YR(l,u,f){try{var b=l.stateNode;oY(b,l.type,f,u),b[$n]=u}catch(_){hr(l,l.return,_)}}function Y$(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&Gd(l.type)||l.tag===4}function XR(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||Y$(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&Gd(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function QR(l,u,f){var b=l.tag;if(b===5||b===6)l=l.stateNode,u?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(l,u):(u=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,u.appendChild(l),f=f._reactRootContainer,f!=null||u.onclick!==null||(u.onclick=Kx));else if(b!==4&&(b===27&&Gd(l.type)&&(f=l.stateNode,u=null),l=l.child,l!==null))for(QR(l,u,f),l=l.sibling;l!==null;)QR(l,u,f),l=l.sibling}function Fx(l,u,f){var b=l.tag;if(b===5||b===6)l=l.stateNode,u?f.insertBefore(l,u):f.appendChild(l);else if(b!==4&&(b===27&&Gd(l.type)&&(f=l.stateNode),l=l.child,l!==null))for(Fx(l,u,f),l=l.sibling;l!==null;)Fx(l,u,f),l=l.sibling}function X$(l){var u=l.stateNode,f=l.memoizedProps;try{for(var b=l.type,_=u.attributes;_.length;)u.removeAttributeNode(_[0]);ii(u,b,f),u[Zn]=l,u[$n]=f}catch(L){hr(l,l.return,L)}}var cu=!1,no=!1,ZR=!1,Q$=typeof WeakSet=="function"?WeakSet:Set,Bo=null;function $K(l,u){if(l=l.containerInfo,CP=t1,l=lF(l),XI(l)){if("selectionStart"in l)var f={start:l.selectionStart,end:l.selectionEnd};else e:{f=(f=l.ownerDocument)&&f.defaultView||window;var b=f.getSelection&&f.getSelection();if(b&&b.rangeCount!==0){f=b.anchorNode;var _=b.anchorOffset,L=b.focusNode;b=b.focusOffset;try{f.nodeType,L.nodeType}catch{f=null;break e}var Y=0,te=-1,ue=-1,we=0,Fe=0,Be=l,_e=null;t:for(;;){for(var Ae;Be!==f||_!==0&&Be.nodeType!==3||(te=Y+_),Be!==L||b!==0&&Be.nodeType!==3||(ue=Y+b),Be.nodeType===3&&(Y+=Be.nodeValue.length),(Ae=Be.firstChild)!==null;)_e=Be,Be=Ae;for(;;){if(Be===l)break t;if(_e===f&&++we===_&&(te=Y),_e===L&&++Fe===b&&(ue=Y),(Ae=Be.nextSibling)!==null)break;Be=_e,_e=Be.parentNode}Be=Ae}f=te===-1||ue===-1?null:{start:te,end:ue}}else f=null}f=f||{start:0,end:0}}else f=null;for(EP={focusedElem:l,selectionRange:f},t1=!1,Bo=u;Bo!==null;)if(u=Bo,l=u.child,(u.subtreeFlags&1024)!==0&&l!==null)l.return=u,Bo=l;else for(;Bo!==null;){switch(u=Bo,L=u.alternate,l=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if((l&1024)!==0&&L!==null){l=void 0,f=u,_=L.memoizedProps,L=L.memoizedState,b=f.stateNode;try{var Gt=rp(f.type,_,f.elementType===f.type);l=b.getSnapshotBeforeUpdate(Gt,L),b.__reactInternalSnapshotBeforeUpdate=l}catch($t){hr(f,f.return,$t)}}break;case 3:if((l&1024)!==0){if(l=u.stateNode.containerInfo,f=l.nodeType,f===9)TP(l);else if(f===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":TP(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(r(163))}if(l=u.sibling,l!==null){l.return=u.return,Bo=l;break}Bo=u.return}}function Z$(l,u,f){var b=f.flags;switch(f.tag){case 0:case 11:case 15:$d(l,f),b&4&&pw(5,f);break;case 1:if($d(l,f),b&4)if(l=f.stateNode,u===null)try{l.componentDidMount()}catch(Y){hr(f,f.return,Y)}else{var _=rp(f.type,u.memoizedProps);u=u.memoizedState;try{l.componentDidUpdate(_,u,l.__reactInternalSnapshotBeforeUpdate)}catch(Y){hr(f,f.return,Y)}}b&64&&W$(f),b&512&&gw(f,f.return);break;case 3:if($d(l,f),b&64&&(l=f.updateQueue,l!==null)){if(u=null,f.child!==null)switch(f.child.tag){case 27:case 5:u=f.child.stateNode;break;case 1:u=f.child.stateNode}try{OF(l,u)}catch(Y){hr(f,f.return,Y)}}break;case 27:u===null&&b&4&&X$(f);case 26:case 5:$d(l,f),u===null&&b&4&&K$(f),b&512&&gw(f,f.return);break;case 12:$d(l,f);break;case 13:$d(l,f),b&4&&tV(l,f),b&64&&(l=f.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(f=qK.bind(null,f),dY(l,f))));break;case 22:if(b=f.memoizedState!==null||cu,!b){u=u!==null&&u.memoizedState!==null||no,_=cu;var L=no;cu=b,(no=u)&&!L?Vd(l,f,(f.subtreeFlags&8772)!==0):$d(l,f),cu=_,no=L}break;case 30:break;default:$d(l,f)}}function J$(l){var u=l.alternate;u!==null&&(l.alternate=null,J$(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&Jn(u)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var Ar=null,os=!1;function uu(l,u,f){for(f=f.child;f!==null;)eV(l,u,f),f=f.sibling}function eV(l,u,f){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(Je,f)}catch{}switch(f.tag){case 26:no||Kl(f,u),uu(l,u,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:no||Kl(f,u);var b=Ar,_=os;Gd(f.type)&&(Ar=f.stateNode,os=!1),uu(l,u,f),xw(f.stateNode),Ar=b,os=_;break;case 5:no||Kl(f,u);case 6:if(b=Ar,_=os,Ar=null,uu(l,u,f),Ar=b,os=_,Ar!==null)if(os)try{(Ar.nodeType===9?Ar.body:Ar.nodeName==="HTML"?Ar.ownerDocument.body:Ar).removeChild(f.stateNode)}catch(L){hr(f,u,L)}else try{Ar.removeChild(f.stateNode)}catch(L){hr(f,u,L)}break;case 18:Ar!==null&&(os?(l=Ar,HV(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,f.stateNode),kw(l)):HV(Ar,f.stateNode));break;case 4:b=Ar,_=os,Ar=f.stateNode.containerInfo,os=!0,uu(l,u,f),Ar=b,os=_;break;case 0:case 11:case 14:case 15:no||Fd(2,f,u),no||Fd(4,f,u),uu(l,u,f);break;case 1:no||(Kl(f,u),b=f.stateNode,typeof b.componentWillUnmount=="function"&&q$(f,u,b)),uu(l,u,f);break;case 21:uu(l,u,f);break;case 22:no=(b=no)||f.memoizedState!==null,uu(l,u,f),no=b;break;default:uu(l,u,f)}}function tV(l,u){if(u.memoizedState===null&&(l=u.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{kw(l)}catch(f){hr(u,u.return,f)}}function VK(l){switch(l.tag){case 13:case 19:var u=l.stateNode;return u===null&&(u=l.stateNode=new Q$),u;case 22:return l=l.stateNode,u=l._retryCache,u===null&&(u=l._retryCache=new Q$),u;default:throw Error(r(435,l.tag))}}function JR(l,u){var f=VK(l);u.forEach(function(b){var _=KK.bind(null,l,b);f.has(b)||(f.add(b),b.then(_,_))})}function Ts(l,u){var f=u.deletions;if(f!==null)for(var b=0;b<f.length;b++){var _=f[b],L=l,Y=u,te=Y;e:for(;te!==null;){switch(te.tag){case 27:if(Gd(te.type)){Ar=te.stateNode,os=!1;break e}break;case 5:Ar=te.stateNode,os=!1;break e;case 3:case 4:Ar=te.stateNode.containerInfo,os=!0;break e}te=te.return}if(Ar===null)throw Error(r(160));eV(L,Y,_),Ar=null,os=!1,L=_.alternate,L!==null&&(L.return=null),_.return=null}if(u.subtreeFlags&13878)for(u=u.child;u!==null;)nV(u,l),u=u.sibling}var rl=null;function nV(l,u){var f=l.alternate,b=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:Ts(u,l),As(l),b&4&&(Fd(3,l,l.return),pw(3,l),Fd(5,l,l.return));break;case 1:Ts(u,l),As(l),b&512&&(no||f===null||Kl(f,f.return)),b&64&&cu&&(l=l.updateQueue,l!==null&&(b=l.callbacks,b!==null&&(f=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=f===null?b:f.concat(b))));break;case 26:var _=rl;if(Ts(u,l),As(l),b&512&&(no||f===null||Kl(f,f.return)),b&4){var L=f!==null?f.memoizedState:null;if(b=l.memoizedState,f===null)if(b===null)if(l.stateNode===null){e:{b=l.type,f=l.memoizedProps,_=_.ownerDocument||_;t:switch(b){case"title":L=_.getElementsByTagName("title")[0],(!L||L[ws]||L[Zn]||L.namespaceURI==="http://www.w3.org/2000/svg"||L.hasAttribute("itemprop"))&&(L=_.createElement(b),_.head.insertBefore(L,_.querySelector("head > title"))),ii(L,b,f),L[Zn]=l,mr(L),b=L;break e;case"link":var Y=XV("link","href",_).get(b+(f.href||""));if(Y){for(var te=0;te<Y.length;te++)if(L=Y[te],L.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&L.getAttribute("rel")===(f.rel==null?null:f.rel)&&L.getAttribute("title")===(f.title==null?null:f.title)&&L.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){Y.splice(te,1);break t}}L=_.createElement(b),ii(L,b,f),_.head.appendChild(L);break;case"meta":if(Y=XV("meta","content",_).get(b+(f.content||""))){for(te=0;te<Y.length;te++)if(L=Y[te],L.getAttribute("content")===(f.content==null?null:""+f.content)&&L.getAttribute("name")===(f.name==null?null:f.name)&&L.getAttribute("property")===(f.property==null?null:f.property)&&L.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&L.getAttribute("charset")===(f.charSet==null?null:f.charSet)){Y.splice(te,1);break t}}L=_.createElement(b),ii(L,b,f),_.head.appendChild(L);break;default:throw Error(r(468,b))}L[Zn]=l,mr(L),b=L}l.stateNode=b}else QV(_,l.type,l.stateNode);else l.stateNode=YV(_,b,l.memoizedProps);else L!==b?(L===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):L.count--,b===null?QV(_,l.type,l.stateNode):YV(_,b,l.memoizedProps)):b===null&&l.stateNode!==null&&YR(l,l.memoizedProps,f.memoizedProps)}break;case 27:Ts(u,l),As(l),b&512&&(no||f===null||Kl(f,f.return)),f!==null&&b&4&&YR(l,l.memoizedProps,f.memoizedProps);break;case 5:if(Ts(u,l),As(l),b&512&&(no||f===null||Kl(f,f.return)),l.flags&32){_=l.stateNode;try{ha(_,"")}catch(Ae){hr(l,l.return,Ae)}}b&4&&l.stateNode!=null&&(_=l.memoizedProps,YR(l,_,f!==null?f.memoizedProps:_)),b&1024&&(ZR=!0);break;case 6:if(Ts(u,l),As(l),b&4){if(l.stateNode===null)throw Error(r(162));b=l.memoizedProps,f=l.stateNode;try{f.nodeValue=b}catch(Ae){hr(l,l.return,Ae)}}break;case 3:if(Zx=null,_=rl,rl=Xx(u.containerInfo),Ts(u,l),rl=_,As(l),b&4&&f!==null&&f.memoizedState.isDehydrated)try{kw(u.containerInfo)}catch(Ae){hr(l,l.return,Ae)}ZR&&(ZR=!1,rV(l));break;case 4:b=rl,rl=Xx(l.stateNode.containerInfo),Ts(u,l),As(l),rl=b;break;case 12:Ts(u,l),As(l);break;case 13:Ts(u,l),As(l),l.child.flags&8192&&l.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(iP=Ke()),b&4&&(b=l.updateQueue,b!==null&&(l.updateQueue=null,JR(l,b)));break;case 22:_=l.memoizedState!==null;var ue=f!==null&&f.memoizedState!==null,we=cu,Fe=no;if(cu=we||_,no=Fe||ue,Ts(u,l),no=Fe,cu=we,As(l),b&8192)e:for(u=l.stateNode,u._visibility=_?u._visibility&-2:u._visibility|1,_&&(f===null||ue||cu||no||op(l)),f=null,u=l;;){if(u.tag===5||u.tag===26){if(f===null){ue=f=u;try{if(L=ue.stateNode,_)Y=L.style,typeof Y.setProperty=="function"?Y.setProperty("display","none","important"):Y.display="none";else{te=ue.stateNode;var Be=ue.memoizedProps.style,_e=Be!=null&&Be.hasOwnProperty("display")?Be.display:null;te.style.display=_e==null||typeof _e=="boolean"?"":(""+_e).trim()}}catch(Ae){hr(ue,ue.return,Ae)}}}else if(u.tag===6){if(f===null){ue=u;try{ue.stateNode.nodeValue=_?"":ue.memoizedProps}catch(Ae){hr(ue,ue.return,Ae)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===l)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break e;for(;u.sibling===null;){if(u.return===null||u.return===l)break e;f===u&&(f=null),u=u.return}f===u&&(f=null),u.sibling.return=u.return,u=u.sibling}b&4&&(b=l.updateQueue,b!==null&&(f=b.retryQueue,f!==null&&(b.retryQueue=null,JR(l,f))));break;case 19:Ts(u,l),As(l),b&4&&(b=l.updateQueue,b!==null&&(l.updateQueue=null,JR(l,b)));break;case 30:break;case 21:break;default:Ts(u,l),As(l)}}function As(l){var u=l.flags;if(u&2){try{for(var f,b=l.return;b!==null;){if(Y$(b)){f=b;break}b=b.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var _=f.stateNode,L=XR(l);Fx(l,L,_);break;case 5:var Y=f.stateNode;f.flags&32&&(ha(Y,""),f.flags&=-33);var te=XR(l);Fx(l,te,Y);break;case 3:case 4:var ue=f.stateNode.containerInfo,we=XR(l);QR(l,we,ue);break;default:throw Error(r(161))}}catch(Fe){hr(l,l.return,Fe)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function rV(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var u=l;rV(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),l=l.sibling}}function $d(l,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)Z$(l,u.alternate,u),u=u.sibling}function op(l){for(l=l.child;l!==null;){var u=l;switch(u.tag){case 0:case 11:case 14:case 15:Fd(4,u,u.return),op(u);break;case 1:Kl(u,u.return);var f=u.stateNode;typeof f.componentWillUnmount=="function"&&q$(u,u.return,f),op(u);break;case 27:xw(u.stateNode);case 26:case 5:Kl(u,u.return),op(u);break;case 22:u.memoizedState===null&&op(u);break;case 30:op(u);break;default:op(u)}l=l.sibling}}function Vd(l,u,f){for(f=f&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var b=u.alternate,_=l,L=u,Y=L.flags;switch(L.tag){case 0:case 11:case 15:Vd(_,L,f),pw(4,L);break;case 1:if(Vd(_,L,f),b=L,_=b.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(we){hr(b,b.return,we)}if(b=L,_=b.updateQueue,_!==null){var te=b.stateNode;try{var ue=_.shared.hiddenCallbacks;if(ue!==null)for(_.shared.hiddenCallbacks=null,_=0;_<ue.length;_++)kF(ue[_],te)}catch(we){hr(b,b.return,we)}}f&&Y&64&&W$(L),gw(L,L.return);break;case 27:X$(L);case 26:case 5:Vd(_,L,f),f&&b===null&&Y&4&&K$(L),gw(L,L.return);break;case 12:Vd(_,L,f);break;case 13:Vd(_,L,f),f&&Y&4&&tV(_,L);break;case 22:L.memoizedState===null&&Vd(_,L,f),gw(L,L.return);break;case 30:break;default:Vd(_,L,f)}u=u.sibling}}function eP(l,u){var f=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),l=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(l=u.memoizedState.cachePool.pool),l!==f&&(l!=null&&l.refCount++,f!=null&&ew(f))}function tP(l,u){l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&ew(l))}function Yl(l,u,f,b){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)oV(l,u,f,b),u=u.sibling}function oV(l,u,f,b){var _=u.flags;switch(u.tag){case 0:case 11:case 15:Yl(l,u,f,b),_&2048&&pw(9,u);break;case 1:Yl(l,u,f,b);break;case 3:Yl(l,u,f,b),_&2048&&(l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&ew(l)));break;case 12:if(_&2048){Yl(l,u,f,b),l=u.stateNode;try{var L=u.memoizedProps,Y=L.id,te=L.onPostCommit;typeof te=="function"&&te(Y,u.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(ue){hr(u,u.return,ue)}}else Yl(l,u,f,b);break;case 13:Yl(l,u,f,b);break;case 23:break;case 22:L=u.stateNode,Y=u.alternate,u.memoizedState!==null?L._visibility&2?Yl(l,u,f,b):mw(l,u):L._visibility&2?Yl(l,u,f,b):(L._visibility|=2,Bm(l,u,f,b,(u.subtreeFlags&10256)!==0)),_&2048&&eP(Y,u);break;case 24:Yl(l,u,f,b),_&2048&&tP(u.alternate,u);break;default:Yl(l,u,f,b)}}function Bm(l,u,f,b,_){for(_=_&&(u.subtreeFlags&10256)!==0,u=u.child;u!==null;){var L=l,Y=u,te=f,ue=b,we=Y.flags;switch(Y.tag){case 0:case 11:case 15:Bm(L,Y,te,ue,_),pw(8,Y);break;case 23:break;case 22:var Fe=Y.stateNode;Y.memoizedState!==null?Fe._visibility&2?Bm(L,Y,te,ue,_):mw(L,Y):(Fe._visibility|=2,Bm(L,Y,te,ue,_)),_&&we&2048&&eP(Y.alternate,Y);break;case 24:Bm(L,Y,te,ue,_),_&&we&2048&&tP(Y.alternate,Y);break;default:Bm(L,Y,te,ue,_)}u=u.sibling}}function mw(l,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var f=l,b=u,_=b.flags;switch(b.tag){case 22:mw(f,b),_&2048&&eP(b.alternate,b);break;case 24:mw(f,b),_&2048&&tP(b.alternate,b);break;default:mw(f,b)}u=u.sibling}}var yw=8192;function Hm(l){if(l.subtreeFlags&yw)for(l=l.child;l!==null;)iV(l),l=l.sibling}function iV(l){switch(l.tag){case 26:Hm(l),l.flags&yw&&l.memoizedState!==null&&xY(rl,l.memoizedState,l.memoizedProps);break;case 5:Hm(l);break;case 3:case 4:var u=rl;rl=Xx(l.stateNode.containerInfo),Hm(l),rl=u;break;case 22:l.memoizedState===null&&(u=l.alternate,u!==null&&u.memoizedState!==null?(u=yw,yw=16777216,Hm(l),yw=u):Hm(l));break;default:Hm(l)}}function sV(l){var u=l.alternate;if(u!==null&&(l=u.child,l!==null)){u.child=null;do u=l.sibling,l.sibling=null,l=u;while(l!==null)}}function bw(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var f=0;f<u.length;f++){var b=u[f];Bo=b,lV(b,l)}sV(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)aV(l),l=l.sibling}function aV(l){switch(l.tag){case 0:case 11:case 15:bw(l),l.flags&2048&&Fd(9,l,l.return);break;case 3:bw(l);break;case 12:bw(l);break;case 22:var u=l.stateNode;l.memoizedState!==null&&u._visibility&2&&(l.return===null||l.return.tag!==13)?(u._visibility&=-3,$x(l)):bw(l);break;default:bw(l)}}function $x(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var f=0;f<u.length;f++){var b=u[f];Bo=b,lV(b,l)}sV(l)}for(l=l.child;l!==null;){switch(u=l,u.tag){case 0:case 11:case 15:Fd(8,u,u.return),$x(u);break;case 22:f=u.stateNode,f._visibility&2&&(f._visibility&=-3,$x(u));break;default:$x(u)}l=l.sibling}}function lV(l,u){for(;Bo!==null;){var f=Bo;switch(f.tag){case 0:case 11:case 15:Fd(8,f,u);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var b=f.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:ew(f.memoizedState.cache)}if(b=f.child,b!==null)b.return=f,Bo=b;else e:for(f=l;Bo!==null;){b=Bo;var _=b.sibling,L=b.return;if(J$(b),b===f){Bo=null;break e}if(_!==null){_.return=L,Bo=_;break e}Bo=L}}}var zK={getCacheForType:function(l){var u=Si(xo),f=u.data.get(l);return f===void 0&&(f=l(),u.data.set(l,f)),f}},BK=typeof WeakMap=="function"?WeakMap:Map,Wn=0,yr=null,dn=null,xn=0,qn=0,Is=null,zd=!1,jm=!1,nP=!1,du=0,qr=0,Bd=0,ip=0,rP=0,Sa=0,Um=0,vw=null,is=null,oP=!1,iP=0,Vx=1/0,zx=null,Hd=null,oi=0,jd=null,Gm=null,Wm=0,sP=0,aP=null,cV=null,ww=0,lP=null;function Rs(){if((Wn&2)!==0&&xn!==0)return xn&-xn;if(z.T!==null){var l=Om;return l!==0?l:gP()}return Nn()}function uV(){Sa===0&&(Sa=(xn&536870912)===0||kn?vt():536870912);var l=wa.current;return l!==null&&(l.flags|=32),Sa}function Ps(l,u,f){(l===yr&&(qn===2||qn===9)||l.cancelPendingCommit!==null)&&(qm(l,0),Ud(l,xn,Sa,!1)),An(l,f),((Wn&2)===0||l!==yr)&&(l===yr&&((Wn&2)===0&&(ip|=f),qr===4&&Ud(l,xn,Sa,!1)),Xl(l))}function dV(l,u,f){if((Wn&6)!==0)throw Error(r(327));var b=!f&&(u&124)===0&&(u&l.expiredLanes)===0||Ot(l,u),_=b?UK(l,u):dP(l,u,!0),L=b;do{if(_===0){jm&&!b&&Ud(l,u,0,!1);break}else{if(f=l.current.alternate,L&&!HK(f)){_=dP(l,u,!1),L=!1;continue}if(_===2){if(L=u,l.errorRecoveryDisabledLanes&L)var Y=0;else Y=l.pendingLanes&-536870913,Y=Y!==0?Y:Y&536870912?536870912:0;if(Y!==0){u=Y;e:{var te=l;_=vw;var ue=te.current.memoizedState.isDehydrated;if(ue&&(qm(te,Y).flags|=256),Y=dP(te,Y,!1),Y!==2){if(nP&&!ue){te.errorRecoveryDisabledLanes|=L,ip|=L,_=4;break e}L=is,is=_,L!==null&&(is===null?is=L:is.push.apply(is,L))}_=Y}if(L=!1,_!==2)continue}}if(_===1){qm(l,0),Ud(l,u,0,!0);break}e:{switch(b=l,L=_,L){case 0:case 1:throw Error(r(345));case 4:if((u&4194048)!==u)break;case 6:Ud(b,u,Sa,!zd);break e;case 2:is=null;break;case 3:case 5:break;default:throw Error(r(329))}if((u&62914560)===u&&(_=iP+300-Ke(),10<_)){if(Ud(b,u,Sa,!zd),Ut(b,0,!0)!==0)break e;b.timeoutHandle=zV(hV.bind(null,b,f,is,zx,oP,u,Sa,ip,Um,zd,L,2,-0,0),_);break e}hV(b,f,is,zx,oP,u,Sa,ip,Um,zd,L,0,-0,0)}}break}while(!0);Xl(l)}function hV(l,u,f,b,_,L,Y,te,ue,we,Fe,Be,_e,Ae){if(l.timeoutHandle=-1,Be=u.subtreeFlags,(Be&8192||(Be&16785408)===16785408)&&(Aw={stylesheets:null,count:0,unsuspend:EY},iV(u),Be=_Y(),Be!==null)){l.cancelPendingCommit=Be(vV.bind(null,l,u,L,f,b,_,Y,te,ue,Fe,1,_e,Ae)),Ud(l,L,Y,!we);return}vV(l,u,L,f,b,_,Y,te,ue)}function HK(l){for(var u=l;;){var f=u.tag;if((f===0||f===11||f===15)&&u.flags&16384&&(f=u.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var b=0;b<f.length;b++){var _=f[b],L=_.getSnapshot;_=_.value;try{if(!xs(L(),_))return!1}catch{return!1}}if(f=u.child,u.subtreeFlags&16384&&f!==null)f.return=u,u=f;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Ud(l,u,f,b){u&=~rP,u&=~ip,l.suspendedLanes|=u,l.pingedLanes&=~u,b&&(l.warmLanes|=u),b=l.expirationTimes;for(var _=u;0<_;){var L=31-ht(_),Y=1<<L;b[L]=-1,_&=~Y}f!==0&&Qn(l,f,u)}function Bx(){return(Wn&6)===0?(Sw(0),!1):!0}function cP(){if(dn!==null){if(qn===0)var l=dn.return;else l=dn,ru=Jf=null,TR(l),Vm=null,dw=0,l=dn;for(;l!==null;)G$(l.alternate,l),l=l.return;dn=null}}function qm(l,u){var f=l.timeoutHandle;f!==-1&&(l.timeoutHandle=-1,sY(f)),f=l.cancelPendingCommit,f!==null&&(l.cancelPendingCommit=null,f()),cP(),yr=l,dn=f=eu(l.current,null),xn=u,qn=0,Is=null,zd=!1,jm=Ot(l,u),nP=!1,Um=Sa=rP=ip=Bd=qr=0,is=vw=null,oP=!1,(u&8)!==0&&(u|=u&32);var b=l.entangledLanes;if(b!==0)for(l=l.entanglements,b&=u;0<b;){var _=31-ht(b),L=1<<_;u|=l[_],b&=~L}return du=u,cx(),f}function fV(l,u){an=null,z.H=Ix,u===nw||u===bx?(u=PF(),qn=3):u===AF?(u=PF(),qn=4):qn=u===M$?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Is=u,dn===null&&(qr=1,Ox(l,ma(u,l.current)))}function pV(){var l=z.H;return z.H=Ix,l===null?Ix:l}function gV(){var l=z.A;return z.A=zK,l}function uP(){qr=4,zd||(xn&4194048)!==xn&&wa.current!==null||(jm=!0),(Bd&134217727)===0&&(ip&134217727)===0||yr===null||Ud(yr,xn,Sa,!1)}function dP(l,u,f){var b=Wn;Wn|=2;var _=pV(),L=gV();(yr!==l||xn!==u)&&(zx=null,qm(l,u)),u=!1;var Y=qr;e:do try{if(qn!==0&&dn!==null){var te=dn,ue=Is;switch(qn){case 8:cP(),Y=6;break e;case 3:case 2:case 9:case 6:wa.current===null&&(u=!0);var we=qn;if(qn=0,Is=null,Km(l,te,ue,we),f&&jm){Y=0;break e}break;default:we=qn,qn=0,Is=null,Km(l,te,ue,we)}}jK(),Y=qr;break}catch(Fe){fV(l,Fe)}while(!0);return u&&l.shellSuspendCounter++,ru=Jf=null,Wn=b,z.H=_,z.A=L,dn===null&&(yr=null,xn=0,cx()),Y}function jK(){for(;dn!==null;)mV(dn)}function UK(l,u){var f=Wn;Wn|=2;var b=pV(),_=gV();yr!==l||xn!==u?(zx=null,Vx=Ke()+500,qm(l,u)):jm=Ot(l,u);e:do try{if(qn!==0&&dn!==null){u=dn;var L=Is;t:switch(qn){case 1:qn=0,Is=null,Km(l,u,L,1);break;case 2:case 9:if(IF(L)){qn=0,Is=null,yV(u);break}u=function(){qn!==2&&qn!==9||yr!==l||(qn=7),Xl(l)},L.then(u,u);break e;case 3:qn=7;break e;case 4:qn=5;break e;case 7:IF(L)?(qn=0,Is=null,yV(u)):(qn=0,Is=null,Km(l,u,L,7));break;case 5:var Y=null;switch(dn.tag){case 26:Y=dn.memoizedState;case 5:case 27:var te=dn;if(!Y||ZV(Y)){qn=0,Is=null;var ue=te.sibling;if(ue!==null)dn=ue;else{var we=te.return;we!==null?(dn=we,Hx(we)):dn=null}break t}}qn=0,Is=null,Km(l,u,L,5);break;case 6:qn=0,Is=null,Km(l,u,L,6);break;case 8:cP(),qr=6;break e;default:throw Error(r(462))}}GK();break}catch(Fe){fV(l,Fe)}while(!0);return ru=Jf=null,z.H=b,z.A=_,Wn=f,dn!==null?0:(yr=null,xn=0,cx(),qr)}function GK(){for(;dn!==null&&!Pe();)mV(dn)}function mV(l){var u=j$(l.alternate,l,du);l.memoizedProps=l.pendingProps,u===null?Hx(l):dn=u}function yV(l){var u=l,f=u.alternate;switch(u.tag){case 15:case 0:u=F$(f,u,u.pendingProps,u.type,void 0,xn);break;case 11:u=F$(f,u,u.pendingProps,u.type.render,u.ref,xn);break;case 5:TR(u);default:G$(f,u),u=dn=bF(u,du),u=j$(f,u,du)}l.memoizedProps=l.pendingProps,u===null?Hx(l):dn=u}function Km(l,u,f,b){ru=Jf=null,TR(u),Vm=null,dw=0;var _=u.return;try{if(DK(l,_,u,f,xn)){qr=1,Ox(l,ma(f,l.current)),dn=null;return}}catch(L){if(_!==null)throw dn=_,L;qr=1,Ox(l,ma(f,l.current)),dn=null;return}u.flags&32768?(kn||b===1?l=!0:jm||(xn&536870912)!==0?l=!1:(zd=l=!0,(b===2||b===9||b===3||b===6)&&(b=wa.current,b!==null&&b.tag===13&&(b.flags|=16384))),bV(u,l)):Hx(u)}function Hx(l){var u=l;do{if((u.flags&32768)!==0){bV(u,zd);return}l=u.return;var f=NK(u.alternate,u,du);if(f!==null){dn=f;return}if(u=u.sibling,u!==null){dn=u;return}dn=u=l}while(u!==null);qr===0&&(qr=5)}function bV(l,u){do{var f=FK(l.alternate,l);if(f!==null){f.flags&=32767,dn=f;return}if(f=l.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!u&&(l=l.sibling,l!==null)){dn=l;return}dn=l=f}while(l!==null);qr=6,dn=null}function vV(l,u,f,b,_,L,Y,te,ue){l.cancelPendingCommit=null;do jx();while(oi!==0);if((Wn&6)!==0)throw Error(r(327));if(u!==null){if(u===l.current)throw Error(r(177));if(L=u.lanes|u.childLanes,L|=tR,_r(l,f,L,Y,te,ue),l===yr&&(dn=yr=null,xn=0),Gm=u,jd=l,Wm=f,sP=L,aP=_,cV=b,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,YK(at,function(){return xV(),null})):(l.callbackNode=null,l.callbackPriority=0),b=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||b){b=z.T,z.T=null,_=H.p,H.p=2,Y=Wn,Wn|=4;try{$K(l,u,f)}finally{Wn=Y,H.p=_,z.T=b}}oi=1,wV(),SV(),CV()}}function wV(){if(oi===1){oi=0;var l=jd,u=Gm,f=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||f){f=z.T,z.T=null;var b=H.p;H.p=2;var _=Wn;Wn|=4;try{nV(u,l);var L=EP,Y=lF(l.containerInfo),te=L.focusedElem,ue=L.selectionRange;if(Y!==te&&te&&te.ownerDocument&&aF(te.ownerDocument.documentElement,te)){if(ue!==null&&XI(te)){var we=ue.start,Fe=ue.end;if(Fe===void 0&&(Fe=we),"selectionStart"in te)te.selectionStart=we,te.selectionEnd=Math.min(Fe,te.value.length);else{var Be=te.ownerDocument||document,_e=Be&&Be.defaultView||window;if(_e.getSelection){var Ae=_e.getSelection(),Gt=te.textContent.length,$t=Math.min(ue.start,Gt),or=ue.end===void 0?$t:Math.min(ue.end,Gt);!Ae.extend&&$t>or&&(Y=or,or=$t,$t=Y);var me=sF(te,$t),de=sF(te,or);if(me&&de&&(Ae.rangeCount!==1||Ae.anchorNode!==me.node||Ae.anchorOffset!==me.offset||Ae.focusNode!==de.node||Ae.focusOffset!==de.offset)){var ve=Be.createRange();ve.setStart(me.node,me.offset),Ae.removeAllRanges(),$t>or?(Ae.addRange(ve),Ae.extend(de.node,de.offset)):(ve.setEnd(de.node,de.offset),Ae.addRange(ve))}}}}for(Be=[],Ae=te;Ae=Ae.parentNode;)Ae.nodeType===1&&Be.push({element:Ae,left:Ae.scrollLeft,top:Ae.scrollTop});for(typeof te.focus=="function"&&te.focus(),te=0;te<Be.length;te++){var Ve=Be[te];Ve.element.scrollLeft=Ve.left,Ve.element.scrollTop=Ve.top}}t1=!!CP,EP=CP=null}finally{Wn=_,H.p=b,z.T=f}}l.current=u,oi=2}}function SV(){if(oi===2){oi=0;var l=jd,u=Gm,f=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||f){f=z.T,z.T=null;var b=H.p;H.p=2;var _=Wn;Wn|=4;try{Z$(l,u.alternate,u)}finally{Wn=_,H.p=b,z.T=f}}oi=3}}function CV(){if(oi===4||oi===3){oi=0,ze();var l=jd,u=Gm,f=Wm,b=cV;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?oi=5:(oi=0,Gm=jd=null,EV(l,l.pendingLanes));var _=l.pendingLanes;if(_===0&&(Hd=null),Nt(f),u=u.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(Je,u,void 0,(u.current.flags&128)===128)}catch{}if(b!==null){u=z.T,_=H.p,H.p=2,z.T=null;try{for(var L=l.onRecoverableError,Y=0;Y<b.length;Y++){var te=b[Y];L(te.value,{componentStack:te.stack})}}finally{z.T=u,H.p=_}}(Wm&3)!==0&&jx(),Xl(l),_=l.pendingLanes,(f&4194090)!==0&&(_&42)!==0?l===lP?ww++:(ww=0,lP=l):ww=0,Sw(0)}}function EV(l,u){(l.pooledCacheLanes&=u)===0&&(u=l.pooledCache,u!=null&&(l.pooledCache=null,ew(u)))}function jx(l){return wV(),SV(),CV(),xV()}function xV(){if(oi!==5)return!1;var l=jd,u=sP;sP=0;var f=Nt(Wm),b=z.T,_=H.p;try{H.p=32>f?32:f,z.T=null,f=aP,aP=null;var L=jd,Y=Wm;if(oi=0,Gm=jd=null,Wm=0,(Wn&6)!==0)throw Error(r(331));var te=Wn;if(Wn|=4,aV(L.current),oV(L,L.current,Y,f),Wn=te,Sw(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(Je,L)}catch{}return!0}finally{H.p=_,z.T=b,EV(l,u)}}function _V(l,u,f){u=ma(f,u),u=zR(l.stateNode,u,2),l=Od(l,u,2),l!==null&&(An(l,2),Xl(l))}function hr(l,u,f){if(l.tag===3)_V(l,l,f);else for(;u!==null;){if(u.tag===3){_V(u,l,f);break}else if(u.tag===1){var b=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(Hd===null||!Hd.has(b))){l=ma(f,l),f=R$(2),b=Od(u,f,2),b!==null&&(P$(f,b,u,l),An(b,2),Xl(b));break}}u=u.return}}function hP(l,u,f){var b=l.pingCache;if(b===null){b=l.pingCache=new BK;var _=new Set;b.set(u,_)}else _=b.get(u),_===void 0&&(_=new Set,b.set(u,_));_.has(f)||(nP=!0,_.add(f),l=WK.bind(null,l,u,f),u.then(l,l))}function WK(l,u,f){var b=l.pingCache;b!==null&&b.delete(u),l.pingedLanes|=l.suspendedLanes&f,l.warmLanes&=~f,yr===l&&(xn&f)===f&&(qr===4||qr===3&&(xn&62914560)===xn&&300>Ke()-iP?(Wn&2)===0&&qm(l,0):rP|=f,Um===xn&&(Um=0)),Xl(l)}function TV(l,u){u===0&&(u=Yt()),l=Rm(l,u),l!==null&&(An(l,u),Xl(l))}function qK(l){var u=l.memoizedState,f=0;u!==null&&(f=u.retryLane),TV(l,f)}function KK(l,u){var f=0;switch(l.tag){case 13:var b=l.stateNode,_=l.memoizedState;_!==null&&(f=_.retryLane);break;case 19:b=l.stateNode;break;case 22:b=l.stateNode._retryCache;break;default:throw Error(r(314))}b!==null&&b.delete(u),TV(l,f)}function YK(l,u){return xe(l,u)}var Ux=null,Ym=null,fP=!1,Gx=!1,pP=!1,sp=0;function Xl(l){l!==Ym&&l.next===null&&(Ym===null?Ux=Ym=l:Ym=Ym.next=l),Gx=!0,fP||(fP=!0,QK())}function Sw(l,u){if(!pP&&Gx){pP=!0;do for(var f=!1,b=Ux;b!==null;){if(l!==0){var _=b.pendingLanes;if(_===0)var L=0;else{var Y=b.suspendedLanes,te=b.pingedLanes;L=(1<<31-ht(42|l)+1)-1,L&=_&~(Y&~te),L=L&201326741?L&201326741|1:L?L|2:0}L!==0&&(f=!0,PV(b,L))}else L=xn,L=Ut(b,b===yr?L:0,b.cancelPendingCommit!==null||b.timeoutHandle!==-1),(L&3)===0||Ot(b,L)||(f=!0,PV(b,L));b=b.next}while(f);pP=!1}}function XK(){AV()}function AV(){Gx=fP=!1;var l=0;sp!==0&&(iY()&&(l=sp),sp=0);for(var u=Ke(),f=null,b=Ux;b!==null;){var _=b.next,L=IV(b,u);L===0?(b.next=null,f===null?Ux=_:f.next=_,_===null&&(Ym=f)):(f=b,(l!==0||(L&3)!==0)&&(Gx=!0)),b=_}Sw(l)}function IV(l,u){for(var f=l.suspendedLanes,b=l.pingedLanes,_=l.expirationTimes,L=l.pendingLanes&-62914561;0<L;){var Y=31-ht(L),te=1<<Y,ue=_[Y];ue===-1?((te&f)===0||(te&b)!==0)&&(_[Y]=mn(te,u)):ue<=u&&(l.expiredLanes|=te),L&=~te}if(u=yr,f=xn,f=Ut(l,l===u?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),b=l.callbackNode,f===0||l===u&&(qn===2||qn===9)||l.cancelPendingCommit!==null)return b!==null&&b!==null&&Ce(b),l.callbackNode=null,l.callbackPriority=0;if((f&3)===0||Ot(l,f)){if(u=f&-f,u===l.callbackPriority)return u;switch(b!==null&&Ce(b),Nt(f)){case 2:case 8:f=Ye;break;case 32:f=at;break;case 268435456:f=Ue;break;default:f=at}return b=RV.bind(null,l),f=xe(f,b),l.callbackPriority=u,l.callbackNode=f,u}return b!==null&&b!==null&&Ce(b),l.callbackPriority=2,l.callbackNode=null,2}function RV(l,u){if(oi!==0&&oi!==5)return l.callbackNode=null,l.callbackPriority=0,null;var f=l.callbackNode;if(jx()&&l.callbackNode!==f)return null;var b=xn;return b=Ut(l,l===yr?b:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),b===0?null:(dV(l,b,u),IV(l,Ke()),l.callbackNode!=null&&l.callbackNode===f?RV.bind(null,l):null)}function PV(l,u){if(jx())return null;dV(l,u,!0)}function QK(){aY(function(){(Wn&6)!==0?xe(ot,XK):AV()})}function gP(){return sp===0&&(sp=vt()),sp}function MV(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:ym(""+l)}function kV(l,u){var f=u.ownerDocument.createElement("input");return f.name=u.name,f.value=u.value,l.id&&f.setAttribute("form",l.id),u.parentNode.insertBefore(f,u),l=new FormData(l),f.parentNode.removeChild(f),l}function ZK(l,u,f,b,_){if(u==="submit"&&f&&f.stateNode===_){var L=MV((_[$n]||null).action),Y=b.submitter;Y&&(u=(u=Y[$n]||null)?MV(u.formAction):Y.getAttribute("formAction"),u!==null&&(L=u,Y=null));var te=new bm("action","action",null,b,_);l.push({event:te,listeners:[{instance:null,listener:function(){if(b.defaultPrevented){if(sp!==0){var ue=Y?kV(_,Y):new FormData(_);LR(f,{pending:!0,data:ue,method:_.method,action:L},null,ue)}}else typeof L=="function"&&(te.preventDefault(),ue=Y?kV(_,Y):new FormData(_),LR(f,{pending:!0,data:ue,method:_.method,action:L},L,ue))},currentTarget:_}]})}}for(var mP=0;mP<eR.length;mP++){var yP=eR[mP],JK=yP.toLowerCase(),eY=yP[0].toUpperCase()+yP.slice(1);nl(JK,"on"+eY)}nl(dF,"onAnimationEnd"),nl(hF,"onAnimationIteration"),nl(fF,"onAnimationStart"),nl("dblclick","onDoubleClick"),nl("focusin","onFocus"),nl("focusout","onBlur"),nl(yK,"onTransitionRun"),nl(bK,"onTransitionStart"),nl(vK,"onTransitionCancel"),nl(pF,"onTransitionEnd"),Tt("onMouseEnter",["mouseout","mouseover"]),Tt("onMouseLeave",["mouseout","mouseover"]),Tt("onPointerEnter",["pointerout","pointerover"]),Tt("onPointerLeave",["pointerout","pointerover"]),lt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),lt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),lt("onBeforeInput",["compositionend","keypress","textInput","paste"]),lt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),lt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),lt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cw="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tY=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cw));function OV(l,u){u=(u&4)!==0;for(var f=0;f<l.length;f++){var b=l[f],_=b.event;b=b.listeners;e:{var L=void 0;if(u)for(var Y=b.length-1;0<=Y;Y--){var te=b[Y],ue=te.instance,we=te.currentTarget;if(te=te.listener,ue!==L&&_.isPropagationStopped())break e;L=te,_.currentTarget=we;try{L(_)}catch(Fe){kx(Fe)}_.currentTarget=null,L=ue}else for(Y=0;Y<b.length;Y++){if(te=b[Y],ue=te.instance,we=te.currentTarget,te=te.listener,ue!==L&&_.isPropagationStopped())break e;L=te,_.currentTarget=we;try{L(_)}catch(Fe){kx(Fe)}_.currentTarget=null,L=ue}}}}function hn(l,u){var f=u[la];f===void 0&&(f=u[la]=new Set);var b=l+"__bubble";f.has(b)||(DV(u,l,2,!1),f.add(b))}function bP(l,u,f){var b=0;u&&(b|=4),DV(f,l,b,u)}var Wx="_reactListening"+Math.random().toString(36).slice(2);function vP(l){if(!l[Wx]){l[Wx]=!0,Oe.forEach(function(f){f!=="selectionchange"&&(tY.has(f)||bP(f,!1,l),bP(f,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[Wx]||(u[Wx]=!0,bP("selectionchange",!1,u))}}function DV(l,u,f,b){switch(oz(u)){case 2:var _=IY;break;case 8:_=RY;break;default:_=OP}f=_.bind(null,u,f,l),_=void 0,!pa||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(_=!0),b?_!==void 0?l.addEventListener(u,f,{capture:!0,passive:_}):l.addEventListener(u,f,!0):_!==void 0?l.addEventListener(u,f,{passive:_}):l.addEventListener(u,f,!1)}function wP(l,u,f,b,_){var L=b;if((u&1)===0&&(u&2)===0&&b!==null)e:for(;;){if(b===null)return;var Y=b.tag;if(Y===3||Y===4){var te=b.stateNode.containerInfo;if(te===_)break;if(Y===4)for(Y=b.return;Y!==null;){var ue=Y.tag;if((ue===3||ue===4)&&Y.stateNode.containerInfo===_)return;Y=Y.return}for(;te!==null;){if(Y=er(te),Y===null)return;if(ue=Y.tag,ue===5||ue===6||ue===26||ue===27){b=L=Y;continue e}te=te.parentNode}}b=b.return}KE(function(){var we=L,Fe=fa(f),Be=[];e:{var _e=gF.get(l);if(_e!==void 0){var Ae=bm,Gt=l;switch(l){case"keypress":if(Bl(f)===0)break e;case"keydown":case"keyup":Ae=xm;break;case"focusin":Gt="focus",Ae=Sm;break;case"focusout":Gt="blur",Ae=Sm;break;case"beforeblur":case"afterblur":Ae=Sm;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ae=ga;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ae=WI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ae=nx;break;case dF:case hF:case fF:Ae=Cm;break;case pF:Ae=ox;break;case"scroll":case"scrollend":Ae=YE;break;case"wheel":Ae=_m;break;case"copy":case"cut":case"paste":Ae=Em;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ae=Wv;break;case"toggle":case"beforetoggle":Ae=sx}var $t=(u&4)!==0,or=!$t&&(l==="scroll"||l==="scrollend"),me=$t?_e!==null?_e+"Capture":null:_e;$t=[];for(var de=we,ve;de!==null;){var Ve=de;if(ve=Ve.stateNode,Ve=Ve.tag,Ve!==5&&Ve!==26&&Ve!==27||ve===null||me===null||(Ve=Vf(de,me),Ve!=null&&$t.push(Ew(de,Ve,ve))),or)break;de=de.return}0<$t.length&&(_e=new Ae(_e,Gt,null,f,Fe),Be.push({event:_e,listeners:$t}))}}if((u&7)===0){e:{if(_e=l==="mouseover"||l==="pointerover",Ae=l==="mouseout"||l==="pointerout",_e&&f!==Kc&&(Gt=f.relatedTarget||f.fromElement)&&(er(Gt)||Gt[Ur]))break e;if((Ae||_e)&&(_e=Fe.window===Fe?Fe:(_e=Fe.ownerDocument)?_e.defaultView||_e.parentWindow:window,Ae?(Gt=f.relatedTarget||f.toElement,Ae=we,Gt=Gt?er(Gt):null,Gt!==null&&(or=i(Gt),$t=Gt.tag,Gt!==or||$t!==5&&$t!==27&&$t!==6)&&(Gt=null)):(Ae=null,Gt=we),Ae!==Gt)){if($t=ga,Ve="onMouseLeave",me="onMouseEnter",de="mouse",(l==="pointerout"||l==="pointerover")&&($t=Wv,Ve="onPointerLeave",me="onPointerEnter",de="pointer"),or=Ae==null?_e:ns(Ae),ve=Gt==null?_e:ns(Gt),_e=new $t(Ve,de+"leave",Ae,f,Fe),_e.target=or,_e.relatedTarget=ve,Ve=null,er(Fe)===we&&($t=new $t(me,de+"enter",Gt,f,Fe),$t.target=ve,$t.relatedTarget=or,Ve=$t),or=Ve,Ae&&Gt)t:{for($t=Ae,me=Gt,de=0,ve=$t;ve;ve=Xm(ve))de++;for(ve=0,Ve=me;Ve;Ve=Xm(Ve))ve++;for(;0<de-ve;)$t=Xm($t),de--;for(;0<ve-de;)me=Xm(me),ve--;for(;de--;){if($t===me||me!==null&&$t===me.alternate)break t;$t=Xm($t),me=Xm(me)}$t=null}else $t=null;Ae!==null&&LV(Be,_e,Ae,$t,!1),Gt!==null&&or!==null&&LV(Be,or,Gt,$t,!0)}}e:{if(_e=we?ns(we):window,Ae=_e.nodeName&&_e.nodeName.toLowerCase(),Ae==="select"||Ae==="input"&&_e.type==="file")var wt=eF;else if(Eo(_e))if(tF)wt=pK;else{wt=hK;var ln=dK}else Ae=_e.nodeName,!Ae||Ae.toLowerCase()!=="input"||_e.type!=="checkbox"&&_e.type!=="radio"?we&&Vv(we.elementType)&&(wt=eF):wt=fK;if(wt&&(wt=wt(l,we))){Jc(Be,wt,f,Fe);break e}ln&&ln(l,_e,we),l==="focusout"&&we&&_e.type==="number"&&we.memoizedProps.value!=null&&Id(_e,"number",_e.value)}switch(ln=we?ns(we):window,l){case"focusin":(Eo(ln)||ln.contentEditable==="true")&&(Tm=ln,QI=we,Yv=null);break;case"focusout":Yv=QI=Tm=null;break;case"mousedown":ZI=!0;break;case"contextmenu":case"mouseup":case"dragend":ZI=!1,cF(Be,f,Fe);break;case"selectionchange":if(mK)break;case"keydown":case"keyup":cF(Be,f,Fe)}var It;if(Ul)e:{switch(l){case"compositionstart":var zt="onCompositionStart";break e;case"compositionend":zt="onCompositionEnd";break e;case"compositionupdate":zt="onCompositionUpdate";break e}zt=void 0}else Cn?Re(l,f)&&(zt="onCompositionEnd"):l==="keydown"&&f.keyCode===229&&(zt="onCompositionStart");zt&&(W&&f.locale!=="ko"&&(Cn||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&Cn&&(It=Bv()):(zl=Fe,Rd="value"in zl?zl.value:zl.textContent,Cn=!0)),ln=qx(we,zt),0<ln.length&&(zt=new Uv(zt,l,null,f,Fe),Be.push({event:zt,listeners:ln}),It?zt.data=It:(It=rt(f),It!==null&&(zt.data=It)))),(It=B?Co(l,f):En(l,f))&&(zt=qx(we,"onBeforeInput"),0<zt.length&&(ln=new Uv("onBeforeInput","beforeinput",null,f,Fe),Be.push({event:ln,listeners:zt}),ln.data=It)),ZK(Be,l,we,f,Fe)}OV(Be,u)})}function Ew(l,u,f){return{instance:l,listener:u,currentTarget:f}}function qx(l,u){for(var f=u+"Capture",b=[];l!==null;){var _=l,L=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||L===null||(_=Vf(l,f),_!=null&&b.unshift(Ew(l,_,L)),_=Vf(l,u),_!=null&&b.push(Ew(l,_,L))),l.tag===3)return b;l=l.return}return[]}function Xm(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function LV(l,u,f,b,_){for(var L=u._reactName,Y=[];f!==null&&f!==b;){var te=f,ue=te.alternate,we=te.stateNode;if(te=te.tag,ue!==null&&ue===b)break;te!==5&&te!==26&&te!==27||we===null||(ue=we,_?(we=Vf(f,L),we!=null&&Y.unshift(Ew(f,we,ue))):_||(we=Vf(f,L),we!=null&&Y.push(Ew(f,we,ue)))),f=f.return}Y.length!==0&&l.push({event:u,listeners:Y})}var nY=/\r\n?/g,rY=/\u0000|\uFFFD/g;function NV(l){return(typeof l=="string"?l:""+l).replace(nY,`
`).replace(rY,"")}function FV(l,u){return u=NV(u),NV(l)===u}function Kx(){}function rr(l,u,f,b,_,L){switch(f){case"children":typeof b=="string"?u==="body"||u==="textarea"&&b===""||ha(l,b):(typeof b=="number"||typeof b=="bigint")&&u!=="body"&&ha(l,""+b);break;case"className":Cs(l,"class",b);break;case"tabIndex":Cs(l,"tabindex",b);break;case"dir":case"role":case"viewBox":case"width":case"height":Cs(l,f,b);break;case"style":$v(l,b,L);break;case"data":if(u!=="object"){Cs(l,"data",b);break}case"src":case"href":if(b===""&&(u!=="a"||f!=="href")){l.removeAttribute(f);break}if(b==null||typeof b=="function"||typeof b=="symbol"||typeof b=="boolean"){l.removeAttribute(f);break}b=ym(""+b),l.setAttribute(f,b);break;case"action":case"formAction":if(typeof b=="function"){l.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof L=="function"&&(f==="formAction"?(u!=="input"&&rr(l,u,"name",_.name,_,null),rr(l,u,"formEncType",_.formEncType,_,null),rr(l,u,"formMethod",_.formMethod,_,null),rr(l,u,"formTarget",_.formTarget,_,null)):(rr(l,u,"encType",_.encType,_,null),rr(l,u,"method",_.method,_,null),rr(l,u,"target",_.target,_,null)));if(b==null||typeof b=="symbol"||typeof b=="boolean"){l.removeAttribute(f);break}b=ym(""+b),l.setAttribute(f,b);break;case"onClick":b!=null&&(l.onclick=Kx);break;case"onScroll":b!=null&&hn("scroll",l);break;case"onScrollEnd":b!=null&&hn("scrollend",l);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(r(61));if(f=b.__html,f!=null){if(_.children!=null)throw Error(r(60));l.innerHTML=f}}break;case"multiple":l.multiple=b&&typeof b!="function"&&typeof b!="symbol";break;case"muted":l.muted=b&&typeof b!="function"&&typeof b!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(b==null||typeof b=="function"||typeof b=="boolean"||typeof b=="symbol"){l.removeAttribute("xlink:href");break}f=ym(""+b),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":b!=null&&typeof b!="function"&&typeof b!="symbol"?l.setAttribute(f,""+b):l.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":b&&typeof b!="function"&&typeof b!="symbol"?l.setAttribute(f,""):l.removeAttribute(f);break;case"capture":case"download":b===!0?l.setAttribute(f,""):b!==!1&&b!=null&&typeof b!="function"&&typeof b!="symbol"?l.setAttribute(f,b):l.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":b!=null&&typeof b!="function"&&typeof b!="symbol"&&!isNaN(b)&&1<=b?l.setAttribute(f,b):l.removeAttribute(f);break;case"rowSpan":case"start":b==null||typeof b=="function"||typeof b=="symbol"||isNaN(b)?l.removeAttribute(f):l.setAttribute(f,b);break;case"popover":hn("beforetoggle",l),hn("toggle",l),Ss(l,"popover",b);break;case"xlinkActuate":Gr(l,"http://www.w3.org/1999/xlink","xlink:actuate",b);break;case"xlinkArcrole":Gr(l,"http://www.w3.org/1999/xlink","xlink:arcrole",b);break;case"xlinkRole":Gr(l,"http://www.w3.org/1999/xlink","xlink:role",b);break;case"xlinkShow":Gr(l,"http://www.w3.org/1999/xlink","xlink:show",b);break;case"xlinkTitle":Gr(l,"http://www.w3.org/1999/xlink","xlink:title",b);break;case"xlinkType":Gr(l,"http://www.w3.org/1999/xlink","xlink:type",b);break;case"xmlBase":Gr(l,"http://www.w3.org/XML/1998/namespace","xml:base",b);break;case"xmlLang":Gr(l,"http://www.w3.org/XML/1998/namespace","xml:lang",b);break;case"xmlSpace":Gr(l,"http://www.w3.org/XML/1998/namespace","xml:space",b);break;case"is":Ss(l,"is",b);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=UI.get(f)||f,Ss(l,f,b))}}function SP(l,u,f,b,_,L){switch(f){case"style":$v(l,b,L);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(r(61));if(f=b.__html,f!=null){if(_.children!=null)throw Error(r(60));l.innerHTML=f}}break;case"children":typeof b=="string"?ha(l,b):(typeof b=="number"||typeof b=="bigint")&&ha(l,""+b);break;case"onScroll":b!=null&&hn("scroll",l);break;case"onScrollEnd":b!=null&&hn("scrollend",l);break;case"onClick":b!=null&&(l.onclick=Kx);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Me.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(_=f.endsWith("Capture"),u=f.slice(2,_?f.length-7:void 0),L=l[$n]||null,L=L!=null?L[f]:null,typeof L=="function"&&l.removeEventListener(u,L,_),typeof b=="function")){typeof L!="function"&&L!==null&&(f in l?l[f]=null:l.hasAttribute(f)&&l.removeAttribute(f)),l.addEventListener(u,b,_);break e}f in l?l[f]=b:b===!0?l.setAttribute(f,""):Ss(l,f,b)}}}function ii(l,u,f){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":hn("error",l),hn("load",l);var b=!1,_=!1,L;for(L in f)if(f.hasOwnProperty(L)){var Y=f[L];if(Y!=null)switch(L){case"src":b=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:rr(l,u,L,Y,f,null)}}_&&rr(l,u,"srcSet",f.srcSet,f,null),b&&rr(l,u,"src",f.src,f,null);return;case"input":hn("invalid",l);var te=L=Y=_=null,ue=null,we=null;for(b in f)if(f.hasOwnProperty(b)){var Fe=f[b];if(Fe!=null)switch(b){case"name":_=Fe;break;case"type":Y=Fe;break;case"checked":ue=Fe;break;case"defaultChecked":we=Fe;break;case"value":L=Fe;break;case"defaultValue":te=Fe;break;case"children":case"dangerouslySetInnerHTML":if(Fe!=null)throw Error(r(137,u));break;default:rr(l,u,b,Fe,f,null)}}Nf(l,L,te,ue,we,Y,_,!1),mm(l);return;case"select":hn("invalid",l),b=Y=L=null;for(_ in f)if(f.hasOwnProperty(_)&&(te=f[_],te!=null))switch(_){case"value":L=te;break;case"defaultValue":Y=te;break;case"multiple":b=te;default:rr(l,u,_,te,f,null)}u=L,f=Y,l.multiple=!!b,u!=null?qc(l,!!b,u,!1):f!=null&&qc(l,!!b,f,!0);return;case"textarea":hn("invalid",l),L=_=b=null;for(Y in f)if(f.hasOwnProperty(Y)&&(te=f[Y],te!=null))switch(Y){case"value":b=te;break;case"defaultValue":_=te;break;case"children":L=te;break;case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(91));break;default:rr(l,u,Y,te,f,null)}Ff(l,b,_,L),mm(l);return;case"option":for(ue in f)if(f.hasOwnProperty(ue)&&(b=f[ue],b!=null))switch(ue){case"selected":l.selected=b&&typeof b!="function"&&typeof b!="symbol";break;default:rr(l,u,ue,b,f,null)}return;case"dialog":hn("beforetoggle",l),hn("toggle",l),hn("cancel",l),hn("close",l);break;case"iframe":case"object":hn("load",l);break;case"video":case"audio":for(b=0;b<Cw.length;b++)hn(Cw[b],l);break;case"image":hn("error",l),hn("load",l);break;case"details":hn("toggle",l);break;case"embed":case"source":case"link":hn("error",l),hn("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(we in f)if(f.hasOwnProperty(we)&&(b=f[we],b!=null))switch(we){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:rr(l,u,we,b,f,null)}return;default:if(Vv(u)){for(Fe in f)f.hasOwnProperty(Fe)&&(b=f[Fe],b!==void 0&&SP(l,u,Fe,b,f,void 0));return}}for(te in f)f.hasOwnProperty(te)&&(b=f[te],b!=null&&rr(l,u,te,b,f,null))}function oY(l,u,f,b){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,L=null,Y=null,te=null,ue=null,we=null,Fe=null;for(Ae in f){var Be=f[Ae];if(f.hasOwnProperty(Ae)&&Be!=null)switch(Ae){case"checked":break;case"value":break;case"defaultValue":ue=Be;default:b.hasOwnProperty(Ae)||rr(l,u,Ae,null,b,Be)}}for(var _e in b){var Ae=b[_e];if(Be=f[_e],b.hasOwnProperty(_e)&&(Ae!=null||Be!=null))switch(_e){case"type":L=Ae;break;case"name":_=Ae;break;case"checked":we=Ae;break;case"defaultChecked":Fe=Ae;break;case"value":Y=Ae;break;case"defaultValue":te=Ae;break;case"children":case"dangerouslySetInnerHTML":if(Ae!=null)throw Error(r(137,u));break;default:Ae!==Be&&rr(l,u,_e,Ae,b,Be)}}Es(l,Y,te,ue,we,Fe,L,_);return;case"select":Ae=Y=te=_e=null;for(L in f)if(ue=f[L],f.hasOwnProperty(L)&&ue!=null)switch(L){case"value":break;case"multiple":Ae=ue;default:b.hasOwnProperty(L)||rr(l,u,L,null,b,ue)}for(_ in b)if(L=b[_],ue=f[_],b.hasOwnProperty(_)&&(L!=null||ue!=null))switch(_){case"value":_e=L;break;case"defaultValue":te=L;break;case"multiple":Y=L;default:L!==ue&&rr(l,u,_,L,b,ue)}u=te,f=Y,b=Ae,_e!=null?qc(l,!!f,_e,!1):!!b!=!!f&&(u!=null?qc(l,!!f,u,!0):qc(l,!!f,f?[]:"",!1));return;case"textarea":Ae=_e=null;for(te in f)if(_=f[te],f.hasOwnProperty(te)&&_!=null&&!b.hasOwnProperty(te))switch(te){case"value":break;case"children":break;default:rr(l,u,te,null,b,_)}for(Y in b)if(_=b[Y],L=f[Y],b.hasOwnProperty(Y)&&(_!=null||L!=null))switch(Y){case"value":_e=_;break;case"defaultValue":Ae=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:_!==L&&rr(l,u,Y,_,b,L)}tr(l,_e,Ae);return;case"option":for(var Gt in f)if(_e=f[Gt],f.hasOwnProperty(Gt)&&_e!=null&&!b.hasOwnProperty(Gt))switch(Gt){case"selected":l.selected=!1;break;default:rr(l,u,Gt,null,b,_e)}for(ue in b)if(_e=b[ue],Ae=f[ue],b.hasOwnProperty(ue)&&_e!==Ae&&(_e!=null||Ae!=null))switch(ue){case"selected":l.selected=_e&&typeof _e!="function"&&typeof _e!="symbol";break;default:rr(l,u,ue,_e,b,Ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $t in f)_e=f[$t],f.hasOwnProperty($t)&&_e!=null&&!b.hasOwnProperty($t)&&rr(l,u,$t,null,b,_e);for(we in b)if(_e=b[we],Ae=f[we],b.hasOwnProperty(we)&&_e!==Ae&&(_e!=null||Ae!=null))switch(we){case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(r(137,u));break;default:rr(l,u,we,_e,b,Ae)}return;default:if(Vv(u)){for(var or in f)_e=f[or],f.hasOwnProperty(or)&&_e!==void 0&&!b.hasOwnProperty(or)&&SP(l,u,or,void 0,b,_e);for(Fe in b)_e=b[Fe],Ae=f[Fe],!b.hasOwnProperty(Fe)||_e===Ae||_e===void 0&&Ae===void 0||SP(l,u,Fe,_e,b,Ae);return}}for(var me in f)_e=f[me],f.hasOwnProperty(me)&&_e!=null&&!b.hasOwnProperty(me)&&rr(l,u,me,null,b,_e);for(Be in b)_e=b[Be],Ae=f[Be],!b.hasOwnProperty(Be)||_e===Ae||_e==null&&Ae==null||rr(l,u,Be,_e,b,Ae)}var CP=null,EP=null;function Yx(l){return l.nodeType===9?l:l.ownerDocument}function $V(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function VV(l,u){if(l===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&u==="foreignObject"?0:l}function xP(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var _P=null;function iY(){var l=window.event;return l&&l.type==="popstate"?l===_P?!1:(_P=l,!0):(_P=null,!1)}var zV=typeof setTimeout=="function"?setTimeout:void 0,sY=typeof clearTimeout=="function"?clearTimeout:void 0,BV=typeof Promise=="function"?Promise:void 0,aY=typeof queueMicrotask=="function"?queueMicrotask:typeof BV<"u"?function(l){return BV.resolve(null).then(l).catch(lY)}:zV;function lY(l){setTimeout(function(){throw l})}function Gd(l){return l==="head"}function HV(l,u){var f=u,b=0,_=0;do{var L=f.nextSibling;if(l.removeChild(f),L&&L.nodeType===8)if(f=L.data,f==="/$"){if(0<b&&8>b){f=b;var Y=l.ownerDocument;if(f&1&&xw(Y.documentElement),f&2&&xw(Y.body),f&4)for(f=Y.head,xw(f),Y=f.firstChild;Y;){var te=Y.nextSibling,ue=Y.nodeName;Y[ws]||ue==="SCRIPT"||ue==="STYLE"||ue==="LINK"&&Y.rel.toLowerCase()==="stylesheet"||f.removeChild(Y),Y=te}}if(_===0){l.removeChild(L),kw(u);return}_--}else f==="$"||f==="$?"||f==="$!"?_++:b=f.charCodeAt(0)-48;else b=0;f=L}while(f);kw(u)}function TP(l){var u=l.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var f=u;switch(u=u.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":TP(f),Jn(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}l.removeChild(f)}}function cY(l,u,f,b){for(;l.nodeType===1;){var _=f;if(l.nodeName.toLowerCase()!==u.toLowerCase()){if(!b&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(b){if(!l[ws])switch(u){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(L=l.getAttribute("rel"),L==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(L!==_.rel||l.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||l.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||l.getAttribute("title")!==(_.title==null?null:_.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(L=l.getAttribute("src"),(L!==(_.src==null?null:_.src)||l.getAttribute("type")!==(_.type==null?null:_.type)||l.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&L&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(u==="input"&&l.type==="hidden"){var L=_.name==null?null:""+_.name;if(_.type==="hidden"&&l.getAttribute("name")===L)return l}else return l;if(l=ol(l.nextSibling),l===null)break}return null}function uY(l,u,f){if(u==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!f||(l=ol(l.nextSibling),l===null))return null;return l}function AP(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState==="complete"}function dY(l,u){var f=l.ownerDocument;if(l.data!=="$?"||f.readyState==="complete")u();else{var b=function(){u(),f.removeEventListener("DOMContentLoaded",b)};f.addEventListener("DOMContentLoaded",b),l._reactRetry=b}}function ol(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?"||u==="F!"||u==="F")break;if(u==="/$")return null}}return l}var IP=null;function jV(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var f=l.data;if(f==="$"||f==="$!"||f==="$?"){if(u===0)return l;u--}else f==="/$"&&u++}l=l.previousSibling}return null}function UV(l,u,f){switch(u=Yx(f),l){case"html":if(l=u.documentElement,!l)throw Error(r(452));return l;case"head":if(l=u.head,!l)throw Error(r(453));return l;case"body":if(l=u.body,!l)throw Error(r(454));return l;default:throw Error(r(451))}}function xw(l){for(var u=l.attributes;u.length;)l.removeAttributeNode(u[0]);Jn(l)}var Ca=new Map,GV=new Set;function Xx(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var hu=H.d;H.d={f:hY,r:fY,D:pY,C:gY,L:mY,m:yY,X:vY,S:bY,M:wY};function hY(){var l=hu.f(),u=Bx();return l||u}function fY(l){var u=So(l);u!==null&&u.tag===5&&u.type==="form"?d$(u):hu.r(l)}var Qm=typeof document>"u"?null:document;function WV(l,u,f){var b=Qm;if(b&&typeof u=="string"&&u){var _=ho(u);_='link[rel="'+l+'"][href="'+_+'"]',typeof f=="string"&&(_+='[crossorigin="'+f+'"]'),GV.has(_)||(GV.add(_),l={rel:l,crossOrigin:f,href:u},b.querySelector(_)===null&&(u=b.createElement("link"),ii(u,"link",l),mr(u),b.head.appendChild(u)))}}function pY(l){hu.D(l),WV("dns-prefetch",l,null)}function gY(l,u){hu.C(l,u),WV("preconnect",l,u)}function mY(l,u,f){hu.L(l,u,f);var b=Qm;if(b&&l&&u){var _='link[rel="preload"][as="'+ho(u)+'"]';u==="image"&&f&&f.imageSrcSet?(_+='[imagesrcset="'+ho(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(_+='[imagesizes="'+ho(f.imageSizes)+'"]')):_+='[href="'+ho(l)+'"]';var L=_;switch(u){case"style":L=Zm(l);break;case"script":L=Jm(l)}Ca.has(L)||(l=h({rel:"preload",href:u==="image"&&f&&f.imageSrcSet?void 0:l,as:u},f),Ca.set(L,l),b.querySelector(_)!==null||u==="style"&&b.querySelector(_w(L))||u==="script"&&b.querySelector(Tw(L))||(u=b.createElement("link"),ii(u,"link",l),mr(u),b.head.appendChild(u)))}}function yY(l,u){hu.m(l,u);var f=Qm;if(f&&l){var b=u&&typeof u.as=="string"?u.as:"script",_='link[rel="modulepreload"][as="'+ho(b)+'"][href="'+ho(l)+'"]',L=_;switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":L=Jm(l)}if(!Ca.has(L)&&(l=h({rel:"modulepreload",href:l},u),Ca.set(L,l),f.querySelector(_)===null)){switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(Tw(L)))return}b=f.createElement("link"),ii(b,"link",l),mr(b),f.head.appendChild(b)}}}function bY(l,u,f){hu.S(l,u,f);var b=Qm;if(b&&l){var _=eo(b).hoistableStyles,L=Zm(l);u=u||"default";var Y=_.get(L);if(!Y){var te={loading:0,preload:null};if(Y=b.querySelector(_w(L)))te.loading=5;else{l=h({rel:"stylesheet",href:l,"data-precedence":u},f),(f=Ca.get(L))&&RP(l,f);var ue=Y=b.createElement("link");mr(ue),ii(ue,"link",l),ue._p=new Promise(function(we,Fe){ue.onload=we,ue.onerror=Fe}),ue.addEventListener("load",function(){te.loading|=1}),ue.addEventListener("error",function(){te.loading|=2}),te.loading|=4,Qx(Y,u,b)}Y={type:"stylesheet",instance:Y,count:1,state:te},_.set(L,Y)}}}function vY(l,u){hu.X(l,u);var f=Qm;if(f&&l){var b=eo(f).hoistableScripts,_=Jm(l),L=b.get(_);L||(L=f.querySelector(Tw(_)),L||(l=h({src:l,async:!0},u),(u=Ca.get(_))&&PP(l,u),L=f.createElement("script"),mr(L),ii(L,"link",l),f.head.appendChild(L)),L={type:"script",instance:L,count:1,state:null},b.set(_,L))}}function wY(l,u){hu.M(l,u);var f=Qm;if(f&&l){var b=eo(f).hoistableScripts,_=Jm(l),L=b.get(_);L||(L=f.querySelector(Tw(_)),L||(l=h({src:l,async:!0,type:"module"},u),(u=Ca.get(_))&&PP(l,u),L=f.createElement("script"),mr(L),ii(L,"link",l),f.head.appendChild(L)),L={type:"script",instance:L,count:1,state:null},b.set(_,L))}}function qV(l,u,f,b){var _=(_=ae.current)?Xx(_):null;if(!_)throw Error(r(446));switch(l){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(u=Zm(f.href),f=eo(_).hoistableStyles,b=f.get(u),b||(b={type:"style",instance:null,count:0,state:null},f.set(u,b)),b):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){l=Zm(f.href);var L=eo(_).hoistableStyles,Y=L.get(l);if(Y||(_=_.ownerDocument||_,Y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},L.set(l,Y),(L=_.querySelector(_w(l)))&&!L._p&&(Y.instance=L,Y.state.loading=5),Ca.has(l)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},Ca.set(l,f),L||SY(_,l,f,Y.state))),u&&b===null)throw Error(r(528,""));return Y}if(u&&b!==null)throw Error(r(529,""));return null;case"script":return u=f.async,f=f.src,typeof f=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=Jm(f),f=eo(_).hoistableScripts,b=f.get(u),b||(b={type:"script",instance:null,count:0,state:null},f.set(u,b)),b):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,l))}}function Zm(l){return'href="'+ho(l)+'"'}function _w(l){return'link[rel="stylesheet"]['+l+"]"}function KV(l){return h({},l,{"data-precedence":l.precedence,precedence:null})}function SY(l,u,f,b){l.querySelector('link[rel="preload"][as="style"]['+u+"]")?b.loading=1:(u=l.createElement("link"),b.preload=u,u.addEventListener("load",function(){return b.loading|=1}),u.addEventListener("error",function(){return b.loading|=2}),ii(u,"link",f),mr(u),l.head.appendChild(u))}function Jm(l){return'[src="'+ho(l)+'"]'}function Tw(l){return"script[async]"+l}function YV(l,u,f){if(u.count++,u.instance===null)switch(u.type){case"style":var b=l.querySelector('style[data-href~="'+ho(f.href)+'"]');if(b)return u.instance=b,mr(b),b;var _=h({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return b=(l.ownerDocument||l).createElement("style"),mr(b),ii(b,"style",_),Qx(b,f.precedence,l),u.instance=b;case"stylesheet":_=Zm(f.href);var L=l.querySelector(_w(_));if(L)return u.state.loading|=4,u.instance=L,mr(L),L;b=KV(f),(_=Ca.get(_))&&RP(b,_),L=(l.ownerDocument||l).createElement("link"),mr(L);var Y=L;return Y._p=new Promise(function(te,ue){Y.onload=te,Y.onerror=ue}),ii(L,"link",b),u.state.loading|=4,Qx(L,f.precedence,l),u.instance=L;case"script":return L=Jm(f.src),(_=l.querySelector(Tw(L)))?(u.instance=_,mr(_),_):(b=f,(_=Ca.get(L))&&(b=h({},f),PP(b,_)),l=l.ownerDocument||l,_=l.createElement("script"),mr(_),ii(_,"link",b),l.head.appendChild(_),u.instance=_);case"void":return null;default:throw Error(r(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(b=u.instance,u.state.loading|=4,Qx(b,f.precedence,l));return u.instance}function Qx(l,u,f){for(var b=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=b.length?b[b.length-1]:null,L=_,Y=0;Y<b.length;Y++){var te=b[Y];if(te.dataset.precedence===u)L=te;else if(L!==_)break}L?L.parentNode.insertBefore(l,L.nextSibling):(u=f.nodeType===9?f.head:f,u.insertBefore(l,u.firstChild))}function RP(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.title==null&&(l.title=u.title)}function PP(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.integrity==null&&(l.integrity=u.integrity)}var Zx=null;function XV(l,u,f){if(Zx===null){var b=new Map,_=Zx=new Map;_.set(f,b)}else _=Zx,b=_.get(f),b||(b=new Map,_.set(f,b));if(b.has(l))return b;for(b.set(l,null),f=f.getElementsByTagName(l),_=0;_<f.length;_++){var L=f[_];if(!(L[ws]||L[Zn]||l==="link"&&L.getAttribute("rel")==="stylesheet")&&L.namespaceURI!=="http://www.w3.org/2000/svg"){var Y=L.getAttribute(u)||"";Y=l+Y;var te=b.get(Y);te?te.push(L):b.set(Y,[L])}}return b}function QV(l,u,f){l=l.ownerDocument||l,l.head.insertBefore(f,u==="title"?l.querySelector("head > title"):null)}function CY(l,u,f){if(f===1||u.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return l=u.disabled,typeof u.precedence=="string"&&l==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function ZV(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}var Aw=null;function EY(){}function xY(l,u,f){if(Aw===null)throw Error(r(475));var b=Aw;if(u.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var _=Zm(f.href),L=l.querySelector(_w(_));if(L){l=L._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(b.count++,b=Jx.bind(b),l.then(b,b)),u.state.loading|=4,u.instance=L,mr(L);return}L=l.ownerDocument||l,f=KV(f),(_=Ca.get(_))&&RP(f,_),L=L.createElement("link"),mr(L);var Y=L;Y._p=new Promise(function(te,ue){Y.onload=te,Y.onerror=ue}),ii(L,"link",f),u.instance=L}b.stylesheets===null&&(b.stylesheets=new Map),b.stylesheets.set(u,l),(l=u.state.preload)&&(u.state.loading&3)===0&&(b.count++,u=Jx.bind(b),l.addEventListener("load",u),l.addEventListener("error",u))}}function _Y(){if(Aw===null)throw Error(r(475));var l=Aw;return l.stylesheets&&l.count===0&&MP(l,l.stylesheets),0<l.count?function(u){var f=setTimeout(function(){if(l.stylesheets&&MP(l,l.stylesheets),l.unsuspend){var b=l.unsuspend;l.unsuspend=null,b()}},6e4);return l.unsuspend=u,function(){l.unsuspend=null,clearTimeout(f)}}:null}function Jx(){if(this.count--,this.count===0){if(this.stylesheets)MP(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var e1=null;function MP(l,u){l.stylesheets=null,l.unsuspend!==null&&(l.count++,e1=new Map,u.forEach(TY,l),e1=null,Jx.call(l))}function TY(l,u){if(!(u.state.loading&4)){var f=e1.get(l);if(f)var b=f.get(null);else{f=new Map,e1.set(l,f);for(var _=l.querySelectorAll("link[data-precedence],style[data-precedence]"),L=0;L<_.length;L++){var Y=_[L];(Y.nodeName==="LINK"||Y.getAttribute("media")!=="not all")&&(f.set(Y.dataset.precedence,Y),b=Y)}b&&f.set(null,b)}_=u.instance,Y=_.getAttribute("data-precedence"),L=f.get(Y)||b,L===b&&f.set(null,_),f.set(Y,_),this.count++,b=Jx.bind(this),_.addEventListener("load",b),_.addEventListener("error",b),L?L.parentNode.insertBefore(_,L.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(_,l.firstChild)),u.state.loading|=4}}var Iw={$$typeof:M,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function AY(l,u,f,b,_,L,Y,te){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zt(0),this.hiddenUpdates=Zt(null),this.identifierPrefix=b,this.onUncaughtError=_,this.onCaughtError=L,this.onRecoverableError=Y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=te,this.incompleteTransitions=new Map}function JV(l,u,f,b,_,L,Y,te,ue,we,Fe,Be){return l=new AY(l,u,f,Y,te,ue,we,Be),u=1,L===!0&&(u|=24),L=_s(3,null,null,u),l.current=L,L.stateNode=l,u=hR(),u.refCount++,l.pooledCache=u,u.refCount++,L.memoizedState={element:b,isDehydrated:f,cache:u},mR(L),l}function ez(l){return l?(l=Pm,l):Pm}function tz(l,u,f,b,_,L){_=ez(_),b.context===null?b.context=_:b.pendingContext=_,b=kd(u),b.payload={element:f},L=L===void 0?null:L,L!==null&&(b.callback=L),f=Od(l,b,u),f!==null&&(Ps(f,l,u),ow(f,l,u))}function nz(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var f=l.retryLane;l.retryLane=f!==0&&f<u?f:u}}function kP(l,u){nz(l,u),(l=l.alternate)&&nz(l,u)}function rz(l){if(l.tag===13){var u=Rm(l,67108864);u!==null&&Ps(u,l,67108864),kP(l,67108864)}}var t1=!0;function IY(l,u,f,b){var _=z.T;z.T=null;var L=H.p;try{H.p=2,OP(l,u,f,b)}finally{H.p=L,z.T=_}}function RY(l,u,f,b){var _=z.T;z.T=null;var L=H.p;try{H.p=8,OP(l,u,f,b)}finally{H.p=L,z.T=_}}function OP(l,u,f,b){if(t1){var _=DP(b);if(_===null)wP(l,u,b,n1,f),iz(l,b);else if(MY(_,l,u,f,b))b.stopPropagation();else if(iz(l,b),u&4&&-1<PY.indexOf(l)){for(;_!==null;){var L=So(_);if(L!==null)switch(L.tag){case 3:if(L=L.stateNode,L.current.memoizedState.isDehydrated){var Y=mt(L.pendingLanes);if(Y!==0){var te=L;for(te.pendingLanes|=2,te.entangledLanes|=2;Y;){var ue=1<<31-ht(Y);te.entanglements[1]|=ue,Y&=~ue}Xl(L),(Wn&6)===0&&(Vx=Ke()+500,Sw(0))}}break;case 13:te=Rm(L,2),te!==null&&Ps(te,L,2),Bx(),kP(L,2)}if(L=DP(b),L===null&&wP(l,u,b,n1,f),L===_)break;_=L}_!==null&&b.stopPropagation()}else wP(l,u,b,null,f)}}function DP(l){return l=fa(l),LP(l)}var n1=null;function LP(l){if(n1=null,l=er(l),l!==null){var u=i(l);if(u===null)l=null;else{var f=u.tag;if(f===13){if(l=s(u),l!==null)return l;l=null}else if(f===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null)}}return n1=l,null}function oz(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ke()){case ot:return 2;case Ye:return 8;case at:case he:return 32;case Ue:return 268435456;default:return 32}default:return 32}}var NP=!1,Wd=null,qd=null,Kd=null,Rw=new Map,Pw=new Map,Yd=[],PY="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function iz(l,u){switch(l){case"focusin":case"focusout":Wd=null;break;case"dragenter":case"dragleave":qd=null;break;case"mouseover":case"mouseout":Kd=null;break;case"pointerover":case"pointerout":Rw.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pw.delete(u.pointerId)}}function Mw(l,u,f,b,_,L){return l===null||l.nativeEvent!==L?(l={blockedOn:u,domEventName:f,eventSystemFlags:b,nativeEvent:L,targetContainers:[_]},u!==null&&(u=So(u),u!==null&&rz(u)),l):(l.eventSystemFlags|=b,u=l.targetContainers,_!==null&&u.indexOf(_)===-1&&u.push(_),l)}function MY(l,u,f,b,_){switch(u){case"focusin":return Wd=Mw(Wd,l,u,f,b,_),!0;case"dragenter":return qd=Mw(qd,l,u,f,b,_),!0;case"mouseover":return Kd=Mw(Kd,l,u,f,b,_),!0;case"pointerover":var L=_.pointerId;return Rw.set(L,Mw(Rw.get(L)||null,l,u,f,b,_)),!0;case"gotpointercapture":return L=_.pointerId,Pw.set(L,Mw(Pw.get(L)||null,l,u,f,b,_)),!0}return!1}function sz(l){var u=er(l.target);if(u!==null){var f=i(u);if(f!==null){if(u=f.tag,u===13){if(u=s(f),u!==null){l.blockedOn=u,ts(l.priority,function(){if(f.tag===13){var b=Rs();b=jr(b);var _=Rm(f,b);_!==null&&Ps(_,f,b),kP(f,b)}});return}}else if(u===3&&f.stateNode.current.memoizedState.isDehydrated){l.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}l.blockedOn=null}function r1(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var f=DP(l.nativeEvent);if(f===null){f=l.nativeEvent;var b=new f.constructor(f.type,f);Kc=b,f.target.dispatchEvent(b),Kc=null}else return u=So(f),u!==null&&rz(u),l.blockedOn=f,!1;u.shift()}return!0}function az(l,u,f){r1(l)&&f.delete(u)}function kY(){NP=!1,Wd!==null&&r1(Wd)&&(Wd=null),qd!==null&&r1(qd)&&(qd=null),Kd!==null&&r1(Kd)&&(Kd=null),Rw.forEach(az),Pw.forEach(az)}function o1(l,u){l.blockedOn===u&&(l.blockedOn=null,NP||(NP=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,kY)))}var i1=null;function lz(l){i1!==l&&(i1=l,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){i1===l&&(i1=null);for(var u=0;u<l.length;u+=3){var f=l[u],b=l[u+1],_=l[u+2];if(typeof b!="function"){if(LP(b||f)===null)continue;break}var L=So(f);L!==null&&(l.splice(u,3),u-=3,LR(L,{pending:!0,data:_,method:f.method,action:b},b,_))}}))}function kw(l){function u(ue){return o1(ue,l)}Wd!==null&&o1(Wd,l),qd!==null&&o1(qd,l),Kd!==null&&o1(Kd,l),Rw.forEach(u),Pw.forEach(u);for(var f=0;f<Yd.length;f++){var b=Yd[f];b.blockedOn===l&&(b.blockedOn=null)}for(;0<Yd.length&&(f=Yd[0],f.blockedOn===null);)sz(f),f.blockedOn===null&&Yd.shift();if(f=(l.ownerDocument||l).$$reactFormReplay,f!=null)for(b=0;b<f.length;b+=3){var _=f[b],L=f[b+1],Y=_[$n]||null;if(typeof L=="function")Y||lz(f);else if(Y){var te=null;if(L&&L.hasAttribute("formAction")){if(_=L,Y=L[$n]||null)te=Y.formAction;else if(LP(_)!==null)continue}else te=Y.action;typeof te=="function"?f[b+1]=te:(f.splice(b,3),b-=3),lz(f)}}}function FP(l){this._internalRoot=l}s1.prototype.render=FP.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(r(409));var f=u.current,b=Rs();tz(f,b,l,u,null,null)},s1.prototype.unmount=FP.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;tz(l.current,2,null,l,null,null),Bx(),u[Ur]=null}};function s1(l){this._internalRoot=l}s1.prototype.unstable_scheduleHydration=function(l){if(l){var u=Nn();l={blockedOn:null,target:l,priority:u};for(var f=0;f<Yd.length&&u!==0&&u<Yd[f].priority;f++);Yd.splice(f,0,l),f===0&&sz(l)}};var cz=e.version;if(cz!=="19.1.0")throw Error(r(527,cz,"19.1.0"));H.findDOMNode=function(l){var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=c(u),l=l!==null?d(l):null,l=l===null?null:l.stateNode,l};var OY={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var a1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!a1.isDisabled&&a1.supportsFiber)try{Je=a1.inject(OY),Qe=a1}catch{}}return Dw.createRoot=function(l,u){if(!o(l))throw Error(r(299));var f=!1,b="",_=_$,L=T$,Y=A$,te=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(b=u.identifierPrefix),u.onUncaughtError!==void 0&&(_=u.onUncaughtError),u.onCaughtError!==void 0&&(L=u.onCaughtError),u.onRecoverableError!==void 0&&(Y=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(te=u.unstable_transitionCallbacks)),u=JV(l,1,!1,null,null,f,b,_,L,Y,te,null),l[Ur]=u.current,vP(l),new FP(u)},Dw.hydrateRoot=function(l,u,f){if(!o(l))throw Error(r(299));var b=!1,_="",L=_$,Y=T$,te=A$,ue=null,we=null;return f!=null&&(f.unstable_strictMode===!0&&(b=!0),f.identifierPrefix!==void 0&&(_=f.identifierPrefix),f.onUncaughtError!==void 0&&(L=f.onUncaughtError),f.onCaughtError!==void 0&&(Y=f.onCaughtError),f.onRecoverableError!==void 0&&(te=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(ue=f.unstable_transitionCallbacks),f.formState!==void 0&&(we=f.formState)),u=JV(l,1,!0,u,f??null,b,_,L,Y,te,ue,we),u.context=ez(null),f=u.current,b=Rs(),b=jr(b),_=kd(b),_.callback=null,Od(f,_,b),f=b,u.current.lanes=f,An(u,f),Xl(u),l[Ur]=u.current,vP(l),new s1(u)},Dw.version="19.1.0",Dw}var wz;function GY(){if(wz)return zP.exports;wz=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),zP.exports=UY(),zP.exports}var WY=GY(),w=mv();const Tc=tE(w),lk=FY({__proto__:null,default:Tc},[w]);var Lw={},Sz;function qY(){if(Sz)return Lw;Sz=1,Object.defineProperty(Lw,"__esModule",{value:!0}),Lw.parse=s,Lw.serialize=d;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,i=(()=>{const g=function(){};return g.prototype=Object.create(null),g})();function s(g,m){const v=new i,S=g.length;if(S<2)return v;const C=(m==null?void 0:m.decode)||h;let x=0;do{const O=g.indexOf("=",x);if(O===-1)break;const M=g.indexOf(";",x),P=M===-1?S:M;if(O>P){x=g.lastIndexOf(";",O-1)+1;continue}const k=a(g,x,O),$=c(g,O,k),D=g.slice(k,$);if(v[D]===void 0){let I=a(g,O+1,P),A=c(g,P,I);const N=C(g.slice(I,A));v[D]=N}x=P+1}while(x<S);return v}function a(g,m,v){do{const S=g.charCodeAt(m);if(S!==32&&S!==9)return m}while(++m<v);return v}function c(g,m,v){for(;m>v;){const S=g.charCodeAt(--m);if(S!==32&&S!==9)return m+1}return v}function d(g,m,v){const S=(v==null?void 0:v.encode)||encodeURIComponent;if(!t.test(g))throw new TypeError(`argument name is invalid: ${g}`);const C=S(m);if(!e.test(C))throw new TypeError(`argument val is invalid: ${m}`);let x=g+"="+C;if(!v)return x;if(v.maxAge!==void 0){if(!Number.isInteger(v.maxAge))throw new TypeError(`option maxAge is invalid: ${v.maxAge}`);x+="; Max-Age="+v.maxAge}if(v.domain){if(!n.test(v.domain))throw new TypeError(`option domain is invalid: ${v.domain}`);x+="; Domain="+v.domain}if(v.path){if(!r.test(v.path))throw new TypeError(`option path is invalid: ${v.path}`);x+="; Path="+v.path}if(v.expires){if(!p(v.expires)||!Number.isFinite(v.expires.valueOf()))throw new TypeError(`option expires is invalid: ${v.expires}`);x+="; Expires="+v.expires.toUTCString()}if(v.httpOnly&&(x+="; HttpOnly"),v.secure&&(x+="; Secure"),v.partitioned&&(x+="; Partitioned"),v.priority)switch(typeof v.priority=="string"?v.priority.toLowerCase():void 0){case"low":x+="; Priority=Low";break;case"medium":x+="; Priority=Medium";break;case"high":x+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${v.priority}`)}if(v.sameSite)switch(typeof v.sameSite=="string"?v.sameSite.toLowerCase():v.sameSite){case!0:case"strict":x+="; SameSite=Strict";break;case"lax":x+="; SameSite=Lax";break;case"none":x+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${v.sameSite}`)}return x}function h(g){if(g.indexOf("%")===-1)return g;try{return decodeURIComponent(g)}catch{return g}}function p(g){return o.call(g)==="[object Date]"}return Lw}qY();var Cz="popstate";function KY(t={}){function e(o,i){let{pathname:s="/",search:a="",hash:c=""}=am(o.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),ck("",{pathname:s,search:a,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(o,i){let s=o.document.querySelector("base"),a="";if(s&&s.getAttribute("href")){let c=o.location.href,d=c.indexOf("#");a=d===-1?c:c.slice(0,d)}return a+"#"+(typeof i=="string"?i:q0(i))}function r(o,i){Wa(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(i)})`)}return XY(e,n,r,t)}function Dr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Wa(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function YY(){return Math.random().toString(36).substring(2,10)}function Ez(t,e){return{usr:t.state,key:t.key,idx:e}}function ck(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?am(e):e,state:n,key:e&&e.key||r||YY()}}function q0({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function am(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function XY(t,e,n,r={}){let{window:o=document.defaultView,v5Compat:i=!1}=r,s=o.history,a="POP",c=null,d=h();d==null&&(d=0,s.replaceState({...s.state,idx:d},""));function h(){return(s.state||{idx:null}).idx}function p(){a="POP";let C=h(),x=C==null?null:C-d;d=C,c&&c({action:a,location:S.location,delta:x})}function g(C,x){a="PUSH";let O=ck(S.location,C,x);n&&n(O,C),d=h()+1;let M=Ez(O,d),P=S.createHref(O);try{s.pushState(M,"",P)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;o.location.assign(P)}i&&c&&c({action:a,location:S.location,delta:1})}function m(C,x){a="REPLACE";let O=ck(S.location,C,x);n&&n(O,C),d=h();let M=Ez(O,d),P=S.createHref(O);s.replaceState(M,"",P),i&&c&&c({action:a,location:S.location,delta:0})}function v(C){return QY(C)}let S={get action(){return a},get location(){return t(o,s)},listen(C){if(c)throw new Error("A history only accepts one active listener");return o.addEventListener(Cz,p),c=C,()=>{o.removeEventListener(Cz,p),c=null}},createHref(C){return e(o,C)},createURL:v,encodeLocation(C){let x=v(C);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:g,replace:m,go(C){return s.go(C)}};return S}function QY(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Dr(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:q0(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function nU(t,e,n="/"){return ZY(t,e,n,!1)}function ZY(t,e,n,r){let o=typeof e=="string"?am(e):e,i=cd(o.pathname||"/",n);if(i==null)return null;let s=rU(t);JY(s);let a=null;for(let c=0;a==null&&c<s.length;++c){let d=uX(i);a=lX(s[c],d,r)}return a}function rU(t,e=[],n=[],r=""){let o=(i,s,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};c.relativePath.startsWith("/")&&(Dr(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let d=nd([r,c.relativePath]),h=n.concat(c);i.children&&i.children.length>0&&(Dr(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),rU(i.children,e,h,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:sX(d,i.index),routesMeta:h})};return t.forEach((i,s)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))o(i,s);else for(let c of oU(i.path))o(i,s,c)}),e}function oU(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return o?[i,""]:[i];let s=oU(r.join("/")),a=[];return a.push(...s.map(c=>c===""?i:[i,c].join("/"))),o&&a.push(...s),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function JY(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:aX(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var eX=/^:[\w-]+$/,tX=3,nX=2,rX=1,oX=10,iX=-2,xz=t=>t==="*";function sX(t,e){let n=t.split("/"),r=n.length;return n.some(xz)&&(r+=iX),e&&(r+=nX),n.filter(o=>!xz(o)).reduce((o,i)=>o+(eX.test(i)?tX:i===""?rX:oX),r)}function aX(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function lX(t,e,n=!1){let{routesMeta:r}=t,o={},i="/",s=[];for(let a=0;a<r.length;++a){let c=r[a],d=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",p=X_({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),g=c.route;if(!p&&d&&n&&!r[r.length-1].route.index&&(p=X_({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!p)return null;Object.assign(o,p.params),s.push({params:o,pathname:nd([i,p.pathname]),pathnameBase:pX(nd([i,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(i=nd([i,p.pathnameBase]))}return s}function X_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=cX(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let i=o[0],s=i.replace(/(.)\/+$/,"$1"),a=o.slice(1);return{params:r.reduce((d,{paramName:h,isOptional:p},g)=>{if(h==="*"){let v=a[g]||"";s=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const m=a[g];return p&&!m?d[h]=void 0:d[h]=(m||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:s,pattern:t}}function cX(t,e=!1,n=!0){Wa(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function uX(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wa(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function cd(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function dX(t,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?am(t):t;return{pathname:n?n.startsWith("/")?n:hX(n,e):e,search:gX(r),hash:mX(o)}}function hX(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function GP(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function fX(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function e2(t){let e=fX(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function t2(t,e,n,r=!1){let o;typeof t=="string"?o=am(t):(o={...t},Dr(!o.pathname||!o.pathname.includes("?"),GP("?","pathname","search",o)),Dr(!o.pathname||!o.pathname.includes("#"),GP("#","pathname","hash",o)),Dr(!o.search||!o.search.includes("#"),GP("#","search","hash",o)));let i=t===""||o.pathname==="",s=i?"/":o.pathname,a;if(s==null)a=n;else{let p=e.length-1;if(!r&&s.startsWith("..")){let g=s.split("/");for(;g[0]==="..";)g.shift(),p-=1;o.pathname=g.join("/")}a=p>=0?e[p]:"/"}let c=dX(o,a),d=s&&s!=="/"&&s.endsWith("/"),h=(i||s===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}var nd=t=>t.join("/").replace(/\/\/+/g,"/"),pX=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),gX=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,mX=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function yX(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var iU=["POST","PUT","PATCH","DELETE"];new Set(iU);var bX=["GET",...iU];new Set(bX);var yv=w.createContext(null);yv.displayName="DataRouter";var yA=w.createContext(null);yA.displayName="DataRouterState";var sU=w.createContext({isTransitioning:!1});sU.displayName="ViewTransition";var vX=w.createContext(new Map);vX.displayName="Fetchers";var wX=w.createContext(null);wX.displayName="Await";var Nl=w.createContext(null);Nl.displayName="Navigation";var nE=w.createContext(null);nE.displayName="Location";var Qa=w.createContext({outlet:null,matches:[],isDataRoute:!1});Qa.displayName="Route";var n2=w.createContext(null);n2.displayName="RouteError";function SX(t,{relative:e}={}){Dr(bv(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=w.useContext(Nl),{hash:o,pathname:i,search:s}=rE(t,{relative:e}),a=i;return n!=="/"&&(a=i==="/"?n:nd([n,i])),r.createHref({pathname:a,search:s,hash:o})}function bv(){return w.useContext(nE)!=null}function xf(){return Dr(bv(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(nE).location}var aU="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lU(t){w.useContext(Nl).static||w.useLayoutEffect(t)}function Za(){let{isDataRoute:t}=w.useContext(Qa);return t?NX():CX()}function CX(){Dr(bv(),"useNavigate() may be used only in the context of a <Router> component.");let t=w.useContext(yv),{basename:e,navigator:n}=w.useContext(Nl),{matches:r}=w.useContext(Qa),{pathname:o}=xf(),i=JSON.stringify(e2(r)),s=w.useRef(!1);return lU(()=>{s.current=!0}),w.useCallback((c,d={})=>{if(Wa(s.current,aU),!s.current)return;if(typeof c=="number"){n.go(c);return}let h=t2(c,JSON.parse(i),o,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:nd([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,i,o,t])}var EX=w.createContext(null);function xX(t){let e=w.useContext(Qa).outlet;return e&&w.createElement(EX.Provider,{value:t},e)}function r2(){let{matches:t}=w.useContext(Qa),e=t[t.length-1];return e?e.params:{}}function rE(t,{relative:e}={}){let{matches:n}=w.useContext(Qa),{pathname:r}=xf(),o=JSON.stringify(e2(n));return w.useMemo(()=>t2(t,JSON.parse(o),r,e==="path"),[t,o,r,e])}function _X(t,e){return cU(t,e)}function cU(t,e,n,r){var x;Dr(bv(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=w.useContext(Nl),{matches:i}=w.useContext(Qa),s=i[i.length-1],a=s?s.params:{},c=s?s.pathname:"/",d=s?s.pathnameBase:"/",h=s&&s.route;{let O=h&&h.path||"";uU(c,!h||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let p=xf(),g;if(e){let O=typeof e=="string"?am(e):e;Dr(d==="/"||((x=O.pathname)==null?void 0:x.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${O.pathname}" was given in the \`location\` prop.`),g=O}else g=p;let m=g.pathname||"/",v=m;if(d!=="/"){let O=d.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(O.length).join("/")}let S=nU(t,{pathname:v});Wa(h||S!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Wa(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=PX(S&&S.map(O=>Object.assign({},O,{params:Object.assign({},a,O.params),pathname:nd([d,o.encodeLocation?o.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?d:nd([d,o.encodeLocation?o.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),i,n,r);return e&&C?w.createElement(nE.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},C):C}function TX(){let t=LX(),e=yX(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:i},"ErrorBoundary")," or"," ",w.createElement("code",{style:i},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:o},n):null,s)}var AX=w.createElement(TX,null),IX=class extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?w.createElement(Qa.Provider,{value:this.props.routeContext},w.createElement(n2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RX({routeContext:t,match:e,children:n}){let r=w.useContext(yv);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(Qa.Provider,{value:t},n)}function PX(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,i=n==null?void 0:n.errors;if(i!=null){let c=o.findIndex(d=>d.route.id&&(i==null?void 0:i[d.route.id])!==void 0);Dr(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),o=o.slice(0,Math.min(o.length,c+1))}let s=!1,a=-1;if(n)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(a=c),d.route.id){let{loaderData:h,errors:p}=n,g=d.route.loader&&!h.hasOwnProperty(d.route.id)&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){s=!0,a>=0?o=o.slice(0,a+1):o=[o[0]];break}}}return o.reduceRight((c,d,h)=>{let p,g=!1,m=null,v=null;n&&(p=i&&d.route.id?i[d.route.id]:void 0,m=d.route.errorElement||AX,s&&(a<0&&h===0?(uU("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,v=null):a===h&&(g=!0,v=d.route.hydrateFallbackElement||null)));let S=e.concat(o.slice(0,h+1)),C=()=>{let x;return p?x=m:g?x=v:d.route.Component?x=w.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=c,w.createElement(RX,{match:d,routeContext:{outlet:c,matches:S,isDataRoute:n!=null},children:x})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?w.createElement(IX,{location:n.location,revalidation:n.revalidation,component:m,error:p,children:C(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):C()},null)}function o2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function MX(t){let e=w.useContext(yv);return Dr(e,o2(t)),e}function kX(t){let e=w.useContext(yA);return Dr(e,o2(t)),e}function OX(t){let e=w.useContext(Qa);return Dr(e,o2(t)),e}function i2(t){let e=OX(t),n=e.matches[e.matches.length-1];return Dr(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function DX(){return i2("useRouteId")}function LX(){var r;let t=w.useContext(n2),e=kX("useRouteError"),n=i2("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function NX(){let{router:t}=MX("useNavigate"),e=i2("useNavigate"),n=w.useRef(!1);return lU(()=>{n.current=!0}),w.useCallback(async(o,i={})=>{Wa(n.current,aU),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...i}))},[t,e])}var _z={};function uU(t,e,n){!e&&!_z[t]&&(_z[t]=!0,Wa(!1,n))}w.memo(FX);function FX({routes:t,future:e,state:n}){return cU(t,void 0,n,e)}function $X({to:t,replace:e,state:n,relative:r}){Dr(bv(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=w.useContext(Nl);Wa(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=w.useContext(Qa),{pathname:s}=xf(),a=Za(),c=t2(t,e2(i),s,r==="path"),d=JSON.stringify(c);return w.useEffect(()=>{a(JSON.parse(d),{replace:e,state:n,relative:r})},[a,d,r,e,n]),null}function VX(t){return xX(t.context)}function H1(t){Dr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function zX({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:i=!1}){Dr(!bv(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),a=w.useMemo(()=>({basename:s,navigator:o,static:i,future:{}}),[s,o,i]);typeof n=="string"&&(n=am(n));let{pathname:c="/",search:d="",hash:h="",state:p=null,key:g="default"}=n,m=w.useMemo(()=>{let v=cd(c,s);return v==null?null:{location:{pathname:v,search:d,hash:h,state:p,key:g},navigationType:r}},[s,c,d,h,p,g,r]);return Wa(m!=null,`<Router basename="${s}"> is not able to match the URL "${c}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:w.createElement(Nl.Provider,{value:a},w.createElement(nE.Provider,{children:e,value:m}))}function BX({children:t,location:e}){return _X(uk(t),e)}function uk(t,e=[]){let n=[];return w.Children.forEach(t,(r,o)=>{if(!w.isValidElement(r))return;let i=[...e,o];if(r.type===w.Fragment){n.push.apply(n,uk(r.props.children,i));return}Dr(r.type===H1,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Dr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=uk(r.props.children,i)),n.push(s)}),n}var j1="get",U1="application/x-www-form-urlencoded";function bA(t){return t!=null&&typeof t.tagName=="string"}function HX(t){return bA(t)&&t.tagName.toLowerCase()==="button"}function jX(t){return bA(t)&&t.tagName.toLowerCase()==="form"}function UX(t){return bA(t)&&t.tagName.toLowerCase()==="input"}function GX(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function WX(t,e){return t.button===0&&(!e||e==="_self")&&!GX(t)}var l1=null;function qX(){if(l1===null)try{new FormData(document.createElement("form"),0),l1=!1}catch{l1=!0}return l1}var KX=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function WP(t){return t!=null&&!KX.has(t)?(Wa(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${U1}"`),null):t}function YX(t,e){let n,r,o,i,s;if(jX(t)){let a=t.getAttribute("action");r=a?cd(a,e):null,n=t.getAttribute("method")||j1,o=WP(t.getAttribute("enctype"))||U1,i=new FormData(t)}else if(HX(t)||UX(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||a.getAttribute("action");if(r=c?cd(c,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||j1,o=WP(t.getAttribute("formenctype"))||WP(a.getAttribute("enctype"))||U1,i=new FormData(a,t),!qX()){let{name:d,type:h,value:p}=t;if(h==="image"){let g=d?`${d}.`:"";i.append(`${g}x`,"0"),i.append(`${g}y`,"0")}else d&&i.append(d,p)}}else{if(bA(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=j1,r=null,o=U1,s=t}return i&&o==="text/plain"&&(s=i,i=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:i,body:s}}function s2(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function XX(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function QX(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function ZX(t,e,n){let r=await Promise.all(t.map(async o=>{let i=e.routes[o.route.id];if(i){let s=await XX(i,n);return s.links?s.links():[]}return[]}));return nQ(r.flat(1).filter(QX).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Tz(t,e,n,r,o,i){let s=(c,d)=>n[d]?c.route.id!==n[d].route.id:!0,a=(c,d)=>{var h;return n[d].pathname!==c.pathname||((h=n[d].route.path)==null?void 0:h.endsWith("*"))&&n[d].params["*"]!==c.params["*"]};return i==="assets"?e.filter((c,d)=>s(c,d)||a(c,d)):i==="data"?e.filter((c,d)=>{var p;let h=r.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(s(c,d)||a(c,d))return!0;if(c.route.shouldRevalidate){let g=c.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function JX(t,e,{includeHydrateFallback:n}={}){return eQ(t.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let i=[o.module];return o.clientActionModule&&(i=i.concat(o.clientActionModule)),o.clientLoaderModule&&(i=i.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(i=i.concat(o.hydrateFallbackModule)),o.imports&&(i=i.concat(o.imports)),i}).flat(1))}function eQ(t){return[...new Set(t)]}function tQ(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function nQ(t,e){let n=new Set;return new Set(e),t.reduce((r,o)=>{let i=JSON.stringify(tQ(o));return n.has(i)||(n.add(i),r.push({key:i,link:o})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var rQ=new Set([100,101,204,205]);function oQ(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&cd(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function dU(){let t=w.useContext(yv);return s2(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function iQ(){let t=w.useContext(yA);return s2(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var a2=w.createContext(void 0);a2.displayName="FrameworkContext";function hU(){let t=w.useContext(a2);return s2(t,"You must render this element inside a <HydratedRouter> element"),t}function sQ(t,e){let n=w.useContext(a2),[r,o]=w.useState(!1),[i,s]=w.useState(!1),{onFocus:a,onBlur:c,onMouseEnter:d,onMouseLeave:h,onTouchStart:p}=e,g=w.useRef(null);w.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let S=x=>{x.forEach(O=>{s(O.isIntersecting)})},C=new IntersectionObserver(S,{threshold:.5});return g.current&&C.observe(g.current),()=>{C.disconnect()}}},[t]),w.useEffect(()=>{if(r){let S=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(S)}}},[r]);let m=()=>{o(!0)},v=()=>{o(!1),s(!1)};return n?t!=="intent"?[i,g,{}]:[i,g,{onFocus:Nw(a,m),onBlur:Nw(c,v),onMouseEnter:Nw(d,m),onMouseLeave:Nw(h,v),onTouchStart:Nw(p,m)}]:[!1,g,{}]}function Nw(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function aQ({page:t,...e}){let{router:n}=dU(),r=w.useMemo(()=>nU(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?w.createElement(cQ,{page:t,matches:r,...e}):null}function lQ(t){let{manifest:e,routeModules:n}=hU(),[r,o]=w.useState([]);return w.useEffect(()=>{let i=!1;return ZX(t,e,n).then(s=>{i||o(s)}),()=>{i=!0}},[t,e,n]),r}function cQ({page:t,matches:e,...n}){let r=xf(),{manifest:o,routeModules:i}=hU(),{basename:s}=dU(),{loaderData:a,matches:c}=iQ(),d=w.useMemo(()=>Tz(t,e,c,o,r,"data"),[t,e,c,o,r]),h=w.useMemo(()=>Tz(t,e,c,o,r,"assets"),[t,e,c,o,r]),p=w.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let v=new Set,S=!1;if(e.forEach(x=>{var M;let O=o.routes[x.route.id];!O||!O.hasLoader||(!d.some(P=>P.route.id===x.route.id)&&x.route.id in a&&((M=i[x.route.id])!=null&&M.shouldRevalidate)||O.hasClientLoader?S=!0:v.add(x.route.id))}),v.size===0)return[];let C=oQ(t,s);return S&&v.size>0&&C.searchParams.set("_routes",e.filter(x=>v.has(x.route.id)).map(x=>x.route.id).join(",")),[C.pathname+C.search]},[s,a,r,o,d,e,t,i]),g=w.useMemo(()=>JX(h,o),[h,o]),m=lQ(h);return w.createElement(w.Fragment,null,p.map(v=>w.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),g.map(v=>w.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),m.map(({key:v,link:S})=>w.createElement("link",{key:v,...S})))}function uQ(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var fU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fU&&(window.__reactRouterVersion="7.6.2")}catch{}function dQ({basename:t,children:e,window:n}){let r=w.useRef();r.current==null&&(r.current=KY({window:n,v5Compat:!0}));let o=r.current,[i,s]=w.useState({action:o.action,location:o.location}),a=w.useCallback(c=>{w.startTransition(()=>s(c))},[s]);return w.useLayoutEffect(()=>o.listen(a),[o,a]),w.createElement(zX,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:o})}var pU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gU=w.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:i,replace:s,state:a,target:c,to:d,preventScrollReset:h,viewTransition:p,...g},m){let{basename:v}=w.useContext(Nl),S=typeof d=="string"&&pU.test(d),C,x=!1;if(typeof d=="string"&&S&&(C=d,fU))try{let A=new URL(window.location.href),N=d.startsWith("//")?new URL(A.protocol+d):new URL(d),F=cd(N.pathname,v);N.origin===A.origin&&F!=null?d=F+N.search+N.hash:x=!0}catch{Wa(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=SX(d,{relative:o}),[M,P,k]=sQ(r,g),$=pQ(d,{replace:s,state:a,target:c,preventScrollReset:h,relative:o,viewTransition:p});function D(A){e&&e(A),A.defaultPrevented||$(A)}let I=w.createElement("a",{...g,...k,href:C||O,onClick:x||i?e:D,ref:uQ(m,P),target:c,"data-discover":!S&&n==="render"?"true":void 0});return M&&!S?w.createElement(w.Fragment,null,I,w.createElement(aQ,{page:O})):I});gU.displayName="Link";var l2=w.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:i,to:s,viewTransition:a,children:c,...d},h){let p=rE(s,{relative:d.relative}),g=xf(),m=w.useContext(yA),{navigator:v,basename:S}=w.useContext(Nl),C=m!=null&&vQ(p)&&a===!0,x=v.encodeLocation?v.encodeLocation(p).pathname:p.pathname,O=g.pathname,M=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(O=O.toLowerCase(),M=M?M.toLowerCase():null,x=x.toLowerCase()),M&&S&&(M=cd(M,S)||M);const P=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let k=O===x||!o&&O.startsWith(x)&&O.charAt(P)==="/",$=M!=null&&(M===x||!o&&M.startsWith(x)&&M.charAt(x.length)==="/"),D={isActive:k,isPending:$,isTransitioning:C},I=k?e:void 0,A;typeof r=="function"?A=r(D):A=[r,k?"active":null,$?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let N=typeof i=="function"?i(D):i;return w.createElement(gU,{...d,"aria-current":I,className:A,ref:h,style:N,to:s,viewTransition:a},typeof c=="function"?c(D):c)});l2.displayName="NavLink";var hQ=w.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:i,method:s=j1,action:a,onSubmit:c,relative:d,preventScrollReset:h,viewTransition:p,...g},m)=>{let v=yQ(),S=bQ(a,{relative:d}),C=s.toLowerCase()==="get"?"get":"post",x=typeof a=="string"&&pU.test(a),O=M=>{if(c&&c(M),M.defaultPrevented)return;M.preventDefault();let P=M.nativeEvent.submitter,k=(P==null?void 0:P.getAttribute("formmethod"))||s;v(P||M.currentTarget,{fetcherKey:e,method:k,navigate:n,replace:o,state:i,relative:d,preventScrollReset:h,viewTransition:p})};return w.createElement("form",{ref:m,method:C,action:S,onSubmit:r?c:O,...g,"data-discover":!x&&t==="render"?"true":void 0})});hQ.displayName="Form";function fQ(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mU(t){let e=w.useContext(yv);return Dr(e,fQ(t)),e}function pQ(t,{target:e,replace:n,state:r,preventScrollReset:o,relative:i,viewTransition:s}={}){let a=Za(),c=xf(),d=rE(t,{relative:i});return w.useCallback(h=>{if(WX(h,e)){h.preventDefault();let p=n!==void 0?n:q0(c)===q0(d);a(t,{replace:p,state:r,preventScrollReset:o,relative:i,viewTransition:s})}},[c,a,d,n,r,e,t,o,i,s])}var gQ=0,mQ=()=>`__${String(++gQ)}__`;function yQ(){let{router:t}=mU("useSubmit"),{basename:e}=w.useContext(Nl),n=DX();return w.useCallback(async(r,o={})=>{let{action:i,method:s,encType:a,formData:c,body:d}=YX(r,e);if(o.navigate===!1){let h=o.fetcherKey||mQ();await t.fetch(h,n,o.action||i,{preventScrollReset:o.preventScrollReset,formData:c,body:d,formMethod:o.method||s,formEncType:o.encType||a,flushSync:o.flushSync})}else await t.navigate(o.action||i,{preventScrollReset:o.preventScrollReset,formData:c,body:d,formMethod:o.method||s,formEncType:o.encType||a,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function bQ(t,{relative:e}={}){let{basename:n}=w.useContext(Nl),r=w.useContext(Qa);Dr(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),i={...rE(t||".",{relative:e})},s=xf();if(t==null){i.search=s.search;let a=new URLSearchParams(i.search),c=a.getAll("index");if(c.some(h=>h==="")){a.delete("index"),c.filter(p=>p).forEach(p=>a.append("index",p));let h=a.toString();i.search=h?`?${h}`:""}}return(!t||t===".")&&o.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:nd([n,i.pathname])),q0(i)}function vQ(t,e={}){let n=w.useContext(sU);Dr(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=mU("useViewTransitionState"),o=rE(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=cd(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=cd(n.nextLocation.pathname,r)||n.nextLocation.pathname;return X_(o.pathname,s)!=null||X_(o.pathname,i)!=null}[...rQ];var c2=tU();const c1=tE(c2);var qP={exports:{}},KP={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Az;function wQ(){if(Az)return KP;Az=1;var t=mv();function e(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,o=t.useRef,i=t.useEffect,s=t.useMemo,a=t.useDebugValue;return KP.useSyncExternalStoreWithSelector=function(c,d,h,p,g){var m=o(null);if(m.current===null){var v={hasValue:!1,value:null};m.current=v}else v=m.current;m=s(function(){function C(k){if(!x){if(x=!0,O=k,k=p(k),g!==void 0&&v.hasValue){var $=v.value;if(g($,k))return M=$}return M=k}if($=M,n(O,k))return $;var D=p(k);return g!==void 0&&g($,D)?(O=k,$):(O=k,M=D)}var x=!1,O,M,P=h===void 0?null:h;return[function(){return C(d())},P===null?void 0:function(){return C(P())}]},[d,h,p,g]);var S=r(c,m[0],m[1]);return i(function(){v.hasValue=!0,v.value=S},[S]),a(S),S},KP}var Iz;function SQ(){return Iz||(Iz=1,qP.exports=wQ()),qP.exports}var CQ=SQ();function EQ(t){t()}function xQ(){let t=null,e=null;return{clear(){t=null,e=null},notify(){EQ(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const o=e={callback:n,next:null,prev:e};return o.prev?o.prev.next=o:t=o,function(){!r||t===null||(r=!1,o.next?o.next.prev=o.prev:e=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}var Rz={notify(){},get:()=>[]};function _Q(t,e){let n,r=Rz,o=0,i=!1;function s(S){h();const C=r.subscribe(S);let x=!1;return()=>{x||(x=!0,C(),p())}}function a(){r.notify()}function c(){v.onStateChange&&v.onStateChange()}function d(){return i}function h(){o++,n||(n=t.subscribe(c),r=xQ())}function p(){o--,n&&o===0&&(n(),n=void 0,r.clear(),r=Rz)}function g(){i||(i=!0,h())}function m(){i&&(i=!1,p())}const v={addNestedSub:s,notifyNestedSubs:a,handleChangeWrapper:c,isSubscribed:d,trySubscribe:g,tryUnsubscribe:m,getListeners:()=>r};return v}var TQ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",AQ=TQ(),IQ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",RQ=IQ(),PQ=()=>AQ||RQ?w.useLayoutEffect:w.useEffect,MQ=PQ(),YP=Symbol.for("react-redux-context"),XP=typeof globalThis<"u"?globalThis:{};function kQ(){if(!w.createContext)return{};const t=XP[YP]??(XP[YP]=new Map);let e=t.get(w.createContext);return e||(e=w.createContext(null),t.set(w.createContext,e)),e}var af=kQ();function OQ(t){const{children:e,context:n,serverState:r,store:o}=t,i=w.useMemo(()=>{const c=_Q(o);return{store:o,subscription:c,getServerState:r?()=>r:void 0}},[o,r]),s=w.useMemo(()=>o.getState(),[o]);MQ(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==o.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,s]);const a=n||af;return w.createElement(a.Provider,{value:i},e)}var DQ=OQ;function u2(t=af){return function(){return w.useContext(t)}}var yU=u2();function bU(t=af){const e=t===af?yU:u2(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var LQ=bU();function NQ(t=af){const e=t===af?LQ:bU(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var oE=NQ(),FQ=(t,e)=>t===e;function $Q(t=af){const e=t===af?yU:u2(t),n=(r,o={})=>{const{equalityFn:i=FQ}=typeof o=="function"?{equalityFn:o}:o,s=e(),{store:a,subscription:c,getServerState:d}=s;w.useRef(!0);const h=w.useCallback({[r.name](g){return r(g)}}[r.name],[r]),p=CQ.useSyncExternalStoreWithSelector(c.addNestedSub,a.getState,d||a.getState,h,i);return w.useDebugValue(p),p};return Object.assign(n,{withTypes:()=>n}),n}var d2=$Q();const VQ=oE.withTypes(),bi=d2.withTypes(),zQ=()=>{const{email:t,isLoading:e}=bi(n=>n.auth);return e?T.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:T.jsx("div",{children:"Loading..."})}):t?T.jsx(VX,{}):T.jsx($X,{to:"/login",replace:!0})};function di(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var BQ=typeof Symbol=="function"&&Symbol.observable||"@@observable",Pz=BQ,QP=()=>Math.random().toString(36).substring(7).split("").join("."),HQ={INIT:`@@redux/INIT${QP()}`,REPLACE:`@@redux/REPLACE${QP()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${QP()}`},Q_=HQ;function h2(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function f2(t,e,n){if(typeof t!="function")throw new Error(di(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(di(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(di(1));return n(f2)(t,e)}let r=t,o=e,i=new Map,s=i,a=0,c=!1;function d(){s===i&&(s=new Map,i.forEach((C,x)=>{s.set(x,C)}))}function h(){if(c)throw new Error(di(3));return o}function p(C){if(typeof C!="function")throw new Error(di(4));if(c)throw new Error(di(5));let x=!0;d();const O=a++;return s.set(O,C),function(){if(x){if(c)throw new Error(di(6));x=!1,d(),s.delete(O),i=null}}}function g(C){if(!h2(C))throw new Error(di(7));if(typeof C.type>"u")throw new Error(di(8));if(typeof C.type!="string")throw new Error(di(17));if(c)throw new Error(di(9));try{c=!0,o=r(o,C)}finally{c=!1}return(i=s).forEach(O=>{O()}),C}function m(C){if(typeof C!="function")throw new Error(di(10));r=C,g({type:Q_.REPLACE})}function v(){const C=p;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(di(11));function O(){const P=x;P.next&&P.next(h())}return O(),{unsubscribe:C(O)}},[Pz](){return this}}}return g({type:Q_.INIT}),{dispatch:g,subscribe:p,getState:h,replaceReducer:m,[Pz]:v}}function jQ(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Q_.INIT})>"u")throw new Error(di(12));if(typeof n(void 0,{type:Q_.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(di(13))})}function vU(t){const e=Object.keys(t),n={};for(let i=0;i<e.length;i++){const s=e[i];typeof t[s]=="function"&&(n[s]=t[s])}const r=Object.keys(n);let o;try{jQ(n)}catch(i){o=i}return function(s={},a){if(o)throw o;let c=!1;const d={};for(let h=0;h<r.length;h++){const p=r[h],g=n[p],m=s[p],v=g(m,a);if(typeof v>"u")throw a&&a.type,new Error(di(14));d[p]=v,c=c||v!==m}return c=c||r.length!==Object.keys(s).length,c?d:s}}function Z_(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function UQ(...t){return e=>(n,r)=>{const o=e(n,r);let i=()=>{throw new Error(di(15))};const s={getState:o.getState,dispatch:(c,...d)=>i(c,...d)},a=t.map(c=>c(s));return i=Z_(...a)(o.dispatch),{...o,dispatch:i}}}function GQ(t){return h2(t)&&"type"in t&&typeof t.type=="string"}var wU=Symbol.for("immer-nothing"),Mz=Symbol.for("immer-draftable"),ra=Symbol.for("immer-state");function El(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Yb=Object.getPrototypeOf;function jg(t){return!!t&&!!t[ra]}function ud(t){var e;return t?SU(t)||Array.isArray(t)||!!t[Mz]||!!((e=t.constructor)!=null&&e[Mz])||wA(t)||SA(t):!1}var WQ=Object.prototype.constructor.toString();function SU(t){if(!t||typeof t!="object")return!1;const e=Yb(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===WQ}function J_(t,e){vA(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function vA(t){const e=t[ra];return e?e.type_:Array.isArray(t)?1:wA(t)?2:SA(t)?3:0}function dk(t,e){return vA(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function CU(t,e,n){const r=vA(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function qQ(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function wA(t){return t instanceof Map}function SA(t){return t instanceof Set}function dp(t){return t.copy_||t.base_}function hk(t,e){if(wA(t))return new Map(t);if(SA(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=SU(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[ra];let o=Reflect.ownKeys(r);for(let i=0;i<o.length;i++){const s=o[i],a=r[s];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[s]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[s]})}return Object.create(Yb(t),r)}else{const r=Yb(t);if(r!==null&&n)return{...t};const o=Object.create(r);return Object.assign(o,t)}}function p2(t,e=!1){return CA(t)||jg(t)||!ud(t)||(vA(t)>1&&(t.set=t.add=t.clear=t.delete=KQ),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>p2(r,!0))),t}function KQ(){El(2)}function CA(t){return Object.isFrozen(t)}var YQ={};function Ug(t){const e=YQ[t];return e||El(0,t),e}var K0;function EU(){return K0}function XQ(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function kz(t,e){e&&(Ug("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function fk(t){pk(t),t.drafts_.forEach(QQ),t.drafts_=null}function pk(t){t===K0&&(K0=t.parent_)}function Oz(t){return K0=XQ(K0,t)}function QQ(t){const e=t[ra];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Dz(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[ra].modified_&&(fk(e),El(4)),ud(t)&&(t=eT(e,t),e.parent_||tT(e,t)),e.patches_&&Ug("Patches").generateReplacementPatches_(n[ra].base_,t,e.patches_,e.inversePatches_)):t=eT(e,n,[]),fk(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==wU?t:void 0}function eT(t,e,n){if(CA(e))return e;const r=e[ra];if(!r)return J_(e,(o,i)=>Lz(t,r,e,o,i,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return tT(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const o=r.copy_;let i=o,s=!1;r.type_===3&&(i=new Set(o),o.clear(),s=!0),J_(i,(a,c)=>Lz(t,r,o,a,c,n,s)),tT(t,o,!1),n&&t.patches_&&Ug("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function Lz(t,e,n,r,o,i,s){if(jg(o)){const a=i&&e&&e.type_!==3&&!dk(e.assigned_,r)?i.concat(r):void 0,c=eT(t,o,a);if(CU(n,r,c),jg(c))t.canAutoFreeze_=!1;else return}else s&&n.add(o);if(ud(o)&&!CA(o)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;eT(t,o),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&tT(t,o)}}function tT(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&p2(e,n)}function ZQ(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:EU(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=r,i=g2;n&&(o=[r],i=Y0);const{revoke:s,proxy:a}=Proxy.revocable(o,i);return r.draft_=a,r.revoke_=s,a}var g2={get(t,e){if(e===ra)return t;const n=dp(t);if(!dk(n,e))return JQ(t,n,e);const r=n[e];return t.finalized_||!ud(r)?r:r===ZP(t.base_,e)?(JP(t),t.copy_[e]=mk(r,t)):r},has(t,e){return e in dp(t)},ownKeys(t){return Reflect.ownKeys(dp(t))},set(t,e,n){const r=xU(dp(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const o=ZP(dp(t),e),i=o==null?void 0:o[ra];if(i&&i.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(qQ(n,o)&&(n!==void 0||dk(t.base_,e)))return!0;JP(t),gk(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return ZP(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,JP(t),gk(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=dp(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){El(11)},getPrototypeOf(t){return Yb(t.base_)},setPrototypeOf(){El(12)}},Y0={};J_(g2,(t,e)=>{Y0[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Y0.deleteProperty=function(t,e){return Y0.set.call(this,t,e,void 0)};Y0.set=function(t,e,n){return g2.set.call(this,t[0],e,n,t[0])};function ZP(t,e){const n=t[ra];return(n?dp(n):t)[e]}function JQ(t,e,n){var o;const r=xU(e,n);return r?"value"in r?r.value:(o=r.get)==null?void 0:o.call(t.draft_):void 0}function xU(t,e){if(!(e in t))return;let n=Yb(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Yb(n)}}function gk(t){t.modified_||(t.modified_=!0,t.parent_&&gk(t.parent_))}function JP(t){t.copy_||(t.copy_=hk(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var eZ=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const i=n;n=e;const s=this;return function(c=i,...d){return s.produce(c,h=>n.call(this,h,...d))}}typeof n!="function"&&El(6),r!==void 0&&typeof r!="function"&&El(7);let o;if(ud(e)){const i=Oz(this),s=mk(e,void 0);let a=!0;try{o=n(s),a=!1}finally{a?fk(i):pk(i)}return kz(i,r),Dz(o,i)}else if(!e||typeof e!="object"){if(o=n(e),o===void 0&&(o=e),o===wU&&(o=void 0),this.autoFreeze_&&p2(o,!0),r){const i=[],s=[];Ug("Patches").generateReplacementPatches_(e,o,i,s),r(i,s)}return o}else El(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...a)=>this.produceWithPatches(s,c=>e(c,...a));let r,o;return[this.produce(e,n,(s,a)=>{r=s,o=a}),r,o]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){ud(t)||El(8),jg(t)&&(t=tZ(t));const e=Oz(this),n=mk(t,void 0);return n[ra].isManual_=!0,pk(e),n}finishDraft(t,e){const n=t&&t[ra];(!n||!n.isManual_)&&El(9);const{scope_:r}=n;return kz(r,e),Dz(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const o=e[n];if(o.path.length===0&&o.op==="replace"){t=o.value;break}}n>-1&&(e=e.slice(n+1));const r=Ug("Patches").applyPatches_;return jg(t)?r(t,e):this.produce(t,o=>r(o,e))}};function mk(t,e){const n=wA(t)?Ug("MapSet").proxyMap_(t,e):SA(t)?Ug("MapSet").proxySet_(t,e):ZQ(t,e);return(e?e.scope_:EU()).drafts_.push(n),n}function tZ(t){return jg(t)||El(10,t),_U(t)}function _U(t){if(!ud(t)||CA(t))return t;const e=t[ra];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=hk(t,e.scope_.immer_.useStrictShallowCopy_)}else n=hk(t,!0);return J_(n,(r,o)=>{CU(n,r,_U(o))}),e&&(e.finalized_=!1),n}var oa=new eZ,TU=oa.produce;oa.produceWithPatches.bind(oa);oa.setAutoFreeze.bind(oa);oa.setUseStrictShallowCopy.bind(oa);oa.applyPatches.bind(oa);oa.createDraft.bind(oa);oa.finishDraft.bind(oa);var nT=Symbol("NOT_FOUND");function nZ(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function rZ(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function oZ(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var Nz=t=>Array.isArray(t)?t:[t];function iZ(t){const e=Array.isArray(t[0])?t[0]:t;return oZ(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function sZ(t,e){const n=[],{length:r}=t;for(let o=0;o<r;o++)n.push(t[o].apply(null,e));return n}function aZ(t){let e;return{get(n){return e&&t(e.key,n)?e.value:nT},put(n,r){e={key:n,value:r}},getEntries(){return e?[e]:[]},clear(){e=void 0}}}function lZ(t,e){let n=[];function r(a){const c=n.findIndex(d=>e(a,d.key));if(c>-1){const d=n[c];return c>0&&(n.splice(c,1),n.unshift(d)),d.value}return nT}function o(a,c){r(a)===nT&&(n.unshift({key:a,value:c}),n.length>t&&n.pop())}function i(){return n}function s(){n=[]}return{get:r,put:o,getEntries:i,clear:s}}var cZ=(t,e)=>t===e;function uZ(t){return function(n,r){if(n===null||r===null||n.length!==r.length)return!1;const{length:o}=n;for(let i=0;i<o;i++)if(!t(n[i],r[i]))return!1;return!0}}function m2(t,e){const n=typeof e=="object"?e:{equalityCheck:e},{equalityCheck:r=cZ,maxSize:o=1,resultEqualityCheck:i}=n,s=uZ(r);let a=0;const c=o<=1?aZ(s):lZ(o,s);function d(){let h=c.get(arguments);if(h===nT){if(h=t.apply(null,arguments),a++,i){const g=c.getEntries().find(m=>i(m.value,h));g&&(h=g.value,a!==0&&a--)}c.put(arguments,h)}return h}return d.clearCache=()=>{c.clear(),d.resetResultsCount()},d.resultsCount=()=>a,d.resetResultsCount=()=>{a=0},d}var dZ=class{constructor(t){this.value=t}deref(){return this.value}},hZ=typeof WeakRef<"u"?WeakRef:dZ,fZ=0,Fz=1;function u1(){return{s:fZ,v:void 0,o:null,p:null}}function AU(t,e={}){let n=u1();const{resultEqualityCheck:r}=e;let o,i=0;function s(){var p;let a=n;const{length:c}=arguments;for(let g=0,m=c;g<m;g++){const v=arguments[g];if(typeof v=="function"||typeof v=="object"&&v!==null){let S=a.o;S===null&&(a.o=S=new WeakMap);const C=S.get(v);C===void 0?(a=u1(),S.set(v,a)):a=C}else{let S=a.p;S===null&&(a.p=S=new Map);const C=S.get(v);C===void 0?(a=u1(),S.set(v,a)):a=C}}const d=a;let h;if(a.s===Fz)h=a.v;else if(h=t.apply(null,arguments),i++,r){const g=((p=o==null?void 0:o.deref)==null?void 0:p.call(o))??o;g!=null&&r(g,h)&&(h=g,i!==0&&i--),o=typeof h=="object"&&h!==null||typeof h=="function"?new hZ(h):h}return d.s=Fz,d.v=h,h}return s.clearCache=()=>{n=u1(),s.resetResultsCount()},s.resultsCount=()=>i,s.resetResultsCount=()=>{i=0},s}function IU(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...o)=>{let i=0,s=0,a,c={},d=o.pop();typeof d=="object"&&(c=d,d=o.pop()),nZ(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const h={...n,...c},{memoize:p,memoizeOptions:g=[],argsMemoize:m=AU,argsMemoizeOptions:v=[]}=h,S=Nz(g),C=Nz(v),x=iZ(o),O=p(function(){return i++,d.apply(null,arguments)},...S),M=m(function(){s++;const k=sZ(x,arguments);return a=O.apply(null,k),a},...C);return Object.assign(M,{resultFunc:d,memoizedResultFunc:O,dependencies:x,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>a,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:p,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var pZ=IU(AU),gZ=Object.assign((t,e=pZ)=>{rZ(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(i=>t[i]);return e(r,(...i)=>i.reduce((s,a,c)=>(s[n[c]]=a,s),{}))},{withTypes:()=>gZ});function RU(t){return({dispatch:n,getState:r})=>o=>i=>typeof i=="function"?i(n,r,t):o(i)}var mZ=RU(),yZ=RU,bZ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Z_:Z_.apply(null,arguments)};function $z(t,e){function n(...r){if(e){let o=e(...r);if(!o)throw new Error(rd(0));return{type:t,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>GQ(r)&&r.type===t,n}var PU=class e0 extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,e0.prototype)}static get[Symbol.species](){return e0}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new e0(...e[0].concat(this)):new e0(...e.concat(this))}};function Vz(t){return ud(t)?TU(t,()=>{}):t}function d1(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function vZ(t){return typeof t=="boolean"}var wZ=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:o=!0,actionCreatorCheck:i=!0}=e??{};let s=new PU;return n&&(vZ(n)?s.push(mZ):s.push(yZ(n.extraArgument))),s},SZ="RTK_autoBatch",zz=t=>e=>{setTimeout(e,t)},CZ=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let o=!0,i=!1,s=!1;const a=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:zz(10):t.type==="callback"?t.queueNotification:zz(t.timeout),d=()=>{s=!1,i&&(i=!1,a.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const p=()=>o&&h(),g=r.subscribe(p);return a.add(h),()=>{g(),a.delete(h)}},dispatch(h){var p;try{return o=!((p=h==null?void 0:h.meta)!=null&&p[SZ]),i=!o,i&&(s||(s=!0,c(d))),r.dispatch(h)}finally{o=!0}}})},EZ=t=>function(n){const{autoBatch:r=!0}=n??{};let o=new PU(t);return r&&o.push(CZ(typeof r=="object"?r:void 0)),o};function xZ(t){const e=wZ(),{reducer:n=void 0,middleware:r,devTools:o=!0,preloadedState:i=void 0,enhancers:s=void 0}=t||{};let a;if(typeof n=="function")a=n;else if(h2(n))a=vU(n);else throw new Error(rd(1));let c;typeof r=="function"?c=r(e):c=e();let d=Z_;o&&(d=bZ({trace:!1,...typeof o=="object"&&o}));const h=UQ(...c),p=EZ(h);let g=typeof s=="function"?s(p):p();const m=d(...g);return f2(a,i,m)}function MU(t){const e={},n=[];let r;const o={addCase(i,s){const a=typeof i=="string"?i:i.type;if(!a)throw new Error(rd(28));if(a in e)throw new Error(rd(29));return e[a]=s,o},addMatcher(i,s){return n.push({matcher:i,reducer:s}),o},addDefaultCase(i){return r=i,o}};return t(o),[e,n,r]}function _Z(t){return typeof t=="function"}function TZ(t,e){let[n,r,o]=MU(e),i;if(_Z(t))i=()=>Vz(t());else{const a=Vz(t);i=()=>a}function s(a=i(),c){let d=[n[c.type],...r.filter(({matcher:h})=>h(c)).map(({reducer:h})=>h)];return d.filter(h=>!!h).length===0&&(d=[o]),d.reduce((h,p)=>{if(p)if(jg(h)){const m=p(h,c);return m===void 0?h:m}else{if(ud(h))return TU(h,g=>p(g,c));{const g=p(h,c);if(g===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return h},a)}return s.getInitialState=i,s}var AZ=Symbol.for("rtk-slice-createasyncthunk");function IZ(t,e){return`${t}/${e}`}function RZ({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[AZ];return function(o){const{name:i,reducerPath:s=i}=o;if(!i)throw new Error(rd(11));const a=(typeof o.reducers=="function"?o.reducers(MZ()):o.reducers)||{},c=Object.keys(a),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(P,k){const $=typeof P=="string"?P:P.type;if(!$)throw new Error(rd(12));if($ in d.sliceCaseReducersByType)throw new Error(rd(13));return d.sliceCaseReducersByType[$]=k,h},addMatcher(P,k){return d.sliceMatchers.push({matcher:P,reducer:k}),h},exposeAction(P,k){return d.actionCreators[P]=k,h},exposeCaseReducer(P,k){return d.sliceCaseReducersByName[P]=k,h}};c.forEach(P=>{const k=a[P],$={reducerName:P,type:IZ(i,P),createNotation:typeof o.reducers=="function"};OZ(k)?LZ($,k,h,e):kZ($,k,h)});function p(){const[P={},k=[],$=void 0]=typeof o.extraReducers=="function"?MU(o.extraReducers):[o.extraReducers],D={...P,...d.sliceCaseReducersByType};return TZ(o.initialState,I=>{for(let A in D)I.addCase(A,D[A]);for(let A of d.sliceMatchers)I.addMatcher(A.matcher,A.reducer);for(let A of k)I.addMatcher(A.matcher,A.reducer);$&&I.addDefaultCase($)})}const g=P=>P,m=new Map,v=new WeakMap;let S;function C(P,k){return S||(S=p()),S(P,k)}function x(){return S||(S=p()),S.getInitialState()}function O(P,k=!1){function $(I){let A=I[P];return typeof A>"u"&&k&&(A=d1(v,$,x)),A}function D(I=g){const A=d1(m,k,()=>new WeakMap);return d1(A,I,()=>{const N={};for(const[F,R]of Object.entries(o.selectors??{}))N[F]=PZ(R,I,()=>d1(v,I,x),k);return N})}return{reducerPath:P,getSelectors:D,get selectors(){return D($)},selectSlice:$}}const M={name:i,reducer:C,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:x,...O(s),injectInto(P,{reducerPath:k,...$}={}){const D=k??s;return P.inject({reducerPath:D,reducer:C},$),{...M,...O(D,!0)}}};return M}}function PZ(t,e,n,r){function o(i,...s){let a=e(i);return typeof a>"u"&&r&&(a=n()),t(a,...s)}return o.unwrapped=t,o}var kU=RZ();function MZ(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function kZ({type:t,reducerName:e,createNotation:n},r,o){let i,s;if("reducer"in r){if(n&&!DZ(r))throw new Error(rd(17));i=r.reducer,s=r.prepare}else i=r;o.addCase(t,i).exposeCaseReducer(e,i).exposeAction(e,s?$z(t,s):$z(t))}function OZ(t){return t._reducerDefinitionType==="asyncThunk"}function DZ(t){return t._reducerDefinitionType==="reducerWithPrepare"}function LZ({type:t,reducerName:e},n,r,o){if(!o)throw new Error(rd(18));const{payloadCreator:i,fulfilled:s,pending:a,rejected:c,settled:d,options:h}=n,p=o(t,i,h);r.exposeAction(e,p),s&&r.addCase(p.fulfilled,s),a&&r.addCase(p.pending,a),c&&r.addCase(p.rejected,c),d&&r.addMatcher(p.settled,d),r.exposeCaseReducer(e,{fulfilled:s||h1,pending:a||h1,rejected:c||h1,settled:d||h1})}function h1(){}function rd(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const NZ={uid:null,email:null,displayName:null,isAuth:!1,isLoading:!0,testList:[]},OU=kU({name:"auth",initialState:NZ,reducers:{loginAction:(t,{payload:e})=>{t.uid=e.uid,t.email=e.email,t.displayName=e.displayName,t.isAuth=!0,t.testList=e.testList||[],t.isLoading=!1},logout:t=>{t.uid=null,t.email=null,t.displayName=null,t.testList=[],t.isAuth=!1,t.isLoading=!1},setLoading:(t,{payload:e})=>{t.isLoading=e}}}),{loginAction:y2,logout:DU,setLoading:zke}=OU.actions,FZ=OU.reducer,$Z=()=>{};var Bz={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LU=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},VZ=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const i=t[n++];e[r++]=String.fromCharCode((o&31)<<6|i&63)}else if(o>239&&o<365){const i=t[n++],s=t[n++],a=t[n++],c=((o&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],s=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(i&63)<<6|s&63)}}return e.join("")},NU={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const i=t[o],s=o+1<t.length,a=s?t[o+1]:0,c=o+2<t.length,d=c?t[o+2]:0,h=i>>2,p=(i&3)<<4|a>>4;let g=(a&15)<<2|d>>6,m=d&63;c||(m=64,s||(g=64)),r.push(n[h],n[p],n[g],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(LU(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):VZ(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const i=n[t.charAt(o++)],a=o<t.length?n[t.charAt(o)]:0;++o;const d=o<t.length?n[t.charAt(o)]:64;++o;const p=o<t.length?n[t.charAt(o)]:64;if(++o,i==null||a==null||d==null||p==null)throw new zZ;const g=i<<2|a>>4;if(r.push(g),d!==64){const m=a<<4&240|d>>2;if(r.push(m),p!==64){const v=d<<6&192|p;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class zZ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BZ=function(t){const e=LU(t);return NU.encodeByteArray(e,!0)},rT=function(t){return BZ(t).replace(/\./g,"")},FU=function(t){try{return NU.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HZ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jZ=()=>HZ().__FIREBASE_DEFAULTS__,UZ=()=>{if(typeof process>"u"||typeof Bz>"u")return;const t=Bz.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},GZ=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&FU(t[1]);return e&&JSON.parse(e)},EA=()=>{try{return $Z()||jZ()||UZ()||GZ()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$U=t=>{var e,n;return(n=(e=EA())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},WZ=t=>{const e=$U(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},VU=()=>{var t;return(t=EA())==null?void 0:t.config},zU=t=>{var e;return(e=EA())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qZ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function BU(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KZ(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[rT(JSON.stringify(n)),rT(JSON.stringify(s)),""].join(".")}const M0={};function YZ(){const t={prod:[],emulator:[]};for(const e of Object.keys(M0))M0[e]?t.emulator.push(e):t.prod.push(e);return t}function XZ(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Hz=!1;function HU(t,e){if(typeof window>"u"||typeof document>"u"||!vv(window.location.host)||M0[t]===e||M0[t]||Hz)return;M0[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",i=YZ().prod.length>0;function s(){const g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,m){g.setAttribute("width","24"),g.setAttribute("id",m),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function d(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{Hz=!0,s()},g}function h(g,m){g.setAttribute("id",m),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=XZ(r),m=n("text"),v=document.getElementById(m)||document.createElement("span"),S=n("learnmore"),C=document.getElementById(S)||document.createElement("a"),x=n("preprendIcon"),O=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const M=g.element;a(M),h(C,S);const P=d();c(O,x),M.append(O,v,C,P),document.body.appendChild(M)}i?(v.innerText="Preview backend disconnected.",O.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(O.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function QZ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Li())}function ZZ(){var e;const t=(e=EA())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function JZ(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eJ(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function tJ(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nJ(){const t=Li();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function rJ(){return!ZZ()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oJ(){try{return typeof indexedDB=="object"}catch{return!1}}function iJ(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var i;e(((i=o.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sJ="FirebaseError";class jc extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=sJ,Object.setPrototypeOf(this,jc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,iE.prototype.create)}}class iE{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,i=this.errors[e],s=i?aJ(i,r):"Error",a=`${this.serviceName}: ${s} (${o}).`;return new jc(o,a,r)}}function aJ(t,e){return t.replace(lJ,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const lJ=/\{\$([^}]+)}/g;function cJ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Gg(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const i=t[o],s=e[o];if(jz(i)&&jz(s)){if(!Gg(i,s))return!1}else if(i!==s)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function jz(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function t0(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,i]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(i)}}),e}function n0(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function uJ(t,e){const n=new dJ(t,e);return n.subscribe.bind(n)}class dJ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");hJ(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=eM),o.error===void 0&&(o.error=eM),o.complete===void 0&&(o.complete=eM);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hJ(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function eM(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function No(t){return t&&t._delegate?t._delegate:t}class Wg{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fJ{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new qZ;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gJ(e))try{this.getOrInitializeService({instanceIdentifier:hp})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:o});r.resolve(i)}catch{}}}}clearInstance(e=hp){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hp){return this.instances.has(e)}getOptions(e=hp){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&s.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const i=this.instances.get(r);return i&&e(i,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:pJ(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=hp){return this.component?this.component.multipleInstances?e:hp:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pJ(t){return t===hp?void 0:t}function gJ(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mJ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new fJ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(yn||(yn={}));const yJ={debug:yn.DEBUG,verbose:yn.VERBOSE,info:yn.INFO,warn:yn.WARN,error:yn.ERROR,silent:yn.SILENT},bJ=yn.INFO,vJ={[yn.DEBUG]:"log",[yn.VERBOSE]:"log",[yn.INFO]:"info",[yn.WARN]:"warn",[yn.ERROR]:"error"},wJ=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=vJ[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class b2{constructor(e){this.name=e,this._logLevel=bJ,this._logHandler=wJ,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in yn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yJ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,yn.DEBUG,...e),this._logHandler(this,yn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,yn.VERBOSE,...e),this._logHandler(this,yn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,yn.INFO,...e),this._logHandler(this,yn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,yn.WARN,...e),this._logHandler(this,yn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,yn.ERROR,...e),this._logHandler(this,yn.ERROR,...e)}}const SJ=(t,e)=>e.some(n=>t instanceof n);let Uz,Gz;function CJ(){return Uz||(Uz=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function EJ(){return Gz||(Gz=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jU=new WeakMap,yk=new WeakMap,UU=new WeakMap,tM=new WeakMap,v2=new WeakMap;function xJ(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",i),t.removeEventListener("error",s)},i=()=>{n(Jh(t.result)),o()},s=()=>{r(t.error),o()};t.addEventListener("success",i),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&jU.set(n,t)}).catch(()=>{}),v2.set(e,t),e}function _J(t){if(yk.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",s),t.removeEventListener("abort",s)},i=()=>{n(),o()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",i),t.addEventListener("error",s),t.addEventListener("abort",s)});yk.set(t,e)}let bk={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return yk.get(t);if(e==="objectStoreNames")return t.objectStoreNames||UU.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jh(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function TJ(t){bk=t(bk)}function AJ(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(nM(this),e,...n);return UU.set(r,e.sort?e.sort():[e]),Jh(r)}:EJ().includes(t)?function(...e){return t.apply(nM(this),e),Jh(jU.get(this))}:function(...e){return Jh(t.apply(nM(this),e))}}function IJ(t){return typeof t=="function"?AJ(t):(t instanceof IDBTransaction&&_J(t),SJ(t,CJ())?new Proxy(t,bk):t)}function Jh(t){if(t instanceof IDBRequest)return xJ(t);if(tM.has(t))return tM.get(t);const e=IJ(t);return e!==t&&(tM.set(t,e),v2.set(e,t)),e}const nM=t=>v2.get(t);function RJ(t,e,{blocked:n,upgrade:r,blocking:o,terminated:i}={}){const s=indexedDB.open(t,e),a=Jh(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Jh(s.result),c.oldVersion,c.newVersion,Jh(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),o&&c.addEventListener("versionchange",d=>o(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const PJ=["get","getKey","getAll","getAllKeys","count"],MJ=["put","add","delete","clear"],rM=new Map;function Wz(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(rM.get(e))return rM.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=MJ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||PJ.includes(n)))return;const i=async function(s,...a){const c=this.transaction(s,o?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(a.shift())),(await Promise.all([d[n](...a),o&&c.done]))[0]};return rM.set(e,i),i}TJ(t=>({...t,get:(e,n,r)=>Wz(e,n)||t.get(e,n,r),has:(e,n)=>!!Wz(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kJ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(OJ(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function OJ(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const vk="@firebase/app",qz="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd=new b2("@firebase/app"),DJ="@firebase/app-compat",LJ="@firebase/analytics-compat",NJ="@firebase/analytics",FJ="@firebase/app-check-compat",$J="@firebase/app-check",VJ="@firebase/auth",zJ="@firebase/auth-compat",BJ="@firebase/database",HJ="@firebase/data-connect",jJ="@firebase/database-compat",UJ="@firebase/functions",GJ="@firebase/functions-compat",WJ="@firebase/installations",qJ="@firebase/installations-compat",KJ="@firebase/messaging",YJ="@firebase/messaging-compat",XJ="@firebase/performance",QJ="@firebase/performance-compat",ZJ="@firebase/remote-config",JJ="@firebase/remote-config-compat",eee="@firebase/storage",tee="@firebase/storage-compat",nee="@firebase/firestore",ree="@firebase/ai",oee="@firebase/firestore-compat",iee="firebase",see="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk="[DEFAULT]",aee={[vk]:"fire-core",[DJ]:"fire-core-compat",[NJ]:"fire-analytics",[LJ]:"fire-analytics-compat",[$J]:"fire-app-check",[FJ]:"fire-app-check-compat",[VJ]:"fire-auth",[zJ]:"fire-auth-compat",[BJ]:"fire-rtdb",[HJ]:"fire-data-connect",[jJ]:"fire-rtdb-compat",[UJ]:"fire-fn",[GJ]:"fire-fn-compat",[WJ]:"fire-iid",[qJ]:"fire-iid-compat",[KJ]:"fire-fcm",[YJ]:"fire-fcm-compat",[XJ]:"fire-perf",[QJ]:"fire-perf-compat",[ZJ]:"fire-rc",[JJ]:"fire-rc-compat",[eee]:"fire-gcs",[tee]:"fire-gcs-compat",[nee]:"fire-fst",[oee]:"fire-fst-compat",[ree]:"fire-vertex","fire-js":"fire-js",[iee]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT=new Map,lee=new Map,Sk=new Map;function Kz(t,e){try{t.container.addComponent(e)}catch(n){dd.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Xb(t){const e=t.name;if(Sk.has(e))return dd.debug(`There were multiple attempts to register component ${e}.`),!1;Sk.set(e,t);for(const n of oT.values())Kz(n,t);for(const n of lee.values())Kz(n,t);return!0}function w2(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Xs(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cee={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ef=new iE("app","Firebase",cee);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uee{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Wg("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ef.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv=see;function GU(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:wk,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw ef.create("bad-app-name",{appName:String(o)});if(n||(n=VU()),!n)throw ef.create("no-options");const i=oT.get(o);if(i){if(Gg(n,i.options)&&Gg(r,i.config))return i;throw ef.create("duplicate-app",{appName:o})}const s=new mJ(o);for(const c of Sk.values())s.addComponent(c);const a=new uee(n,r,s);return oT.set(o,a),a}function WU(t=wk){const e=oT.get(t);if(!e&&t===wk&&VU())return GU();if(!e)throw ef.create("no-app",{appName:t});return e}function tf(t,e,n){let r=aee[t]??t;n&&(r+=`-${n}`);const o=r.match(/\s|\//),i=e.match(/\s|\//);if(o||i){const s=[`Unable to register library "${r}" with version "${e}":`];o&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&i&&s.push("and"),i&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),dd.warn(s.join(" "));return}Xb(new Wg(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dee="firebase-heartbeat-database",hee=1,X0="firebase-heartbeat-store";let oM=null;function qU(){return oM||(oM=RJ(dee,hee,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(X0)}catch(n){console.warn(n)}}}}).catch(t=>{throw ef.create("idb-open",{originalErrorMessage:t.message})})),oM}async function fee(t){try{const n=(await qU()).transaction(X0),r=await n.objectStore(X0).get(KU(t));return await n.done,r}catch(e){if(e instanceof jc)dd.warn(e.message);else{const n=ef.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});dd.warn(n.message)}}}async function Yz(t,e){try{const r=(await qU()).transaction(X0,"readwrite");await r.objectStore(X0).put(e,KU(t)),await r.done}catch(n){if(n instanceof jc)dd.warn(n.message);else{const r=ef.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});dd.warn(r.message)}}}function KU(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pee=1024,gee=30;class mee{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new bee(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Xz();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:o}),this._heartbeatsCache.heartbeats.length>gee){const s=vee(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){dd.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Xz(),{heartbeatsToSend:r,unsentEntries:o}=yee(this._heartbeatsCache.heartbeats),i=rT(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return dd.warn(n),""}}}function Xz(){return new Date().toISOString().substring(0,10)}function yee(t,e=pee){const n=[];let r=t.slice();for(const o of t){const i=n.find(s=>s.agent===o.agent);if(i){if(i.dates.push(o.date),Qz(n)>e){i.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Qz(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class bee{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oJ()?iJ().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await fee(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Yz(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Yz(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Qz(t){return rT(JSON.stringify({version:2,heartbeats:t})).length}function vee(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wee(t){Xb(new Wg("platform-logger",e=>new kJ(e),"PRIVATE")),Xb(new Wg("heartbeat",e=>new mee(e),"PRIVATE")),tf(vk,qz,t),tf(vk,qz,"esm2020"),tf("fire-js","")}wee("");function YU(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const See=YU,XU=new iE("auth","Firebase",YU());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT=new b2("@firebase/auth");function Cee(t,...e){iT.logLevel<=yn.WARN&&iT.warn(`Auth (${wv}): ${t}`,...e)}function G1(t,...e){iT.logLevel<=yn.ERROR&&iT.error(`Auth (${wv}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qa(t,...e){throw C2(t,...e)}function Tl(t,...e){return C2(t,...e)}function S2(t,e,n){const r={...See(),[e]:n};return new iE("auth","Firebase",r).create(e,{appName:t.name})}function od(t){return S2(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Eee(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&qa(t,"argument-error"),S2(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function C2(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return XU.create(t,...e)}function Ht(t,e,...n){if(!t)throw C2(e,...n)}function ed(t){const e="INTERNAL ASSERTION FAILED: "+t;throw G1(e),new Error(e)}function hd(t,e){t||ed(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function xee(){return Zz()==="http:"||Zz()==="https:"}function Zz(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _ee(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xee()||eJ()||"connection"in navigator)?navigator.onLine:!0}function Tee(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e,n){this.shortDelay=e,this.longDelay=n,hd(n>e,"Short delay should be less than long delay!"),this.isMobile=QZ()||tJ()}get(){return _ee()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(t,e){hd(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ed("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ed("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ed("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aee={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iee=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Ree=new aE(3e4,6e4);function _f(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Sd(t,e,n,r,o={}){return ZU(t,o,async()=>{let i={},s={};r&&(e==="GET"?s=r:i={body:JSON.stringify(r)});const a=sE({key:t.config.apiKey,...s}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...i};return JZ()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&vv(t.emulatorConfig.host)&&(d.credentials="include"),QU.fetch()(await JU(t,t.config.apiHost,n,a),d)})}async function ZU(t,e,n){t._canInitEmulator=!1;const r={...Aee,...e};try{const o=new Mee(t),i=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw f1(t,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const a=i.ok?s.errorMessage:s.error.message,[c,d]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw f1(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw f1(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw f1(t,"user-disabled",s);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw S2(t,h,d);qa(t,h)}}catch(o){if(o instanceof jc)throw o;qa(t,"network-request-failed",{message:String(o)})}}async function lE(t,e,n,r,o={}){const i=await Sd(t,e,n,r,o);return"mfaPendingCredential"in i&&qa(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function JU(t,e,n,r){const o=`${e}${n}?${r}`,i=t,s=i.config.emulator?E2(t.config,o):`${t.config.apiScheme}://${o}`;return Iee.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(s).toString():s}function Pee(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Mee{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Tl(this.auth,"network-request-failed")),Ree.get())})}}function f1(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Tl(t,e,r);return o.customData._tokenResponse=n,o}function Jz(t){return t!==void 0&&t.enterprise!==void 0}class kee{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Pee(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Oee(t,e){return Sd(t,"GET","/v2/recaptchaConfig",_f(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dee(t,e){return Sd(t,"POST","/v1/accounts:delete",e)}async function sT(t,e){return Sd(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Lee(t,e=!1){const n=No(t),r=await n.getIdToken(e),o=x2(r);Ht(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const i=typeof o.firebase=="object"?o.firebase:void 0,s=i==null?void 0:i.sign_in_provider;return{claims:o,token:r,authTime:k0(iM(o.auth_time)),issuedAtTime:k0(iM(o.iat)),expirationTime:k0(iM(o.exp)),signInProvider:s||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function iM(t){return Number(t)*1e3}function x2(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return G1("JWT malformed, contained fewer than 3 sections"),null;try{const o=FU(n);return o?JSON.parse(o):(G1("Failed to decode base64 JWT payload"),null)}catch(o){return G1("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function eB(t){const e=x2(t);return Ht(e,"internal-error"),Ht(typeof e.exp<"u","internal-error"),Ht(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qb(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof jc&&Nee(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Nee({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fee{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=k0(this.lastLoginAt),this.creationTime=k0(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aT(t){var p;const e=t.auth,n=await t.getIdToken(),r=await Qb(t,sT(e,{idToken:n}));Ht(r==null?void 0:r.users.length,e,"internal-error");const o=r.users[0];t._notifyReloadListener(o);const i=(p=o.providerUserInfo)!=null&&p.length?e3(o.providerUserInfo):[],s=Vee(t.providerData,i),a=t.isAnonymous,c=!(t.email&&o.passwordHash)&&!(s!=null&&s.length),d=a?c:!1,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Ek(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function $ee(t){const e=No(t);await aT(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Vee(t,e){return[...t.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function e3(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zee(t,e){const n=await ZU(t,{},async()=>{const r=sE({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:i}=t.config,s=await JU(t,o,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:a,body:r};return t.emulatorConfig&&vv(t.emulatorConfig.host)&&(c.credentials="include"),QU.fetch()(s,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Bee(t,e){return Sd(t,"POST","/v2/accounts:revokeToken",_f(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ht(e.idToken,"internal-error"),Ht(typeof e.idToken<"u","internal-error"),Ht(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):eB(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ht(e.length!==0,"internal-error");const n=eB(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ht(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:i}=await zee(e,n);this.updateTokensAndExpiration(r,o,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:i}=n,s=new Py;return r&&(Ht(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),o&&(Ht(typeof o=="string","internal-error",{appName:e}),s.accessToken=o),i&&(Ht(typeof i=="number","internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Py,this.toJSON())}_performRefresh(){return ed("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qd(t,e){Ht(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class xl{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new Fee(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ek(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Qb(this,this.stsTokenManager.getToken(this.auth,e));return Ht(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Lee(this,e)}reload(){return $ee(this)}_assign(e){this!==e&&(Ht(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new xl({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ht(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await aT(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xs(this.auth.app))return Promise.reject(od(this.auth));const e=await this.getIdToken();return await Qb(this,Dee(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,i=n.phoneNumber??void 0,s=n.photoURL??void 0,a=n.tenantId??void 0,c=n._redirectEventId??void 0,d=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:p,emailVerified:g,isAnonymous:m,providerData:v,stsTokenManager:S}=n;Ht(p&&S,e,"internal-error");const C=Py.fromJSON(this.name,S);Ht(typeof p=="string",e,"internal-error"),Qd(r,e.name),Qd(o,e.name),Ht(typeof g=="boolean",e,"internal-error"),Ht(typeof m=="boolean",e,"internal-error"),Qd(i,e.name),Qd(s,e.name),Qd(a,e.name),Qd(c,e.name),Qd(d,e.name),Qd(h,e.name);const x=new xl({uid:p,auth:e,email:o,emailVerified:g,displayName:r,isAnonymous:m,photoURL:s,phoneNumber:i,tenantId:a,stsTokenManager:C,createdAt:d,lastLoginAt:h});return v&&Array.isArray(v)&&(x.providerData=v.map(O=>({...O}))),c&&(x._redirectEventId=c),x}static async _fromIdTokenResponse(e,n,r=!1){const o=new Py;o.updateFromServerResponse(n);const i=new xl({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await aT(i),i}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];Ht(o.localId!==void 0,"internal-error");const i=o.providerUserInfo!==void 0?e3(o.providerUserInfo):[],s=!(o.email&&o.passwordHash)&&!(i!=null&&i.length),a=new Py;a.updateFromIdToken(r);const c=new xl({uid:o.localId,auth:e,stsTokenManager:a,isAnonymous:s}),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:i,metadata:new Ek(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tB=new Map;function td(t){hd(t instanceof Function,"Expected a class definition");let e=tB.get(t);return e?(hd(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,tB.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}t3.type="NONE";const nB=t3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(t,e,n){return`firebase:${t}:${e}:${n}`}class My{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:i}=this.auth;this.fullUserKey=W1(this.userKey,o.apiKey,i),this.fullPersistenceKey=W1("persistence",o.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await sT(this.auth,{idToken:e}).catch(()=>{});return n?xl._fromGetAccountInfoResponse(this.auth,n,e):null}return xl._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new My(td(nB),e,r);const o=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=o[0]||td(nB);const s=W1(r,e.config.apiKey,e.name);let a=null;for(const d of n)try{const h=await d._get(s);if(h){let p;if(typeof h=="string"){const g=await sT(e,{idToken:h}).catch(()=>{});if(!g)break;p=await xl._fromGetAccountInfoResponse(e,g,h)}else p=xl._fromJSON(e,h);d!==i&&(a=p),i=d;break}}catch{}const c=o.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new My(i,e,r):(i=c[0],a&&await i._set(s,a.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(s)}catch{}})),new My(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rB(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(i3(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(n3(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(a3(e))return"Blackberry";if(l3(e))return"Webos";if(r3(e))return"Safari";if((e.includes("chrome/")||o3(e))&&!e.includes("edge/"))return"Chrome";if(s3(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function n3(t=Li()){return/firefox\//i.test(t)}function r3(t=Li()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function o3(t=Li()){return/crios\//i.test(t)}function i3(t=Li()){return/iemobile/i.test(t)}function s3(t=Li()){return/android/i.test(t)}function a3(t=Li()){return/blackberry/i.test(t)}function l3(t=Li()){return/webos/i.test(t)}function _2(t=Li()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Hee(t=Li()){var e;return _2(t)&&!!((e=window.navigator)!=null&&e.standalone)}function jee(){return nJ()&&document.documentMode===10}function c3(t=Li()){return _2(t)||s3(t)||l3(t)||a3(t)||/windows phone/i.test(t)||i3(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u3(t,e=[]){let n;switch(t){case"Browser":n=rB(Li());break;case"Worker":n=`${rB(Li())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${wv}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uee{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((s,a)=>{try{const c=e(i);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gee(t,e={}){return Sd(t,"GET","/v2/passwordPolicy",_f(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wee=6;class qee{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Wee,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kee{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oB(this),this.idTokenSubscription=new oB(this),this.beforeStateQueue=new Uee(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=XU,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=td(n)),this._initializationPromise=this.queue(async()=>{var r,o,i;if(!this._deleted&&(this.persistenceManager=await My.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await sT(this,{idToken:e}),r=await xl._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Xs(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===a)&&(c!=null&&c.user)&&(r=c.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ht(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await aT(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Tee()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xs(this.app))return Promise.reject(od(this));const n=e?No(e):null;return n&&Ht(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ht(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xs(this.app)?Promise.reject(od(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xs(this.app)?Promise.reject(od(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(td(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Gee(this),n=new qee(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new iE("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Bee(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&td(e)||this._popupRedirectResolver;Ht(n,this,"argument-error"),this.redirectPersistenceManager=await My.create(this,[td(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ht(a,this,"internal-error"),a.then(()=>{s||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,o);return()=>{s=!0,c()}}else{const c=e.addObserver(n);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ht(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=u3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Xs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&Cee(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Tf(t){return No(t)}let oB=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=uJ(n=>this.observer=n)}get next(){return Ht(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xA={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Yee(t){xA=t}function d3(t){return xA.loadJS(t)}function Xee(){return xA.recaptchaEnterpriseScript}function Qee(){return xA.gapiScript}function Zee(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Jee{constructor(){this.enterprise=new ete}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class ete{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const tte="recaptcha-enterprise",h3="NO_RECAPTCHA";class nte{constructor(e){this.type=tte,this.auth=Tf(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(s,a)=>{Oee(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const d=new kee(c);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,s(d.siteKey)}}).catch(c=>{a(c)})})}function o(i,s,a){const c=window.grecaptcha;Jz(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(d=>{s(d)}).catch(()=>{s(h3)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Jee().execute("siteKey",{action:"verify"}):new Promise((i,s)=>{r(this.auth).then(a=>{if(!n&&Jz(window.grecaptcha))o(a,i,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Xee();c.length!==0&&(c+=a),d3(c).then(()=>{o(a,i,s)}).catch(d=>{s(d)})}}).catch(a=>{s(a)})})}}async function iB(t,e,n,r=!1,o=!1){const i=new nte(t);let s;if(o)s=h3;else try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const c=a.phoneEnrollmentInfo.phoneNumber,d=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function xk(t,e,n,r,o){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await iB(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await iB(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rte(t,e){const n=w2(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),i=n.getOptions();if(Gg(i,e??{}))return o;qa(o,"already-initialized")}return n.initialize({options:e})}function ote(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(td);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function ite(t,e,n){const r=Tf(t);Ht(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,i=f3(e),{host:s,port:a}=ste(e),c=a===null?"":`:${a}`,d={url:`${i}//${s}${c}/`},h=Object.freeze({host:s,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ht(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ht(Gg(d,r.config.emulator)&&Gg(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,vv(s)?(BU(`${i}//${s}${c}`),HU("Auth",!0)):ate()}function f3(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ste(t){const e=f3(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const i=o[1];return{host:i,port:sB(r.substr(i.length+1))}}else{const[i,s]=r.split(":");return{host:i,port:sB(s)}}}function sB(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function ate(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ed("not implemented")}_getIdTokenResponse(e){return ed("not implemented")}_linkToIdToken(e,n){return ed("not implemented")}_getReauthenticationResolver(e){return ed("not implemented")}}async function lte(t,e){return Sd(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cte(t,e){return lE(t,"POST","/v1/accounts:signInWithPassword",_f(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ute(t,e){return lE(t,"POST","/v1/accounts:signInWithEmailLink",_f(t,e))}async function dte(t,e){return lE(t,"POST","/v1/accounts:signInWithEmailLink",_f(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0 extends T2{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Q0(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Q0(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xk(e,n,"signInWithPassword",cte);case"emailLink":return ute(e,{email:this._email,oobCode:this._password});default:qa(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xk(e,r,"signUpPassword",lte);case"emailLink":return dte(e,{idToken:n,email:this._email,oobCode:this._password});default:qa(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ky(t,e){return lE(t,"POST","/v1/accounts:signInWithIdp",_f(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hte="http://localhost";class qg extends T2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new qg(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qa("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...i}=n;if(!r||!o)return null;const s=new qg(r,o);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return ky(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ky(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ky(e,n)}buildRequest(){const e={requestUri:hte,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=sE(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fte(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function pte(t){const e=t0(n0(t)).link,n=e?t0(n0(e)).deep_link_id:null,r=t0(n0(t)).deep_link_id;return(r?t0(n0(r)).link:null)||r||n||e||t}class A2{constructor(e){const n=t0(n0(e)),r=n.apiKey??null,o=n.oobCode??null,i=fte(n.mode??null);Ht(r&&o&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=pte(e);try{return new A2(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(){this.providerId=Sv.PROVIDER_ID}static credential(e,n){return Q0._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=A2.parseLink(n);return Ht(r,"argument-error"),Q0._fromEmailAndCode(e,r.code,r.tenantId)}}Sv.PROVIDER_ID="password";Sv.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Sv.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE extends I2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih extends cE{constructor(){super("facebook.com")}static credential(e){return qg._fromParams({providerId:ih.PROVIDER_ID,signInMethod:ih.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ih.credentialFromTaggedObject(e)}static credentialFromError(e){return ih.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ih.credential(e.oauthAccessToken)}catch{return null}}}ih.FACEBOOK_SIGN_IN_METHOD="facebook.com";ih.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu extends cE{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return qg._fromParams({providerId:Zu.PROVIDER_ID,signInMethod:Zu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Zu.credentialFromTaggedObject(e)}static credentialFromError(e){return Zu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Zu.credential(n,r)}catch{return null}}}Zu.GOOGLE_SIGN_IN_METHOD="google.com";Zu.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh extends cE{constructor(){super("github.com")}static credential(e){return qg._fromParams({providerId:sh.PROVIDER_ID,signInMethod:sh.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sh.credentialFromTaggedObject(e)}static credentialFromError(e){return sh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sh.credential(e.oauthAccessToken)}catch{return null}}}sh.GITHUB_SIGN_IN_METHOD="github.com";sh.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah extends cE{constructor(){super("twitter.com")}static credential(e,n){return qg._fromParams({providerId:ah.PROVIDER_ID,signInMethod:ah.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ah.credentialFromTaggedObject(e)}static credentialFromError(e){return ah.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ah.credential(n,r)}catch{return null}}}ah.TWITTER_SIGN_IN_METHOD="twitter.com";ah.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gte(t,e){return lE(t,"POST","/v1/accounts:signUp",_f(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const i=await xl._fromIdTokenResponse(e,r,o),s=aB(r);return new Kg({user:i,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=aB(r);return new Kg({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function aB(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT extends jc{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,lT.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new lT(e,n,r,o)}}function p3(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?lT._fromErrorAndOperation(t,i,e,r):i})}async function mte(t,e,n=!1){const r=await Qb(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Kg._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yte(t,e,n=!1){const{auth:r}=t;if(Xs(r.app))return Promise.reject(od(r));const o="reauthenticate";try{const i=await Qb(t,p3(r,o,e,t),n);Ht(i.idToken,r,"internal-error");const s=x2(i.idToken);Ht(s,r,"internal-error");const{sub:a}=s;return Ht(t.uid===a,r,"user-mismatch"),Kg._forOperation(t,o,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&qa(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g3(t,e,n=!1){if(Xs(t.app))return Promise.reject(od(t));const r="signIn",o=await p3(t,r,e),i=await Kg._fromIdTokenResponse(t,r,o);return n||await t._updateCurrentUser(i.user),i}async function bte(t,e){return g3(Tf(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m3(t){const e=Tf(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function vte(t,e,n){if(Xs(t.app))return Promise.reject(od(t));const r=Tf(t),s=await xk(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",gte).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&m3(t),c}),a=await Kg._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function wte(t,e,n){return Xs(t.app)?Promise.reject(od(t)):bte(No(t),Sv.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&m3(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ste(t,e){return Sd(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cte(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=No(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},s=await Qb(r,Ste(r.auth,i));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;const a=r.providerData.find(({providerId:c})=>c==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(s)}function Ete(t,e,n,r){return No(t).onIdTokenChanged(e,n,r)}function xte(t,e,n){return No(t).beforeAuthStateChanged(e,n)}function _te(t,e,n,r){return No(t).onAuthStateChanged(e,n,r)}function Tte(t){return No(t).signOut()}const cT="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(cT,"1"),this.storage.removeItem(cT),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ate=1e3,Ite=10;class b3 extends y3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=c3(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,c)=>{this.notifyListeners(s,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},i=this.storage.getItem(r);jee()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Ite):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Ate)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}b3.type="LOCAL";const Rte=b3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3 extends y3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}v3.type="SESSION";const w3=v3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pte(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new _A(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:i}=n.data,s=this.handlersMap[o];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const a=Array.from(s).map(async d=>d(n.origin,i)),c=await Pte(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_A.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mte{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let i,s;return new Promise((a,c)=>{const d=R2("",20);o.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:o,onMessage(p){const g=p;if(g.data.eventId===d)switch(g.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(g.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(s),o.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[o.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(){return window}function kte(t){Ac().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S3(){return typeof Ac().WorkerGlobalScope<"u"&&typeof Ac().importScripts=="function"}async function Ote(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Dte(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function Lte(){return S3()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3="firebaseLocalStorageDb",Nte=1,uT="firebaseLocalStorage",E3="fbase_key";class uE{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function TA(t,e){return t.transaction([uT],e?"readwrite":"readonly").objectStore(uT)}function Fte(){const t=indexedDB.deleteDatabase(C3);return new uE(t).toPromise()}function _k(){const t=indexedDB.open(C3,Nte);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(uT,{keyPath:E3})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(uT)?e(r):(r.close(),await Fte(),e(await _k()))})})}async function lB(t,e,n){const r=TA(t,!0).put({[E3]:e,value:n});return new uE(r).toPromise()}async function $te(t,e){const n=TA(t,!1).get(e),r=await new uE(n).toPromise();return r===void 0?null:r.value}function cB(t,e){const n=TA(t,!0).delete(e);return new uE(n).toPromise()}const Vte=800,zte=3;class x3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _k(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>zte)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return S3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_A._getInstance(Lte()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await Ote(),!this.activeServiceWorker)return;this.sender=new Mte(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Dte()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _k();return await lB(e,cT,"1"),await cB(e,cT),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>lB(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>$te(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>cB(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const i=TA(o,!1).getAll();return new uE(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:i}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(i)&&(this.notifyListeners(o,i),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Vte)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}x3.type="LOCAL";const Bte=x3;new aE(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _3(t,e){return e?td(e):(Ht(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2 extends T2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ky(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ky(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ky(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Hte(t){return g3(t.auth,new P2(t),t.bypassAuthState)}function jte(t){const{auth:e,user:n}=t;return Ht(n,e,"internal-error"),yte(n,new P2(t),t.bypassAuthState)}async function Ute(t){const{auth:e,user:n}=t;return Ht(n,e,"internal-error"),mte(n,new P2(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(e,n,r,o,i=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:i,error:s,type:a}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Hte;case"linkViaPopup":case"linkViaRedirect":return Ute;case"reauthViaPopup":case"reauthViaRedirect":return jte;default:qa(this.auth,"internal-error")}}resolve(e){hd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gte=new aE(2e3,1e4);async function Wte(t,e,n){if(Xs(t.app))return Promise.reject(Tl(t,"operation-not-supported-in-this-environment"));const r=Tf(t);Eee(t,e,I2);const o=_3(r,n);return new wp(r,"signInViaPopup",e,o).executeNotNull()}class wp extends T3{constructor(e,n,r,o,i){super(e,n,o,i),this.provider=r,this.authWindow=null,this.pollId=null,wp.currentPopupAction&&wp.currentPopupAction.cancel(),wp.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ht(e,this.auth,"internal-error"),e}async onExecution(){hd(this.filter.length===1,"Popup operations only handle one event");const e=R2();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Tl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Tl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wp.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Tl(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Gte.get())};e()}}wp.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qte="pendingRedirect",q1=new Map;class Kte extends T3{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=q1.get(this.auth._key());if(!e){try{const r=await Yte(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}q1.set(this.auth._key(),e)}return this.bypassAuthState||q1.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Yte(t,e){const n=Zte(e),r=Qte(t);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function Xte(t,e){q1.set(t._key(),e)}function Qte(t){return td(t._redirectPersistence)}function Zte(t){return W1(qte,t.config.apiKey,t.name)}async function Jte(t,e,n=!1){if(Xs(t.app))return Promise.reject(od(t));const r=Tf(t),o=_3(r,e),s=await new Kte(r,o,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ene=10*60*1e3;class tne{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nne(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!A3(e)){const o=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Tl(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ene&&this.cachedEventUids.clear(),this.cachedEventUids.has(uB(e))}saveEventToCache(e){this.cachedEventUids.add(uB(e)),this.lastProcessedEventTime=Date.now()}}function uB(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function A3({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function nne(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return A3(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rne(t,e={}){return Sd(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const one=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ine=/^https?/;async function sne(t){if(t.config.emulator)return;const{authorizedDomains:e}=await rne(t);for(const n of e)try{if(ane(n))return}catch{}qa(t,"unauthorized-domain")}function ane(t){const e=Ck(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!ine.test(n))return!1;if(one.test(t))return r===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lne=new aE(3e4,6e4);function dB(){const t=Ac().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function cne(t){return new Promise((e,n)=>{var o,i,s;function r(){dB(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{dB(),n(Tl(t,"network-request-failed"))},timeout:lne.get()})}if((i=(o=Ac().gapi)==null?void 0:o.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((s=Ac().gapi)!=null&&s.load)r();else{const a=Zee("iframefcb");return Ac()[a]=()=>{gapi.load?r():n(Tl(t,"network-request-failed"))},d3(`${Qee()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw K1=null,e})}let K1=null;function une(t){return K1=K1||cne(t),K1}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dne=new aE(5e3,15e3),hne="__/auth/iframe",fne="emulator/auth/iframe",pne={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gne=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mne(t){const e=t.config;Ht(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?E2(e,fne):`https://${t.config.authDomain}/${hne}`,r={apiKey:e.apiKey,appName:t.name,v:wv},o=gne.get(t.config.apiHost);o&&(r.eid=o);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${sE(r).slice(1)}`}async function yne(t){const e=await une(t),n=Ac().gapi;return Ht(n,t,"internal-error"),e.open({where:document.body,url:mne(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pne,dontclear:!0},r=>new Promise(async(o,i)=>{await r.restyle({setHideOnLeave:!1});const s=Tl(t,"network-request-failed"),a=Ac().setTimeout(()=>{i(s)},dne.get());function c(){Ac().clearTimeout(a),o(r)}r.ping(c).then(c,()=>{i(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bne={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vne=500,wne=600,Sne="_blank",Cne="http://localhost";class hB{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ene(t,e,n,r=vne,o=wne){const i=Math.max((window.screen.availHeight-o)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c={...bne,width:r.toString(),height:o.toString(),top:i,left:s},d=Li().toLowerCase();n&&(a=o3(d)?Sne:n),n3(d)&&(e=e||Cne,c.scrollbars="yes");const h=Object.entries(c).reduce((g,[m,v])=>`${g}${m}=${v},`,"");if(Hee(d)&&a!=="_self")return xne(e||"",a),new hB(null);const p=window.open(e||"",a,h);Ht(p,t,"popup-blocked");try{p.focus()}catch{}return new hB(p)}function xne(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _ne="__/auth/handler",Tne="emulator/auth/handler",Ane=encodeURIComponent("fac");async function fB(t,e,n,r,o,i){Ht(t.config.authDomain,t,"auth-domain-config-required"),Ht(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:wv,eventId:o};if(e instanceof I2){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",cJ(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))s[h]=p}if(e instanceof cE){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const c=await t._getAppCheckToken(),d=c?`#${Ane}=${encodeURIComponent(c)}`:"";return`${Ine(t)}?${sE(a).slice(1)}${d}`}function Ine({config:t}){return t.emulator?E2(t,Tne):`https://${t.authDomain}/${_ne}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM="webStorageSupport";class Rne{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=w3,this._completeRedirectFn=Jte,this._overrideRedirectResult=Xte}async _openPopup(e,n,r,o){var s;hd((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const i=await fB(e,n,r,Ck(),o);return Ene(e,i,R2())}async _openRedirect(e,n,r,o){await this._originValidation(e);const i=await fB(e,n,r,Ck(),o);return kte(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:i}=this.eventManagers[n];return o?Promise.resolve(o):(hd(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await yne(e),r=new tne(e);return n.register("authEvent",o=>(Ht(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(sM,{type:sM},o=>{var s;const i=(s=o==null?void 0:o[0])==null?void 0:s[sM];i!==void 0&&n(!!i),qa(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=sne(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return c3()||r3()||_2()}}const Pne=Rne;var pB="@firebase/auth",gB="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mne{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ht(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kne(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function One(t){Xb(new Wg("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Ht(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:u3(t)},d=new Kee(r,o,i,c);return ote(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Xb(new Wg("auth-internal",e=>{const n=Tf(e.getProvider("auth").getImmediate());return(r=>new Mne(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),tf(pB,gB,kne(t)),tf(pB,gB,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dne=5*60,Lne=zU("authIdTokenMaxAge")||Dne;let mB=null;const Nne=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Lne)return;const o=n==null?void 0:n.token;mB!==o&&(mB=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Fne(t=WU()){const e=w2(t,"auth");if(e.isInitialized())return e.getImmediate();const n=rte(t,{popupRedirectResolver:Pne,persistence:[Bte,Rte,w3]}),r=zU("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const s=Nne(i.toString());xte(n,s,()=>s(n.currentUser)),Ete(n,a=>s(a))}}const o=$U("auth");return o&&ite(n,`http://${o}`),n}function $ne(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Yee({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=o=>{const i=Tl("internal-error");i.customData=o,n(i)},r.type="text/javascript",r.charset="UTF-8",$ne().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});One("Browser");var Vne="firebase",zne="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tf(Vne,zne,"app");var yB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nf,I3;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,I){function A(){}A.prototype=I.prototype,D.D=I.prototype,D.prototype=new A,D.prototype.constructor=D,D.C=function(N,F,R){for(var V=Array(arguments.length-2),q=2;q<arguments.length;q++)V[q-2]=arguments[q];return I.prototype[F].apply(N,V)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,I,A){A||(A=0);var N=Array(16);if(typeof I=="string")for(var F=0;16>F;++F)N[F]=I.charCodeAt(A++)|I.charCodeAt(A++)<<8|I.charCodeAt(A++)<<16|I.charCodeAt(A++)<<24;else for(F=0;16>F;++F)N[F]=I[A++]|I[A++]<<8|I[A++]<<16|I[A++]<<24;I=D.g[0],A=D.g[1],F=D.g[2];var R=D.g[3],V=I+(R^A&(F^R))+N[0]+3614090360&4294967295;I=A+(V<<7&4294967295|V>>>25),V=R+(F^I&(A^F))+N[1]+3905402710&4294967295,R=I+(V<<12&4294967295|V>>>20),V=F+(A^R&(I^A))+N[2]+606105819&4294967295,F=R+(V<<17&4294967295|V>>>15),V=A+(I^F&(R^I))+N[3]+3250441966&4294967295,A=F+(V<<22&4294967295|V>>>10),V=I+(R^A&(F^R))+N[4]+4118548399&4294967295,I=A+(V<<7&4294967295|V>>>25),V=R+(F^I&(A^F))+N[5]+1200080426&4294967295,R=I+(V<<12&4294967295|V>>>20),V=F+(A^R&(I^A))+N[6]+2821735955&4294967295,F=R+(V<<17&4294967295|V>>>15),V=A+(I^F&(R^I))+N[7]+4249261313&4294967295,A=F+(V<<22&4294967295|V>>>10),V=I+(R^A&(F^R))+N[8]+1770035416&4294967295,I=A+(V<<7&4294967295|V>>>25),V=R+(F^I&(A^F))+N[9]+2336552879&4294967295,R=I+(V<<12&4294967295|V>>>20),V=F+(A^R&(I^A))+N[10]+4294925233&4294967295,F=R+(V<<17&4294967295|V>>>15),V=A+(I^F&(R^I))+N[11]+2304563134&4294967295,A=F+(V<<22&4294967295|V>>>10),V=I+(R^A&(F^R))+N[12]+1804603682&4294967295,I=A+(V<<7&4294967295|V>>>25),V=R+(F^I&(A^F))+N[13]+4254626195&4294967295,R=I+(V<<12&4294967295|V>>>20),V=F+(A^R&(I^A))+N[14]+2792965006&4294967295,F=R+(V<<17&4294967295|V>>>15),V=A+(I^F&(R^I))+N[15]+1236535329&4294967295,A=F+(V<<22&4294967295|V>>>10),V=I+(F^R&(A^F))+N[1]+4129170786&4294967295,I=A+(V<<5&4294967295|V>>>27),V=R+(A^F&(I^A))+N[6]+3225465664&4294967295,R=I+(V<<9&4294967295|V>>>23),V=F+(I^A&(R^I))+N[11]+643717713&4294967295,F=R+(V<<14&4294967295|V>>>18),V=A+(R^I&(F^R))+N[0]+3921069994&4294967295,A=F+(V<<20&4294967295|V>>>12),V=I+(F^R&(A^F))+N[5]+3593408605&4294967295,I=A+(V<<5&4294967295|V>>>27),V=R+(A^F&(I^A))+N[10]+38016083&4294967295,R=I+(V<<9&4294967295|V>>>23),V=F+(I^A&(R^I))+N[15]+3634488961&4294967295,F=R+(V<<14&4294967295|V>>>18),V=A+(R^I&(F^R))+N[4]+3889429448&4294967295,A=F+(V<<20&4294967295|V>>>12),V=I+(F^R&(A^F))+N[9]+568446438&4294967295,I=A+(V<<5&4294967295|V>>>27),V=R+(A^F&(I^A))+N[14]+3275163606&4294967295,R=I+(V<<9&4294967295|V>>>23),V=F+(I^A&(R^I))+N[3]+4107603335&4294967295,F=R+(V<<14&4294967295|V>>>18),V=A+(R^I&(F^R))+N[8]+1163531501&4294967295,A=F+(V<<20&4294967295|V>>>12),V=I+(F^R&(A^F))+N[13]+2850285829&4294967295,I=A+(V<<5&4294967295|V>>>27),V=R+(A^F&(I^A))+N[2]+4243563512&4294967295,R=I+(V<<9&4294967295|V>>>23),V=F+(I^A&(R^I))+N[7]+1735328473&4294967295,F=R+(V<<14&4294967295|V>>>18),V=A+(R^I&(F^R))+N[12]+2368359562&4294967295,A=F+(V<<20&4294967295|V>>>12),V=I+(A^F^R)+N[5]+4294588738&4294967295,I=A+(V<<4&4294967295|V>>>28),V=R+(I^A^F)+N[8]+2272392833&4294967295,R=I+(V<<11&4294967295|V>>>21),V=F+(R^I^A)+N[11]+1839030562&4294967295,F=R+(V<<16&4294967295|V>>>16),V=A+(F^R^I)+N[14]+4259657740&4294967295,A=F+(V<<23&4294967295|V>>>9),V=I+(A^F^R)+N[1]+2763975236&4294967295,I=A+(V<<4&4294967295|V>>>28),V=R+(I^A^F)+N[4]+1272893353&4294967295,R=I+(V<<11&4294967295|V>>>21),V=F+(R^I^A)+N[7]+4139469664&4294967295,F=R+(V<<16&4294967295|V>>>16),V=A+(F^R^I)+N[10]+3200236656&4294967295,A=F+(V<<23&4294967295|V>>>9),V=I+(A^F^R)+N[13]+681279174&4294967295,I=A+(V<<4&4294967295|V>>>28),V=R+(I^A^F)+N[0]+3936430074&4294967295,R=I+(V<<11&4294967295|V>>>21),V=F+(R^I^A)+N[3]+3572445317&4294967295,F=R+(V<<16&4294967295|V>>>16),V=A+(F^R^I)+N[6]+76029189&4294967295,A=F+(V<<23&4294967295|V>>>9),V=I+(A^F^R)+N[9]+3654602809&4294967295,I=A+(V<<4&4294967295|V>>>28),V=R+(I^A^F)+N[12]+3873151461&4294967295,R=I+(V<<11&4294967295|V>>>21),V=F+(R^I^A)+N[15]+530742520&4294967295,F=R+(V<<16&4294967295|V>>>16),V=A+(F^R^I)+N[2]+3299628645&4294967295,A=F+(V<<23&4294967295|V>>>9),V=I+(F^(A|~R))+N[0]+4096336452&4294967295,I=A+(V<<6&4294967295|V>>>26),V=R+(A^(I|~F))+N[7]+1126891415&4294967295,R=I+(V<<10&4294967295|V>>>22),V=F+(I^(R|~A))+N[14]+2878612391&4294967295,F=R+(V<<15&4294967295|V>>>17),V=A+(R^(F|~I))+N[5]+4237533241&4294967295,A=F+(V<<21&4294967295|V>>>11),V=I+(F^(A|~R))+N[12]+1700485571&4294967295,I=A+(V<<6&4294967295|V>>>26),V=R+(A^(I|~F))+N[3]+2399980690&4294967295,R=I+(V<<10&4294967295|V>>>22),V=F+(I^(R|~A))+N[10]+4293915773&4294967295,F=R+(V<<15&4294967295|V>>>17),V=A+(R^(F|~I))+N[1]+2240044497&4294967295,A=F+(V<<21&4294967295|V>>>11),V=I+(F^(A|~R))+N[8]+1873313359&4294967295,I=A+(V<<6&4294967295|V>>>26),V=R+(A^(I|~F))+N[15]+4264355552&4294967295,R=I+(V<<10&4294967295|V>>>22),V=F+(I^(R|~A))+N[6]+2734768916&4294967295,F=R+(V<<15&4294967295|V>>>17),V=A+(R^(F|~I))+N[13]+1309151649&4294967295,A=F+(V<<21&4294967295|V>>>11),V=I+(F^(A|~R))+N[4]+4149444226&4294967295,I=A+(V<<6&4294967295|V>>>26),V=R+(A^(I|~F))+N[11]+3174756917&4294967295,R=I+(V<<10&4294967295|V>>>22),V=F+(I^(R|~A))+N[2]+718787259&4294967295,F=R+(V<<15&4294967295|V>>>17),V=A+(R^(F|~I))+N[9]+3951481745&4294967295,D.g[0]=D.g[0]+I&4294967295,D.g[1]=D.g[1]+(F+(V<<21&4294967295|V>>>11))&4294967295,D.g[2]=D.g[2]+F&4294967295,D.g[3]=D.g[3]+R&4294967295}r.prototype.u=function(D,I){I===void 0&&(I=D.length);for(var A=I-this.blockSize,N=this.B,F=this.h,R=0;R<I;){if(F==0)for(;R<=A;)o(this,D,R),R+=this.blockSize;if(typeof D=="string"){for(;R<I;)if(N[F++]=D.charCodeAt(R++),F==this.blockSize){o(this,N),F=0;break}}else for(;R<I;)if(N[F++]=D[R++],F==this.blockSize){o(this,N),F=0;break}}this.h=F,this.o+=I},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var I=1;I<D.length-8;++I)D[I]=0;var A=8*this.o;for(I=D.length-8;I<D.length;++I)D[I]=A&255,A/=256;for(this.u(D),D=Array(16),I=A=0;4>I;++I)for(var N=0;32>N;N+=8)D[A++]=this.g[I]>>>N&255;return D};function i(D,I){var A=a;return Object.prototype.hasOwnProperty.call(A,D)?A[D]:A[D]=I(D)}function s(D,I){this.h=I;for(var A=[],N=!0,F=D.length-1;0<=F;F--){var R=D[F]|0;N&&R==I||(A[F]=R,N=!1)}this.g=A}var a={};function c(D){return-128<=D&&128>D?i(D,function(I){return new s([I|0],0>I?-1:0)}):new s([D|0],0>D?-1:0)}function d(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return C(d(-D));for(var I=[],A=1,N=0;D>=A;N++)I[N]=D/A|0,A*=4294967296;return new s(I,0)}function h(D,I){if(D.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(D.charAt(0)=="-")return C(h(D.substring(1),I));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=d(Math.pow(I,8)),N=p,F=0;F<D.length;F+=8){var R=Math.min(8,D.length-F),V=parseInt(D.substring(F,F+R),I);8>R?(R=d(Math.pow(I,R)),N=N.j(R).add(d(V))):(N=N.j(A),N=N.add(d(V)))}return N}var p=c(0),g=c(1),m=c(16777216);t=s.prototype,t.m=function(){if(S(this))return-C(this).m();for(var D=0,I=1,A=0;A<this.g.length;A++){var N=this.i(A);D+=(0<=N?N:4294967296+N)*I,I*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(v(this))return"0";if(S(this))return"-"+C(this).toString(D);for(var I=d(Math.pow(D,6)),A=this,N="";;){var F=P(A,I).g;A=x(A,F.j(I));var R=((0<A.g.length?A.g[0]:A.h)>>>0).toString(D);if(A=F,v(A))return R+N;for(;6>R.length;)R="0"+R;N=R+N}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function v(D){if(D.h!=0)return!1;for(var I=0;I<D.g.length;I++)if(D.g[I]!=0)return!1;return!0}function S(D){return D.h==-1}t.l=function(D){return D=x(this,D),S(D)?-1:v(D)?0:1};function C(D){for(var I=D.g.length,A=[],N=0;N<I;N++)A[N]=~D.g[N];return new s(A,~D.h).add(g)}t.abs=function(){return S(this)?C(this):this},t.add=function(D){for(var I=Math.max(this.g.length,D.g.length),A=[],N=0,F=0;F<=I;F++){var R=N+(this.i(F)&65535)+(D.i(F)&65535),V=(R>>>16)+(this.i(F)>>>16)+(D.i(F)>>>16);N=V>>>16,R&=65535,V&=65535,A[F]=V<<16|R}return new s(A,A[A.length-1]&-2147483648?-1:0)};function x(D,I){return D.add(C(I))}t.j=function(D){if(v(this)||v(D))return p;if(S(this))return S(D)?C(this).j(C(D)):C(C(this).j(D));if(S(D))return C(this.j(C(D)));if(0>this.l(m)&&0>D.l(m))return d(this.m()*D.m());for(var I=this.g.length+D.g.length,A=[],N=0;N<2*I;N++)A[N]=0;for(N=0;N<this.g.length;N++)for(var F=0;F<D.g.length;F++){var R=this.i(N)>>>16,V=this.i(N)&65535,q=D.i(F)>>>16,K=D.i(F)&65535;A[2*N+2*F]+=V*K,O(A,2*N+2*F),A[2*N+2*F+1]+=R*K,O(A,2*N+2*F+1),A[2*N+2*F+1]+=V*q,O(A,2*N+2*F+1),A[2*N+2*F+2]+=R*q,O(A,2*N+2*F+2)}for(N=0;N<I;N++)A[N]=A[2*N+1]<<16|A[2*N];for(N=I;N<2*I;N++)A[N]=0;return new s(A,0)};function O(D,I){for(;(D[I]&65535)!=D[I];)D[I+1]+=D[I]>>>16,D[I]&=65535,I++}function M(D,I){this.g=D,this.h=I}function P(D,I){if(v(I))throw Error("division by zero");if(v(D))return new M(p,p);if(S(D))return I=P(C(D),I),new M(C(I.g),C(I.h));if(S(I))return I=P(D,C(I)),new M(C(I.g),I.h);if(30<D.g.length){if(S(D)||S(I))throw Error("slowDivide_ only works with positive integers.");for(var A=g,N=I;0>=N.l(D);)A=k(A),N=k(N);var F=$(A,1),R=$(N,1);for(N=$(N,2),A=$(A,2);!v(N);){var V=R.add(N);0>=V.l(D)&&(F=F.add(A),R=V),N=$(N,1),A=$(A,1)}return I=x(D,F.j(I)),new M(F,I)}for(F=p;0<=D.l(I);){for(A=Math.max(1,Math.floor(D.m()/I.m())),N=Math.ceil(Math.log(A)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),R=d(A),V=R.j(I);S(V)||0<V.l(D);)A-=N,R=d(A),V=R.j(I);v(R)&&(R=g),F=F.add(R),D=x(D,V)}return new M(F,D)}t.A=function(D){return P(this,D).h},t.and=function(D){for(var I=Math.max(this.g.length,D.g.length),A=[],N=0;N<I;N++)A[N]=this.i(N)&D.i(N);return new s(A,this.h&D.h)},t.or=function(D){for(var I=Math.max(this.g.length,D.g.length),A=[],N=0;N<I;N++)A[N]=this.i(N)|D.i(N);return new s(A,this.h|D.h)},t.xor=function(D){for(var I=Math.max(this.g.length,D.g.length),A=[],N=0;N<I;N++)A[N]=this.i(N)^D.i(N);return new s(A,this.h^D.h)};function k(D){for(var I=D.g.length+1,A=[],N=0;N<I;N++)A[N]=D.i(N)<<1|D.i(N-1)>>>31;return new s(A,D.h)}function $(D,I){var A=I>>5;I%=32;for(var N=D.g.length-A,F=[],R=0;R<N;R++)F[R]=0<I?D.i(R+A)>>>I|D.i(R+A+1)<<32-I:D.i(R+A);return new s(F,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,I3=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=h,nf=s}).apply(typeof yB<"u"?yB:typeof self<"u"?self:typeof window<"u"?window:{});var p1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var R3,r0,P3,Y1,Tk,M3,k3,O3;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(E,B,W){return E==Array.prototype||E==Object.prototype||(E[B]=W.value),E};function n(E){E=[typeof globalThis=="object"&&globalThis,E,typeof window=="object"&&window,typeof self=="object"&&self,typeof p1=="object"&&p1];for(var B=0;B<E.length;++B){var W=E[B];if(W&&W.Math==Math)return W}throw Error("Cannot find global object")}var r=n(this);function o(E,B){if(B)e:{var W=r;E=E.split(".");for(var oe=0;oe<E.length-1;oe++){var be=E[oe];if(!(be in W))break e;W=W[be]}E=E[E.length-1],oe=W[E],B=B(oe),B!=oe&&B!=null&&e(W,E,{configurable:!0,writable:!0,value:B})}}function i(E,B){E instanceof String&&(E+="");var W=0,oe=!1,be={next:function(){if(!oe&&W<E.length){var Re=W++;return{value:B(Re,E[Re]),done:!1}}return oe=!0,{done:!0,value:void 0}}};return be[Symbol.iterator]=function(){return be},be}o("Array.prototype.values",function(E){return E||function(){return i(this,function(B,W){return W})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function c(E){var B=typeof E;return B=B!="object"?B:E?Array.isArray(E)?"array":B:"null",B=="array"||B=="object"&&typeof E.length=="number"}function d(E){var B=typeof E;return B=="object"&&E!=null||B=="function"}function h(E,B,W){return E.call.apply(E.bind,arguments)}function p(E,B,W){if(!E)throw Error();if(2<arguments.length){var oe=Array.prototype.slice.call(arguments,2);return function(){var be=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(be,oe),E.apply(B,be)}}return function(){return E.apply(B,arguments)}}function g(E,B,W){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function m(E,B){var W=Array.prototype.slice.call(arguments,1);return function(){var oe=W.slice();return oe.push.apply(oe,arguments),E.apply(this,oe)}}function v(E,B){function W(){}W.prototype=B.prototype,E.aa=B.prototype,E.prototype=new W,E.prototype.constructor=E,E.Qb=function(oe,be,Re){for(var rt=Array(arguments.length-2),Cn=2;Cn<arguments.length;Cn++)rt[Cn-2]=arguments[Cn];return B.prototype[be].apply(oe,rt)}}function S(E){const B=E.length;if(0<B){const W=Array(B);for(let oe=0;oe<B;oe++)W[oe]=E[oe];return W}return[]}function C(E,B){for(let W=1;W<arguments.length;W++){const oe=arguments[W];if(c(oe)){const be=E.length||0,Re=oe.length||0;E.length=be+Re;for(let rt=0;rt<Re;rt++)E[be+rt]=oe[rt]}else E.push(oe)}}class x{constructor(B,W){this.i=B,this.j=W,this.h=0,this.g=null}get(){let B;return 0<this.h?(this.h--,B=this.g,this.g=B.next,B.next=null):B=this.i(),B}}function O(E){return/^[\s\xa0]*$/.test(E)}function M(){var E=a.navigator;return E&&(E=E.userAgent)?E:""}function P(E){return P[" "](E),E}P[" "]=function(){};var k=M().indexOf("Gecko")!=-1&&!(M().toLowerCase().indexOf("webkit")!=-1&&M().indexOf("Edge")==-1)&&!(M().indexOf("Trident")!=-1||M().indexOf("MSIE")!=-1)&&M().indexOf("Edge")==-1;function $(E,B,W){for(const oe in E)B.call(W,E[oe],oe,E)}function D(E,B){for(const W in E)B.call(void 0,E[W],W,E)}function I(E){const B={};for(const W in E)B[W]=E[W];return B}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(E,B){let W,oe;for(let be=1;be<arguments.length;be++){oe=arguments[be];for(W in oe)E[W]=oe[W];for(let Re=0;Re<A.length;Re++)W=A[Re],Object.prototype.hasOwnProperty.call(oe,W)&&(E[W]=oe[W])}}function F(E){var B=1;E=E.split(":");const W=[];for(;0<B&&E.length;)W.push(E.shift()),B--;return E.length&&W.push(E.join(":")),W}function R(E){a.setTimeout(()=>{throw E},0)}function V(){var E=re;let B=null;return E.g&&(B=E.g,E.g=E.g.next,E.g||(E.h=null),B.next=null),B}class q{constructor(){this.h=this.g=null}add(B,W){const oe=K.get();oe.set(B,W),this.h?this.h.next=oe:this.g=oe,this.h=oe}}var K=new x(()=>new z,E=>E.reset());class z{constructor(){this.next=this.g=this.h=null}set(B,W){this.h=B,this.g=W,this.next=null}reset(){this.next=this.g=this.h=null}}let H,Z=!1,re=new q,j=()=>{const E=a.Promise.resolve(void 0);H=()=>{E.then(X)}};var X=()=>{for(var E;E=V();){try{E.h.call(E.g)}catch(W){R(W)}var B=K;B.j(E),100>B.h&&(B.h++,E.next=B.g,B.g=E)}Z=!1};function ne(){this.s=this.s,this.C=this.C}ne.prototype.s=!1,ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(E,B){this.type=E,this.g=this.target=B,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var se=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var E=!1,B=Object.defineProperty({},"passive",{get:function(){E=!0}});try{const W=()=>{};a.addEventListener("test",W,B),a.removeEventListener("test",W,B)}catch{}return E}();function ce(E,B){if(ie.call(this,E?E.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,E){var W=this.type=E.type,oe=E.changedTouches&&E.changedTouches.length?E.changedTouches[0]:null;if(this.target=E.target||E.srcElement,this.g=B,B=E.relatedTarget){if(k){e:{try{P(B.nodeName);var be=!0;break e}catch{}be=!1}be||(B=null)}}else W=="mouseover"?B=E.fromElement:W=="mouseout"&&(B=E.toElement);this.relatedTarget=B,oe?(this.clientX=oe.clientX!==void 0?oe.clientX:oe.pageX,this.clientY=oe.clientY!==void 0?oe.clientY:oe.pageY,this.screenX=oe.screenX||0,this.screenY=oe.screenY||0):(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0),this.button=E.button,this.key=E.key||"",this.ctrlKey=E.ctrlKey,this.altKey=E.altKey,this.shiftKey=E.shiftKey,this.metaKey=E.metaKey,this.pointerId=E.pointerId||0,this.pointerType=typeof E.pointerType=="string"?E.pointerType:ae[E.pointerType]||"",this.state=E.state,this.i=E,E.defaultPrevented&&ce.aa.h.call(this)}}v(ce,ie);var ae={2:"touch",3:"pen",4:"mouse"};ce.prototype.h=function(){ce.aa.h.call(this);var E=this.i;E.preventDefault?E.preventDefault():E.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),Ee=0;function Te(E,B,W,oe,be){this.listener=E,this.proxy=null,this.src=B,this.type=W,this.capture=!!oe,this.ha=be,this.key=++Ee,this.da=this.fa=!1}function le(E){E.da=!0,E.listener=null,E.proxy=null,E.src=null,E.ha=null}function pe(E){this.src=E,this.g={},this.h=0}pe.prototype.add=function(E,B,W,oe,be){var Re=E.toString();E=this.g[Re],E||(E=this.g[Re]=[],this.h++);var rt=xe(E,B,oe,be);return-1<rt?(B=E[rt],W||(B.fa=!1)):(B=new Te(B,this.src,Re,!!oe,be),B.fa=W,E.push(B)),B};function ye(E,B){var W=B.type;if(W in E.g){var oe=E.g[W],be=Array.prototype.indexOf.call(oe,B,void 0),Re;(Re=0<=be)&&Array.prototype.splice.call(oe,be,1),Re&&(le(B),E.g[W].length==0&&(delete E.g[W],E.h--))}}function xe(E,B,W,oe){for(var be=0;be<E.length;++be){var Re=E[be];if(!Re.da&&Re.listener==B&&Re.capture==!!W&&Re.ha==oe)return be}return-1}var Ce="closure_lm_"+(1e6*Math.random()|0),Pe={};function ze(E,B,W,oe,be){if(Array.isArray(B)){for(var Re=0;Re<B.length;Re++)ze(E,B[Re],W,oe,be);return null}return W=nt(W),E&&E[ge]?E.K(B,W,d(oe)?!!oe.capture:!1,be):Ke(E,B,W,!1,oe,be)}function Ke(E,B,W,oe,be,Re){if(!B)throw Error("Invalid event type");var rt=d(be)?!!be.capture:!!be,Cn=Ue(E);if(Cn||(E[Ce]=Cn=new pe(E)),W=Cn.add(B,W,oe,rt,Re),W.proxy)return W;if(oe=ke(),W.proxy=oe,oe.src=E,oe.listener=W,E.addEventListener)se||(be=rt),be===void 0&&(be=!1),E.addEventListener(B.toString(),oe,be);else if(E.attachEvent)E.attachEvent(at(B.toString()),oe);else if(E.addListener&&E.removeListener)E.addListener(oe);else throw Error("addEventListener and attachEvent are unavailable.");return W}function ke(){function E(W){return B.call(E.src,E.listener,W)}const B=he;return E}function ot(E,B,W,oe,be){if(Array.isArray(B))for(var Re=0;Re<B.length;Re++)ot(E,B[Re],W,oe,be);else oe=d(oe)?!!oe.capture:!!oe,W=nt(W),E&&E[ge]?(E=E.i,B=String(B).toString(),B in E.g&&(Re=E.g[B],W=xe(Re,W,oe,be),-1<W&&(le(Re[W]),Array.prototype.splice.call(Re,W,1),Re.length==0&&(delete E.g[B],E.h--)))):E&&(E=Ue(E))&&(B=E.g[B.toString()],E=-1,B&&(E=xe(B,W,oe,be)),(W=-1<E?B[E]:null)&&Ye(W))}function Ye(E){if(typeof E!="number"&&E&&!E.da){var B=E.src;if(B&&B[ge])ye(B.i,E);else{var W=E.type,oe=E.proxy;B.removeEventListener?B.removeEventListener(W,oe,E.capture):B.detachEvent?B.detachEvent(at(W),oe):B.addListener&&B.removeListener&&B.removeListener(oe),(W=Ue(B))?(ye(W,E),W.h==0&&(W.src=null,B[Ce]=null)):le(E)}}}function at(E){return E in Pe?Pe[E]:Pe[E]="on"+E}function he(E,B){if(E.da)E=!0;else{B=new ce(B,this);var W=E.listener,oe=E.ha||E.src;E.fa&&Ye(E),E=W.call(oe,B)}return E}function Ue(E){return E=E[Ce],E instanceof pe?E:null}var qe="__closure_events_fn_"+(1e9*Math.random()>>>0);function nt(E){return typeof E=="function"?E:(E[qe]||(E[qe]=function(B){return E.handleEvent(B)}),E[qe])}function Je(){ne.call(this),this.i=new pe(this),this.M=this,this.F=null}v(Je,ne),Je.prototype[ge]=!0,Je.prototype.removeEventListener=function(E,B,W,oe){ot(this,E,B,W,oe)};function Qe(E,B){var W,oe=E.F;if(oe)for(W=[];oe;oe=oe.F)W.push(oe);if(E=E.M,oe=B.type||B,typeof B=="string")B=new ie(B,E);else if(B instanceof ie)B.target=B.target||E;else{var be=B;B=new ie(oe,E),N(B,be)}if(be=!0,W)for(var Re=W.length-1;0<=Re;Re--){var rt=B.g=W[Re];be=dt(rt,oe,!0,B)&&be}if(rt=B.g=E,be=dt(rt,oe,!0,B)&&be,be=dt(rt,oe,!1,B)&&be,W)for(Re=0;Re<W.length;Re++)rt=B.g=W[Re],be=dt(rt,oe,!1,B)&&be}Je.prototype.N=function(){if(Je.aa.N.call(this),this.i){var E=this.i,B;for(B in E.g){for(var W=E.g[B],oe=0;oe<W.length;oe++)le(W[oe]);delete E.g[B],E.h--}}this.F=null},Je.prototype.K=function(E,B,W,oe){return this.i.add(String(E),B,!1,W,oe)},Je.prototype.L=function(E,B,W,oe){return this.i.add(String(E),B,!0,W,oe)};function dt(E,B,W,oe){if(B=E.i.g[String(B)],!B)return!0;B=B.concat();for(var be=!0,Re=0;Re<B.length;++Re){var rt=B[Re];if(rt&&!rt.da&&rt.capture==W){var Cn=rt.listener,Co=rt.ha||rt.src;rt.fa&&ye(E.i,rt),be=Cn.call(Co,oe)!==!1&&be}}return be&&!oe.defaultPrevented}function ht(E,B,W){if(typeof E=="function")W&&(E=g(E,W));else if(E&&typeof E.handleEvent=="function")E=g(E.handleEvent,E);else throw Error("Invalid listener argument");return 2147483647<Number(B)?-1:a.setTimeout(E,B||0)}function Ge(E){E.g=ht(()=>{E.g=null,E.i&&(E.i=!1,Ge(E))},E.l);const B=E.h;E.h=null,E.m.apply(null,B)}class De extends ne{constructor(B,W){super(),this.m=B,this.l=W,this.h=null,this.i=!1,this.g=null}j(B){this.h=arguments,this.g?this.i=!0:Ge(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function it(E){ne.call(this),this.h=E,this.g={}}v(it,ne);var Et=[];function gt(E){$(E.g,function(B,W){this.g.hasOwnProperty(W)&&Ye(B)},E),E.g={}}it.prototype.N=function(){it.aa.N.call(this),gt(this)},it.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mt=a.JSON.stringify,Ut=a.JSON.parse,Ot=class{stringify(E){return a.JSON.stringify(E,void 0)}parse(E){return a.JSON.parse(E,void 0)}};function mn(){}mn.prototype.h=null;function vt(E){return E.h||(E.h=E.i())}function Yt(){}var Zt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function An(){ie.call(this,"d")}v(An,ie);function _r(){ie.call(this,"c")}v(_r,ie);var Qn={},Tr=null;function jr(){return Tr=Tr||new Je}Qn.La="serverreachability";function Nt(E){ie.call(this,Qn.La,E)}v(Nt,ie);function Nn(E){const B=jr();Qe(B,new Nt(B))}Qn.STAT_EVENT="statevent";function ts(E,B){ie.call(this,Qn.STAT_EVENT,E),this.stat=B}v(ts,ie);function Fn(E){const B=jr();Qe(B,new ts(B,E))}Qn.Ma="timingevent";function Zn(E,B){ie.call(this,Qn.Ma,E),this.size=B}v(Zn,ie);function $n(E,B){if(typeof E!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){E()},B)}function Ur(){this.g=!0}Ur.prototype.xa=function(){this.g=!1};function la(E,B,W,oe,be,Re){E.info(function(){if(E.g)if(Re)for(var rt="",Cn=Re.split("&"),Co=0;Co<Cn.length;Co++){var En=Cn[Co].split("=");if(1<En.length){var Vo=En[0];En=En[1];var Eo=Vo.split("_");rt=2<=Eo.length&&Eo[1]=="type"?rt+(Vo+"="+En+"&"):rt+(Vo+"=redacted&")}}else rt=null;else rt=Re;return"XMLHTTP REQ ("+oe+") [attempt "+be+"]: "+B+`
`+W+`
`+rt})}function Df(E,B,W,oe,be,Re,rt){E.info(function(){return"XMLHTTP RESP ("+oe+") [ attempt "+be+"]: "+B+`
`+W+`
`+Re+" "+rt})}function ca(E,B,W,oe){E.info(function(){return"XMLHTTP TEXT ("+B+"): "+ws(E,W)+(oe?" "+oe:"")})}function Ad(E,B){E.info(function(){return"TIMEOUT: "+B})}Ur.prototype.info=function(){};function ws(E,B){if(!E.g)return B;if(!B)return null;try{var W=JSON.parse(B);if(W){for(E=0;E<W.length;E++)if(Array.isArray(W[E])){var oe=W[E];if(!(2>oe.length)){var be=oe[1];if(Array.isArray(be)&&!(1>be.length)){var Re=be[0];if(Re!="noop"&&Re!="stop"&&Re!="close")for(var rt=1;rt<be.length;rt++)be[rt]=""}}}}return mt(W)}catch{return B}}var Jn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},er={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},So;function ns(){}v(ns,mn),ns.prototype.g=function(){return new XMLHttpRequest},ns.prototype.i=function(){return{}},So=new ns;function eo(E,B,W,oe){this.j=E,this.i=B,this.l=W,this.R=oe||1,this.U=new it(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mr}function mr(){this.i=null,this.g="",this.h=!1}var Oe={},Me={};function lt(E,B,W){E.L=1,E.v=Ff(Es(B)),E.m=W,E.P=!0,Tt(E,null)}function Tt(E,B){E.F=Date.now(),Gn(E),E.A=Es(E.v);var W=E.A,oe=E.R;Array.isArray(oe)||(oe=[String(oe)]),zv(W.i,"t",oe),E.C=0,W=E.j.J,E.h=new mr,E.g=ox(E.j,W?B:null,!E.m),0<E.O&&(E.M=new De(g(E.Y,E,E.g),E.O)),B=E.U,W=E.g,oe=E.ca;var be="readystatechange";Array.isArray(be)||(be&&(Et[0]=be.toString()),be=Et);for(var Re=0;Re<be.length;Re++){var rt=ze(W,be[Re],oe||B.handleEvent,!1,B.h||B);if(!rt)break;B.g[rt.key]=rt}B=E.H?I(E.H):{},E.m?(E.u||(E.u="POST"),B["Content-Type"]="application/x-www-form-urlencoded",E.g.ea(E.A,E.u,E.m,B)):(E.u="GET",E.g.ea(E.A,E.u,null,B)),Nn(),la(E.i,E.u,E.A,E.l,E.R,E.m)}eo.prototype.ca=function(E){E=E.target;const B=this.M;B&&ga(E)==3?B.j():this.Y(E)},eo.prototype.Y=function(E){try{if(E==this.g)e:{const Eo=ga(this.g);var B=this.g.Ba();const Jc=this.g.Z();if(!(3>Eo)&&(Eo!=3||this.g&&(this.h.h||this.g.oa()||XE(this.g)))){this.J||Eo!=4||B==7||(B==8||0>=Jc?Nn(3):Nn(2)),Ss(this);var W=this.g.Z();this.X=W;t:if(Bt(this)){var oe=XE(this.g);E="";var be=oe.length,Re=ga(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gr(this),Cs(this);var rt="";break t}this.h.i=new a.TextDecoder}for(B=0;B<be;B++)this.h.h=!0,E+=this.h.i.decode(oe[B],{stream:!(Re&&B==be-1)});oe.length=0,this.h.g+=E,this.C=0,rt=this.h.g}else rt=this.g.oa();if(this.o=W==200,Df(this.i,this.u,this.A,this.l,this.R,Eo,W),this.o){if(this.T&&!this.K){t:{if(this.g){var Cn,Co=this.g;if((Cn=Co.g?Co.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(Cn)){var En=Cn;break t}}En=null}if(W=En)ca(this.i,this.l,W,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ua(this,W);else{this.o=!1,this.s=3,Fn(12),Gr(this),Cs(this);break e}}if(this.P){W=!0;let ni;for(;!this.J&&this.C<rt.length;)if(ni=Nr(this,rt),ni==Me){Eo==4&&(this.s=4,Fn(14),W=!1),ca(this.i,this.l,null,"[Incomplete Response]");break}else if(ni==Oe){this.s=4,Fn(15),ca(this.i,this.l,rt,"[Invalid Chunk]"),W=!1;break}else ca(this.i,this.l,ni,null),ua(this,ni);if(Bt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Eo!=4||rt.length!=0||this.h.h||(this.s=1,Fn(16),W=!1),this.o=this.o&&W,!W)ca(this.i,this.l,rt,"[Invalid Chunked Response]"),Gr(this),Cs(this);else if(0<rt.length&&!this.W){this.W=!0;var Vo=this.j;Vo.g==this&&Vo.ba&&!Vo.M&&(Vo.j.info("Great, no buffering proxy detected. Bytes received: "+rt.length),Gf(Vo),Vo.M=!0,Fn(11))}}else ca(this.i,this.l,rt,null),ua(this,rt);Eo==4&&Gr(this),this.o&&!this.J&&(Eo==4?tx(this.j,this):(this.o=!1,Gn(this)))}else WI(this.g),W==400&&0<rt.indexOf("Unknown SID")?(this.s=3,Fn(12)):(this.s=0,Fn(13)),Gr(this),Cs(this)}}}catch{}finally{}};function Bt(E){return E.g?E.u=="GET"&&E.L!=2&&E.j.Ca:!1}function Nr(E,B){var W=E.C,oe=B.indexOf(`
`,W);return oe==-1?Me:(W=Number(B.substring(W,oe)),isNaN(W)?Oe:(oe+=1,oe+W>B.length?Me:(B=B.slice(oe,oe+W),E.C=oe+W,B)))}eo.prototype.cancel=function(){this.J=!0,Gr(this)};function Gn(E){E.S=Date.now()+E.I,wi(E,E.I)}function wi(E,B){if(E.B!=null)throw Error("WatchDog timer not null");E.B=$n(g(E.ba,E),B)}function Ss(E){E.B&&(a.clearTimeout(E.B),E.B=null)}eo.prototype.ba=function(){this.B=null;const E=Date.now();0<=E-this.S?(Ad(this.i,this.A),this.L!=2&&(Nn(),Fn(17)),Gr(this),this.s=2,Cs(this)):wi(this,this.S-E)};function Cs(E){E.j.G==0||E.J||tx(E.j,E)}function Gr(E){Ss(E);var B=E.M;B&&typeof B.ma=="function"&&B.ma(),E.M=null,gt(E.U),E.g&&(B=E.g,E.g=null,B.abort(),B.ma())}function ua(E,B){try{var W=E.j;if(W.G!=0&&(W.g==E||Lv(W.h,E))){if(!E.K&&Lv(W.h,E)&&W.G==3){try{var oe=W.Da.g.parse(B)}catch{oe=null}if(Array.isArray(oe)&&oe.length==3){var be=oe;if(be[0]==0){e:if(!W.u){if(W.g)if(W.g.F+3e3<E.F)xm(W),Cm(W);else break e;Gv(W),Fn(18)}}else W.za=be[1],0<W.za-W.T&&37500>be[2]&&W.F&&W.v==0&&!W.C&&(W.C=$n(g(W.Za,W),6e3));if(1>=da(W.h)&&W.ca){try{W.ca()}catch{}W.ca=void 0}}else Zc(W,11)}else if((E.K||W.g==E)&&xm(W),!O(B))for(be=W.Da.g.parse(B),B=0;B<be.length;B++){let En=be[B];if(W.T=En[0],En=En[1],W.G==2)if(En[0]=="c"){W.K=En[1],W.ia=En[2];const Vo=En[3];Vo!=null&&(W.la=Vo,W.j.info("VER="+W.la));const Eo=En[4];Eo!=null&&(W.Aa=Eo,W.j.info("SVER="+W.Aa));const Jc=En[5];Jc!=null&&typeof Jc=="number"&&0<Jc&&(oe=1.5*Jc,W.L=oe,W.j.info("backChannelRequestTimeoutMs_="+oe)),oe=W;const ni=E.g;if(ni){const Gl=ni.g?ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gl){var Re=oe.h;Re.g||Gl.indexOf("spdy")==-1&&Gl.indexOf("quic")==-1&&Gl.indexOf("h2")==-1||(Re.j=Re.l,Re.g=new Set,Re.h&&(gm(Re,Re.h),Re.h=null))}if(oe.D){const qv=ni.g?ni.g.getResponseHeader("X-HTTP-Session-Id"):null;qv&&(oe.ya=qv,tr(oe.I,oe.D,qv))}}W.G=3,W.l&&W.l.ua(),W.ba&&(W.R=Date.now()-E.F,W.j.info("Handshake RTT: "+W.R+"ms")),oe=W;var rt=E;if(oe.qa=rx(oe,oe.J?oe.ia:null,oe.W),rt.K){$i(oe.h,rt);var Cn=rt,Co=oe.L;Co&&(Cn.I=Co),Cn.B&&(Ss(Cn),Gn(Cn)),oe.g=rt}else JE(oe);0<W.i.length&&Em(W)}else En[0]!="stop"&&En[0]!="close"||Zc(W,7);else W.G==3&&(En[0]=="stop"||En[0]=="close"?En[0]=="stop"?Zc(W,7):jv(W):En[0]!="noop"&&W.l&&W.l.ta(En),W.v=0)}}Nn(4)}catch{}}var un=class{constructor(E,B){this.g=E,this.map=B}};function Fo(E){this.l=E||10,a.PerformanceNavigationTiming?(E=a.performance.getEntriesByType("navigation"),E=0<E.length&&(E[0].nextHopProtocol=="hq"||E[0].nextHopProtocol=="h2")):E=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=E?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Fi(E){return E.h?!0:E.g?E.g.size>=E.j:!1}function da(E){return E.h?1:E.g?E.g.size:0}function Lv(E,B){return E.h?E.h==B:E.g?E.g.has(B):!1}function gm(E,B){E.g?E.g.add(B):E.h=B}function $i(E,B){E.h&&E.h==B?E.h=null:E.g&&E.g.has(B)&&E.g.delete(B)}Fo.prototype.cancel=function(){if(this.i=Nv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const E of this.g.values())E.cancel();this.g.clear()}};function Nv(E){if(E.h!=null)return E.i.concat(E.h.D);if(E.g!=null&&E.g.size!==0){let B=E.i;for(const W of E.g.values())B=B.concat(W.D);return B}return S(E.i)}function HI(E){if(E.V&&typeof E.V=="function")return E.V();if(typeof Map<"u"&&E instanceof Map||typeof Set<"u"&&E instanceof Set)return Array.from(E.values());if(typeof E=="string")return E.split("");if(c(E)){for(var B=[],W=E.length,oe=0;oe<W;oe++)B.push(E[oe]);return B}B=[],W=0;for(oe in E)B[W++]=E[oe];return B}function mm(E){if(E.na&&typeof E.na=="function")return E.na();if(!E.V||typeof E.V!="function"){if(typeof Map<"u"&&E instanceof Map)return Array.from(E.keys());if(!(typeof Set<"u"&&E instanceof Set)){if(c(E)||typeof E=="string"){var B=[];E=E.length;for(var W=0;W<E;W++)B.push(W);return B}B=[],W=0;for(const oe in E)B[W++]=oe;return B}}}function Fv(E,B){if(E.forEach&&typeof E.forEach=="function")E.forEach(B,void 0);else if(c(E)||typeof E=="string")Array.prototype.forEach.call(E,B,void 0);else for(var W=mm(E),oe=HI(E),be=oe.length,Re=0;Re<be;Re++)B.call(void 0,oe[Re],W&&W[Re],E)}var Lf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jI(E,B){if(E){E=E.split("&");for(var W=0;W<E.length;W++){var oe=E[W].indexOf("="),be=null;if(0<=oe){var Re=E[W].substring(0,oe);be=E[W].substring(oe+1)}else Re=E[W];B(Re,be?decodeURIComponent(be.replace(/\+/g," ")):"")}}}function ho(E){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,E instanceof ho){this.h=E.h,Nf(this,E.j),this.o=E.o,this.g=E.g,Id(this,E.s),this.l=E.l;var B=E.i,W=new Kc;W.i=B.i,B.g&&(W.g=new Map(B.g),W.h=B.h),qc(this,W),this.m=E.m}else E&&(B=String(E).match(Lf))?(this.h=!1,Nf(this,B[1]||"",!0),this.o=ha(B[2]||""),this.g=ha(B[3]||"",!0),Id(this,B[4]),this.l=ha(B[5]||"",!0),qc(this,B[6]||"",!0),this.m=ha(B[7]||"")):(this.h=!1,this.i=new Kc(null,this.h))}ho.prototype.toString=function(){var E=[],B=this.j;B&&E.push($f(B,$v,!0),":");var W=this.g;return(W||B=="file")&&(E.push("//"),(B=this.o)&&E.push($f(B,$v,!0),"@"),E.push(encodeURIComponent(String(W)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),W=this.s,W!=null&&E.push(":",String(W))),(W=this.l)&&(this.g&&W.charAt(0)!="/"&&E.push("/"),E.push($f(W,W.charAt(0)=="/"?UI:Vv,!0))),(W=this.i.toString())&&E.push("?",W),(W=this.m)&&E.push("#",$f(W,ym)),E.join("")};function Es(E){return new ho(E)}function Nf(E,B,W){E.j=W?ha(B,!0):B,E.j&&(E.j=E.j.replace(/:$/,""))}function Id(E,B){if(B){if(B=Number(B),isNaN(B)||0>B)throw Error("Bad port number "+B);E.s=B}else E.s=null}function qc(E,B,W){B instanceof Kc?(E.i=B,KE(E.i,E.h)):(W||(B=$f(B,GI)),E.i=new Kc(B,E.h))}function tr(E,B,W){E.i.set(B,W)}function Ff(E){return tr(E,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),E}function ha(E,B){return E?B?decodeURI(E.replace(/%25/g,"%2525")):decodeURIComponent(E):""}function $f(E,B,W){return typeof E=="string"?(E=encodeURI(E).replace(B,qE),W&&(E=E.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E):null}function qE(E){return E=E.charCodeAt(0),"%"+(E>>4&15).toString(16)+(E&15).toString(16)}var $v=/[#\/\?@]/g,Vv=/[#\?:]/g,UI=/[#\?]/g,GI=/[#\?@]/g,ym=/#/g;function Kc(E,B){this.h=this.g=null,this.i=E||null,this.j=!!B}function fa(E){E.g||(E.g=new Map,E.h=0,E.i&&jI(E.i,function(B,W){E.add(decodeURIComponent(B.replace(/\+/g," ")),W)}))}t=Kc.prototype,t.add=function(E,B){fa(this),this.i=null,E=Vl(this,E);var W=this.g.get(E);return W||this.g.set(E,W=[]),W.push(B),this.h+=1,this};function Yc(E,B){fa(E),B=Vl(E,B),E.g.has(B)&&(E.i=null,E.h-=E.g.get(B).length,E.g.delete(B))}function Xc(E,B){return fa(E),B=Vl(E,B),E.g.has(B)}t.forEach=function(E,B){fa(this),this.g.forEach(function(W,oe){W.forEach(function(be){E.call(B,be,oe,this)},this)},this)},t.na=function(){fa(this);const E=Array.from(this.g.values()),B=Array.from(this.g.keys()),W=[];for(let oe=0;oe<B.length;oe++){const be=E[oe];for(let Re=0;Re<be.length;Re++)W.push(B[oe])}return W},t.V=function(E){fa(this);let B=[];if(typeof E=="string")Xc(this,E)&&(B=B.concat(this.g.get(Vl(this,E))));else{E=Array.from(this.g.values());for(let W=0;W<E.length;W++)B=B.concat(E[W])}return B},t.set=function(E,B){return fa(this),this.i=null,E=Vl(this,E),Xc(this,E)&&(this.h-=this.g.get(E).length),this.g.set(E,[B]),this.h+=1,this},t.get=function(E,B){return E?(E=this.V(E),0<E.length?String(E[0]):B):B};function zv(E,B,W){Yc(E,B),0<W.length&&(E.i=null,E.g.set(Vl(E,B),S(W)),E.h+=W.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const E=[],B=Array.from(this.g.keys());for(var W=0;W<B.length;W++){var oe=B[W];const Re=encodeURIComponent(String(oe)),rt=this.V(oe);for(oe=0;oe<rt.length;oe++){var be=Re;rt[oe]!==""&&(be+="="+encodeURIComponent(String(rt[oe]))),E.push(be)}}return this.i=E.join("&")};function Vl(E,B){return B=String(B),E.j&&(B=B.toLowerCase()),B}function KE(E,B){B&&!E.j&&(fa(E),E.i=null,E.g.forEach(function(W,oe){var be=oe.toLowerCase();oe!=be&&(Yc(this,oe),zv(this,be,W))},E)),E.j=B}function Vf(E,B){const W=new Ur;if(a.Image){const oe=new Image;oe.onload=m(pa,W,"TestLoadImage: loaded",!0,B,oe),oe.onerror=m(pa,W,"TestLoadImage: error",!1,B,oe),oe.onabort=m(pa,W,"TestLoadImage: abort",!1,B,oe),oe.ontimeout=m(pa,W,"TestLoadImage: timeout",!1,B,oe),a.setTimeout(function(){oe.ontimeout&&oe.ontimeout()},1e4),oe.src=E}else B(!1)}function tl(E,B){const W=new Ur,oe=new AbortController,be=setTimeout(()=>{oe.abort(),pa(W,"TestPingServer: timeout",!1,B)},1e4);fetch(E,{signal:oe.signal}).then(Re=>{clearTimeout(be),Re.ok?pa(W,"TestPingServer: ok",!0,B):pa(W,"TestPingServer: server error",!1,B)}).catch(()=>{clearTimeout(be),pa(W,"TestPingServer: error",!1,B)})}function pa(E,B,W,oe,be){try{be&&(be.onload=null,be.onerror=null,be.onabort=null,be.ontimeout=null),oe(W)}catch{}}function zf(){this.g=new Ot}function zl(E,B,W){const oe=W||"";try{Fv(E,function(be,Re){let rt=be;d(be)&&(rt=mt(be)),B.push(oe+Re+"="+encodeURIComponent(rt))})}catch(be){throw B.push(oe+"type="+encodeURIComponent("_badmap")),be}}function Rd(E){this.l=E.Ub||null,this.j=E.eb||!1}v(Rd,mn),Rd.prototype.g=function(){return new Qc(this.l,this.j)},Rd.prototype.i=function(E){return function(){return E}}({});function Qc(E,B){Je.call(this),this.D=E,this.o=B,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Qc,Je),t=Qc.prototype,t.open=function(E,B){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=E,this.A=B,this.readyState=1,Hl(this)},t.send=function(E){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const B={headers:this.u,method:this.B,credentials:this.m,cache:void 0};E&&(B.body=E),(this.D||a).fetch(new Request(this.A,B)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Bl(this)),this.readyState=0},t.Sa=function(E){if(this.g&&(this.l=E,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=E.headers,this.readyState=2,Hl(this)),this.g&&(this.readyState=3,Hl(this),this.g)))if(this.responseType==="arraybuffer")E.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in E){if(this.j=E.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bv(this)}else E.text().then(this.Ra.bind(this),this.ga.bind(this))};function Bv(E){E.j.read().then(E.Pa.bind(E)).catch(E.ga.bind(E))}t.Pa=function(E){if(this.g){if(this.o&&E.value)this.response.push(E.value);else if(!this.o){var B=E.value?E.value:new Uint8Array(0);(B=this.v.decode(B,{stream:!E.done}))&&(this.response=this.responseText+=B)}E.done?Bl(this):Hl(this),this.readyState==3&&Bv(this)}},t.Ra=function(E){this.g&&(this.response=this.responseText=E,Bl(this))},t.Qa=function(E){this.g&&(this.response=E,Bl(this))},t.ga=function(){this.g&&Bl(this)};function Bl(E){E.readyState=4,E.l=null,E.j=null,E.v=null,Hl(E)}t.setRequestHeader=function(E,B){this.u.append(E,B)},t.getResponseHeader=function(E){return this.h&&this.h.get(E.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const E=[],B=this.h.entries();for(var W=B.next();!W.done;)W=W.value,E.push(W[0]+": "+W[1]),W=B.next();return E.join(`\r
`)};function Hl(E){E.onreadystatechange&&E.onreadystatechange.call(E)}Object.defineProperty(Qc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(E){this.m=E?"include":"same-origin"}});function Hv(E){let B="";return $(E,function(W,oe){B+=oe,B+=":",B+=W,B+=`\r
`}),B}function $o(E,B,W){e:{for(oe in W){var oe=!1;break e}oe=!0}oe||(W=Hv(W),typeof E=="string"?W!=null&&encodeURIComponent(String(W)):tr(E,B,W))}function Vn(E){Je.call(this),this.headers=new Map,this.o=E||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(Vn,Je);var bm=/^https?$/i,Bf=["POST","PUT"];t=Vn.prototype,t.Ha=function(E){this.J=E},t.ea=function(E,B,W,oe){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+E);B=B?B.toUpperCase():"GET",this.D=E,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():So.g(),this.v=this.o?vt(this.o):vt(So),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(B,String(E),!0),this.B=!1}catch(Re){YE(this,Re);return}if(E=W||"",W=new Map(this.headers),oe)if(Object.getPrototypeOf(oe)===Object.prototype)for(var be in oe)W.set(be,oe[be]);else if(typeof oe.keys=="function"&&typeof oe.get=="function")for(const Re of oe.keys())W.set(Re,oe.get(Re));else throw Error("Unknown input type for opt_headers: "+String(oe));oe=Array.from(W.keys()).find(Re=>Re.toLowerCase()=="content-type"),be=a.FormData&&E instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Bf,B,void 0))||oe||be||W.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Re,rt]of W)this.g.setRequestHeader(Re,rt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Hf(this),this.u=!0,this.g.send(E),this.u=!1}catch(Re){YE(this,Re)}};function YE(E,B){E.h=!1,E.g&&(E.j=!0,E.g.abort(),E.j=!1),E.l=B,E.m=5,vm(E),jl(E)}function vm(E){E.A||(E.A=!0,Qe(E,"complete"),Qe(E,"error"))}t.abort=function(E){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=E||7,Qe(this,"complete"),Qe(this,"abort"),jl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jl(this,!0)),Vn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?wm(this):this.bb())},t.bb=function(){wm(this)};function wm(E){if(E.h&&typeof s<"u"&&(!E.v[1]||ga(E)!=4||E.Z()!=2)){if(E.u&&ga(E)==4)ht(E.Ea,0,E);else if(Qe(E,"readystatechange"),ga(E)==4){E.h=!1;try{const rt=E.Z();e:switch(rt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var B=!0;break e;default:B=!1}var W;if(!(W=B)){var oe;if(oe=rt===0){var be=String(E.D).match(Lf)[1]||null;!be&&a.self&&a.self.location&&(be=a.self.location.protocol.slice(0,-1)),oe=!bm.test(be?be.toLowerCase():"")}W=oe}if(W)Qe(E,"complete"),Qe(E,"success");else{E.m=6;try{var Re=2<ga(E)?E.g.statusText:""}catch{Re=""}E.l=Re+" ["+E.Z()+"]",vm(E)}}finally{jl(E)}}}}function jl(E,B){if(E.g){Hf(E);const W=E.g,oe=E.v[0]?()=>{}:null;E.g=null,E.v=null,B||Qe(E,"ready");try{W.onreadystatechange=oe}catch{}}}function Hf(E){E.I&&(a.clearTimeout(E.I),E.I=null)}t.isActive=function(){return!!this.g};function ga(E){return E.g?E.g.readyState:0}t.Z=function(){try{return 2<ga(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(E){if(this.g){var B=this.g.responseText;return E&&B.indexOf(E)==0&&(B=B.substring(E.length)),Ut(B)}};function XE(E){try{if(!E.g)return null;if("response"in E.g)return E.g.response;switch(E.H){case"":case"text":return E.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in E.g)return E.g.mozResponseArrayBuffer}return null}catch{return null}}function WI(E){const B={};E=(E.g&&2<=ga(E)&&E.g.getAllResponseHeaders()||"").split(`\r
`);for(let oe=0;oe<E.length;oe++){if(O(E[oe]))continue;var W=F(E[oe]);const be=W[0];if(W=W[1],typeof W!="string")continue;W=W.trim();const Re=B[be]||[];B[be]=Re,Re.push(W)}D(B,function(oe){return oe.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function jf(E,B,W){return W&&W.internalChannelParams&&W.internalChannelParams[E]||B}function Sm(E){this.Aa=0,this.i=[],this.j=new Ur,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=jf("failFast",!1,E),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=jf("baseRetryDelayMs",5e3,E),this.cb=jf("retryDelaySeedMs",1e4,E),this.Wa=jf("forwardChannelMaxRetries",2,E),this.wa=jf("forwardChannelRequestTimeoutMs",2e4,E),this.pa=E&&E.xmlHttpFactory||void 0,this.Xa=E&&E.Tb||void 0,this.Ca=E&&E.useFetchStreams||!1,this.L=void 0,this.J=E&&E.supportsCrossDomainXhr||!1,this.K="",this.h=new Fo(E&&E.concurrentRequestLimit),this.Da=new zf,this.P=E&&E.fastHandshake||!1,this.O=E&&E.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=E&&E.Rb||!1,E&&E.xa&&this.j.xa(),E&&E.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&E&&E.detectBufferingProxy||!1,this.ja=void 0,E&&E.longPollingTimeout&&0<E.longPollingTimeout&&(this.ja=E.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Sm.prototype,t.la=8,t.G=1,t.connect=function(E,B,W,oe){Fn(0),this.W=E,this.H=B||{},W&&oe!==void 0&&(this.H.OSID=W,this.H.OAID=oe),this.F=this.X,this.I=rx(this,null,this.W),Em(this)};function jv(E){if(QE(E),E.G==3){var B=E.U++,W=Es(E.I);if(tr(W,"SID",E.K),tr(W,"RID",B),tr(W,"TYPE","terminate"),Uf(E,W),B=new eo(E,E.j,B),B.L=2,B.v=Ff(Es(W)),W=!1,a.navigator&&a.navigator.sendBeacon)try{W=a.navigator.sendBeacon(B.v.toString(),"")}catch{}!W&&a.Image&&(new Image().src=B.v,W=!0),W||(B.g=ox(B.j,null),B.g.ea(B.v)),B.F=Date.now(),Gn(B)}nx(E)}function Cm(E){E.g&&(Gf(E),E.g.cancel(),E.g=null)}function QE(E){Cm(E),E.u&&(a.clearTimeout(E.u),E.u=null),xm(E),E.h.cancel(),E.s&&(typeof E.s=="number"&&a.clearTimeout(E.s),E.s=null)}function Em(E){if(!Fi(E.h)&&!E.s){E.s=!0;var B=E.Ga;H||j(),Z||(H(),Z=!0),re.add(B,E),E.B=0}}function qI(E,B){return da(E.h)>=E.h.j-(E.s?1:0)?!1:E.s?(E.i=B.D.concat(E.i),!0):E.G==1||E.G==2||E.B>=(E.Va?0:E.Wa)?!1:(E.s=$n(g(E.Ga,E,B),Wv(E,E.B)),E.B++,!0)}t.Ga=function(E){if(this.s)if(this.s=null,this.G==1){if(!E){this.U=Math.floor(1e5*Math.random()),E=this.U++;const be=new eo(this,this.j,E);let Re=this.o;if(this.S&&(Re?(Re=I(Re),N(Re,this.S)):Re=this.S),this.m!==null||this.O||(be.H=Re,Re=null),this.P)e:{for(var B=0,W=0;W<this.i.length;W++){t:{var oe=this.i[W];if("__data__"in oe.map&&(oe=oe.map.__data__,typeof oe=="string")){oe=oe.length;break t}oe=void 0}if(oe===void 0)break;if(B+=oe,4096<B){B=W;break e}if(B===4096||W===this.i.length-1){B=W+1;break e}}B=1e3}else B=1e3;B=ZE(this,be,B),W=Es(this.I),tr(W,"RID",E),tr(W,"CVER",22),this.D&&tr(W,"X-HTTP-Session-Id",this.D),Uf(this,W),Re&&(this.O?B="headers="+encodeURIComponent(String(Hv(Re)))+"&"+B:this.m&&$o(W,this.m,Re)),gm(this.h,be),this.Ua&&tr(W,"TYPE","init"),this.P?(tr(W,"$req",B),tr(W,"SID","null"),be.T=!0,lt(be,W,null)):lt(be,W,B),this.G=2}}else this.G==3&&(E?Uv(this,E):this.i.length==0||Fi(this.h)||Uv(this))};function Uv(E,B){var W;B?W=B.l:W=E.U++;const oe=Es(E.I);tr(oe,"SID",E.K),tr(oe,"RID",W),tr(oe,"AID",E.T),Uf(E,oe),E.m&&E.o&&$o(oe,E.m,E.o),W=new eo(E,E.j,W,E.B+1),E.m===null&&(W.H=E.o),B&&(E.i=B.D.concat(E.i)),B=ZE(E,W,1e3),W.I=Math.round(.5*E.wa)+Math.round(.5*E.wa*Math.random()),gm(E.h,W),lt(W,oe,B)}function Uf(E,B){E.H&&$(E.H,function(W,oe){tr(B,oe,W)}),E.l&&Fv({},function(W,oe){tr(B,oe,W)})}function ZE(E,B,W){W=Math.min(E.i.length,W);var oe=E.l?g(E.l.Na,E.l,E):null;e:{var be=E.i;let Re=-1;for(;;){const rt=["count="+W];Re==-1?0<W?(Re=be[0].g,rt.push("ofs="+Re)):Re=0:rt.push("ofs="+Re);let Cn=!0;for(let Co=0;Co<W;Co++){let En=be[Co].g;const Vo=be[Co].map;if(En-=Re,0>En)Re=Math.max(0,be[Co].g-100),Cn=!1;else try{zl(Vo,rt,"req"+En+"_")}catch{oe&&oe(Vo)}}if(Cn){oe=rt.join("&");break e}}}return E=E.i.splice(0,W),B.D=E,oe}function JE(E){if(!E.g&&!E.u){E.Y=1;var B=E.Fa;H||j(),Z||(H(),Z=!0),re.add(B,E),E.v=0}}function Gv(E){return E.g||E.u||3<=E.v?!1:(E.Y++,E.u=$n(g(E.Fa,E),Wv(E,E.v)),E.v++,!0)}t.Fa=function(){if(this.u=null,ex(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var E=2*this.R;this.j.info("BP detection timer enabled: "+E),this.A=$n(g(this.ab,this),E)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Fn(10),Cm(this),ex(this))};function Gf(E){E.A!=null&&(a.clearTimeout(E.A),E.A=null)}function ex(E){E.g=new eo(E,E.j,"rpc",E.Y),E.m===null&&(E.g.H=E.o),E.g.O=0;var B=Es(E.qa);tr(B,"RID","rpc"),tr(B,"SID",E.K),tr(B,"AID",E.T),tr(B,"CI",E.F?"0":"1"),!E.F&&E.ja&&tr(B,"TO",E.ja),tr(B,"TYPE","xmlhttp"),Uf(E,B),E.m&&E.o&&$o(B,E.m,E.o),E.L&&(E.g.I=E.L);var W=E.g;E=E.ia,W.L=1,W.v=Ff(Es(B)),W.m=null,W.P=!0,Tt(W,E)}t.Za=function(){this.C!=null&&(this.C=null,Cm(this),Gv(this),Fn(19))};function xm(E){E.C!=null&&(a.clearTimeout(E.C),E.C=null)}function tx(E,B){var W=null;if(E.g==B){xm(E),Gf(E),E.g=null;var oe=2}else if(Lv(E.h,B))W=B.D,$i(E.h,B),oe=1;else return;if(E.G!=0){if(B.o)if(oe==1){W=B.m?B.m.length:0,B=Date.now()-B.F;var be=E.B;oe=jr(),Qe(oe,new Zn(oe,W)),Em(E)}else JE(E);else if(be=B.s,be==3||be==0&&0<B.X||!(oe==1&&qI(E,B)||oe==2&&Gv(E)))switch(W&&0<W.length&&(B=E.h,B.i=B.i.concat(W)),be){case 1:Zc(E,5);break;case 4:Zc(E,10);break;case 3:Zc(E,6);break;default:Zc(E,2)}}}function Wv(E,B){let W=E.Ta+Math.floor(Math.random()*E.cb);return E.isActive()||(W*=2),W*B}function Zc(E,B){if(E.j.info("Error code "+B),B==2){var W=g(E.fb,E),oe=E.Xa;const be=!oe;oe=new ho(oe||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Nf(oe,"https"),Ff(oe),be?Vf(oe.toString(),W):tl(oe.toString(),W)}else Fn(2);E.G=0,E.l&&E.l.sa(B),nx(E),QE(E)}t.fb=function(E){E?(this.j.info("Successfully pinged google.com"),Fn(2)):(this.j.info("Failed to ping google.com"),Fn(1))};function nx(E){if(E.G=0,E.ka=[],E.l){const B=Nv(E.h);(B.length!=0||E.i.length!=0)&&(C(E.ka,B),C(E.ka,E.i),E.h.i.length=0,S(E.i),E.i.length=0),E.l.ra()}}function rx(E,B,W){var oe=W instanceof ho?Es(W):new ho(W);if(oe.g!="")B&&(oe.g=B+"."+oe.g),Id(oe,oe.s);else{var be=a.location;oe=be.protocol,B=B?B+"."+be.hostname:be.hostname,be=+be.port;var Re=new ho(null);oe&&Nf(Re,oe),B&&(Re.g=B),be&&Id(Re,be),W&&(Re.l=W),oe=Re}return W=E.D,B=E.ya,W&&B&&tr(oe,W,B),tr(oe,"VER",E.la),Uf(E,oe),oe}function ox(E,B,W){if(B&&!E.J)throw Error("Can't create secondary domain capable XhrIo object.");return B=E.Ca&&!E.pa?new Vn(new Rd({eb:W})):new Vn(E.pa),B.Ha(E.J),B}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ix(){}t=ix.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function _m(){}_m.prototype.g=function(E,B){return new Vi(E,B)};function Vi(E,B){Je.call(this),this.g=new Sm(B),this.l=E,this.h=B&&B.messageUrlParams||null,E=B&&B.messageHeaders||null,B&&B.clientProtocolHeaderRequired&&(E?E["X-Client-Protocol"]="webchannel":E={"X-Client-Protocol":"webchannel"}),this.g.o=E,E=B&&B.initMessageHeaders||null,B&&B.messageContentType&&(E?E["X-WebChannel-Content-Type"]=B.messageContentType:E={"X-WebChannel-Content-Type":B.messageContentType}),B&&B.va&&(E?E["X-WebChannel-Client-Profile"]=B.va:E={"X-WebChannel-Client-Profile":B.va}),this.g.S=E,(E=B&&B.Sb)&&!O(E)&&(this.g.m=E),this.v=B&&B.supportsCrossDomainXhr||!1,this.u=B&&B.sendRawJson||!1,(B=B&&B.httpSessionIdParam)&&!O(B)&&(this.g.D=B,E=this.h,E!==null&&B in E&&(E=this.h,B in E&&delete E[B])),this.j=new Ul(this)}v(Vi,Je),Vi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Vi.prototype.close=function(){jv(this.g)},Vi.prototype.o=function(E){var B=this.g;if(typeof E=="string"){var W={};W.__data__=E,E=W}else this.u&&(W={},W.__data__=mt(E),E=W);B.i.push(new un(B.Ya++,E)),B.G==3&&Em(B)},Vi.prototype.N=function(){this.g.l=null,delete this.j,jv(this.g),delete this.g,Vi.aa.N.call(this)};function sx(E){An.call(this),E.__headers__&&(this.headers=E.__headers__,this.statusCode=E.__status__,delete E.__headers__,delete E.__status__);var B=E.__sm__;if(B){e:{for(const W in B){E=W;break e}E=void 0}(this.i=E)&&(E=this.i,B=B!==null&&E in B?B[E]:void 0),this.data=B}else this.data=E}v(sx,An);function ax(){_r.call(this),this.status=1}v(ax,_r);function Ul(E){this.g=E}v(Ul,ix),Ul.prototype.ua=function(){Qe(this.g,"a")},Ul.prototype.ta=function(E){Qe(this.g,new sx(E))},Ul.prototype.sa=function(E){Qe(this.g,new ax)},Ul.prototype.ra=function(){Qe(this.g,"b")},_m.prototype.createWebChannel=_m.prototype.g,Vi.prototype.send=Vi.prototype.o,Vi.prototype.open=Vi.prototype.m,Vi.prototype.close=Vi.prototype.close,O3=function(){return new _m},k3=function(){return jr()},M3=Qn,Tk={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Jn.NO_ERROR=0,Jn.TIMEOUT=8,Jn.HTTP_ERROR=6,Y1=Jn,er.COMPLETE="complete",P3=er,Yt.EventType=Zt,Zt.OPEN="a",Zt.CLOSE="b",Zt.ERROR="c",Zt.MESSAGE="d",Je.prototype.listen=Je.prototype.K,r0=Yt,Vn.prototype.listenOnce=Vn.prototype.L,Vn.prototype.getLastError=Vn.prototype.Ka,Vn.prototype.getLastErrorCode=Vn.prototype.Ba,Vn.prototype.getStatus=Vn.prototype.Z,Vn.prototype.getResponseJson=Vn.prototype.Oa,Vn.prototype.getResponseText=Vn.prototype.oa,Vn.prototype.send=Vn.prototype.ea,Vn.prototype.setWithCredentials=Vn.prototype.Ha,R3=Vn}).apply(typeof p1<"u"?p1:typeof self<"u"?self:typeof window<"u"?window:{});const bB="@firebase/firestore",vB="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ki.UNAUTHENTICATED=new ki(null),ki.GOOGLE_CREDENTIALS=new ki("google-credentials-uid"),ki.FIRST_PARTY=new ki("first-party-uid"),ki.MOCK_USER=new ki("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cv="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yg=new b2("@firebase/firestore");function dy(){return Yg.logLevel}function ft(t,...e){if(Yg.logLevel<=yn.DEBUG){const n=e.map(M2);Yg.debug(`Firestore (${Cv}): ${t}`,...n)}}function fd(t,...e){if(Yg.logLevel<=yn.ERROR){const n=e.map(M2);Yg.error(`Firestore (${Cv}): ${t}`,...n)}}function Zb(t,...e){if(Yg.logLevel<=yn.WARN){const n=e.map(M2);Yg.warn(`Firestore (${Cv}): ${t}`,...n)}}function M2(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,D3(t,r,n)}function D3(t,e,n){let r=`FIRESTORE (${Cv}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw fd(r),new Error(r)}function Hn(t,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,t||D3(e,o,r)}function Qt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const We={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ct extends jc{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Bne{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ki.UNAUTHENTICATED))}shutdown(){}}class Hne{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class jne{constructor(e){this.t=e,this.currentUser=ki.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Hn(this.o===void 0,42304);let r=this.i;const o=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new id;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new id,e.enqueueRetryable(()=>o(this.currentUser))};const s=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await o(this.currentUser)})},a=c=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new id)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Hn(typeof r.accessToken=="string",31837,{l:r}),new L3(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Hn(e===null||typeof e=="string",2055,{h:e}),new ki(e)}}class Une{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ki.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Gne{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Une(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(ki.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Wne{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Hn(this.o===void 0,3512);const r=i=>{i.error!=null&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const s=i.token!==this.m;return this.m=i.token,ft("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const o=i=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>o(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?o(i):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new wB(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Hn(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new wB(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qne(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=qne(40);for(let i=0;i<o.length;++i)r.length<20&&o[i]<n&&(r+=e.charAt(o[i]%62))}return r}}function vn(t,e){return t<e?-1:t>e?1:0}function Ak(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const o=t.charAt(r),i=e.charAt(r);if(o!==i)return aM(o)===aM(i)?vn(o,i):aM(o)?1:-1}return vn(t.length,e.length)}const Kne=55296,Yne=57343;function aM(t){const e=t.charCodeAt(0);return e>=Kne&&e<=Yne}function Jb(t,e,n){return t.length===e.length&&t.every((r,o)=>n(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SB="__name__";class nc{constructor(e,n,r){n===void 0?n=0:n>e.length&&jt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&jt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return nc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof nc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const i=nc.compareSegments(e.get(o),n.get(o));if(i!==0)return i}return vn(e.length,n.length)}static compareSegments(e,n){const r=nc.isNumericId(e),o=nc.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?nc.extractNumericId(e).compare(nc.extractNumericId(n)):Ak(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return nf.fromString(e.substring(4,e.length-2))}}class Sr extends nc{construct(e,n,r){return new Sr(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ct(We.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(o=>o.length>0))}return new Sr(n)}static emptyPath(){return new Sr([])}}const Xne=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yi extends nc{construct(e,n,r){return new yi(e,n,r)}static isValidIdentifier(e){return Xne.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===SB}static keyField(){return new yi([SB])}static fromServerFormat(e){const n=[];let r="",o=0;const i=()=>{if(r.length===0)throw new Ct(We.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;o<e.length;){const a=e[o];if(a==="\\"){if(o+1===e.length)throw new Ct(We.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[o+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Ct(We.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,o+=2}else a==="`"?(s=!s,o++):a!=="."||s?(r+=a,o++):(i(),o++)}if(i(),s)throw new Ct(We.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yi(n)}static emptyPath(){return new yi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.path=e}static fromPath(e){return new Dt(Sr.fromString(e))}static fromName(e){return new Dt(Sr.fromString(e).popFirst(5))}static empty(){return new Dt(Sr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Sr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Sr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Dt(new Sr(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N3(t,e,n){if(!n)throw new Ct(We.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Qne(t,e,n,r){if(e===!0&&r===!0)throw new Ct(We.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function CB(t){if(!Dt.isDocumentKey(t))throw new Ct(We.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function EB(t){if(Dt.isDocumentKey(t))throw new Ct(We.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function F3(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function O2(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":jt(12329,{type:typeof t})}function ea(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ct(We.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=O2(t);throw new Ct(We.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vo(t,e){const n={typeString:t};return e&&(n.value=e),n}function dE(t,e){if(!F3(t))throw new Ct(We.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(o&&typeof s!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(i!==void 0&&s!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new Ct(We.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xB=-62135596800,_B=1e6;class Cr{static now(){return Cr.fromMillis(Date.now())}static fromDate(e){return Cr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*_B);return new Cr(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ct(We.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ct(We.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<xB)throw new Ct(We.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ct(We.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_B}_compareTo(e){return this.seconds===e.seconds?vn(this.nanoseconds,e.nanoseconds):vn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Cr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(dE(e,Cr._jsonSchema))return new Cr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-xB;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Cr._jsonSchemaVersion="firestore/timestamp/1.0",Cr._jsonSchema={type:vo("string",Cr._jsonSchemaVersion),seconds:vo("number"),nanoseconds:vo("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{static fromTimestamp(e){return new Kt(e)}static min(){return new Kt(new Cr(0,0))}static max(){return new Kt(new Cr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0=-1;function Zne(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,o=Kt.fromTimestamp(r===1e9?new Cr(n+1,0):new Cr(n,r));return new lf(o,Dt.empty(),e)}function Jne(t){return new lf(t.readTime,t.key,Z0)}class lf{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new lf(Kt.min(),Dt.empty(),Z0)}static max(){return new lf(Kt.max(),Dt.empty(),Z0)}}function ere(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Dt.comparator(t.documentKey,e.documentKey),n!==0?n:vn(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tre="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nre{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ev(t){if(t.code!==We.FAILED_PRECONDITION||t.message!==tre)throw t;ft("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&jt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new He((r,o)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,o)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof He?n:He.resolve(n)}catch(n){return He.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):He.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):He.reject(n)}static resolve(e){return new He((n,r)=>{n(e)})}static reject(e){return new He((n,r)=>{r(e)})}static waitFor(e){return new He((n,r)=>{let o=0,i=0,s=!1;e.forEach(a=>{++o,a.next(()=>{++i,s&&i===o&&n()},c=>r(c))}),s=!0,i===o&&n()})}static or(e){let n=He.resolve(!1);for(const r of e)n=n.next(o=>o?He.resolve(o):r());return n}static forEach(e,n){const r=[];return e.forEach((o,i)=>{r.push(n.call(this,o,i))}),this.waitFor(r)}static mapArray(e,n){return new He((r,o)=>{const i=e.length,s=new Array(i);let a=0;for(let c=0;c<i;c++){const d=c;n(e[d]).next(h=>{s[d]=h,++a,a===i&&r(s)},h=>o(h))}})}static doWhile(e,n){return new He((r,o)=>{const i=()=>{e()===!0?n().next(()=>{i()},o):r()};i()})}}function rre(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xv(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}AA.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=-1;function IA(t){return t==null}function dT(t){return t===0&&1/t==-1/0}function ore(t){return typeof t=="number"&&Number.isInteger(t)&&!dT(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3="";function ire(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=TB(e)),e=sre(t.get(n),e);return TB(e)}function sre(t,e){let n=e;const r=t.length;for(let o=0;o<r;o++){const i=t.charAt(o);switch(i){case"\0":n+="";break;case $3:n+="";break;default:n+=i}}return n}function TB(t){return t+$3+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AB(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Af(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function V3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e,n){this.comparator=e,this.root=n||hi.EMPTY}insert(e,n){return new Hr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,hi.BLACK,null,null))}remove(e){return new Hr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new g1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new g1(this.root,e,this.comparator,!1)}getReverseIterator(){return new g1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new g1(this.root,e,this.comparator,!0)}}class g1{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&o&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hi{constructor(e,n,r,o,i){this.key=e,this.value=n,this.color=r??hi.RED,this.left=o??hi.EMPTY,this.right=i??hi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,i){return new hi(e??this.key,n??this.value,r??this.color,o??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const i=r(e,o.key);return o=i<0?o.copy(null,null,null,o.left.insert(e,n,r),null):i===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return hi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return hi.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw jt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw jt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw jt(27949);return e+(this.isRed()?0:1)}}hi.EMPTY=null,hi.RED=!0,hi.BLACK=!1;hi.EMPTY=new class{constructor(){this.size=0}get key(){throw jt(57766)}get value(){throw jt(16141)}get color(){throw jt(16727)}get left(){throw jt(29726)}get right(){throw jt(36894)}copy(e,n,r,o,i){return this}insert(e,n,r){return new hi(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this.comparator=e,this.data=new Hr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new IB(this.data.getIterator())}getIteratorFrom(e){return new IB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Do)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,i=r.getNext().key;if(this.comparator(o,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Do(this.comparator);return n.data=e,n}}class IB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e){this.fields=e,e.sort(yi.comparator)}static empty(){return new Zs([])}unionWith(e){let n=new Do(yi.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Zs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Jb(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new z3("Invalid base64 string: "+i):i}}(e);return new vi(n)}static fromUint8Array(e){const n=function(o){let i="";for(let s=0;s<o.length;++s)i+=String.fromCharCode(o[s]);return i}(e);return new vi(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return vn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vi.EMPTY_BYTE_STRING=new vi("");const are=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cf(t){if(Hn(!!t,39018),typeof t=="string"){let e=0;const n=are.exec(t);if(Hn(!!n,46558,{timestamp:t}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:so(t.seconds),nanos:so(t.nanos)}}function so(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function uf(t){return typeof t=="string"?vi.fromBase64String(t):vi.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3="server_timestamp",H3="__type__",j3="__previous_value__",U3="__local_write_time__";function L2(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[H3])==null?void 0:r.stringValue)===B3}function RA(t){const e=t.mapValue.fields[j3];return L2(e)?RA(e):e}function J0(t){const e=cf(t.mapValue.fields[U3].timestampValue);return new Cr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lre{constructor(e,n,r,o,i,s,a,c,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=h}}const hT="(default)";class eS{constructor(e,n){this.projectId=e,this.database=n||hT}static empty(){return new eS("","")}get isDefaultDatabase(){return this.database===hT}isEqual(e){return e instanceof eS&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3="__type__",cre="__max__",m1={mapValue:{}},W3="__vector__",fT="value";function df(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?L2(t)?4:dre(t)?9007199254740991:ure(t)?10:11:jt(28295,{value:t})}function Fc(t,e){if(t===e)return!0;const n=df(t);if(n!==df(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return J0(t).isEqual(J0(e));case 3:return function(o,i){if(typeof o.timestampValue=="string"&&typeof i.timestampValue=="string"&&o.timestampValue.length===i.timestampValue.length)return o.timestampValue===i.timestampValue;const s=cf(o.timestampValue),a=cf(i.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(o,i){return uf(o.bytesValue).isEqual(uf(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(o,i){return so(o.geoPointValue.latitude)===so(i.geoPointValue.latitude)&&so(o.geoPointValue.longitude)===so(i.geoPointValue.longitude)}(t,e);case 2:return function(o,i){if("integerValue"in o&&"integerValue"in i)return so(o.integerValue)===so(i.integerValue);if("doubleValue"in o&&"doubleValue"in i){const s=so(o.doubleValue),a=so(i.doubleValue);return s===a?dT(s)===dT(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Jb(t.arrayValue.values||[],e.arrayValue.values||[],Fc);case 10:case 11:return function(o,i){const s=o.mapValue.fields||{},a=i.mapValue.fields||{};if(AB(s)!==AB(a))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!Fc(s[c],a[c])))return!1;return!0}(t,e);default:return jt(52216,{left:t})}}function tS(t,e){return(t.values||[]).find(n=>Fc(n,e))!==void 0}function ev(t,e){if(t===e)return 0;const n=df(t),r=df(e);if(n!==r)return vn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return vn(t.booleanValue,e.booleanValue);case 2:return function(i,s){const a=so(i.integerValue||i.doubleValue),c=so(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return RB(t.timestampValue,e.timestampValue);case 4:return RB(J0(t),J0(e));case 5:return Ak(t.stringValue,e.stringValue);case 6:return function(i,s){const a=uf(i),c=uf(s);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const a=i.split("/"),c=s.split("/");for(let d=0;d<a.length&&d<c.length;d++){const h=vn(a[d],c[d]);if(h!==0)return h}return vn(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const a=vn(so(i.latitude),so(s.latitude));return a!==0?a:vn(so(i.longitude),so(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return PB(t.arrayValue,e.arrayValue);case 10:return function(i,s){var g,m,v,S;const a=i.fields||{},c=s.fields||{},d=(g=a[fT])==null?void 0:g.arrayValue,h=(m=c[fT])==null?void 0:m.arrayValue,p=vn(((v=d==null?void 0:d.values)==null?void 0:v.length)||0,((S=h==null?void 0:h.values)==null?void 0:S.length)||0);return p!==0?p:PB(d,h)}(t.mapValue,e.mapValue);case 11:return function(i,s){if(i===m1.mapValue&&s===m1.mapValue)return 0;if(i===m1.mapValue)return 1;if(s===m1.mapValue)return-1;const a=i.fields||{},c=Object.keys(a),d=s.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){const g=Ak(c[p],h[p]);if(g!==0)return g;const m=ev(a[c[p]],d[h[p]]);if(m!==0)return m}return vn(c.length,h.length)}(t.mapValue,e.mapValue);default:throw jt(23264,{he:n})}}function RB(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return vn(t,e);const n=cf(t),r=cf(e),o=vn(n.seconds,r.seconds);return o!==0?o:vn(n.nanos,r.nanos)}function PB(t,e){const n=t.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const i=ev(n[o],r[o]);if(i)return i}return vn(n.length,r.length)}function tv(t){return Ik(t)}function Ik(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=cf(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return uf(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Dt.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",o=!0;for(const i of n.values||[])o?o=!1:r+=",",r+=Ik(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let o="{",i=!0;for(const s of r)i?i=!1:o+=",",o+=`${s}:${Ik(n.fields[s])}`;return o+"}"}(t.mapValue):jt(61005,{value:t})}function X1(t){switch(df(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=RA(t);return e?16+X1(e):16;case 5:return 2*t.stringValue.length;case 6:return uf(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,i)=>o+X1(i),0)}(t.arrayValue);case 10:case 11:return function(r){let o=0;return Af(r.fields,(i,s)=>{o+=i.length+X1(s)}),o}(t.mapValue);default:throw jt(13486,{value:t})}}function Rk(t){return!!t&&"integerValue"in t}function N2(t){return!!t&&"arrayValue"in t}function MB(t){return!!t&&"nullValue"in t}function kB(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Q1(t){return!!t&&"mapValue"in t}function ure(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[G3])==null?void 0:r.stringValue)===W3}function O0(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Af(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=O0(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=O0(t.arrayValue.values[n]);return e}return{...t}}function dre(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===cre}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e){this.value=e}static empty(){return new gs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Q1(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=O0(n)}setAll(e){let n=yi.emptyPath(),r={},o=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,o),r={},o=[],n=a.popLast()}s?r[a.lastSegment()]=O0(s):o.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,o)}delete(e){const n=this.field(e.popLast());Q1(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fc(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];Q1(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){Af(n,(o,i)=>e[o]=i);for(const o of r)delete e[o]}clone(){return new gs(O0(this.value))}}function q3(t){const e=[];return Af(t.fields,(n,r)=>{const o=new yi([n]);if(Q1(r)){const i=q3(r.mapValue).fields;if(i.length===0)e.push(o);else for(const s of i)e.push(o.child(s))}else e.push(o)}),new Zs(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,n,r,o,i,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Oi(e,0,Kt.min(),Kt.min(),Kt.min(),gs.empty(),0)}static newFoundDocument(e,n,r,o){return new Oi(e,1,n,Kt.min(),r,o,0)}static newNoDocument(e,n){return new Oi(e,2,n,Kt.min(),Kt.min(),gs.empty(),0)}static newUnknownDocument(e,n){return new Oi(e,3,n,Kt.min(),Kt.min(),gs.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Kt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Kt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Oi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Oi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e,n){this.position=e,this.inclusive=n}}function OB(t,e,n){let r=0;for(let o=0;o<t.position.length;o++){const i=e[o],s=t.position[o];if(i.field.isKeyField()?r=Dt.comparator(Dt.fromName(s.referenceValue),n.key):r=ev(s,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function DB(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Fc(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e,n="asc"){this.field=e,this.dir=n}}function hre(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{}class ko extends K3{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new pre(e,n,r):n==="array-contains"?new yre(e,r):n==="in"?new bre(e,r):n==="not-in"?new vre(e,r):n==="array-contains-any"?new wre(e,r):new ko(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new gre(e,r):new mre(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ev(n,this.value)):n!==null&&df(this.value)===df(n)&&this.matchesComparison(ev(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return jt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $c extends K3{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new $c(e,n)}matches(e){return Y3(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Y3(t){return t.op==="and"}function X3(t){return fre(t)&&Y3(t)}function fre(t){for(const e of t.filters)if(e instanceof $c)return!1;return!0}function Pk(t){if(t instanceof ko)return t.field.canonicalString()+t.op.toString()+tv(t.value);if(X3(t))return t.filters.map(e=>Pk(e)).join(",");{const e=t.filters.map(n=>Pk(n)).join(",");return`${t.op}(${e})`}}function Q3(t,e){return t instanceof ko?function(r,o){return o instanceof ko&&r.op===o.op&&r.field.isEqual(o.field)&&Fc(r.value,o.value)}(t,e):t instanceof $c?function(r,o){return o instanceof $c&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((i,s,a)=>i&&Q3(s,o.filters[a]),!0):!1}(t,e):void jt(19439)}function Z3(t){return t instanceof ko?function(n){return`${n.field.canonicalString()} ${n.op} ${tv(n.value)}`}(t):t instanceof $c?function(n){return n.op.toString()+" {"+n.getFilters().map(Z3).join(" ,")+"}"}(t):"Filter"}class pre extends ko{constructor(e,n,r){super(e,n,r),this.key=Dt.fromName(r.referenceValue)}matches(e){const n=Dt.comparator(e.key,this.key);return this.matchesComparison(n)}}class gre extends ko{constructor(e,n){super(e,"in",n),this.keys=J3("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class mre extends ko{constructor(e,n){super(e,"not-in",n),this.keys=J3("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function J3(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Dt.fromName(r.referenceValue))}class yre extends ko{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return N2(n)&&tS(n.arrayValue,this.value)}}class bre extends ko{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&tS(this.value.arrayValue,n)}}class vre extends ko{constructor(e,n){super(e,"not-in",n)}matches(e){if(tS(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!tS(this.value.arrayValue,n)}}class wre extends ko{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!N2(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>tS(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sre{constructor(e,n=null,r=[],o=[],i=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=i,this.startAt=s,this.endAt=a,this.Te=null}}function LB(t,e=null,n=[],r=[],o=null,i=null,s=null){return new Sre(t,e,n,r,o,i,s)}function F2(t){const e=Qt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Pk(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),IA(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>tv(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>tv(r)).join(",")),e.Te=n}return e.Te}function $2(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!hre(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Q3(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!DB(t.startAt,e.startAt)&&DB(t.endAt,e.endAt)}function Mk(t){return Dt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,n=null,r=[],o=[],i=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Cre(t,e,n,r,o,i,s,a){return new PA(t,e,n,r,o,i,s,a)}function MA(t){return new PA(t)}function NB(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Ere(t){return t.collectionGroup!==null}function D0(t){const e=Qt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Do(yi.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new gT(i,r))}),n.has(yi.keyField().canonicalString())||e.Ie.push(new gT(yi.keyField(),r))}return e.Ie}function Ic(t){const e=Qt(t);return e.Ee||(e.Ee=xre(e,D0(t))),e.Ee}function xre(t,e){if(t.limitType==="F")return LB(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(o=>{const i=o.dir==="desc"?"asc":"desc";return new gT(o.field,i)});const n=t.endAt?new pT(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new pT(t.startAt.position,t.startAt.inclusive):null;return LB(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function kk(t,e,n){return new PA(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function kA(t,e){return $2(Ic(t),Ic(e))&&t.limitType===e.limitType}function e6(t){return`${F2(Ic(t))}|lt:${t.limitType}`}function hy(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(o=>Z3(o)).join(", ")}]`),IA(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(o=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(o)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(o=>tv(o)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(o=>tv(o)).join(",")),`Target(${r})`}(Ic(t))}; limitType=${t.limitType})`}function OA(t,e){return e.isFoundDocument()&&function(r,o){const i=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Dt.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,o){for(const i of D0(r))if(!i.field.isKeyField()&&o.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,o){for(const i of r.filters)if(!i.matches(o))return!1;return!0}(t,e)&&function(r,o){return!(r.startAt&&!function(s,a,c){const d=OB(s,a,c);return s.inclusive?d<=0:d<0}(r.startAt,D0(r),o)||r.endAt&&!function(s,a,c){const d=OB(s,a,c);return s.inclusive?d>=0:d>0}(r.endAt,D0(r),o))}(t,e)}function _re(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function t6(t){return(e,n)=>{let r=!1;for(const o of D0(t)){const i=Tre(o,e,n);if(i!==0)return i;r=r||o.field.isKeyField()}return 0}}function Tre(t,e,n){const r=t.field.isKeyField()?Dt.comparator(e.key,n.key):function(i,s,a){const c=s.data.field(i),d=a.data.field(i);return c!==null&&d!==null?ev(c,d):jt(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return jt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,i]of r)if(this.equalsFn(o,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<o.length;i++)if(this.equalsFn(o[i][0],e))return void(o[i]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Af(this.inner,(n,r)=>{for(const[o,i]of r)e(o,i)})}isEmpty(){return V3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Are=new Hr(Dt.comparator);function pd(){return Are}const n6=new Hr(Dt.comparator);function o0(...t){let e=n6;for(const n of t)e=e.insert(n.key,n);return e}function r6(t){let e=n6;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Sp(){return L0()}function o6(){return L0()}function L0(){return new lm(t=>t.toString(),(t,e)=>t.isEqual(e))}const Ire=new Hr(Dt.comparator),Rre=new Do(Dt.comparator);function wn(...t){let e=Rre;for(const n of t)e=e.add(n);return e}const Pre=new Do(vn);function Mre(){return Pre}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dT(e)?"-0":e}}function i6(t){return{integerValue:""+t}}function kre(t,e){return ore(e)?i6(e):V2(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(){this._=void 0}}function Ore(t,e,n){return t instanceof mT?function(o,i){const s={fields:{[H3]:{stringValue:B3},[U3]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return i&&L2(i)&&(i=RA(i)),i&&(s.fields[j3]=i),{mapValue:s}}(n,e):t instanceof nS?a6(t,e):t instanceof rS?l6(t,e):function(o,i){const s=s6(o,i),a=FB(s)+FB(o.Ae);return Rk(s)&&Rk(o.Ae)?i6(a):V2(o.serializer,a)}(t,e)}function Dre(t,e,n){return t instanceof nS?a6(t,e):t instanceof rS?l6(t,e):n}function s6(t,e){return t instanceof yT?function(r){return Rk(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class mT extends DA{}class nS extends DA{constructor(e){super(),this.elements=e}}function a6(t,e){const n=c6(e);for(const r of t.elements)n.some(o=>Fc(o,r))||n.push(r);return{arrayValue:{values:n}}}class rS extends DA{constructor(e){super(),this.elements=e}}function l6(t,e){let n=c6(e);for(const r of t.elements)n=n.filter(o=>!Fc(o,r));return{arrayValue:{values:n}}}class yT extends DA{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function FB(t){return so(t.integerValue||t.doubleValue)}function c6(t){return N2(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Lre(t,e){return t.field.isEqual(e.field)&&function(r,o){return r instanceof nS&&o instanceof nS||r instanceof rS&&o instanceof rS?Jb(r.elements,o.elements,Fc):r instanceof yT&&o instanceof yT?Fc(r.Ae,o.Ae):r instanceof mT&&o instanceof mT}(t.transform,e.transform)}class Nre{constructor(e,n){this.version=e,this.transformResults=n}}class Al{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Al}static exists(e){return new Al(void 0,e)}static updateTime(e){return new Al(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Z1(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class LA{}function u6(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new z2(t.key,Al.none()):new hE(t.key,t.data,Al.none());{const n=t.data,r=gs.empty();let o=new Do(yi.comparator);for(let i of e.fields)if(!o.has(i)){let s=n.field(i);s===null&&i.length>1&&(i=i.popLast(),s=n.field(i)),s===null?r.delete(i):r.set(i,s),o=o.add(i)}return new If(t.key,r,new Zs(o.toArray()),Al.none())}}function Fre(t,e,n){t instanceof hE?function(o,i,s){const a=o.value.clone(),c=VB(o.fieldTransforms,i,s.transformResults);a.setAll(c),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof If?function(o,i,s){if(!Z1(o.precondition,i))return void i.convertToUnknownDocument(s.version);const a=VB(o.fieldTransforms,i,s.transformResults),c=i.data;c.setAll(d6(o)),c.setAll(a),i.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):function(o,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function N0(t,e,n,r){return t instanceof hE?function(i,s,a,c){if(!Z1(i.precondition,s))return a;const d=i.value.clone(),h=zB(i.fieldTransforms,c,s);return d.setAll(h),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof If?function(i,s,a,c){if(!Z1(i.precondition,s))return a;const d=zB(i.fieldTransforms,c,s),h=s.data;return h.setAll(d6(i)),h.setAll(d),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(i,s,a){return Z1(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function $re(t,e){let n=null;for(const r of t.fieldTransforms){const o=e.data.field(r.field),i=s6(r.transform,o||null);i!=null&&(n===null&&(n=gs.empty()),n.set(r.field,i))}return n||null}function $B(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Jb(r,o,(i,s)=>Lre(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class hE extends LA{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class If extends LA{constructor(e,n,r,o,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function d6(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function VB(t,e,n){const r=new Map;Hn(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let o=0;o<n.length;o++){const i=t[o],s=i.transform,a=e.data.field(i.field);r.set(i.field,Dre(s,a,n[o]))}return r}function zB(t,e,n){const r=new Map;for(const o of t){const i=o.transform,s=n.data.field(o.field);r.set(o.field,Ore(i,s,e))}return r}class z2 extends LA{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Vre extends LA{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zre{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const i=this.mutations[o];i.key.isEqual(e.key)&&Fre(i,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=N0(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=N0(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=o6();return this.mutations.forEach(o=>{const i=e.get(o.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=n.has(o.key)?null:a;const c=u6(s,a);c!==null&&r.set(o.key,c),s.isValidDocument()||s.convertToNoDocument(Kt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),wn())}isEqual(e){return this.batchId===e.batchId&&Jb(this.mutations,e.mutations,(n,r)=>$B(n,r))&&Jb(this.baseMutations,e.baseMutations,(n,r)=>$B(n,r))}}class B2{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){Hn(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=function(){return Ire}();const i=e.mutations;for(let s=0;s<i.length;s++)o=o.insert(i[s].key,r[s].version);return new B2(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bre{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hre{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mo,_n;function jre(t){switch(t){case We.OK:return jt(64938);case We.CANCELLED:case We.UNKNOWN:case We.DEADLINE_EXCEEDED:case We.RESOURCE_EXHAUSTED:case We.INTERNAL:case We.UNAVAILABLE:case We.UNAUTHENTICATED:return!1;case We.INVALID_ARGUMENT:case We.NOT_FOUND:case We.ALREADY_EXISTS:case We.PERMISSION_DENIED:case We.FAILED_PRECONDITION:case We.ABORTED:case We.OUT_OF_RANGE:case We.UNIMPLEMENTED:case We.DATA_LOSS:return!0;default:return jt(15467,{code:t})}}function h6(t){if(t===void 0)return fd("GRPC error has no .code"),We.UNKNOWN;switch(t){case mo.OK:return We.OK;case mo.CANCELLED:return We.CANCELLED;case mo.UNKNOWN:return We.UNKNOWN;case mo.DEADLINE_EXCEEDED:return We.DEADLINE_EXCEEDED;case mo.RESOURCE_EXHAUSTED:return We.RESOURCE_EXHAUSTED;case mo.INTERNAL:return We.INTERNAL;case mo.UNAVAILABLE:return We.UNAVAILABLE;case mo.UNAUTHENTICATED:return We.UNAUTHENTICATED;case mo.INVALID_ARGUMENT:return We.INVALID_ARGUMENT;case mo.NOT_FOUND:return We.NOT_FOUND;case mo.ALREADY_EXISTS:return We.ALREADY_EXISTS;case mo.PERMISSION_DENIED:return We.PERMISSION_DENIED;case mo.FAILED_PRECONDITION:return We.FAILED_PRECONDITION;case mo.ABORTED:return We.ABORTED;case mo.OUT_OF_RANGE:return We.OUT_OF_RANGE;case mo.UNIMPLEMENTED:return We.UNIMPLEMENTED;case mo.DATA_LOSS:return We.DATA_LOSS;default:return jt(39323,{code:t})}}(_n=mo||(mo={}))[_n.OK=0]="OK",_n[_n.CANCELLED=1]="CANCELLED",_n[_n.UNKNOWN=2]="UNKNOWN",_n[_n.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_n[_n.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_n[_n.NOT_FOUND=5]="NOT_FOUND",_n[_n.ALREADY_EXISTS=6]="ALREADY_EXISTS",_n[_n.PERMISSION_DENIED=7]="PERMISSION_DENIED",_n[_n.UNAUTHENTICATED=16]="UNAUTHENTICATED",_n[_n.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_n[_n.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_n[_n.ABORTED=10]="ABORTED",_n[_n.OUT_OF_RANGE=11]="OUT_OF_RANGE",_n[_n.UNIMPLEMENTED=12]="UNIMPLEMENTED",_n[_n.INTERNAL=13]="INTERNAL",_n[_n.UNAVAILABLE=14]="UNAVAILABLE",_n[_n.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ure(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gre=new nf([4294967295,4294967295],0);function BB(t){const e=Ure().encode(t),n=new I3;return n.update(e),new Uint8Array(n.digest())}function HB(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new nf([n,r],0),new nf([o,i],0)]}class H2{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new i0(`Invalid padding: ${n}`);if(r<0)throw new i0(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new i0(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new i0(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=nf.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(nf.fromNumber(r)));return o.compare(Gre)===1&&(o=new nf([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=BB(e),[r,o]=HB(n);for(let i=0;i<this.hashCount;i++){const s=this.ye(r,o,i);if(!this.we(s))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new H2(i,o,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.ge===0)return;const n=BB(e),[r,o]=HB(n);for(let i=0;i<this.hashCount;i++){const s=this.ye(r,o,i);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class i0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,n,r,o,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,fE.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new NA(Kt.min(),o,new Hr(vn),pd(),wn())}}class fE{constructor(e,n,r,o,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new fE(r,n,wn(),wn(),wn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,n,r,o){this.be=e,this.removedTargetIds=n,this.key=r,this.De=o}}class f6{constructor(e,n){this.targetId=e,this.Ce=n}}class p6{constructor(e,n,r=vi.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class jB{constructor(){this.ve=0,this.Fe=UB(),this.Me=vi.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=wn(),n=wn(),r=wn();return this.Fe.forEach((o,i)=>{switch(i){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:jt(38017,{changeType:i})}}),new fE(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=UB()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Hn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Wre{constructor(e){this.Ge=e,this.ze=new Map,this.je=pd(),this.Je=y1(),this.He=y1(),this.Ye=new Hr(vn)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:jt(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,o)=>{this.rt(o)&&n(o)})}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const i=o.target;if(Mk(i))if(r===0){const s=new Dt(i.path);this.et(n,s,Oi.newNoDocument(s,Kt.min()))}else Hn(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const a=this.ut(e),c=a?this.ct(a,e,s):1;if(c!==0){this.it(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:i=0}=n;let s,a;try{s=uf(r).toUint8Array()}catch(c){if(c instanceof z3)return Zb("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new H2(s,o,i)}catch(c){return Zb(c instanceof i0?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach(i=>{const s=this.Ge.ht(),a=`projects/${s.projectId}/databases/${s.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),o++)}),o}Tt(e){const n=new Map;this.ze.forEach((i,s)=>{const a=this.ot(s);if(a){if(i.current&&Mk(a.target)){const c=new Dt(a.target.path);this.It(c).has(s)||this.Et(s,c)||this.et(s,c,Oi.newNoDocument(c,e))}i.Be&&(n.set(s,i.ke()),i.qe())}});let r=wn();this.He.forEach((i,s)=>{let a=!0;s.forEachWhile(c=>{const d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,s)=>s.setReadTime(e));const o=new NA(e,n,this.Ye,this.je,r);return this.je=pd(),this.Je=y1(),this.He=y1(),this.Ye=new Hr(vn),o}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new jB,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Do(vn),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Do(vn),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ft("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new jB),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function y1(){return new Hr(Dt.comparator)}function UB(){return new Hr(Dt.comparator)}const qre={asc:"ASCENDING",desc:"DESCENDING"},Kre={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Yre={and:"AND",or:"OR"};class Xre{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ok(t,e){return t.useProto3Json||IA(e)?e:{value:e}}function bT(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function g6(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Qre(t,e){return bT(t,e.toTimestamp())}function Rc(t){return Hn(!!t,49232),Kt.fromTimestamp(function(n){const r=cf(n);return new Cr(r.seconds,r.nanos)}(t))}function j2(t,e){return Dk(t,e).canonicalString()}function Dk(t,e){const n=function(o){return new Sr(["projects",o.projectId,"databases",o.database])}(t).child("documents");return e===void 0?n:n.child(e)}function m6(t){const e=Sr.fromString(t);return Hn(S6(e),10190,{key:e.toString()}),e}function Lk(t,e){return j2(t.databaseId,e.path)}function lM(t,e){const n=m6(e);if(n.get(1)!==t.databaseId.projectId)throw new Ct(We.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ct(We.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Dt(b6(n))}function y6(t,e){return j2(t.databaseId,e)}function Zre(t){const e=m6(t);return e.length===4?Sr.emptyPath():b6(e)}function Nk(t){return new Sr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function b6(t){return Hn(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function GB(t,e,n){return{name:Lk(t,e),fields:n.value.mapValue.fields}}function Jre(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:jt(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(Hn(h===void 0||typeof h=="string",58123),vi.fromBase64String(h||"")):(Hn(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),vi.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(d){const h=d.code===void 0?We.UNKNOWN:h6(d.code);return new Ct(h,d.message||"")}(s);n=new p6(r,o,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=lM(t,r.document.name),i=Rc(r.document.updateTime),s=r.document.createTime?Rc(r.document.createTime):Kt.min(),a=new gs({mapValue:{fields:r.document.fields}}),c=Oi.newFoundDocument(o,i,s,a),d=r.targetIds||[],h=r.removedTargetIds||[];n=new J1(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=lM(t,r.document),i=r.readTime?Rc(r.readTime):Kt.min(),s=Oi.newNoDocument(o,i),a=r.removedTargetIds||[];n=new J1([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=lM(t,r.document),i=r.removedTargetIds||[];n=new J1([],i,o,null)}else{if(!("filter"in e))return jt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:i}=r,s=new Hre(o,i),a=r.targetId;n=new f6(a,s)}}return n}function eoe(t,e){let n;if(e instanceof hE)n={update:GB(t,e.key,e.value)};else if(e instanceof z2)n={delete:Lk(t,e.key)};else if(e instanceof If)n={update:GB(t,e.key,e.data),updateMask:coe(e.fieldMask)};else{if(!(e instanceof Vre))return jt(16599,{Vt:e.type});n={verify:Lk(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const a=s.transform;if(a instanceof mT)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof nS)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof rS)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof yT)return{fieldPath:s.field.canonicalString(),increment:a.Ae};throw jt(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(o,i){return i.updateTime!==void 0?{updateTime:Qre(o,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:jt(27497)}(t,e.precondition)),n}function toe(t,e){return t&&t.length>0?(Hn(e!==void 0,14353),t.map(n=>function(o,i){let s=o.updateTime?Rc(o.updateTime):Rc(i);return s.isEqual(Kt.min())&&(s=Rc(i)),new Nre(s,o.transformResults||[])}(n,e))):[]}function noe(t,e){return{documents:[y6(t,e.path)]}}function roe(t,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=y6(t,o);const i=function(d){if(d.length!==0)return w6($c.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(d){if(d.length!==0)return d.map(h=>function(g){return{field:fy(g.field),direction:soe(g.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Ok(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:o}}function ooe(t){let e=Zre(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Hn(r===1,65062);const h=n.from[0];h.allDescendants?o=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(p){const g=v6(p);return g instanceof $c&&X3(g)?g.getFilters():[g]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(g=>function(v){return new gT(py(v.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(p){let g;return g=typeof p=="object"?p.value:p,IA(g)?null:g}(n.limit));let c=null;n.startAt&&(c=function(p){const g=!!p.before,m=p.values||[];return new pT(m,g)}(n.startAt));let d=null;return n.endAt&&(d=function(p){const g=!p.before,m=p.values||[];return new pT(m,g)}(n.endAt)),Cre(e,o,s,i,a,"F",c,d)}function ioe(t,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return jt(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function v6(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=py(n.unaryFilter.field);return ko.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=py(n.unaryFilter.field);return ko.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=py(n.unaryFilter.field);return ko.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=py(n.unaryFilter.field);return ko.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return jt(61313);default:return jt(60726)}}(t):t.fieldFilter!==void 0?function(n){return ko.create(py(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return jt(58110);default:return jt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return $c.create(n.compositeFilter.filters.map(r=>v6(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return jt(1026)}}(n.compositeFilter.op))}(t):jt(30097,{filter:t})}function soe(t){return qre[t]}function aoe(t){return Kre[t]}function loe(t){return Yre[t]}function fy(t){return{fieldPath:t.canonicalString()}}function py(t){return yi.fromServerFormat(t.fieldPath)}function w6(t){return t instanceof ko?function(n){if(n.op==="=="){if(kB(n.value))return{unaryFilter:{field:fy(n.field),op:"IS_NAN"}};if(MB(n.value))return{unaryFilter:{field:fy(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(kB(n.value))return{unaryFilter:{field:fy(n.field),op:"IS_NOT_NAN"}};if(MB(n.value))return{unaryFilter:{field:fy(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fy(n.field),op:aoe(n.op),value:n.value}}}(t):t instanceof $c?function(n){const r=n.getFilters().map(o=>w6(o));return r.length===1?r[0]:{compositeFilter:{op:loe(n.op),filters:r}}}(t):jt(54877,{filter:t})}function coe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function S6(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n,r,o,i=Kt.min(),s=Kt.min(),a=vi.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Xh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xh(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uoe{constructor(e){this.yt=e}}function doe(t){const e=ooe({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?kk(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hoe{constructor(){this.Cn=new foe}addToCollectionParentIndex(e,n){return this.Cn.add(n),He.resolve()}getCollectionParents(e,n){return He.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return He.resolve()}deleteFieldIndex(e,n){return He.resolve()}deleteAllFieldIndexes(e){return He.resolve()}createTargetIndexes(e,n){return He.resolve()}getDocumentsMatchingTarget(e,n){return He.resolve(null)}getIndexType(e,n){return He.resolve(0)}getFieldIndexes(e,n){return He.resolve([])}getNextCollectionGroupToUpdate(e){return He.resolve(null)}getMinOffset(e,n){return He.resolve(lf.min())}getMinOffsetFromCollectionGroup(e,n){return He.resolve(lf.min())}updateCollectionGroup(e,n,r){return He.resolve()}updateIndexEntries(e,n){return He.resolve()}}class foe{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new Do(Sr.comparator),i=!o.has(r);return this.index[n]=o.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Do(Sr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WB={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},C6=41943040;class hs{static withCacheSize(e){return new hs(e,hs.DEFAULT_COLLECTION_PERCENTILE,hs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hs.DEFAULT_COLLECTION_PERCENTILE=10,hs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hs.DEFAULT=new hs(C6,hs.DEFAULT_COLLECTION_PERCENTILE,hs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hs.DISABLED=new hs(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new nv(0)}static cr(){return new nv(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qB="LruGarbageCollector",poe=1048576;function KB([t,e],[n,r]){const o=vn(t,n);return o===0?vn(e,r):o}class goe{constructor(e){this.Ir=e,this.buffer=new Do(KB),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();KB(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class moe{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ft(qB,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){xv(n)?ft(qB,"Ignoring IndexedDB error during garbage collection: ",n):await Ev(n)}await this.Vr(3e5)})}}class yoe{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return He.resolve(AA.ce);const r=new goe(n);return this.mr.forEachTarget(e,o=>r.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>r.Ar(o))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ft("LruGarbageCollector","Garbage collection skipped; disabled"),He.resolve(WB)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),WB):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,o,i,s,a,c,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),o=this.params.maximumSequenceNumbersToCollect):o=p,s=Date.now(),this.nthSequenceNumber(e,o))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(i=p,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(d=Date.now(),dy()<=yn.DEBUG&&ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${o} in `+(a-s)+`ms
	Removed ${i} targets in `+(c-a)+`ms
	Removed ${p} documents in `+(d-c)+`ms
Total Duration: ${d-h}ms`),He.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:i,documentsRemoved:p})))}}function boe(t,e){return new yoe(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class voe{constructor(){this.changes=new lm(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Oi.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?He.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class woe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Soe{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(r!==null&&N0(r.mutation,o,Zs.empty(),Cr.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,wn()).next(()=>r))}getLocalViewOfDocuments(e,n,r=wn()){const o=Sp();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,r).next(i=>{let s=o0();return i.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Sp();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,wn()))}populateOverlays(e,n,r){const o=[];return r.forEach(i=>{n.has(i)||o.push(i)}),this.documentOverlayCache.getOverlays(e,o).next(i=>{i.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,o){let i=pd();const s=L0(),a=function(){return L0()}();return n.forEach((c,d)=>{const h=r.get(d.key);o.has(d.key)&&(h===void 0||h.mutation instanceof If)?i=i.insert(d.key,d):h!==void 0?(s.set(d.key,h.mutation.getFieldMask()),N0(h.mutation,d,h.mutation.getFieldMask(),Cr.now())):s.set(d.key,Zs.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((d,h)=>s.set(d,h)),n.forEach((d,h)=>a.set(d,new woe(h,s.get(d)??null))),a))}recalculateAndSaveOverlays(e,n){const r=L0();let o=new Hr((s,a)=>s-a),i=wn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let h=r.get(c)||Zs.empty();h=a.applyToLocalView(d,h),r.set(c,h);const p=(o.get(a.batchId)||wn()).add(c);o=o.insert(a.batchId,p)})}).next(()=>{const s=[],a=o.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),d=c.key,h=c.value,p=o6();h.forEach(g=>{if(!i.has(g)){const m=u6(n.get(g),r.get(g));m!==null&&p.set(g,m),i=i.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,d,p))}return He.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,o){return function(s){return Dt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Ere(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next(i=>{const s=o-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-i.size):He.resolve(Sp());let a=Z0,c=i;return s.next(d=>He.forEach(d,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),i.get(h)?He.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{c=c.insert(h,g)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,c,d,wn())).next(h=>({batchId:a,changes:r6(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Dt(n)).next(r=>{let o=o0();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const i=n.collectionGroup;let s=o0();return this.indexManager.getCollectionParents(e,i).next(a=>He.forEach(a,c=>{const d=function(p,g){return new PA(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,o).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,o){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,o))).next(s=>{i.forEach((c,d)=>{const h=d.getKey();s.get(h)===null&&(s=s.insert(h,Oi.newInvalidDocument(h)))});let a=o0();return s.forEach((c,d)=>{const h=i.get(c);h!==void 0&&N0(h.mutation,d,Zs.empty(),Cr.now()),OA(n,d)&&(a=a.insert(c,d))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Coe{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return He.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Rc(o.createTime)}}(n)),He.resolve()}getNamedQuery(e,n){return He.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(o){return{name:o.name,query:doe(o.bundledQuery),readTime:Rc(o.readTime)}}(n)),He.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eoe{constructor(){this.overlays=new Hr(Dt.comparator),this.qr=new Map}getOverlay(e,n){return He.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Sp();return He.forEach(n,o=>this.getOverlay(e,o).next(i=>{i!==null&&r.set(o,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((o,i)=>{this.St(e,n,i)}),He.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),He.resolve()}getOverlaysForCollection(e,n,r){const o=Sp(),i=n.length+1,s=new Dt(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const c=a.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&c.largestBatchId>r&&o.set(c.getKey(),c)}return He.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let i=new Hr((d,h)=>d-h);const s=this.overlays.getIterator();for(;s.hasNext();){const d=s.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=Sp(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const a=Sp(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=o)););return He.resolve(a)}St(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const s=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Bre(n,r));let i=this.qr.get(n);i===void 0&&(i=wn(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xoe{constructor(){this.sessionToken=vi.EMPTY_BYTE_STRING}getSessionToken(e){return He.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,He.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(){this.Qr=new Do(Xo.$r),this.Ur=new Do(Xo.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Xo(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Xo(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Dt(new Sr([])),r=new Xo(n,e),o=new Xo(n,e+1),i=[];return this.Ur.forEachInRange([r,o],s=>{this.Gr(s),i.push(s.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Dt(new Sr([])),r=new Xo(n,e),o=new Xo(n,e+1);let i=wn();return this.Ur.forEachInRange([r,o],s=>{i=i.add(s.key)}),i}containsKey(e){const n=new Xo(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Xo{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Dt.comparator(e.key,n.key)||vn(e.Yr,n.Yr)}static Kr(e,n){return vn(e.Yr,n.Yr)||Dt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _oe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Do(Xo.$r)}checkEmpty(e){return He.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new zre(i,n,r,o);this.mutationQueue.push(s);for(const a of o)this.Zr=this.Zr.add(new Xo(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return He.resolve(s)}lookupMutationBatch(e,n){return He.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.ei(r),i=o<0?0:o;return He.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return He.resolve(this.mutationQueue.length===0?D2:this.tr-1)}getAllMutationBatches(e){return He.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Xo(n,0),o=new Xo(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,o],s=>{const a=this.Xr(s.Yr);i.push(a)}),He.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Do(vn);return n.forEach(o=>{const i=new Xo(o,0),s=new Xo(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,s],a=>{r=r.add(a.Yr)})}),He.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let i=r;Dt.isDocumentKey(i)||(i=i.child(""));const s=new Xo(new Dt(i),0);let a=new Do(vn);return this.Zr.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===o&&(a=a.add(c.Yr)),!0)},s),He.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const o=this.Xr(r);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Hn(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return He.forEach(n.mutations,o=>{const i=new Xo(o.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Xo(n,0),o=this.Zr.firstAfterOrEqual(r);return He.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,He.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Toe{constructor(e){this.ri=e,this.docs=function(){return new Hr(Dt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),i=o?o.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return He.resolve(r?r.document.mutableCopy():Oi.newInvalidDocument(n))}getEntries(e,n){let r=pd();return n.forEach(o=>{const i=this.docs.get(o);r=r.insert(o,i?i.document.mutableCopy():Oi.newInvalidDocument(o))}),He.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let i=pd();const s=n.path,a=new Dt(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||ere(Jne(h),r)<=0||(o.has(h.key)||OA(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return He.resolve(i)}getAllFromCollectionGroup(e,n,r,o){jt(9500)}ii(e,n){return He.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Aoe(this)}getSize(e){return He.resolve(this.size)}}class Aoe extends voe{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)}),He.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ioe{constructor(e){this.persistence=e,this.si=new lm(n=>F2(n),$2),this.lastRemoteSnapshotVersion=Kt.min(),this.highestTargetId=0,this.oi=0,this._i=new U2,this.targetCount=0,this.ai=nv.ur()}forEachTarget(e,n){return this.si.forEach((r,o)=>n(o)),He.resolve()}getLastRemoteSnapshotVersion(e){return He.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return He.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),He.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),He.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new nv(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,He.resolve()}updateTargetData(e,n){return this.Pr(n),He.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,He.resolve()}removeTargets(e,n,r){let o=0;const i=[];return this.si.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),o++)}),He.waitFor(i).next(()=>o)}getTargetCount(e){return He.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return He.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),He.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const o=this.persistence.referenceDelegate,i=[];return o&&n.forEach(s=>{i.push(o.markPotentiallyOrphaned(e,s))}),He.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),He.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return He.resolve(r)}containsKey(e,n){return He.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e,n){this.ui={},this.overlays={},this.ci=new AA(0),this.li=!1,this.li=!0,this.hi=new xoe,this.referenceDelegate=e(this),this.Pi=new Ioe(this),this.indexManager=new hoe,this.remoteDocumentCache=function(o){return new Toe(o)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new uoe(n),this.Ii=new Coe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Eoe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new _oe(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ft("MemoryPersistence","Starting transaction:",e);const o=new Roe(this.ci.next());return this.referenceDelegate.Ei(),r(o).next(i=>this.referenceDelegate.di(o).next(()=>i)).toPromise().then(i=>(o.raiseOnCommittedEvent(),i))}Ai(e,n){return He.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class Roe extends nre{constructor(e){super(),this.currentSequenceNumber=e}}class G2{constructor(e){this.persistence=e,this.Ri=new U2,this.Vi=null}static mi(e){return new G2(e)}get fi(){if(this.Vi)return this.Vi;throw jt(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),He.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),He.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),He.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return He.forEach(this.fi,r=>{const o=Dt.fromPath(r);return this.gi(e,o).next(i=>{i||n.removeEntry(o,Kt.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return He.or([()=>He.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class vT{constructor(e,n){this.persistence=e,this.pi=new lm(r=>ire(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=boe(this,n)}static mi(e,n){return new vT(e,n)}Ei(){}di(e){return He.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(o=>r+o))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return He.forEach(this.pi,(r,o)=>this.br(e,r,o).next(i=>i?He.resolve():n(o)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),i=o.newChangeBuffer();return o.ii(e,s=>this.br(e,s,n).next(a=>{a||(r++,i.removeEntry(s,Kt.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),He.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),He.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),He.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),He.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=X1(e.data.value)),n}br(e,n,r){return He.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return He.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=o}static As(e,n){let r=wn(),o=wn();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:o=o.add(i.doc.key)}return new W2(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Poe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Moe{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return rJ()?8:rre(Li())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const i={result:null};return this.ys(e,n).next(s=>{i.result=s}).next(()=>{if(!i.result)return this.ws(e,n,o,r).next(s=>{i.result=s})}).next(()=>{if(i.result)return;const s=new Poe;return this.Ss(e,n,s).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,s,a.size)})}).next(()=>i.result)}bs(e,n,r,o){return r.documentReadCount<this.fs?(dy()<=yn.DEBUG&&ft("QueryEngine","SDK will not create cache indexes for query:",hy(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),He.resolve()):(dy()<=yn.DEBUG&&ft("QueryEngine","Query:",hy(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(dy()<=yn.DEBUG&&ft("QueryEngine","The SDK decides to create cache indexes for query:",hy(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ic(n))):He.resolve())}ys(e,n){if(NB(n))return He.resolve(null);let r=Ic(n);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=kk(n,null,"F"),r=Ic(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const s=wn(...i);return this.ps.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.Ds(n,a);return this.Cs(n,d,s,c.readTime)?this.ys(e,kk(n,null,"F")):this.vs(e,d,n,c)}))})))}ws(e,n,r,o){return NB(n)||o.isEqual(Kt.min())?He.resolve(null):this.ps.getDocuments(e,r).next(i=>{const s=this.Ds(n,i);return this.Cs(n,s,r,o)?He.resolve(null):(dy()<=yn.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),hy(n)),this.vs(e,s,n,Zne(o,Z0)).next(a=>a))})}Ds(e,n){let r=new Do(t6(e));return n.forEach((o,i)=>{OA(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(o)>0)}Ss(e,n,r){return dy()<=yn.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",hy(n)),this.ps.getDocumentsMatchingQuery(e,n,lf.min(),r)}vs(e,n,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next(i=>(n.forEach(s=>{i=i.insert(s.key,s)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2="LocalStore",koe=3e8;class Ooe{constructor(e,n,r,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new Hr(vn),this.xs=new lm(i=>F2(i),$2),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Soe(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function Doe(t,e,n,r){return new Ooe(t,e,n,r)}async function x6(t,e){const n=Qt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next(i=>(o=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const s=[],a=[];let c=wn();for(const d of o){s.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of i){a.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(d=>({Ls:d,removedBatchIds:s,addedBatchIds:a}))})})}function Loe(t,e){const n=Qt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,c,d,h){const p=d.batch,g=p.keys();let m=He.resolve();return g.forEach(v=>{m=m.next(()=>h.getEntry(c,v)).next(S=>{const C=d.docVersions.get(v);Hn(C!==null,48541),S.version.compareTo(C)<0&&(p.applyToRemoteDocument(S,d),S.isValidDocument()&&(S.setReadTime(d.commitVersion),h.addEntry(S)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(c,p))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=wn();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(c=c.add(a.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,o))})}function _6(t){const e=Qt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function Noe(t,e){const n=Qt(t),r=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const a=[];e.targetChanges.forEach((h,p)=>{const g=o.get(p);if(!g)return;a.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,p).next(()=>n.Pi.addMatchingKeys(i,h.addedDocuments,p)));let m=g.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?m=m.withResumeToken(vi.EMPTY_BYTE_STRING,Kt.min()).withLastLimboFreeSnapshotVersion(Kt.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,r)),o=o.insert(p,m),function(S,C,x){return S.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=koe?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(g,m,h)&&a.push(n.Pi.updateTargetData(i,m))});let c=pd(),d=wn();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(Foe(i,s,e.documentUpdates).next(h=>{c=h.ks,d=h.qs})),!r.isEqual(Kt.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next(p=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return He.waitFor(a).next(()=>s.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,d)).next(()=>c)}).then(i=>(n.Ms=o,i))}function Foe(t,e,n){let r=wn(),o=wn();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let s=pd();return n.forEach((a,c)=>{const d=i.get(a);c.isFoundDocument()!==d.isFoundDocument()&&(o=o.add(a)),c.isNoDocument()&&c.version.isEqual(Kt.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):ft(q2,"Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",c.version)}),{ks:s,qs:o}})}function $oe(t,e){const n=Qt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=D2),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Voe(t,e){const n=Qt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return n.Pi.getTargetData(r,e).next(i=>i?(o=i,He.resolve(o)):n.Pi.allocateTargetId(r).next(s=>(o=new Xh(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=n.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Fk(t,e,n){const r=Qt(t),o=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,s=>r.persistence.referenceDelegate.removeTarget(s,o))}catch(s){if(!xv(s))throw s;ft(q2,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function YB(t,e,n){const r=Qt(t);let o=Kt.min(),i=wn();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,d,h){const p=Qt(c),g=p.xs.get(h);return g!==void 0?He.resolve(p.Ms.get(g)):p.Pi.getTargetData(d,h)}(r,s,Ic(e)).next(a=>{if(a)return o=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,a.targetId).next(c=>{i=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,n?o:Kt.min(),n?i:wn())).next(a=>(zoe(r,_re(e),a),{documents:a,Qs:i})))}function zoe(t,e,n){let r=t.Os.get(e)||Kt.min();n.forEach((o,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class XB{constructor(){this.activeTargetIds=Mre()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Boe{constructor(){this.Mo=new XB,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new XB,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hoe{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QB="ConnectivityMonitor";class ZB{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ft(QB,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ft(QB,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b1=null;function $k(){return b1===null?b1=function(){return 268435456+Math.round(2147483648*Math.random())}():b1++,"0x"+b1.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM="RestConnection",joe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Uoe{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===hT?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,n,r,o,i){const s=$k(),a=this.zo(e,n.toUriEncodedString());ft(cM,`Sending RPC '${e}' ${s}:`,a,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,o,i);const{host:d}=new URL(a),h=vv(d);return this.Jo(e,a,c,r,h).then(p=>(ft(cM,`Received RPC '${e}' ${s}: `,p),p),p=>{throw Zb(cM,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Ho(e,n,r,o,i,s){return this.Go(e,n,r,o,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Cv}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,i)=>e[i]=o),r&&r.headers.forEach((o,i)=>e[i]=o)}zo(e,n){const r=joe[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Goe{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei="WebChannelConnection";class Woe extends Uoe{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,o,i){const s=$k();return new Promise((a,c)=>{const d=new R3;d.setWithCredentials(!0),d.listenOnce(P3.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Y1.NO_ERROR:const p=d.getResponseJson();ft(Ei,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case Y1.TIMEOUT:ft(Ei,`RPC '${e}' ${s} timed out`),c(new Ct(We.DEADLINE_EXCEEDED,"Request time out"));break;case Y1.HTTP_ERROR:const g=d.getStatus();if(ft(Ei,`RPC '${e}' ${s} failed with status:`,g,"response text:",d.getResponseText()),g>0){let m=d.getResponseJson();Array.isArray(m)&&(m=m[0]);const v=m==null?void 0:m.error;if(v&&v.status&&v.message){const S=function(x){const O=x.toLowerCase().replace(/_/g,"-");return Object.values(We).indexOf(O)>=0?O:We.UNKNOWN}(v.status);c(new Ct(S,v.message))}else c(new Ct(We.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new Ct(We.UNAVAILABLE,"Connection failed."));break;default:jt(9055,{l_:e,streamId:s,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{ft(Ei,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(o);ft(Ei,`RPC '${e}' ${s} sending request:`,o),d.send(n,"POST",h,r,15)})}T_(e,n,r){const o=$k(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=O3(),a=k3(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=i.join("");ft(Ei,`Creating RPC '${e}' stream ${o}: ${h}`,c);const p=s.createWebChannel(h,c);this.I_(p);let g=!1,m=!1;const v=new Goe({Yo:C=>{m?ft(Ei,`Not sending because RPC '${e}' stream ${o} is closed:`,C):(g||(ft(Ei,`Opening RPC '${e}' stream ${o} transport.`),p.open(),g=!0),ft(Ei,`RPC '${e}' stream ${o} sending:`,C),p.send(C))},Zo:()=>p.close()}),S=(C,x,O)=>{C.listen(x,M=>{try{O(M)}catch(P){setTimeout(()=>{throw P},0)}})};return S(p,r0.EventType.OPEN,()=>{m||(ft(Ei,`RPC '${e}' stream ${o} transport opened.`),v.o_())}),S(p,r0.EventType.CLOSE,()=>{m||(m=!0,ft(Ei,`RPC '${e}' stream ${o} transport closed`),v.a_(),this.E_(p))}),S(p,r0.EventType.ERROR,C=>{m||(m=!0,Zb(Ei,`RPC '${e}' stream ${o} transport errored. Name:`,C.name,"Message:",C.message),v.a_(new Ct(We.UNAVAILABLE,"The operation could not be completed")))}),S(p,r0.EventType.MESSAGE,C=>{var x;if(!m){const O=C.data[0];Hn(!!O,16349);const M=O,P=(M==null?void 0:M.error)||((x=M[0])==null?void 0:x.error);if(P){ft(Ei,`RPC '${e}' stream ${o} received error:`,P);const k=P.status;let $=function(A){const N=mo[A];if(N!==void 0)return h6(N)}(k),D=P.message;$===void 0&&($=We.INTERNAL,D="Unknown error status: "+k+" with message "+P.message),m=!0,v.a_(new Ct($,D)),p.close()}else ft(Ei,`RPC '${e}' stream ${o} received:`,O),v.u_(O)}}),S(a,M3.STAT_EVENT,C=>{C.stat===Tk.PROXY?ft(Ei,`RPC '${e}' stream ${o} detected buffering proxy`):C.stat===Tk.NOPROXY&&ft(Ei,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{v.__()},0),v}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function uM(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(t){return new Xre(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(e,n,r=1e3,o=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=o,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&ft("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JB="PersistentStream";class A6{constructor(e,n,r,o,i,s,a,c){this.Mi=e,this.S_=r,this.b_=o,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new T6(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===We.RESOURCE_EXHAUSTED?(fd(n.toString()),fd("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===We.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.D_===n&&this.G_(r,o)},r=>{e(()=>{const o=new Ct(We.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{r(()=>this.z_(o))}),this.stream.onMessage(o=>{r(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ft(JB,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ft(JB,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qoe extends A6{constructor(e,n,r,o,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,s),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Jre(this.serializer,e),r=function(i){if(!("targetChange"in i))return Kt.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?Kt.min():s.readTime?Rc(s.readTime):Kt.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Nk(this.serializer),n.addTarget=function(i,s){let a;const c=s.target;if(a=Mk(c)?{documents:noe(i,c)}:{query:roe(i,c).ft},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=g6(i,s.resumeToken);const d=Ok(i,s.expectedCount);d!==null&&(a.expectedCount=d)}else if(s.snapshotVersion.compareTo(Kt.min())>0){a.readTime=bT(i,s.snapshotVersion.toTimestamp());const d=Ok(i,s.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);const r=ioe(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Nk(this.serializer),n.removeTarget=e,this.q_(n)}}class Koe extends A6{constructor(e,n,r,o,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,s),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Hn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Hn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Hn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=toe(e.writeResults,e.commitTime),r=Rc(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Nk(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>eoe(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yoe{}class Xoe extends Yoe{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Ct(We.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Go(e,Dk(n,r),o,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===We.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ct(We.UNKNOWN,i.toString())})}Ho(e,n,r,o,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Ho(e,Dk(n,r),o,s,a,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===We.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ct(We.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Qoe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(fd(n),this.aa=!1):ft("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg="RemoteStore";class Zoe{constructor(e,n,r,o,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(s=>{r.enqueueAndForget(async()=>{cm(this)&&(ft(Xg,"Restarting streams for network reachability change."),await async function(c){const d=Qt(c);d.Ea.add(4),await pE(d),d.Ra.set("Unknown"),d.Ea.delete(4),await $A(d)}(this))})}),this.Ra=new Qoe(r,o)}}async function $A(t){if(cm(t))for(const e of t.da)await e(!0)}async function pE(t){for(const e of t.da)await e(!1)}function I6(t,e){const n=Qt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Q2(n)?X2(n):_v(n).O_()&&Y2(n,e))}function K2(t,e){const n=Qt(t),r=_v(n);n.Ia.delete(e),r.O_()&&R6(n,e),n.Ia.size===0&&(r.O_()?r.L_():cm(n)&&n.Ra.set("Unknown"))}function Y2(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Kt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_v(t).Y_(e)}function R6(t,e){t.Va.Ue(e),_v(t).Z_(e)}function X2(t){t.Va=new Wre({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),_v(t).start(),t.Ra.ua()}function Q2(t){return cm(t)&&!_v(t).x_()&&t.Ia.size>0}function cm(t){return Qt(t).Ea.size===0}function P6(t){t.Va=void 0}async function Joe(t){t.Ra.set("Online")}async function eie(t){t.Ia.forEach((e,n)=>{Y2(t,e)})}async function tie(t,e){P6(t),Q2(t)?(t.Ra.ha(e),X2(t)):t.Ra.set("Unknown")}async function nie(t,e,n){if(t.Ra.set("Online"),e instanceof p6&&e.state===2&&e.cause)try{await async function(o,i){const s=i.cause;for(const a of i.targetIds)o.Ia.has(a)&&(await o.remoteSyncer.rejectListen(a,s),o.Ia.delete(a),o.Va.removeTarget(a))}(t,e)}catch(r){ft(Xg,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await wT(t,r)}else if(e instanceof J1?t.Va.Ze(e):e instanceof f6?t.Va.st(e):t.Va.tt(e),!n.isEqual(Kt.min()))try{const r=await _6(t.localStore);n.compareTo(r)>=0&&await function(i,s){const a=i.Va.Tt(s);return a.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.Ia.get(d);h&&i.Ia.set(d,h.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,d)=>{const h=i.Ia.get(c);if(!h)return;i.Ia.set(c,h.withResumeToken(vi.EMPTY_BYTE_STRING,h.snapshotVersion)),R6(i,c);const p=new Xh(h.target,c,d,h.sequenceNumber);Y2(i,p)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ft(Xg,"Failed to raise snapshot:",r),await wT(t,r)}}async function wT(t,e,n){if(!xv(e))throw e;t.Ea.add(1),await pE(t),t.Ra.set("Offline"),n||(n=()=>_6(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ft(Xg,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await $A(t)})}function M6(t,e){return e().catch(n=>wT(t,n,e))}async function VA(t){const e=Qt(t),n=hf(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:D2;for(;rie(e);)try{const o=await $oe(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,oie(e,o)}catch(o){await wT(e,o)}k6(e)&&O6(e)}function rie(t){return cm(t)&&t.Ta.length<10}function oie(t,e){t.Ta.push(e);const n=hf(t);n.O_()&&n.X_&&n.ea(e.mutations)}function k6(t){return cm(t)&&!hf(t).x_()&&t.Ta.length>0}function O6(t){hf(t).start()}async function iie(t){hf(t).ra()}async function sie(t){const e=hf(t);for(const n of t.Ta)e.ea(n.mutations)}async function aie(t,e,n){const r=t.Ta.shift(),o=B2.from(r,e,n);await M6(t,()=>t.remoteSyncer.applySuccessfulWrite(o)),await VA(t)}async function lie(t,e){e&&hf(t).X_&&await async function(r,o){if(function(s){return jre(s)&&s!==We.ABORTED}(o.code)){const i=r.Ta.shift();hf(r).B_(),await M6(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,o)),await VA(r)}}(t,e),k6(t)&&O6(t)}async function eH(t,e){const n=Qt(t);n.asyncQueue.verifyOperationInProgress(),ft(Xg,"RemoteStore received new credentials");const r=cm(n);n.Ea.add(3),await pE(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await $A(n)}async function cie(t,e){const n=Qt(t);e?(n.Ea.delete(2),await $A(n)):e||(n.Ea.add(2),await pE(n),n.Ra.set("Unknown"))}function _v(t){return t.ma||(t.ma=function(n,r,o){const i=Qt(n);return i.sa(),new qoe(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,o)}(t.datastore,t.asyncQueue,{Xo:Joe.bind(null,t),t_:eie.bind(null,t),r_:tie.bind(null,t),H_:nie.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Q2(t)?X2(t):t.Ra.set("Unknown")):(await t.ma.stop(),P6(t))})),t.ma}function hf(t){return t.fa||(t.fa=function(n,r,o){const i=Qt(n);return i.sa(),new Koe(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,o)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:iie.bind(null,t),r_:lie.bind(null,t),ta:sie.bind(null,t),na:aie.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await VA(t)):(await t.fa.stop(),t.Ta.length>0&&(ft(Xg,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,n,r,o,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=i,this.deferred=new id,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,i){const s=Date.now()+r,a=new Z2(e,n,s,o,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ct(We.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function J2(t,e){if(fd("AsyncQueue",`${e}: ${t}`),xv(t))return new Ct(We.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{static emptySet(e){return new Oy(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Dt.comparator(n.key,r.key):(n,r)=>Dt.comparator(n.key,r.key),this.keyedMap=o0(),this.sortedSet=new Hr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Oy)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,i=r.getNext().key;if(!o.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Oy;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tH{constructor(){this.ga=new Hr(Dt.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):jt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class rv{constructor(e,n,r,o,i,s,a,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,o,i){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new rv(e,n,Oy.emptySet(n),s,r,o,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kA(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uie{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class die{constructor(){this.queries=nH(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Qt(n),i=o.queries;o.queries=nH(),i.forEach((s,a)=>{for(const c of a.Sa)c.onError(r)})})(this,new Ct(We.ABORTED,"Firestore shutting down"))}}function nH(){return new lm(t=>e6(t),kA)}async function eL(t,e){const n=Qt(t);let r=3;const o=e.query;let i=n.queries.get(o);i?!i.ba()&&e.Da()&&(r=2):(i=new uie,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(o,!0);break;case 1:i.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(s){const a=J2(s,`Initialization of query '${hy(e.query)}' failed`);return void e.onError(a)}n.queries.set(o,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&nL(n)}async function tL(t,e){const n=Qt(t),r=e.query;let o=3;const i=n.queries.get(r);if(i){const s=i.Sa.indexOf(e);s>=0&&(i.Sa.splice(s,1),i.Sa.length===0?o=e.Da()?0:1:!i.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function hie(t,e){const n=Qt(t);let r=!1;for(const o of e){const i=o.query,s=n.queries.get(i);if(s){for(const a of s.Sa)a.Fa(o)&&(r=!0);s.wa=o}}r&&nL(n)}function fie(t,e,n){const r=Qt(t),o=r.queries.get(e);if(o)for(const i of o.Sa)i.onError(n);r.queries.delete(e)}function nL(t){t.Ca.forEach(e=>{e.next()})}var Vk,rH;(rH=Vk||(Vk={})).Ma="default",rH.Cache="cache";class rL{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new rv(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=rv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Vk.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e){this.key=e}}class L6{constructor(e){this.key=e}}class pie{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=wn(),this.mutatedKeys=wn(),this.eu=t6(e),this.tu=new Oy(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new tH,o=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,s=o,a=!1;const c=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,d=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((h,p)=>{const g=o.get(h),m=OA(this.query,p)?p:null,v=!!g&&this.mutatedKeys.has(g.key),S=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let C=!1;g&&m?g.data.isEqual(m.data)?v!==S&&(r.track({type:3,doc:m}),C=!0):this.su(g,m)||(r.track({type:2,doc:m}),C=!0,(c&&this.eu(m,c)>0||d&&this.eu(m,d)<0)&&(a=!0)):!g&&m?(r.track({type:0,doc:m}),C=!0):g&&!m&&(r.track({type:1,doc:g}),C=!0,(c||d)&&(a=!0)),C&&(m?(s=s.add(m),i=S?i.add(h):i.delete(h)):(s=s.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:s,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((h,p)=>function(m,v){const S=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return jt(20277,{Rt:C})}};return S(m)-S(v)}(h.type,p.type)||this.eu(h.doc,p.doc)),this.ou(r),o=o??!1;const a=n&&!o?this._u():[],c=this.Xa.size===0&&this.current&&!o?1:0,d=c!==this.Za;return this.Za=c,s.length!==0||d?{snapshot:new rv(this.query,e.tu,i,s,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new tH,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=wn(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new L6(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new D6(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=wn();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return rv.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const oL="SyncEngine";class gie{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class mie{constructor(e){this.key=e,this.hu=!1}}class yie{constructor(e,n,r,o,i,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new lm(a=>e6(a),kA),this.Iu=new Map,this.Eu=new Set,this.du=new Hr(Dt.comparator),this.Au=new Map,this.Ru=new U2,this.Vu={},this.mu=new Map,this.fu=nv.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function bie(t,e,n=!0){const r=B6(t);let o;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),o=i.view.lu()):o=await N6(r,e,n,!0),o}async function vie(t,e){const n=B6(t);await N6(n,e,!0,!1)}async function N6(t,e,n,r){const o=await Voe(t.localStore,Ic(e)),i=o.targetId,s=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await wie(t,e,i,s==="current",o.resumeToken)),t.isPrimaryClient&&n&&I6(t.remoteStore,o),a}async function wie(t,e,n,r,o){t.pu=(p,g,m)=>async function(S,C,x,O){let M=C.view.ru(x);M.Cs&&(M=await YB(S.localStore,C.query,!1).then(({documents:D})=>C.view.ru(D,M)));const P=O&&O.targetChanges.get(C.targetId),k=O&&O.targetMismatches.get(C.targetId)!=null,$=C.view.applyChanges(M,S.isPrimaryClient,P,k);return iH(S,C.targetId,$.au),$.snapshot}(t,p,g,m);const i=await YB(t.localStore,e,!0),s=new pie(e,i.Qs),a=s.ru(i.documents),c=fE.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",o),d=s.applyChanges(a,t.isPrimaryClient,c);iH(t,n,d.au);const h=new gie(e,n,s);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function Sie(t,e,n){const r=Qt(t),o=r.Tu.get(e),i=r.Iu.get(o.targetId);if(i.length>1)return r.Iu.set(o.targetId,i.filter(s=>!kA(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Fk(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),n&&K2(r.remoteStore,o.targetId),zk(r,o.targetId)}).catch(Ev)):(zk(r,o.targetId),await Fk(r.localStore,o.targetId,!0))}async function Cie(t,e){const n=Qt(t),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),K2(n.remoteStore,r.targetId))}async function Eie(t,e,n){const r=Pie(t);try{const o=await function(s,a){const c=Qt(s),d=Cr.now(),h=a.reduce((m,v)=>m.add(v.key),wn());let p,g;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let v=pd(),S=wn();return c.Ns.getEntries(m,h).next(C=>{v=C,v.forEach((x,O)=>{O.isValidDocument()||(S=S.add(x))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,v)).next(C=>{p=C;const x=[];for(const O of a){const M=$re(O,p.get(O.key).overlayedDocument);M!=null&&x.push(new If(O.key,M,q3(M.value.mapValue),Al.exists(!0)))}return c.mutationQueue.addMutationBatch(m,d,x,a)}).next(C=>{g=C;const x=C.applyToLocalDocumentSet(p,S);return c.documentOverlayCache.saveOverlays(m,C.batchId,x)})}).then(()=>({batchId:g.batchId,changes:r6(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(s,a,c){let d=s.Vu[s.currentUser.toKey()];d||(d=new Hr(vn)),d=d.insert(a,c),s.Vu[s.currentUser.toKey()]=d}(r,o.batchId,n),await gE(r,o.changes),await VA(r.remoteStore)}catch(o){const i=J2(o,"Failed to persist write");n.reject(i)}}async function F6(t,e){const n=Qt(t);try{const r=await Noe(n.localStore,e);e.targetChanges.forEach((o,i)=>{const s=n.Au.get(i);s&&(Hn(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?s.hu=!0:o.modifiedDocuments.size>0?Hn(s.hu,14607):o.removedDocuments.size>0&&(Hn(s.hu,42227),s.hu=!1))}),await gE(n,r,e)}catch(r){await Ev(r)}}function oH(t,e,n){const r=Qt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach((i,s)=>{const a=s.view.va(e);a.snapshot&&o.push(a.snapshot)}),function(s,a){const c=Qt(s);c.onlineState=a;let d=!1;c.queries.forEach((h,p)=>{for(const g of p.Sa)g.va(a)&&(d=!0)}),d&&nL(c)}(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function xie(t,e,n){const r=Qt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),i=o&&o.key;if(i){let s=new Hr(Dt.comparator);s=s.insert(i,Oi.newNoDocument(i,Kt.min()));const a=wn().add(i),c=new NA(Kt.min(),new Map,new Hr(vn),s,a);await F6(r,c),r.du=r.du.remove(i),r.Au.delete(e),iL(r)}else await Fk(r.localStore,e,!1).then(()=>zk(r,e,n)).catch(Ev)}async function _ie(t,e){const n=Qt(t),r=e.batch.batchId;try{const o=await Loe(n.localStore,e);V6(n,r,null),$6(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await gE(n,o)}catch(o){await Ev(o)}}async function Tie(t,e,n){const r=Qt(t);try{const o=await function(s,a){const c=Qt(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,a).next(p=>(Hn(p!==null,37113),h=p.keys(),c.mutationQueue.removeMutationBatch(d,p))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})}(r.localStore,e);V6(r,e,n),$6(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await gE(r,o)}catch(o){await Ev(o)}}function $6(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function V6(t,e,n){const r=Qt(t);let o=r.Vu[r.currentUser.toKey()];if(o){const i=o.get(e);i&&(n?i.reject(n):i.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function zk(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||z6(t,r)})}function z6(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(K2(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),iL(t))}function iH(t,e,n){for(const r of n)r instanceof D6?(t.Ru.addReference(r.key,e),Aie(t,r)):r instanceof L6?(ft(oL,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||z6(t,r.key)):jt(19791,{wu:r})}function Aie(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ft(oL,"New document in limbo: "+n),t.Eu.add(r),iL(t))}function iL(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Dt(Sr.fromString(e)),r=t.fu.next();t.Au.set(r,new mie(n)),t.du=t.du.insert(n,r),I6(t.remoteStore,new Xh(Ic(MA(n.path)),r,"TargetPurposeLimboResolution",AA.ce))}}async function gE(t,e,n){const r=Qt(t),o=[],i=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((a,c)=>{s.push(r.pu(c,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const p=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(d){o.push(d);const p=W2.As(c.targetId,d);i.push(p)}}))}),await Promise.all(s),r.Pu.H_(o),await async function(c,d){const h=Qt(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>He.forEach(d,g=>He.forEach(g.Es,m=>h.persistence.referenceDelegate.addReference(p,g.targetId,m)).next(()=>He.forEach(g.ds,m=>h.persistence.referenceDelegate.removeReference(p,g.targetId,m)))))}catch(p){if(!xv(p))throw p;ft(q2,"Failed to update sequence numbers: "+p)}for(const p of d){const g=p.targetId;if(!p.fromCache){const m=h.Ms.get(g),v=m.snapshotVersion,S=m.withLastLimboFreeSnapshotVersion(v);h.Ms=h.Ms.insert(g,S)}}}(r.localStore,i))}async function Iie(t,e){const n=Qt(t);if(!n.currentUser.isEqual(e)){ft(oL,"User change. New user:",e.toKey());const r=await x6(n.localStore,e);n.currentUser=e,function(i,s){i.mu.forEach(a=>{a.forEach(c=>{c.reject(new Ct(We.CANCELLED,s))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await gE(n,r.Ls)}}function Rie(t,e){const n=Qt(t),r=n.Au.get(e);if(r&&r.hu)return wn().add(r.key);{let o=wn();const i=n.Iu.get(e);if(!i)return o;for(const s of i){const a=n.Tu.get(s);o=o.unionWith(a.view.nu)}return o}}function B6(t){const e=Qt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=F6.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Rie.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xie.bind(null,e),e.Pu.H_=hie.bind(null,e.eventManager),e.Pu.yu=fie.bind(null,e.eventManager),e}function Pie(t){const e=Qt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_ie.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Tie.bind(null,e),e}class ST{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=FA(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Doe(this.persistence,new Moe,e.initialUser,this.serializer)}Cu(e){return new E6(G2.mi,this.serializer)}Du(e){return new Boe}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ST.provider={build:()=>new ST};class Mie extends ST{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Hn(this.persistence.referenceDelegate instanceof vT,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new moe(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?hs.withCacheSize(this.cacheSizeBytes):hs.DEFAULT;return new E6(r=>vT.mi(r,n),this.serializer)}}class Bk{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>oH(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Iie.bind(null,this.syncEngine),await cie(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new die}()}createDatastore(e){const n=FA(e.databaseInfo.databaseId),r=function(i){return new Woe(i)}(e.databaseInfo);return function(i,s,a,c){return new Xoe(i,s,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,o,i,s,a){return new Zoe(r,o,i,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>oH(this.syncEngine,n,0),function(){return ZB.v()?new ZB:new Hoe}())}createSyncEngine(e,n){return function(o,i,s,a,c,d,h){const p=new yie(o,i,s,a,c,d);return h&&(p.gu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const i=Qt(o);ft(Xg,"RemoteStore shutting down."),i.Ea.add(5),await pE(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Bk.provider={build:()=>new Bk};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):fd("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff="FirestoreClient";class kie{constructor(e,n,r,o,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=ki.UNAUTHENTICATED,this.clientId=k2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async s=>{ft(ff,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ft(ff,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new id;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=J2(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function dM(t,e){t.asyncQueue.verifyOperationInProgress(),ft(ff,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async o=>{r.isEqual(o)||(await x6(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function sH(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Oie(t);ft(ff,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>eH(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,o)=>eH(e.remoteStore,o)),t._onlineComponents=e}async function Oie(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ft(ff,"Using user provided OfflineComponentProvider");try{await dM(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===We.FAILED_PRECONDITION||o.code===We.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Zb("Error using user provided cache. Falling back to memory cache: "+n),await dM(t,new ST)}}else ft(ff,"Using default OfflineComponentProvider"),await dM(t,new Mie(void 0));return t._offlineComponents}async function H6(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ft(ff,"Using user provided OnlineComponentProvider"),await sH(t,t._uninitializedComponentsProvider._online)):(ft(ff,"Using default OnlineComponentProvider"),await sH(t,new Bk))),t._onlineComponents}function Die(t){return H6(t).then(e=>e.syncEngine)}async function CT(t){const e=await H6(t),n=e.eventManager;return n.onListen=bie.bind(null,e.syncEngine),n.onUnlisten=Sie.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=vie.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Cie.bind(null,e.syncEngine),n}function Lie(t,e,n={}){const r=new id;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,a,c,d){const h=new sL({next:g=>{h.Nu(),s.enqueueAndForget(()=>tL(i,p));const m=g.docs.has(a);!m&&g.fromCache?d.reject(new Ct(We.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&g.fromCache&&c&&c.source==="server"?d.reject(new Ct(We.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(g)},error:g=>d.reject(g)}),p=new rL(MA(a.path),h,{includeMetadataChanges:!0,qa:!0});return eL(i,p)}(await CT(t),t.asyncQueue,e,n,r)),r.promise}function Nie(t,e,n={}){const r=new id;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,a,c,d){const h=new sL({next:g=>{h.Nu(),s.enqueueAndForget(()=>tL(i,p)),g.fromCache&&c.source==="server"?d.reject(new Ct(We.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(g)},error:g=>d.reject(g)}),p=new rL(a,h,{includeMetadataChanges:!0,qa:!0});return eL(i,p)}(await CT(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j6(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aH=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U6="firestore.googleapis.com",lH=!0;class cH{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ct(We.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=U6,this.ssl=lH}else this.host=e.host,this.ssl=e.ssl??lH;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=C6;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<poe)throw new Ct(We.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Qne("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=j6(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ct(We.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ct(We.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ct(We.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zA{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cH({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ct(We.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ct(We.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cH(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Bne;switch(r.type){case"firstParty":return new Gne(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ct(We.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=aH.get(n);r&&(ft("ComponentProvider","Removing Datastore"),aH.delete(n),r.terminate())}(this),Promise.resolve()}}function Fie(t,e,n,r={}){var d;t=ea(t,zA);const o=vv(e),i=t._getSettings(),s={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;o&&(BU(`https://${a}`),HU("Firestore",!0)),i.host!==U6&&i.host!==a&&Zb("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:a,ssl:o,emulatorOptions:r};if(!Gg(c,s)&&(t._setSettings(c),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=ki.MOCK_USER;else{h=KZ(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Ct(We.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new ki(g)}t._authCredentials=new Hne(new L3(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new mE(this.firestore,e,this._query)}}class lo{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new lo(this.firestore,e,this._key)}toJSON(){return{type:lo._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(dE(n,lo._jsonSchema))return new lo(e,r||null,new Dt(Sr.fromString(n.referencePath)))}}lo._jsonSchemaVersion="firestore/documentReference/1.0",lo._jsonSchema={type:vo("string",lo._jsonSchemaVersion),referencePath:vo("string")};class rf extends mE{constructor(e,n,r){super(e,n,MA(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new lo(this.firestore,null,new Dt(e))}withConverter(e){return new rf(this.firestore,e,this._path)}}function aL(t,e,...n){if(t=No(t),N3("collection","path",e),t instanceof zA){const r=Sr.fromString(e,...n);return EB(r),new rf(t,null,r)}{if(!(t instanceof lo||t instanceof rf))throw new Ct(We.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Sr.fromString(e,...n));return EB(r),new rf(t.firestore,null,r)}}function Vc(t,e,...n){if(t=No(t),arguments.length===1&&(e=k2.newId()),N3("doc","path",e),t instanceof zA){const r=Sr.fromString(e,...n);return CB(r),new lo(t,null,new Dt(r))}{if(!(t instanceof lo||t instanceof rf))throw new Ct(We.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Sr.fromString(e,...n));return CB(r),new lo(t.firestore,t instanceof rf?t.converter:null,new Dt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uH="AsyncQueue";class dH{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new T6(this,"async_queue_retry"),this._c=()=>{const r=uM();r&&ft(uH,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=uM();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=uM();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new id;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!xv(e))throw e;ft(uH,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,fd("INTERNAL UNHANDLED ERROR: ",hH(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Z2.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(o),o}uc(){this.nc&&jt(47125,{Pc:hH(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function hH(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fH(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const i of r)if(i in o&&typeof o[i]=="function")return!0;return!1}(t,["next","error","complete"])}class pf extends zA{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new dH,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new dH(e),this._firestoreClient=void 0,await e}}}function $ie(t,e){const n=typeof t=="object"?t:WU(),r=typeof t=="string"?t:hT,o=w2(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const i=WZ("firestore");i&&Fie(o,...i)}return o}function BA(t){if(t._terminated)throw new Ct(We.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Vie(t),t._firestoreClient}function Vie(t){var r,o,i;const e=t._freezeSettings(),n=function(a,c,d,h){return new lre(a,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,j6(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new kie(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Na(vi.fromBase64String(e))}catch(n){throw new Ct(We.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Na(vi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Na._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(dE(e,Na._jsonSchema))return Na.fromBase64String(e.bytes)}}Na._jsonSchemaVersion="firestore/bytes/1.0",Na._jsonSchema={type:vo("string",Na._jsonSchemaVersion),bytes:vo("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ct(We.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ct(We.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ct(We.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return vn(this._lat,e._lat)||vn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pc._jsonSchemaVersion}}static fromJSON(e){if(dE(e,Pc._jsonSchema))return new Pc(e.latitude,e.longitude)}}Pc._jsonSchemaVersion="firestore/geoPoint/1.0",Pc._jsonSchema={type:vo("string",Pc._jsonSchemaVersion),latitude:vo("number"),longitude:vo("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,o){if(r.length!==o.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==o[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Mc._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(dE(e,Mc._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Mc(e.vectorValues);throw new Ct(We.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mc._jsonSchemaVersion="firestore/vectorValue/1.0",Mc._jsonSchema={type:vo("string",Mc._jsonSchemaVersion),vectorValues:vo("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zie=/^__.*__$/;class Bie{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new If(e,this.data,this.fieldMask,n,this.fieldTransforms):new hE(e,this.data,n,this.fieldTransforms)}}class G6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new If(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function W6(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw jt(40011,{Ac:t})}}class cL{constructor(e,n,r,o,i,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new cL({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ET(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(W6(this.Ac)&&zie.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Hie{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||FA(e)}Cc(e,n,r,o=!1){return new cL({Ac:e,methodName:n,Dc:r,path:yi.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function q6(t){const e=t._freezeSettings(),n=FA(t._databaseId);return new Hie(t._databaseId,!!e.ignoreUndefinedProperties,n)}function jie(t,e,n,r,o,i={}){const s=t.Cc(i.merge||i.mergeFields?2:0,e,n,o);uL("Data must be an object, but it was:",s,r);const a=K6(r,s);let c,d;if(i.merge)c=new Zs(s.fieldMask),d=s.fieldTransforms;else if(i.mergeFields){const h=[];for(const p of i.mergeFields){const g=Hk(e,p,n);if(!s.contains(g))throw new Ct(We.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);X6(h,g)||h.push(g)}c=new Zs(h),d=s.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,d=s.fieldTransforms;return new Bie(new gs(a),c,d)}class jA extends lL{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jA}}function Uie(t,e,n,r){const o=t.Cc(1,e,n);uL("Data must be an object, but it was:",o,r);const i=[],s=gs.empty();Af(r,(c,d)=>{const h=dL(e,c,n);d=No(d);const p=o.yc(h);if(d instanceof jA)i.push(h);else{const g=UA(d,p);g!=null&&(i.push(h),s.set(h,g))}});const a=new Zs(i);return new G6(s,a,o.fieldTransforms)}function Gie(t,e,n,r,o,i){const s=t.Cc(1,e,n),a=[Hk(e,r,n)],c=[o];if(i.length%2!=0)throw new Ct(We.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<i.length;g+=2)a.push(Hk(e,i[g])),c.push(i[g+1]);const d=[],h=gs.empty();for(let g=a.length-1;g>=0;--g)if(!X6(d,a[g])){const m=a[g];let v=c[g];v=No(v);const S=s.yc(m);if(v instanceof jA)d.push(m);else{const C=UA(v,S);C!=null&&(d.push(m),h.set(m,C))}}const p=new Zs(d);return new G6(h,p,s.fieldTransforms)}function UA(t,e){if(Y6(t=No(t)))return uL("Unsupported field value:",e,t),K6(t,e);if(t instanceof lL)return function(r,o){if(!W6(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(o);i&&o.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,o){const i=[];let s=0;for(const a of r){let c=UA(a,o.wc(s));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),s++}return{arrayValue:{values:i}}}(t,e)}return function(r,o){if((r=No(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return kre(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Cr.fromDate(r);return{timestampValue:bT(o.serializer,i)}}if(r instanceof Cr){const i=new Cr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:bT(o.serializer,i)}}if(r instanceof Pc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Na)return{bytesValue:g6(o.serializer,r._byteString)};if(r instanceof lo){const i=o.databaseId,s=r.firestore._databaseId;if(!s.isEqual(i))throw o.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:j2(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Mc)return function(s,a){return{mapValue:{fields:{[G3]:{stringValue:W3},[fT]:{arrayValue:{values:s.toArray().map(d=>{if(typeof d!="number")throw a.Sc("VectorValues must only contain numeric values.");return V2(a.serializer,d)})}}}}}}(r,o);throw o.Sc(`Unsupported field value: ${O2(r)}`)}(t,e)}function K6(t,e){const n={};return V3(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Af(t,(r,o)=>{const i=UA(o,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function Y6(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Cr||t instanceof Pc||t instanceof Na||t instanceof lo||t instanceof lL||t instanceof Mc)}function uL(t,e,n){if(!Y6(n)||!F3(n)){const r=O2(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Hk(t,e,n){if((e=No(e))instanceof HA)return e._internalPath;if(typeof e=="string")return dL(t,e);throw ET("Field path arguments must be of type string or ",t,!1,void 0,n)}const Wie=new RegExp("[~\\*/\\[\\]]");function dL(t,e,n){if(e.search(Wie)>=0)throw ET(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new HA(...e.split("."))._internalPath}catch{throw ET(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ET(t,e,n,r,o){const i=r&&!r.isEmpty(),s=o!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||s)&&(c+=" (found",i&&(c+=` in field ${r}`),s&&(c+=` in document ${o}`),c+=")"),new Ct(We.INVALID_ARGUMENT,a+t+c)}function X6(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(e,n,r,o,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new lo(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qie(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Z6("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class qie extends Q6{data(){return super.data()}}function Z6(t,e){return typeof e=="string"?dL(t,e):e instanceof HA?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ct(We.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kie{convertValue(e,n="none"){switch(df(e)){case 0:return null;case 1:return e.booleanValue;case 2:return so(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(uf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw jt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Af(e,(o,i)=>{r[o]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,o,i;const n=(i=(o=(r=e.fields)==null?void 0:r[fT].arrayValue)==null?void 0:o.values)==null?void 0:i.map(s=>so(s.doubleValue));return new Mc(n)}convertGeoPoint(e){return new Pc(so(e.latitude),so(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=RA(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(J0(e));default:return null}}convertTimestamp(e){const n=cf(e);return new Cr(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Sr.fromString(e);Hn(S6(r),9688,{name:e});const o=new eS(r.get(1),r.get(3)),i=new Dt(r.popFirst(5));return o.isEqual(n)||fd(`Document ${i} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yie(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class s0{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ng extends Q6{constructor(e,n,r,o,i,s){super(e,n,r,o,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new e_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Z6("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ct(We.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ng._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ng._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ng._jsonSchema={type:vo("string",Ng._jsonSchemaVersion),bundleSource:vo("string","DocumentSnapshot"),bundleName:vo("string"),bundle:vo("string")};class e_ extends Ng{data(e={}){return super.data(e)}}class Fg{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new s0(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new e_(this._firestore,this._userDataWriter,r.key,r,new s0(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ct(We.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,i){if(o._snapshot.oldDocs.isEmpty()){let s=0;return o._snapshot.docChanges.map(a=>{const c=new e_(o._firestore,o._userDataWriter,a.doc.key,a.doc,new s0(o._snapshot.mutatedKeys.has(a.doc.key),o._snapshot.fromCache),o.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const c=new e_(o._firestore,o._userDataWriter,a.doc.key,a.doc,new s0(o._snapshot.mutatedKeys.has(a.doc.key),o._snapshot.fromCache),o.query.converter);let d=-1,h=-1;return a.type!==0&&(d=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:Xie(a.type),doc:c,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ct(We.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Fg._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=k2.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),o.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Xie(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return jt(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(t){t=ea(t,lo);const e=ea(t.firestore,pf);return Lie(BA(e),t._key).then(n=>nG(e,t,n))}Fg._jsonSchemaVersion="firestore/querySnapshot/1.0",Fg._jsonSchema={type:vo("string",Fg._jsonSchemaVersion),bundleSource:vo("string","QuerySnapshot"),bundleName:vo("string"),bundle:vo("string")};class hL extends Kie{constructor(e){super(),this.firestore=e}convertBytes(e){return new Na(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new lo(this.firestore,null,n)}}function eG(t){t=ea(t,mE);const e=ea(t.firestore,pf),n=BA(e),r=new hL(e);return J6(t._query),Nie(n,t._query).then(o=>new Fg(e,r,t,o))}function fL(t,e,n){t=ea(t,lo);const r=ea(t.firestore,pf),o=Yie(t.converter,e,n);return pL(r,[jie(q6(r),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,Al.none())])}function Qie(t,e,n,...r){t=ea(t,lo);const o=ea(t.firestore,pf),i=q6(o);let s;return s=typeof(e=No(e))=="string"||e instanceof HA?Gie(i,"updateDoc",t._key,e,n,r):Uie(i,"updateDoc",t._key,e),pL(o,[s.toMutation(t._key,Al.exists(!0))])}function Zie(t){return pL(ea(t.firestore,pf),[new z2(t._key,Al.none())])}function tG(t,...e){var c,d,h;t=No(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||fH(e[r])||(n=e[r++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(fH(e[r])){const p=e[r];e[r]=(c=p.next)==null?void 0:c.bind(p),e[r+1]=(d=p.error)==null?void 0:d.bind(p),e[r+2]=(h=p.complete)==null?void 0:h.bind(p)}let i,s,a;if(t instanceof lo)s=ea(t.firestore,pf),a=MA(t._key.path),i={next:p=>{e[r]&&e[r](nG(s,t,p))},error:e[r+1],complete:e[r+2]};else{const p=ea(t,mE);s=ea(p.firestore,pf),a=p._query;const g=new hL(s);i={next:m=>{e[r]&&e[r](new Fg(s,g,p,m))},error:e[r+1],complete:e[r+2]},J6(t._query)}return function(g,m,v,S){const C=new sL(S),x=new rL(m,C,v);return g.asyncQueue.enqueueAndForget(async()=>eL(await CT(g),x)),()=>{C.Nu(),g.asyncQueue.enqueueAndForget(async()=>tL(await CT(g),x))}}(BA(s),a,o,i)}function pL(t,e){return function(r,o){const i=new id;return r.asyncQueue.enqueueAndForget(async()=>Eie(await Die(r),o,i)),i.promise}(BA(t),e)}function nG(t,e,n){const r=n.docs.get(e._key),o=new hL(t);return new Ng(t,o,e._key,r,new s0(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Cv=o})(wv),Xb(new Wg("firestore",(r,{instanceIdentifier:o,options:i})=>{const s=r.getProvider("app").getImmediate(),a=new pf(new jne(r.getProvider("auth-internal")),new Wne(s,r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Ct(We.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eS(d.options.projectId,h)}(s,o),s);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),tf(bB,vB,e),tf(bB,vB,"esm2020")})();const Jie={apiKey:"AIzaSyBU9Wysvry148VFYadGPhbpaj5PADIX62U",authDomain:"quiz-dent.firebaseapp.com",projectId:"quiz-dent",storageBucket:"quiz-dent.firebasestorage.app",messagingSenderId:"897060250474",appId:"1:897060250474:web:b2d2dfef3de770fe303b13",measurementId:"G-YJ0GRTE9WX"},rG=GU(Jie),gf=Fne(rG),Ml=$ie(rG);var Pi=(t=>(t.LOGIN="/login",t.HOME="/",t.QUIZ="/quiz",t.ERROR="/error",t.LOGOUT="/logout",t.USERSCORES="/userscores",t.REGISTER="/register",t.ANATOMY="/anatomy",t.OPTIONS="/options",t.LECTURES="/lectures",t))(Pi||{}),lh=(t=>(t.USER="user",t.ADMIN="admin",t.SUPERVISOR="supervisor",t))(lh||{});const GA=new Set(["dm.skakov@gmail.com"]),gL=aL(Ml,"quiz_collection"),oG=async t=>{console.log("    Firestore"),console.log(" :",t);try{const e=gf.currentUser;if(!e)throw new Error("  ");const n=`${t.first_name} ${t.last_name}`.trim(),r={uid:e.uid,displayName:n,email:t.email,testList:[]};console.log("  :",r),console.log("    ID:",r.uid),await fL(Vc(Ml,"users",r.uid),r),console.log("     Firestore!");const o=await gd(Vc(Ml,"users",r.uid));return o.exists()?(console.log(" :  "),console.log("  :",o.data())):console.error("     "),r}catch(e){throw console.error("    :",e),e}},ese=async(t,e,n,r)=>{console.log("   :",{uid:t,idTest:e,score:n,totalQuestions:r});try{const o=`${n}/${r}`,i=Vc(Ml,"users",t),s={idTest:e,title:tse(e),score:o,completed:!0},a=await gd(i);if(a.exists()){const d=a.data().testList||[],h=d.findIndex(p=>p.idTest===e);return h>=0?d[h]=s:d.push(s),await Qie(i,{testList:d}),console.log("   "),!0}else throw console.error("   :",t),new Error("  ")}catch(o){throw console.error("    :",o),o}},tse=t=>({lesson1:" 1",lesson2:" 2",lesson3:" 3",lesson4:" 4",lesson5:" 5",lesson6:" 6",lesson7:" 7",lesson8:" 8"})[t]||` ${t}`,iG=async(t,e)=>{var n;try{if(!t||!e)return console.warn("canTakeTest:  uid  testId"),!0;const r=Vc(Ml,"users",t),o=await gd(r);if(o.exists()){const s=(n=o.data().testList)==null?void 0:n.find(a=>a.idTest===e);return s?!s.completed:!0}return!0}catch(r){return console.error("    :",r),!0}},oS=async t=>{try{if(!t)return console.warn("getUserData:  uid"),null;const e=Vc(Ml,"users",t),n=await gd(e);return n.exists()?n.data():null}catch(e){return console.error("    :",e),null}},jk=t=>t&&typeof t.ru=="string"&&typeof t.he=="string";function nse(t,e){if(!jk(t.question))throw new Error(` #${e}:  "question"   {ru, he}`);if(!t.options||!Array.isArray(t.options.ru)||!Array.isArray(t.options.he))throw new Error(` #${e}: options.ru/he   `);if(t.options.ru.length!==t.options.he.length)throw new Error(` #${e}:  options.ru  options.he  `);if(typeof t.answer!="number"||t.answer<0||t.answer>=t.options.ru.length)throw new Error(` #${e}:   answer`)}function rse(t){if(!(t!=null&&t.id))throw new Error("quiz.id ");if(!jk(t.title))throw new Error("quiz.title   {ru, he}");if(!jk(t.description))throw new Error("quiz.description   {ru, he}");(t.questions??[]).forEach(nse)}const ose=async(t,{overwrite:e=!1}={})=>{var n;try{const r=((n=gf.currentUser)==null?void 0:n.email)||"";if(!r)throw new Error(" ");if(!GA.has(r))throw new Error("  ( )");rse(t);const o=Vc(gL,t.id),i=await gd(o);if(i.exists()&&!e)return console.log(`  "${t.id}"  , `),{id:t.id,status:"skipped",reason:"already_exists",data:i.data()};const s={id:t.id,title:t.title,description:t.description,icon:t.icon||`image/${t.id}.png`,questions:t.questions||[]};console.log("   :",s),console.log("    ID:",s.id),await fL(o,s,{merge:!1}),console.log("     Firestore!");const a=await gd(o);return a.exists()?(console.log(" :  "),console.log("  :",a.data())):console.error("     "),{...s,status:"created"}}catch(r){throw console.error("    quiz:",r),r}},ise=async()=>{try{const t=await eG(gL),e=new Set;return t.docs.forEach(n=>{e.add(n.id)}),console.log("   :",Array.from(e)),e}catch(t){return console.error("     :",t),new Set}},sse=async(t,e={overwrite:!1})=>{const n={created:[],skipped:[],errors:[]};console.log(`   ${t.length} ...`),console.log(`  overwrite: ${e.overwrite}`);const r=await ise();for(const o of t)try{if(r.has(o.id)){console.log(`  "${o.id}"  , `),n.skipped.push({id:o.id,reason:"already_exists"});continue}const i=await ose(o,e);i.status==="created"?(n.created.push(i),console.log(`  : ${o.id}`),r.add(o.id)):(n.skipped.push({id:o.id,reason:i.reason||"unknown"}),console.log(`  : ${o.id} (${i.reason})`))}catch(i){n.errors.push({id:o.id,error:i instanceof Error?i.message:String(i)}),console.error(`     ${o.id}:`,i)}return console.log(` :  ${n.created.length},  ${n.skipped.length},  ${n.errors.length}`),n},ase=async(t,e)=>{const n=Vc(Ml,"quiz_collection",t),r=await gd(n);if(r.exists()){const i=[...Array.isArray(r.data().questions)?r.data().questions:[],...e];return await fL(n,{questions:i},{merge:!0}),console.log(" Questions appended"),!0}else throw console.error(" Quiz didn't found:",t),new Error("Quiz didn't found")},lse=async t=>(await eG(aL(Ml,t))).docs.map(n=>n.data()),cse=async t=>{const e=Vc(Ml,"quiz_collection",t),n=await gd(e);return n.exists()?n.data():null},use=async t=>{const e=Vc(gL,t),n=await gd(e);return console.log(n.data()),await Zie(e),n},dse=({quiz:t,onClick:e,isCompleted:n,score:r})=>{const{email:o,uid:i}=bi(p=>p.auth),s=bi(p=>p.lang.language),a=w.useMemo(()=>GA.has(o||""),[o]),[c,d]=w.useState(!1),h=i?n===void 0?T.jsx("div",{className:"loading-ring"}):n?T.jsxs("div",{className:"completed-badge",children:[T.jsx("div",{className:"status-text",children:s==="ru"?"  ":"  "}),r&&T.jsxs("div",{className:"score-text",children:[s==="ru"?": ":": ",r]})]}):T.jsx("div",{className:"available-badge",children:s==="ru"?"":""}):T.jsx("div",{className:"completed-badge",children:s==="ru"?" ":" "});return T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:`quiz-card ${n?"completed":"available"}`,onClick:()=>e(t.id),children:[T.jsx("img",{src:`/react-redux-quiz-dent/${t.icon}`,alt:t.title[s],className:"quiz-icon"}),T.jsx("h2",{children:t.title[s]}),T.jsx("p",{className:"quiz-description",children:t.description[s]}),T.jsx("div",{className:"quiz-status",children:h})]}),a&&T.jsx("button",{disabled:c,onClick:async()=>{console.log("isAdmin ",a);try{await use(t.id),alert("Quiz was deleted successfully!"),d(!0),window.location.reload()}catch(p){console.error(p),alert("Delete not successfully!"),d(!1)}},children:c?"":"   "})]})},hse=()=>{const t=Za(),e=bi(c=>c.lang.language),n=bi(c=>c.auth.uid),[r,o]=w.useState({}),[i,s]=w.useState([]);w.useEffect(()=>{let c=!0;return(async()=>{const[d,h]=await Promise.all([n?oS(n):Promise.resolve(null),lse("quiz_collection")]);if(!c)return;if(s(h),!n||!d){const S={};h.forEach(C=>S[C.id]={canTake:!0}),o(S);return}const p=(d==null?void 0:d.testList)??[],g=new Map(p.map(S=>[S.idTest,S])),m=await Promise.all(h.map(S=>iG(n,S.id).catch(()=>!0))),v={};h.forEach((S,C)=>{var x;v[S.id]={canTake:m[C],score:((x=g.get(S.id))==null?void 0:x.score)??null}}),o(v)})(),()=>{c=!1}},[n]);const a=c=>t(`/quiz/${c}`);return T.jsxs("div",{className:"quiz-selection-container",children:[T.jsxs("div",{className:"selection-header",children:[T.jsx("h1",{children:e==="ru"?" ":" "}),!n&&T.jsx("p",{className:"guest-notice",children:e==="ru"?"    .    .":"   .   ."})]}),T.jsx("div",{className:"quiz-categories",children:i.map(c=>{const d=r[c.id],h=d?!d.canTake:void 0;return T.jsx(dse,{quiz:c,onClick:a,isCompleted:h,score:d==null?void 0:d.score},c.id)})})]})},fse=({currentQuestion:t,questionsLength:e})=>T.jsx("div",{className:"progress-bar",children:T.jsx("div",{className:"progress",style:{width:`${t/e*100}%`}})}),pse=({className:t,answer:e,onClick:n,lang:r})=>T.jsx("div",{className:t,onClick:n,children:e[r]}),gse=({options:t,onClick:e,selected:n,lang:r})=>!t||!t[r]?T.jsx("div",{children:"    ."}):T.jsx("div",{className:"quiz-options",children:t[r].map((o,i)=>{const a=["quiz-option",n===i?"quiz-option--selected":void 0].filter(Boolean).join(" ");return T.jsx(pse,{className:a,answer:{ru:t.ru[i],he:t.he[i]},onClick:()=>e(i),lang:r},i)})}),sG=({image:t,onLoad:e})=>T.jsx("div",{className:"question-image-container",children:T.jsx("img",{src:"/react-redux-quiz-dent/"+t,alt:"question",onLoad:e,className:"quiz-question__image",onError:n=>{console.error("  :",t),n.target.style.display="none"}})}),mse=({quiz:t,answer:e,lang:n})=>{const r=e===t.answer?n==="ru"?"":"":n==="ru"?"":"";return T.jsx("div",{children:T.jsxs("div",{className:"quiz-score",children:[T.jsxs("div",{className:"quiz-score__header",children:[T.jsx("strong",{children:t.question[n]}),T.jsxs("span",{className:`quiz-score__badge ${e===t.answer?"quiz-score__badge--correct":"quiz-score__badge--incorrect"}`,children:["  ",r]})]}),t.image&&T.jsx(sG,{image:t.image}),T.jsx("ul",{className:"quiz-score__options",children:t.options[n].map((o,i)=>{let s="quiz-score__option";return i===t.answer?s+=" quiz-score__option--correct":i===e&&(s+=" quiz-score__option--incorrect"),T.jsx("li",{className:s,children:o},i)})})]})})},yse=({questions:t,score:e,answers:n,onClick:r})=>{const o=bi(c=>c.lang.language),i=o==="ru"?"":"",s=o==="ru"?`    ${e}  ${t.length} .`:`   ${e}  ${t.length} .`,a=o==="ru"?"   ":"  ";return T.jsxs("div",{className:"quiz-results",children:[T.jsx("h2",{className:"quiz-results__title",children:i}),T.jsx("div",{className:"quiz-results__summary",children:s}),T.jsx("ul",{className:"quiz-results__answers",children:t.map((c,d)=>{const h=n[d]===c.answer?"quiz-results__answer--correct":"quiz-results__answer--incorrect";return T.jsx("li",{className:`quiz-results__answer ${h}`,children:T.jsx(mse,{quiz:c,answer:n[d],lang:o})},`${c.question}-${d}`)})}),T.jsx("button",{className:"quiz-results__restart",onClick:r,children:a})]})},iS={black:"#000",white:"#fff"},ey={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},ty={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},ny={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},ry={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},oy={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Fw={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},bse={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function md(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}const kc="$$material";function U(){return U=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U.apply(null,arguments)}function vse(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function wse(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Sse=function(){function t(n){var r=this;this._insertTag=function(o){var i;r.tags.length===0?r.insertionPoint?i=r.insertionPoint.nextSibling:r.prepend?i=r.container.firstChild:i=r.before:i=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(o,i),r.tags.push(o)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(wse(this));var o=this.tags[this.tags.length-1];if(this.isSpeedy){var i=vse(o);try{i.insertRule(r,i.cssRules.length)}catch{}}else o.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var o;return(o=r.parentNode)==null?void 0:o.removeChild(r)}),this.tags=[],this.ctr=0},t}(),xi="-ms-",xT="-moz-",On="-webkit-",aG="comm",mL="rule",yL="decl",Cse="@import",lG="@keyframes",Ese="@layer",xse=Math.abs,WA=String.fromCharCode,_se=Object.assign;function Tse(t,e){return gi(t,0)^45?(((e<<2^gi(t,0))<<2^gi(t,1))<<2^gi(t,2))<<2^gi(t,3):0}function cG(t){return t.trim()}function Ase(t,e){return(t=e.exec(t))?t[0]:t}function Ln(t,e,n){return t.replace(e,n)}function Uk(t,e){return t.indexOf(e)}function gi(t,e){return t.charCodeAt(e)|0}function sS(t,e,n){return t.slice(e,n)}function Sc(t){return t.length}function bL(t){return t.length}function v1(t,e){return e.push(t),t}function Ise(t,e){return t.map(e).join("")}var qA=1,ov=1,uG=0,bs=0,yo=0,Tv="";function KA(t,e,n,r,o,i,s){return{value:t,root:e,parent:n,type:r,props:o,children:i,line:qA,column:ov,length:s,return:""}}function $w(t,e){return _se(KA("",null,null,"",null,null,0),t,{length:-t.length},e)}function Rse(){return yo}function Pse(){return yo=bs>0?gi(Tv,--bs):0,ov--,yo===10&&(ov=1,qA--),yo}function ta(){return yo=bs<uG?gi(Tv,bs++):0,ov++,yo===10&&(ov=1,qA++),yo}function Oc(){return gi(Tv,bs)}function t_(){return bs}function yE(t,e){return sS(Tv,t,e)}function aS(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function dG(t){return qA=ov=1,uG=Sc(Tv=t),bs=0,[]}function hG(t){return Tv="",t}function n_(t){return cG(yE(bs-1,Gk(t===91?t+2:t===40?t+1:t)))}function Mse(t){for(;(yo=Oc())&&yo<33;)ta();return aS(t)>2||aS(yo)>3?"":" "}function kse(t,e){for(;--e&&ta()&&!(yo<48||yo>102||yo>57&&yo<65||yo>70&&yo<97););return yE(t,t_()+(e<6&&Oc()==32&&ta()==32))}function Gk(t){for(;ta();)switch(yo){case t:return bs;case 34:case 39:t!==34&&t!==39&&Gk(yo);break;case 40:t===41&&Gk(t);break;case 92:ta();break}return bs}function Ose(t,e){for(;ta()&&t+yo!==57;)if(t+yo===84&&Oc()===47)break;return"/*"+yE(e,bs-1)+"*"+WA(t===47?t:ta())}function Dse(t){for(;!aS(Oc());)ta();return yE(t,bs)}function Lse(t){return hG(r_("",null,null,null,[""],t=dG(t),0,[0],t))}function r_(t,e,n,r,o,i,s,a,c){for(var d=0,h=0,p=s,g=0,m=0,v=0,S=1,C=1,x=1,O=0,M="",P=o,k=i,$=r,D=M;C;)switch(v=O,O=ta()){case 40:if(v!=108&&gi(D,p-1)==58){Uk(D+=Ln(n_(O),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:D+=n_(O);break;case 9:case 10:case 13:case 32:D+=Mse(v);break;case 92:D+=kse(t_()-1,7);continue;case 47:switch(Oc()){case 42:case 47:v1(Nse(Ose(ta(),t_()),e,n),c);break;default:D+="/"}break;case 123*S:a[d++]=Sc(D)*x;case 125*S:case 59:case 0:switch(O){case 0:case 125:C=0;case 59+h:x==-1&&(D=Ln(D,/\f/g,"")),m>0&&Sc(D)-p&&v1(m>32?gH(D+";",r,n,p-1):gH(Ln(D," ","")+";",r,n,p-2),c);break;case 59:D+=";";default:if(v1($=pH(D,e,n,d,h,o,a,M,P=[],k=[],p),i),O===123)if(h===0)r_(D,e,$,$,P,i,p,a,k);else switch(g===99&&gi(D,3)===110?100:g){case 100:case 108:case 109:case 115:r_(t,$,$,r&&v1(pH(t,$,$,0,0,o,a,M,o,P=[],p),k),o,k,p,a,r?P:k);break;default:r_(D,$,$,$,[""],k,0,a,k)}}d=h=m=0,S=x=1,M=D="",p=s;break;case 58:p=1+Sc(D),m=v;default:if(S<1){if(O==123)--S;else if(O==125&&S++==0&&Pse()==125)continue}switch(D+=WA(O),O*S){case 38:x=h>0?1:(D+="\f",-1);break;case 44:a[d++]=(Sc(D)-1)*x,x=1;break;case 64:Oc()===45&&(D+=n_(ta())),g=Oc(),h=p=Sc(M=D+=Dse(t_())),O++;break;case 45:v===45&&Sc(D)==2&&(S=0)}}return i}function pH(t,e,n,r,o,i,s,a,c,d,h){for(var p=o-1,g=o===0?i:[""],m=bL(g),v=0,S=0,C=0;v<r;++v)for(var x=0,O=sS(t,p+1,p=xse(S=s[v])),M=t;x<m;++x)(M=cG(S>0?g[x]+" "+O:Ln(O,/&\f/g,g[x])))&&(c[C++]=M);return KA(t,e,n,o===0?mL:a,c,d,h)}function Nse(t,e,n){return KA(t,e,n,aG,WA(Rse()),sS(t,2,-2),0)}function gH(t,e,n,r){return KA(t,e,n,yL,sS(t,0,r),sS(t,r+1,-1),r)}function Dy(t,e){for(var n="",r=bL(t),o=0;o<r;o++)n+=e(t[o],o,t,e)||"";return n}function Fse(t,e,n,r){switch(t.type){case Ese:if(t.children.length)break;case Cse:case yL:return t.return=t.return||t.value;case aG:return"";case lG:return t.return=t.value+"{"+Dy(t.children,r)+"}";case mL:t.value=t.props.join(",")}return Sc(n=Dy(t.children,r))?t.return=t.value+"{"+n+"}":""}function $se(t){var e=bL(t);return function(n,r,o,i){for(var s="",a=0;a<e;a++)s+=t[a](n,r,o,i)||"";return s}}function Vse(t){return function(e){e.root||(e=e.return)&&t(e)}}function fG(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var zse=function(e,n,r){for(var o=0,i=0;o=i,i=Oc(),o===38&&i===12&&(n[r]=1),!aS(i);)ta();return yE(e,bs)},Bse=function(e,n){var r=-1,o=44;do switch(aS(o)){case 0:o===38&&Oc()===12&&(n[r]=1),e[r]+=zse(bs-1,n,r);break;case 2:e[r]+=n_(o);break;case 4:if(o===44){e[++r]=Oc()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=WA(o)}while(o=ta());return e},Hse=function(e,n){return hG(Bse(dG(e),n))},mH=new WeakMap,jse=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,o=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!mH.get(r))&&!o){mH.set(e,!0);for(var i=[],s=Hse(n,i),a=r.props,c=0,d=0;c<s.length;c++)for(var h=0;h<a.length;h++,d++)e.props[d]=i[c]?s[c].replace(/&\f/g,a[h]):a[h]+" "+s[c]}}},Use=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function pG(t,e){switch(Tse(t,e)){case 5103:return On+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return On+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return On+t+xT+t+xi+t+t;case 6828:case 4268:return On+t+xi+t+t;case 6165:return On+t+xi+"flex-"+t+t;case 5187:return On+t+Ln(t,/(\w+).+(:[^]+)/,On+"box-$1$2"+xi+"flex-$1$2")+t;case 5443:return On+t+xi+"flex-item-"+Ln(t,/flex-|-self/,"")+t;case 4675:return On+t+xi+"flex-line-pack"+Ln(t,/align-content|flex-|-self/,"")+t;case 5548:return On+t+xi+Ln(t,"shrink","negative")+t;case 5292:return On+t+xi+Ln(t,"basis","preferred-size")+t;case 6060:return On+"box-"+Ln(t,"-grow","")+On+t+xi+Ln(t,"grow","positive")+t;case 4554:return On+Ln(t,/([^-])(transform)/g,"$1"+On+"$2")+t;case 6187:return Ln(Ln(Ln(t,/(zoom-|grab)/,On+"$1"),/(image-set)/,On+"$1"),t,"")+t;case 5495:case 3959:return Ln(t,/(image-set\([^]*)/,On+"$1$`$1");case 4968:return Ln(Ln(t,/(.+:)(flex-)?(.*)/,On+"box-pack:$3"+xi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+On+t+t;case 4095:case 3583:case 4068:case 2532:return Ln(t,/(.+)-inline(.+)/,On+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Sc(t)-1-e>6)switch(gi(t,e+1)){case 109:if(gi(t,e+4)!==45)break;case 102:return Ln(t,/(.+:)(.+)-([^]+)/,"$1"+On+"$2-$3$1"+xT+(gi(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Uk(t,"stretch")?pG(Ln(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(gi(t,e+1)!==115)break;case 6444:switch(gi(t,Sc(t)-3-(~Uk(t,"!important")&&10))){case 107:return Ln(t,":",":"+On)+t;case 101:return Ln(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+On+(gi(t,14)===45?"inline-":"")+"box$3$1"+On+"$2$3$1"+xi+"$2box$3")+t}break;case 5936:switch(gi(t,e+11)){case 114:return On+t+xi+Ln(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return On+t+xi+Ln(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return On+t+xi+Ln(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return On+t+xi+t+t}return t}var Gse=function(e,n,r,o){if(e.length>-1&&!e.return)switch(e.type){case yL:e.return=pG(e.value,e.length);break;case lG:return Dy([$w(e,{value:Ln(e.value,"@","@"+On)})],o);case mL:if(e.length)return Ise(e.props,function(i){switch(Ase(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Dy([$w(e,{props:[Ln(i,/:(read-\w+)/,":"+xT+"$1")]})],o);case"::placeholder":return Dy([$w(e,{props:[Ln(i,/:(plac\w+)/,":"+On+"input-$1")]}),$w(e,{props:[Ln(i,/:(plac\w+)/,":"+xT+"$1")]}),$w(e,{props:[Ln(i,/:(plac\w+)/,xi+"input-$1")]})],o)}return""})}},Wse=[Gse],qse=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(S){var C=S.getAttribute("data-emotion");C.indexOf(" ")!==-1&&(document.head.appendChild(S),S.setAttribute("data-s",""))})}var o=e.stylisPlugins||Wse,i={},s,a=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(S){for(var C=S.getAttribute("data-emotion").split(" "),x=1;x<C.length;x++)i[C[x]]=!0;a.push(S)});var c,d=[jse,Use];{var h,p=[Fse,Vse(function(S){h.insert(S)})],g=$se(d.concat(o,p)),m=function(C){return Dy(Lse(C),g)};c=function(C,x,O,M){h=O,m(C?C+"{"+x.styles+"}":x.styles),M&&(v.inserted[x.name]=!0)}}var v={key:n,sheet:new Sse({key:n,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:c};return v.sheet.hydrate(a),v},hM={exports:{}},zn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yH;function Kse(){if(yH)return zn;yH=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,o=t?Symbol.for("react.strict_mode"):60108,i=t?Symbol.for("react.profiler"):60114,s=t?Symbol.for("react.provider"):60109,a=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,d=t?Symbol.for("react.concurrent_mode"):60111,h=t?Symbol.for("react.forward_ref"):60112,p=t?Symbol.for("react.suspense"):60113,g=t?Symbol.for("react.suspense_list"):60120,m=t?Symbol.for("react.memo"):60115,v=t?Symbol.for("react.lazy"):60116,S=t?Symbol.for("react.block"):60121,C=t?Symbol.for("react.fundamental"):60117,x=t?Symbol.for("react.responder"):60118,O=t?Symbol.for("react.scope"):60119;function M(k){if(typeof k=="object"&&k!==null){var $=k.$$typeof;switch($){case e:switch(k=k.type,k){case c:case d:case r:case i:case o:case p:return k;default:switch(k=k&&k.$$typeof,k){case a:case h:case v:case m:case s:return k;default:return $}}case n:return $}}}function P(k){return M(k)===d}return zn.AsyncMode=c,zn.ConcurrentMode=d,zn.ContextConsumer=a,zn.ContextProvider=s,zn.Element=e,zn.ForwardRef=h,zn.Fragment=r,zn.Lazy=v,zn.Memo=m,zn.Portal=n,zn.Profiler=i,zn.StrictMode=o,zn.Suspense=p,zn.isAsyncMode=function(k){return P(k)||M(k)===c},zn.isConcurrentMode=P,zn.isContextConsumer=function(k){return M(k)===a},zn.isContextProvider=function(k){return M(k)===s},zn.isElement=function(k){return typeof k=="object"&&k!==null&&k.$$typeof===e},zn.isForwardRef=function(k){return M(k)===h},zn.isFragment=function(k){return M(k)===r},zn.isLazy=function(k){return M(k)===v},zn.isMemo=function(k){return M(k)===m},zn.isPortal=function(k){return M(k)===n},zn.isProfiler=function(k){return M(k)===i},zn.isStrictMode=function(k){return M(k)===o},zn.isSuspense=function(k){return M(k)===p},zn.isValidElementType=function(k){return typeof k=="string"||typeof k=="function"||k===r||k===d||k===i||k===o||k===p||k===g||typeof k=="object"&&k!==null&&(k.$$typeof===v||k.$$typeof===m||k.$$typeof===s||k.$$typeof===a||k.$$typeof===h||k.$$typeof===C||k.$$typeof===x||k.$$typeof===O||k.$$typeof===S)},zn.typeOf=M,zn}var bH;function Yse(){return bH||(bH=1,hM.exports=Kse()),hM.exports}var fM,vH;function Xse(){if(vH)return fM;vH=1;var t=Yse(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};i[t.ForwardRef]=r,i[t.Memo]=o;function s(v){return t.isMemo(v)?o:i[v.$$typeof]||e}var a=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,g=Object.prototype;function m(v,S,C){if(typeof S!="string"){if(g){var x=p(S);x&&x!==g&&m(v,x,C)}var O=c(S);d&&(O=O.concat(d(S)));for(var M=s(v),P=s(S),k=0;k<O.length;++k){var $=O[k];if(!n[$]&&!(C&&C[$])&&!(P&&P[$])&&!(M&&M[$])){var D=h(S,$);try{a(v,$,D)}catch{}}}}return v}return fM=m,fM}Xse();var Qse=!0;function gG(t,e,n){var r="";return n.split(" ").forEach(function(o){t[o]!==void 0?e.push(t[o]+";"):o&&(r+=o+" ")}),r}var vL=function(e,n,r){var o=e.key+"-"+n.name;(r===!1||Qse===!1)&&e.registered[o]===void 0&&(e.registered[o]=n.styles)},wL=function(e,n,r){vL(e,n,r);var o=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var i=n;do e.insert(n===i?"."+o:"",i,e.sheet,!0),i=i.next;while(i!==void 0)}};function Zse(t){for(var e=0,n,r=0,o=t.length;o>=4;++r,o-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(o){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Jse={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},eae=/[A-Z]|^ms/g,tae=/_EMO_([^_]+?)_([^]*?)_EMO_/g,mG=function(e){return e.charCodeAt(1)===45},wH=function(e){return e!=null&&typeof e!="boolean"},pM=fG(function(t){return mG(t)?t:t.replace(eae,"-$&").toLowerCase()}),SH=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(tae,function(r,o,i){return Cc={name:o,styles:i,next:Cc},o})}return Jse[e]!==1&&!mG(e)&&typeof n=="number"&&n!==0?n+"px":n};function lS(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var o=n;if(o.anim===1)return Cc={name:o.name,styles:o.styles,next:Cc},o.name;var i=n;if(i.styles!==void 0){var s=i.next;if(s!==void 0)for(;s!==void 0;)Cc={name:s.name,styles:s.styles,next:Cc},s=s.next;var a=i.styles+";";return a}return nae(t,e,n)}case"function":{if(t!==void 0){var c=Cc,d=n(t);return Cc=c,lS(t,e,d)}break}}var h=n;if(e==null)return h;var p=e[h];return p!==void 0?p:h}function nae(t,e,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=lS(t,e,n[o])+";";else for(var i in n){var s=n[i];if(typeof s!="object"){var a=s;e!=null&&e[a]!==void 0?r+=i+"{"+e[a]+"}":wH(a)&&(r+=pM(i)+":"+SH(i,a)+";")}else if(Array.isArray(s)&&typeof s[0]=="string"&&(e==null||e[s[0]]===void 0))for(var c=0;c<s.length;c++)wH(s[c])&&(r+=pM(i)+":"+SH(i,s[c])+";");else{var d=lS(t,e,s);switch(i){case"animation":case"animationName":{r+=pM(i)+":"+d+";";break}default:r+=i+"{"+d+"}"}}}return r}var CH=/label:\s*([^\s;{]+)\s*(;|$)/g,Cc;function bE(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,o="";Cc=void 0;var i=t[0];if(i==null||i.raw===void 0)r=!1,o+=lS(n,e,i);else{var s=i;o+=s[0]}for(var a=1;a<t.length;a++)if(o+=lS(n,e,t[a]),r){var c=i;o+=c[a]}CH.lastIndex=0;for(var d="",h;(h=CH.exec(o))!==null;)d+="-"+h[1];var p=Zse(o)+d;return{name:p,styles:o,next:Cc}}var rae=function(e){return e()},yG=lk.useInsertionEffect?lk.useInsertionEffect:!1,bG=yG||rae,EH=yG||w.useLayoutEffect,vG=w.createContext(typeof HTMLElement<"u"?qse({key:"css"}):null);vG.Provider;var SL=function(e){return w.forwardRef(function(n,r){var o=w.useContext(vG);return e(n,o,r)})},vE=w.createContext({}),CL={}.hasOwnProperty,Wk="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",oae=function(e,n){var r={};for(var o in n)CL.call(n,o)&&(r[o]=n[o]);return r[Wk]=e,r},iae=function(e){var n=e.cache,r=e.serialized,o=e.isStringTag;return vL(n,r,o),bG(function(){return wL(n,r,o)}),null},sae=SL(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var o=t[Wk],i=[r],s="";typeof t.className=="string"?s=gG(e.registered,i,t.className):t.className!=null&&(s=t.className+" ");var a=bE(i,void 0,w.useContext(vE));s+=e.key+"-"+a.name;var c={};for(var d in t)CL.call(t,d)&&d!=="css"&&d!==Wk&&(c[d]=t[d]);return c.className=s,n&&(c.ref=n),w.createElement(w.Fragment,null,w.createElement(iae,{cache:e,serialized:a,isStringTag:typeof o=="string"}),w.createElement(o,c))}),aae=sae,xH=function(e,n){var r=arguments;if(n==null||!CL.call(n,"css"))return w.createElement.apply(void 0,r);var o=r.length,i=new Array(o);i[0]=aae,i[1]=oae(e,n);for(var s=2;s<o;s++)i[s]=r[s];return w.createElement.apply(null,i)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(xH||(xH={}));var lae=SL(function(t,e){var n=t.styles,r=bE([n],void 0,w.useContext(vE)),o=w.useRef();return EH(function(){var i=e.key+"-global",s=new e.sheet.constructor({key:i,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,c=document.querySelector('style[data-emotion="'+i+" "+r.name+'"]');return e.sheet.tags.length&&(s.before=e.sheet.tags[0]),c!==null&&(a=!0,c.setAttribute("data-emotion",i),s.hydrate([c])),o.current=[s,a],function(){s.flush()}},[e]),EH(function(){var i=o.current,s=i[0],a=i[1];if(a){i[1]=!1;return}if(r.next!==void 0&&wL(e,r.next,!0),s.tags.length){var c=s.tags[s.tags.length-1].nextElementSibling;s.before=c,s.flush()}e.insert("",r,s,!1)},[e,r.name]),null});function Rf(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return bE(e)}function Ja(){var t=Rf.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var cae=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,uae=fG(function(t){return cae.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),dae=uae,hae=function(e){return e!=="theme"},_H=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?dae:hae},TH=function(e,n,r){var o;if(n){var i=n.shouldForwardProp;o=e.__emotion_forwardProp&&i?function(s){return e.__emotion_forwardProp(s)&&i(s)}:i}return typeof o!="function"&&r&&(o=e.__emotion_forwardProp),o},fae=function(e){var n=e.cache,r=e.serialized,o=e.isStringTag;return vL(n,r,o),bG(function(){return wL(n,r,o)}),null},pae=function t(e,n){var r=e.__emotion_real===e,o=r&&e.__emotion_base||e,i,s;n!==void 0&&(i=n.label,s=n.target);var a=TH(e,n,r),c=a||_H(o),d=!c("as");return function(){var h=arguments,p=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(i!==void 0&&p.push("label:"+i+";"),h[0]==null||h[0].raw===void 0)p.push.apply(p,h);else{var g=h[0];p.push(g[0]);for(var m=h.length,v=1;v<m;v++)p.push(h[v],g[v])}var S=SL(function(C,x,O){var M=d&&C.as||o,P="",k=[],$=C;if(C.theme==null){$={};for(var D in C)$[D]=C[D];$.theme=w.useContext(vE)}typeof C.className=="string"?P=gG(x.registered,k,C.className):C.className!=null&&(P=C.className+" ");var I=bE(p.concat(k),x.registered,$);P+=x.key+"-"+I.name,s!==void 0&&(P+=" "+s);var A=d&&a===void 0?_H(M):c,N={};for(var F in C)d&&F==="as"||A(F)&&(N[F]=C[F]);return N.className=P,O&&(N.ref=O),w.createElement(w.Fragment,null,w.createElement(fae,{cache:x,serialized:I,isStringTag:typeof M=="string"}),w.createElement(M,N))});return S.displayName=i!==void 0?i:"Styled("+(typeof o=="string"?o:o.displayName||o.name||"Component")+")",S.defaultProps=e.defaultProps,S.__emotion_real=S,S.__emotion_base=o,S.__emotion_styles=p,S.__emotion_forwardProp=a,Object.defineProperty(S,"toString",{value:function(){return"."+s}}),S.withComponent=function(C,x){var O=t(C,U({},n,x,{shouldForwardProp:TH(S,x,!0)}));return O.apply(void 0,p)},S}},gae=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],qk=pae.bind(null);gae.forEach(function(t){qk[t]=qk(t)});var gM={exports:{}},mM,AH;function mae(){if(AH)return mM;AH=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return mM=t,mM}var yM,IH;function yae(){if(IH)return yM;IH=1;var t=mae();function e(){}function n(){}return n.resetWarningCache=e,yM=function(){function r(s,a,c,d,h,p){if(p!==t){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function o(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:o,element:r,elementType:r,instanceOf:o,node:r,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:e};return i.PropTypes=i,i},yM}var RH;function bae(){return RH||(RH=1,gM.exports=yae()()),gM.exports}var vae=bae();const fe=tE(vae);function wae(t){return t==null||Object.keys(t).length===0}function wG(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?o=>e(wae(o)?n:o):e;return T.jsx(lae,{styles:r})}function SG(t,e){return qk(t,e)}function Sae(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const PH=[];function of(t){return PH[0]=t,bE(PH)}var bM={exports:{}},ir={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MH;function Cae(){if(MH)return ir;MH=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),s=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function v(S){if(typeof S=="object"&&S!==null){var C=S.$$typeof;switch(C){case t:switch(S=S.type,S){case n:case o:case r:case c:case d:case g:return S;default:switch(S=S&&S.$$typeof,S){case s:case a:case p:case h:return S;case i:return S;default:return C}}case e:return C}}}return ir.ContextConsumer=i,ir.ContextProvider=s,ir.Element=t,ir.ForwardRef=a,ir.Fragment=n,ir.Lazy=p,ir.Memo=h,ir.Portal=e,ir.Profiler=o,ir.StrictMode=r,ir.Suspense=c,ir.SuspenseList=d,ir.isContextConsumer=function(S){return v(S)===i},ir.isContextProvider=function(S){return v(S)===s},ir.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===t},ir.isForwardRef=function(S){return v(S)===a},ir.isFragment=function(S){return v(S)===n},ir.isLazy=function(S){return v(S)===p},ir.isMemo=function(S){return v(S)===h},ir.isPortal=function(S){return v(S)===e},ir.isProfiler=function(S){return v(S)===o},ir.isStrictMode=function(S){return v(S)===r},ir.isSuspense=function(S){return v(S)===c},ir.isSuspenseList=function(S){return v(S)===d},ir.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===n||S===o||S===r||S===c||S===d||typeof S=="object"&&S!==null&&(S.$$typeof===p||S.$$typeof===h||S.$$typeof===s||S.$$typeof===i||S.$$typeof===a||S.$$typeof===m||S.getModuleId!==void 0)},ir.typeOf=v,ir}var kH;function Eae(){return kH||(kH=1,bM.exports=Cae()),bM.exports}var CG=Eae();function Ec(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function EG(t){if(w.isValidElement(t)||CG.isValidElementType(t)||!Ec(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=EG(t[n])}),e}function Jo(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return Ec(t)&&Ec(e)&&Object.keys(e).forEach(o=>{w.isValidElement(e[o])||CG.isValidElementType(e[o])?r[o]=e[o]:Ec(e[o])&&Object.prototype.hasOwnProperty.call(t,o)&&Ec(t[o])?r[o]=Jo(t[o],e[o],n):n.clone?r[o]=Ec(e[o])?EG(e[o]):e[o]:r[o]=e[o]}),r}const xae=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function _ae(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...o}=t,i=xae(e),s=Object.keys(i);function a(g){return`@media (min-width:${typeof e[g]=="number"?e[g]:g}${n})`}function c(g){return`@media (max-width:${(typeof e[g]=="number"?e[g]:g)-r/100}${n})`}function d(g,m){const v=s.indexOf(m);return`@media (min-width:${typeof e[g]=="number"?e[g]:g}${n}) and (max-width:${(v!==-1&&typeof e[s[v]]=="number"?e[s[v]]:m)-r/100}${n})`}function h(g){return s.indexOf(g)+1<s.length?d(g,s[s.indexOf(g)+1]):a(g)}function p(g){const m=s.indexOf(g);return m===0?a(s[1]):m===s.length-1?c(s[m]):d(g,s[s.indexOf(g)+1]).replace("@media","@media not all and")}return{keys:s,values:i,up:a,down:c,between:d,only:h,not:p,unit:n,...o}}function OH(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,o)=>{var s,a;const i=/min-width:\s*([0-9.]+)/;return+(((s=r.match(i))==null?void 0:s[1])||0)-+(((a=o.match(i))==null?void 0:a[1])||0)});return n.length?n.reduce((r,o)=>{const i=e[o];return delete r[o],r[o]=i,r},{...e}):e}function Tae(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function Aae(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,o]=n,i=Number.isNaN(+r)?r||0:+r;return t.containerQueries(o).up(i)}function Iae(t){const e=(i,s)=>i.replace("@media",s?`@container ${s}`:"@container");function n(i,s){i.up=(...a)=>e(t.breakpoints.up(...a),s),i.down=(...a)=>e(t.breakpoints.down(...a),s),i.between=(...a)=>e(t.breakpoints.between(...a),s),i.only=(...a)=>e(t.breakpoints.only(...a),s),i.not=(...a)=>{const c=e(t.breakpoints.not(...a),s);return c.includes("not all and")?c.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):c}}const r={},o=i=>(n(r,i),r);return n(o),{...t,containerQueries:o}}const Rae={borderRadius:4};function F0(t,e){return e?Jo(t,e,{clone:!1}):t}const YA={xs:0,sm:600,md:900,lg:1200,xl:1536},DH={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${YA[t]}px)`},Pae={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:YA[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function kl(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const i=r.breakpoints||DH;return e.reduce((s,a,c)=>(s[i.up(i.keys[c])]=n(e[c]),s),{})}if(typeof e=="object"){const i=r.breakpoints||DH;return Object.keys(e).reduce((s,a)=>{if(Tae(i.keys,a)){const c=Aae(r.containerQueries?r:Pae,a);c&&(s[c]=n(e[a],a))}else if(Object.keys(i.values||YA).includes(a)){const c=i.up(a);s[c]=n(e[a],a)}else{const c=a;s[c]=e[c]}return s},{})}return n(e)}function xG(t={}){var n;return((n=t.keys)==null?void 0:n.reduce((r,o)=>{const i=t.up(o);return r[i]={},r},{}))||{}}function Kk(t,e){return t.reduce((n,r)=>{const o=n[r];return(!o||Object.keys(o).length===0)&&delete n[r],n},e)}function Mae(t,...e){const n=xG(t),r=[n,...e].reduce((o,i)=>Jo(o,i),{});return Kk(Object.keys(n),r)}function kae(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((o,i)=>{i<t.length&&(n[o]=!0)}):r.forEach(o=>{t[o]!=null&&(n[o]=!0)}),n}function vM({values:t,breakpoints:e,base:n}){const r=n||kae(t,e),o=Object.keys(r);if(o.length===0)return t;let i;return o.reduce((s,a,c)=>(Array.isArray(t)?(s[a]=t[c]!=null?t[c]:t[i],i=c):typeof t=="object"?(s[a]=t[a]!=null?t[a]:t[i],i=a):s[a]=t,s),{})}function Ie(t){if(typeof t!="string")throw new Error(md(7));return t.charAt(0).toUpperCase()+t.slice(1)}function XA(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((o,i)=>o&&o[i]?o[i]:null,t);if(r!=null)return r}return e.split(".").reduce((r,o)=>r&&r[o]!=null?r[o]:null,t)}function _T(t,e,n,r=n){let o;return typeof t=="function"?o=t(n):Array.isArray(t)?o=t[n]||r:o=XA(t,n)||r,e&&(o=e(o,r,t)),o}function uo(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:o}=t,i=s=>{if(s[e]==null)return null;const a=s[e],c=s.theme,d=XA(c,r)||{};return kl(s,a,p=>{let g=_T(d,o,p);return p===g&&typeof p=="string"&&(g=_T(d,o,`${e}${p==="default"?"":Ie(p)}`,p)),n===!1?g:{[n]:g}})};return i.propTypes={},i.filterProps=[e],i}function Oae(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const Dae={m:"margin",p:"padding"},Lae={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},LH={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Nae=Oae(t=>{if(t.length>2)if(LH[t])t=LH[t];else return[t];const[e,n]=t.split(""),r=Dae[e],o=Lae[n]||"";return Array.isArray(o)?o.map(i=>r+i):[r+o]}),EL=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],xL=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...EL,...xL];function wE(t,e,n,r){const o=XA(t,e,!0)??n;return typeof o=="number"||typeof o=="string"?i=>typeof i=="string"?i:typeof o=="string"?o.startsWith("var(")&&i===0?0:o.startsWith("var(")&&i===1?o:`calc(${i} * ${o})`:o*i:Array.isArray(o)?i=>{if(typeof i=="string")return i;const s=Math.abs(i),a=o[s];return i>=0?a:typeof a=="number"?-a:typeof a=="string"&&a.startsWith("var(")?`calc(-1 * ${a})`:`-${a}`}:typeof o=="function"?o:()=>{}}function QA(t){return wE(t,"spacing",8)}function Qg(t,e){return typeof e=="string"||e==null?e:t(e)}function Fae(t,e){return n=>t.reduce((r,o)=>(r[o]=Qg(e,n),r),{})}function $ae(t,e,n,r){if(!e.includes(n))return null;const o=Nae(n),i=Fae(o,r),s=t[n];return kl(t,s,i)}function _G(t,e){const n=QA(t.theme);return Object.keys(t).map(r=>$ae(t,e,r,n)).reduce(F0,{})}function Kr(t){return _G(t,EL)}Kr.propTypes={};Kr.filterProps=EL;function Yr(t){return _G(t,xL)}Yr.propTypes={};Yr.filterProps=xL;function TG(t=8,e=QA({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(i=>{const s=e(i);return typeof s=="number"?`${s}px`:s}).join(" ");return n.mui=!0,n}function ZA(...t){const e=t.reduce((r,o)=>(o.filterProps.forEach(i=>{r[i]=o}),r),{}),n=r=>Object.keys(r).reduce((o,i)=>e[i]?F0(o,e[i](r)):o,{});return n.propTypes={},n.filterProps=t.reduce((r,o)=>r.concat(o.filterProps),[]),n}function Da(t){return typeof t!="number"?t:`${t}px solid`}function el(t,e){return uo({prop:t,themeKey:"borders",transform:e})}const Vae=el("border",Da),zae=el("borderTop",Da),Bae=el("borderRight",Da),Hae=el("borderBottom",Da),jae=el("borderLeft",Da),Uae=el("borderColor"),Gae=el("borderTopColor"),Wae=el("borderRightColor"),qae=el("borderBottomColor"),Kae=el("borderLeftColor"),Yae=el("outline",Da),Xae=el("outlineColor"),JA=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=wE(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Qg(e,r)});return kl(t,t.borderRadius,n)}return null};JA.propTypes={};JA.filterProps=["borderRadius"];ZA(Vae,zae,Bae,Hae,jae,Uae,Gae,Wae,qae,Kae,JA,Yae,Xae);const eI=t=>{if(t.gap!==void 0&&t.gap!==null){const e=wE(t.theme,"spacing",8),n=r=>({gap:Qg(e,r)});return kl(t,t.gap,n)}return null};eI.propTypes={};eI.filterProps=["gap"];const tI=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=wE(t.theme,"spacing",8),n=r=>({columnGap:Qg(e,r)});return kl(t,t.columnGap,n)}return null};tI.propTypes={};tI.filterProps=["columnGap"];const nI=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=wE(t.theme,"spacing",8),n=r=>({rowGap:Qg(e,r)});return kl(t,t.rowGap,n)}return null};nI.propTypes={};nI.filterProps=["rowGap"];const Qae=uo({prop:"gridColumn"}),Zae=uo({prop:"gridRow"}),Jae=uo({prop:"gridAutoFlow"}),ele=uo({prop:"gridAutoColumns"}),tle=uo({prop:"gridAutoRows"}),nle=uo({prop:"gridTemplateColumns"}),rle=uo({prop:"gridTemplateRows"}),ole=uo({prop:"gridTemplateAreas"}),ile=uo({prop:"gridArea"});ZA(eI,tI,nI,Qae,Zae,Jae,ele,tle,nle,rle,ole,ile);function Ly(t,e){return e==="grey"?e:t}const sle=uo({prop:"color",themeKey:"palette",transform:Ly}),ale=uo({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Ly}),lle=uo({prop:"backgroundColor",themeKey:"palette",transform:Ly});ZA(sle,ale,lle);function Qs(t){return t<=1&&t!==0?`${t*100}%`:t}const cle=uo({prop:"width",transform:Qs}),_L=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var o,i,s,a,c;const r=((s=(i=(o=t.theme)==null?void 0:o.breakpoints)==null?void 0:i.values)==null?void 0:s[n])||YA[n];return r?((c=(a=t.theme)==null?void 0:a.breakpoints)==null?void 0:c.unit)!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Qs(n)}};return kl(t,t.maxWidth,e)}return null};_L.filterProps=["maxWidth"];const ule=uo({prop:"minWidth",transform:Qs}),dle=uo({prop:"height",transform:Qs}),hle=uo({prop:"maxHeight",transform:Qs}),fle=uo({prop:"minHeight",transform:Qs});uo({prop:"size",cssProperty:"width",transform:Qs});uo({prop:"size",cssProperty:"height",transform:Qs});const ple=uo({prop:"boxSizing"});ZA(cle,_L,ule,dle,hle,fle,ple);const SE={border:{themeKey:"borders",transform:Da},borderTop:{themeKey:"borders",transform:Da},borderRight:{themeKey:"borders",transform:Da},borderBottom:{themeKey:"borders",transform:Da},borderLeft:{themeKey:"borders",transform:Da},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Da},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:JA},color:{themeKey:"palette",transform:Ly},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Ly},backgroundColor:{themeKey:"palette",transform:Ly},p:{style:Yr},pt:{style:Yr},pr:{style:Yr},pb:{style:Yr},pl:{style:Yr},px:{style:Yr},py:{style:Yr},padding:{style:Yr},paddingTop:{style:Yr},paddingRight:{style:Yr},paddingBottom:{style:Yr},paddingLeft:{style:Yr},paddingX:{style:Yr},paddingY:{style:Yr},paddingInline:{style:Yr},paddingInlineStart:{style:Yr},paddingInlineEnd:{style:Yr},paddingBlock:{style:Yr},paddingBlockStart:{style:Yr},paddingBlockEnd:{style:Yr},m:{style:Kr},mt:{style:Kr},mr:{style:Kr},mb:{style:Kr},ml:{style:Kr},mx:{style:Kr},my:{style:Kr},margin:{style:Kr},marginTop:{style:Kr},marginRight:{style:Kr},marginBottom:{style:Kr},marginLeft:{style:Kr},marginX:{style:Kr},marginY:{style:Kr},marginInline:{style:Kr},marginInlineStart:{style:Kr},marginInlineEnd:{style:Kr},marginBlock:{style:Kr},marginBlockStart:{style:Kr},marginBlockEnd:{style:Kr},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:eI},rowGap:{style:nI},columnGap:{style:tI},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Qs},maxWidth:{style:_L},minWidth:{transform:Qs},height:{transform:Qs},maxHeight:{transform:Qs},minHeight:{transform:Qs},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function gle(...t){const e=t.reduce((r,o)=>r.concat(Object.keys(o)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function mle(t,e){return typeof t=="function"?t(e):t}function yle(){function t(n,r,o,i){const s={[n]:r,theme:o},a=i[n];if(!a)return{[n]:r};const{cssProperty:c=n,themeKey:d,transform:h,style:p}=a;if(r==null)return null;if(d==="typography"&&r==="inherit")return{[n]:r};const g=XA(o,d)||{};return p?p(s):kl(s,r,v=>{let S=_T(g,h,v);return v===S&&typeof v=="string"&&(S=_T(g,h,`${n}${v==="default"?"":Ie(v)}`,v)),c===!1?S:{[c]:S}})}function e(n){const{sx:r,theme:o={},nested:i}=n||{};if(!r)return null;const s=o.unstable_sxConfig??SE;function a(c){let d=c;if(typeof c=="function")d=c(o);else if(typeof c!="object")return c;if(!d)return null;const h=xG(o.breakpoints),p=Object.keys(h);let g=h;return Object.keys(d).forEach(m=>{const v=mle(d[m],o);if(v!=null)if(typeof v=="object")if(s[m])g=F0(g,t(m,v,o,s));else{const S=kl({theme:o},v,C=>({[m]:C}));gle(S,v)?g[m]=e({sx:v,theme:o,nested:!0}):g=F0(g,S)}else g=F0(g,t(m,v,o,s))}),!i&&o.modularCssLayers?{"@layer sx":OH(o,Kk(p,g))}:OH(o,Kk(p,g))}return Array.isArray(r)?r.map(a):a(r)}return e}const mf=yle();mf.filterProps=["sx"];function ble(t,e){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[t])||typeof n.getColorSchemeSelector!="function")return{};let o=n.getColorSchemeSelector(t);return o==="&"?e:((o.includes("data-")||o.includes("."))&&(o=`*:where(${o.replace(/\s*&$/,"")}) &`),{[o]:e})}return n.palette.mode===t?e:{}}function CE(t={},...e){const{breakpoints:n={},palette:r={},spacing:o,shape:i={},...s}=t,a=_ae(n),c=TG(o);let d=Jo({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:c,shape:{...Rae,...i}},s);return d=Iae(d),d.applyStyles=ble,d=e.reduce((h,p)=>Jo(h,p),d),d.unstable_sxConfig={...SE,...s==null?void 0:s.unstable_sxConfig},d.unstable_sx=function(p){return mf({sx:p,theme:this})},d}function vle(t){return Object.keys(t).length===0}function TL(t=null){const e=w.useContext(vE);return!e||vle(e)?t:e}const wle=CE();function rI(t=wle){return TL(t)}function wM(t){const e=of(t);return t!==e&&e.styles?(e.styles.match(/^@layer\s+[^{]*$/)||(e.styles=`@layer global{${e.styles}}`),e):t}function AG({styles:t,themeId:e,defaultTheme:n={}}){const r=rI(n),o=e&&r[e]||r;let i=typeof t=="function"?t(o):t;return o.modularCssLayers&&(Array.isArray(i)?i=i.map(s=>wM(typeof s=="function"?s(o):s)):i=wM(i)),T.jsx(wG,{styles:i})}const Sle=t=>{var r;const e={systemProps:{},otherProps:{}},n=((r=t==null?void 0:t.theme)==null?void 0:r.unstable_sxConfig)??SE;return Object.keys(t).forEach(o=>{n[o]?e.systemProps[o]=t[o]:e.otherProps[o]=t[o]}),e};function AL(t){const{sx:e,...n}=t,{systemProps:r,otherProps:o}=Sle(n);let i;return Array.isArray(e)?i=[r,...e]:typeof e=="function"?i=(...s)=>{const a=e(...s);return Ec(a)?{...r,...a}:r}:i={...r,...e},{...o,sx:i}}const NH=t=>t,Cle=()=>{let t=NH;return{configure(e){t=e},generate(e){return t(e)},reset(){t=NH}}},IG=Cle();function RG(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=RG(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ne(){for(var t,e,n=0,r="",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=RG(t))&&(r&&(r+=" "),r+=e);return r}function Ele(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:o}=t,i=SG("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(mf);return w.forwardRef(function(c,d){const h=rI(n),{className:p,component:g="div",...m}=AL(c);return T.jsx(i,{as:g,ref:d,className:Ne(p,o?o(r):r),theme:e&&h[e]||h,...m})})}const xle={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function kt(t,e,n="Mui"){const r=xle[e];return r?`${n}-${r}`:`${IG.generate(t)}-${e}`}function Pt(t,e,n="Mui"){const r={};return e.forEach(o=>{r[o]=kt(t,o,n)}),r}function PG(t){const{variants:e,...n}=t,r={variants:e,style:of(n),isProcessed:!0};return r.style===n||e&&e.forEach(o=>{typeof o.style!="function"&&(o.style=of(o.style))}),r}const _le=CE();function SM(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function Cp(t,e){return e&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${e}{${String(t.styles)}}`),t}function Tle(t){return t?(e,n)=>n[t]:null}function Ale(t,e,n){t.theme=Rle(t.theme)?n:t.theme[e]||t.theme}function o_(t,e,n){const r=typeof e=="function"?e(t):e;if(Array.isArray(r))return r.flatMap(o=>o_(t,o,n));if(Array.isArray(r==null?void 0:r.variants)){let o;if(r.isProcessed)o=n?Cp(r.style,n):r.style;else{const{variants:i,...s}=r;o=n?Cp(of(s),n):s}return MG(t,r.variants,[o],n)}return r!=null&&r.isProcessed?n?Cp(of(r.style),n):r.style:n?Cp(of(r),n):r}function MG(t,e,n=[],r=void 0){var i;let o;e:for(let s=0;s<e.length;s+=1){const a=e[s];if(typeof a.props=="function"){if(o??(o={...t,...t.ownerState,ownerState:t.ownerState}),!a.props(o))continue}else for(const c in a.props)if(t[c]!==a.props[c]&&((i=t.ownerState)==null?void 0:i[c])!==a.props[c])continue e;typeof a.style=="function"?(o??(o={...t,...t.ownerState,ownerState:t.ownerState}),n.push(r?Cp(of(a.style(o)),r):a.style(o))):n.push(r?Cp(of(a.style),r):a.style)}return n}function kG(t={}){const{themeId:e,defaultTheme:n=_le,rootShouldForwardProp:r=SM,slotShouldForwardProp:o=SM}=t;function i(a){Ale(a,e,n)}return(a,c={})=>{Sae(a,$=>$.filter(D=>D!==mf));const{name:d,slot:h,skipVariantsResolver:p,skipSx:g,overridesResolver:m=Tle(Mle(h)),...v}=c,S=d&&d.startsWith("Mui")||h?"components":"custom",C=p!==void 0?p:h&&h!=="Root"&&h!=="root"||!1,x=g||!1;let O=SM;h==="Root"||h==="root"?O=r:h?O=o:Ple(a)&&(O=void 0);const M=SG(a,{shouldForwardProp:O,label:Ile(),...v}),P=$=>{if($.__emotion_real===$)return $;if(typeof $=="function")return function(I){return o_(I,$,I.theme.modularCssLayers?S:void 0)};if(Ec($)){const D=PG($);return function(A){return D.variants?o_(A,D,A.theme.modularCssLayers?S:void 0):A.theme.modularCssLayers?Cp(D.style,S):D.style}}return $},k=(...$)=>{const D=[],I=$.map(P),A=[];if(D.push(i),d&&m&&A.push(function(V){var H,Z;const K=(Z=(H=V.theme.components)==null?void 0:H[d])==null?void 0:Z.styleOverrides;if(!K)return null;const z={};for(const re in K)z[re]=o_(V,K[re],V.theme.modularCssLayers?"theme":void 0);return m(V,z)}),d&&!C&&A.push(function(V){var z,H;const q=V.theme,K=(H=(z=q==null?void 0:q.components)==null?void 0:z[d])==null?void 0:H.variants;return K?MG(V,K,[],V.theme.modularCssLayers?"theme":void 0):null}),x||A.push(mf),Array.isArray(I[0])){const R=I.shift(),V=new Array(D.length).fill(""),q=new Array(A.length).fill("");let K;K=[...V,...R,...q],K.raw=[...V,...R.raw,...q],D.unshift(K)}const N=[...D,...I,...A],F=M(...N);return a.muiName&&(F.muiName=a.muiName),F};return M.withConfig&&(k.withConfig=M.withConfig),k}}function Ile(t,e){return void 0}function Rle(t){for(const e in t)return!1;return!0}function Ple(t){return typeof t=="string"&&t.charCodeAt(0)>96}function Mle(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}const gn=kG();function iv(t,e,n=!1){const r={...e};for(const o in t)if(Object.prototype.hasOwnProperty.call(t,o)){const i=o;if(i==="components"||i==="slots")r[i]={...t[i],...r[i]};else if(i==="componentsProps"||i==="slotProps"){const s=t[i],a=e[i];if(!a)r[i]=s||{};else if(!s)r[i]=a;else{r[i]={...a};for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const d=c;r[i][d]=iv(s[d],a[d],n)}}}else i==="className"&&n&&e.className?r.className=Ne(t==null?void 0:t.className,e==null?void 0:e.className):i==="style"&&n&&e.style?r.style={...t==null?void 0:t.style,...e==null?void 0:e.style}:r[i]===void 0&&(r[i]=t[i])}return r}function OG(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:iv(e.components[n].defaultProps,r)}function DG({props:t,name:e,defaultTheme:n,themeId:r}){let o=rI(n);return r&&(o=o[r]||o),OG({theme:o,name:e,props:t})}const Un=typeof window<"u"?w.useLayoutEffect:w.useEffect;function kle(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function IL(t,e=0,n=1){return kle(t,e,n)}function Ole(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,o)=>o<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function yf(t){if(t.type)return t;if(t.charAt(0)==="#")return yf(Ole(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(md(9,t));let r=t.substring(e+1,t.length-1),o;if(n==="color"){if(r=r.split(" "),o=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(o))throw new Error(md(10,o))}else r=r.split(",");return r=r.map(i=>parseFloat(i)),{type:n,values:r,colorSpace:o}}const Dle=t=>{const e=yf(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},a0=(t,e)=>{try{return Dle(t)}catch{return t}};function oI(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((o,i)=>i<3?parseInt(o,10):o):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function LG(t){t=yf(t);const{values:e}=t,n=e[0],r=e[1]/100,o=e[2]/100,i=r*Math.min(o,1-o),s=(d,h=(d+n/30)%12)=>o-i*Math.max(Math.min(h-3,9-h,1),-1);let a="rgb";const c=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return t.type==="hsla"&&(a+="a",c.push(e[3])),oI({type:a,values:c})}function Yk(t){t=yf(t);let e=t.type==="hsl"||t.type==="hsla"?yf(LG(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Lle(t,e){const n=Yk(t),r=Yk(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function vr(t,e){return t=yf(t),e=IL(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,oI(t)}function ap(t,e,n){try{return vr(t,e)}catch{return t}}function EE(t,e){if(t=yf(t),e=IL(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return oI(t)}function Kn(t,e,n){try{return EE(t,e)}catch{return t}}function xE(t,e){if(t=yf(t),e=IL(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return oI(t)}function Yn(t,e,n){try{return xE(t,e)}catch{return t}}function Nle(t,e=.15){return Yk(t)>.5?EE(t,e):xE(t,e)}function w1(t,e,n){try{return Nle(t,e)}catch{return t}}const NG=w.createContext(null);function RL(){return w.useContext(NG)}const Fle=typeof Symbol=="function"&&Symbol.for,$le=Fle?Symbol.for("mui.nested"):"__THEME_NESTED__";function Vle(t,e){return typeof e=="function"?e(t):{...t,...e}}function zle(t){const{children:e,theme:n}=t,r=RL(),o=w.useMemo(()=>{const i=r===null?{...n}:Vle(r,n);return i!=null&&(i[$le]=r!==null),i},[n,r]);return T.jsx(NG.Provider,{value:o,children:e})}const FG=w.createContext();function Ble({value:t,...e}){return T.jsx(FG.Provider,{value:t??!0,...e})}const Ni=()=>w.useContext(FG)??!1,$G=w.createContext(void 0);function Hle({value:t,children:e}){return T.jsx($G.Provider,{value:t,children:e})}function jle(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const o=e.components[n];return o.defaultProps?iv(o.defaultProps,r,e.components.mergeClassNameAndStyle):!o.styleOverrides&&!o.variants?iv(o,r,e.components.mergeClassNameAndStyle):r}function Ule({props:t,name:e}){const n=w.useContext($G);return jle({props:t,name:e,theme:{components:n}})}let FH=0;function Gle(t){const[e,n]=w.useState(t),r=t||e;return w.useEffect(()=>{e==null&&(FH+=1,n(`mui-${FH}`))},[e]),r}const Wle={...lk},$H=Wle.useId;function sn(t){if($H!==void 0){const e=$H();return t??e}return Gle(t)}function qle(t){const e=TL(),n=sn()||"",{modularCssLayers:r}=t;let o="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!r||e!==null?o="":typeof r=="string"?o=r.replace(/mui(?!\.)/g,o):o=`@layer ${o};`,Un(()=>{var a,c;const i=document.querySelector("head");if(!i)return;const s=i.firstChild;if(o){if(s&&((a=s.hasAttribute)!=null&&a.call(s,"data-mui-layer-order"))&&s.getAttribute("data-mui-layer-order")===n)return;const d=document.createElement("style");d.setAttribute("data-mui-layer-order",n),d.textContent=o,i.prepend(d)}else(c=i.querySelector(`style[data-mui-layer-order="${n}"]`))==null||c.remove()},[o,n]),o?T.jsx(AG,{styles:o}):null}const VH={};function zH(t,e,n,r=!1){return w.useMemo(()=>{const o=t&&e[t]||e;if(typeof n=="function"){const i=n(o),s=t?{...e,[t]:i}:i;return r?()=>s:s}return t?{...e,[t]:n}:{...e,...n}},[t,e,n,r])}function VG(t){const{children:e,theme:n,themeId:r}=t,o=TL(VH),i=RL()||VH,s=zH(r,o,n),a=zH(r,i,n,!0),c=(r?s[r]:s).direction==="rtl",d=qle(s);return T.jsx(zle,{theme:a,children:T.jsx(vE.Provider,{value:s,children:T.jsx(Ble,{value:c,children:T.jsxs(Hle,{value:r?s[r].components:s.components,children:[d,e]})})})})}const BH={theme:void 0};function Kle(t){let e,n;return function(o){let i=e;return(i===void 0||o.theme!==n)&&(BH.theme=o.theme,i=PG(t(BH)),e=i,n=o.theme),i}}const PL="mode",ML="color-scheme",Yle="data-color-scheme";function Xle(t){const{defaultMode:e="system",defaultLightColorScheme:n="light",defaultDarkColorScheme:r="dark",modeStorageKey:o=PL,colorSchemeStorageKey:i=ML,attribute:s=Yle,colorSchemeNode:a="document.documentElement",nonce:c}=t||{};let d="",h=s;if(s==="class"&&(h=".%s"),s==="data"&&(h="[data-%s]"),h.startsWith(".")){const g=h.substring(1);d+=`${a}.classList.remove('${g}'.replace('%s', light), '${g}'.replace('%s', dark));
      ${a}.classList.add('${g}'.replace('%s', colorScheme));`}const p=h.match(/\[([^\]]+)\]/);if(p){const[g,m]=p[1].split("=");m||(d+=`${a}.removeAttribute('${g}'.replace('%s', light));
      ${a}.removeAttribute('${g}'.replace('%s', dark));`),d+=`
      ${a}.setAttribute('${g}'.replace('%s', colorScheme), ${m?`${m}.replace('%s', colorScheme)`:'""'});`}else d+=`${a}.setAttribute('${h}', colorScheme);`;return T.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${o}') || '${e}';
  const dark = localStorage.getItem('${i}-dark') || '${r}';
  const light = localStorage.getItem('${i}-light') || '${n}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${d}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function Qle(){}const Zle=({key:t,storageWindow:e})=>(!e&&typeof window<"u"&&(e=window),{get(n){if(typeof window>"u")return;if(!e)return n;let r;try{r=e.localStorage.getItem(t)}catch{}return r||n},set:n=>{if(e)try{e.localStorage.setItem(t,n)}catch{}},subscribe:n=>{if(!e)return Qle;const r=o=>{const i=o.newValue;o.key===t&&n(i)};return e.addEventListener("storage",r),()=>{e.removeEventListener("storage",r)}}});function CM(){}function HH(t){if(typeof window<"u"&&typeof window.matchMedia=="function"&&t==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function zG(t,e){if(t.mode==="light"||t.mode==="system"&&t.systemMode==="light")return e("light");if(t.mode==="dark"||t.mode==="system"&&t.systemMode==="dark")return e("dark")}function Jle(t){return zG(t,e=>{if(e==="light")return t.lightColorScheme;if(e==="dark")return t.darkColorScheme})}function ece(t){const{defaultMode:e="light",defaultLightColorScheme:n,defaultDarkColorScheme:r,supportedColorSchemes:o=[],modeStorageKey:i=PL,colorSchemeStorageKey:s=ML,storageWindow:a=typeof window>"u"?void 0:window,storageManager:c=Zle,noSsr:d=!1}=t,h=o.join(","),p=o.length>1,g=w.useMemo(()=>c==null?void 0:c({key:i,storageWindow:a}),[c,i,a]),m=w.useMemo(()=>c==null?void 0:c({key:`${s}-light`,storageWindow:a}),[c,s,a]),v=w.useMemo(()=>c==null?void 0:c({key:`${s}-dark`,storageWindow:a}),[c,s,a]),[S,C]=w.useState(()=>{const I=(g==null?void 0:g.get(e))||e,A=(m==null?void 0:m.get(n))||n,N=(v==null?void 0:v.get(r))||r;return{mode:I,systemMode:HH(I),lightColorScheme:A,darkColorScheme:N}}),[x,O]=w.useState(d||!p);w.useEffect(()=>{O(!0)},[]);const M=Jle(S),P=w.useCallback(I=>{C(A=>{if(I===A.mode)return A;const N=I??e;return g==null||g.set(N),{...A,mode:N,systemMode:HH(N)}})},[g,e]),k=w.useCallback(I=>{I?typeof I=="string"?I&&!h.includes(I)?console.error(`\`${I}\` does not exist in \`theme.colorSchemes\`.`):C(A=>{const N={...A};return zG(A,F=>{F==="light"&&(m==null||m.set(I),N.lightColorScheme=I),F==="dark"&&(v==null||v.set(I),N.darkColorScheme=I)}),N}):C(A=>{const N={...A},F=I.light===null?n:I.light,R=I.dark===null?r:I.dark;return F&&(h.includes(F)?(N.lightColorScheme=F,m==null||m.set(F)):console.error(`\`${F}\` does not exist in \`theme.colorSchemes\`.`)),R&&(h.includes(R)?(N.darkColorScheme=R,v==null||v.set(R)):console.error(`\`${R}\` does not exist in \`theme.colorSchemes\`.`)),N}):C(A=>(m==null||m.set(n),v==null||v.set(r),{...A,lightColorScheme:n,darkColorScheme:r}))},[h,m,v,n,r]),$=w.useCallback(I=>{S.mode==="system"&&C(A=>{const N=I!=null&&I.matches?"dark":"light";return A.systemMode===N?A:{...A,systemMode:N}})},[S.mode]),D=w.useRef($);return D.current=$,w.useEffect(()=>{if(typeof window.matchMedia!="function"||!p)return;const I=(...N)=>D.current(...N),A=window.matchMedia("(prefers-color-scheme: dark)");return A.addListener(I),I(A),()=>{A.removeListener(I)}},[p]),w.useEffect(()=>{if(p){const I=(g==null?void 0:g.subscribe(F=>{(!F||["light","dark","system"].includes(F))&&P(F||e)}))||CM,A=(m==null?void 0:m.subscribe(F=>{(!F||h.match(F))&&k({light:F})}))||CM,N=(v==null?void 0:v.subscribe(F=>{(!F||h.match(F))&&k({dark:F})}))||CM;return()=>{I(),A(),N()}}},[k,P,h,e,a,p,g,m,v]),{...S,mode:x?S.mode:void 0,systemMode:x?S.systemMode:void 0,colorScheme:x?M:void 0,setMode:P,setColorScheme:k}}const tce="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function nce(t){const{themeId:e,theme:n={},modeStorageKey:r=PL,colorSchemeStorageKey:o=ML,disableTransitionOnChange:i=!1,defaultColorScheme:s,resolveTheme:a}=t,c={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},d=w.createContext(void 0),h=()=>w.useContext(d)||c,p={},g={};function m(x){var Je,Qe,dt,ht;const{children:O,theme:M,modeStorageKey:P=r,colorSchemeStorageKey:k=o,disableTransitionOnChange:$=i,storageManager:D,storageWindow:I=typeof window>"u"?void 0:window,documentNode:A=typeof document>"u"?void 0:document,colorSchemeNode:N=typeof document>"u"?void 0:document.documentElement,disableNestedContext:F=!1,disableStyleSheetGeneration:R=!1,defaultMode:V="system",forceThemeRerender:q=!1,noSsr:K}=x,z=w.useRef(!1),H=RL(),Z=w.useContext(d),re=!!Z&&!F,j=w.useMemo(()=>M||(typeof n=="function"?n():n),[M]),X=j[e],ne=X||j,{colorSchemes:ie=p,components:se=g,cssVarPrefix:ce}=ne,ae=Object.keys(ie).filter(Ge=>!!ie[Ge]).join(","),ge=w.useMemo(()=>ae.split(","),[ae]),Ee=typeof s=="string"?s:s.light,Te=typeof s=="string"?s:s.dark,le=ie[Ee]&&ie[Te]?V:((Qe=(Je=ie[ne.defaultColorScheme])==null?void 0:Je.palette)==null?void 0:Qe.mode)||((dt=ne.palette)==null?void 0:dt.mode),{mode:pe,setMode:ye,systemMode:xe,lightColorScheme:Ce,darkColorScheme:Pe,colorScheme:ze,setColorScheme:Ke}=ece({supportedColorSchemes:ge,defaultLightColorScheme:Ee,defaultDarkColorScheme:Te,modeStorageKey:P,colorSchemeStorageKey:k,defaultMode:le,storageManager:D,storageWindow:I,noSsr:K});let ke=pe,ot=ze;re&&(ke=Z.mode,ot=Z.colorScheme);let Ye=ot||ne.defaultColorScheme;ne.vars&&!q&&(Ye=ne.defaultColorScheme);const at=w.useMemo(()=>{var it;const Ge=((it=ne.generateThemeVars)==null?void 0:it.call(ne))||ne.vars,De={...ne,components:se,colorSchemes:ie,cssVarPrefix:ce,vars:Ge};if(typeof De.generateSpacing=="function"&&(De.spacing=De.generateSpacing()),Ye){const Et=ie[Ye];Et&&typeof Et=="object"&&Object.keys(Et).forEach(gt=>{Et[gt]&&typeof Et[gt]=="object"?De[gt]={...De[gt],...Et[gt]}:De[gt]=Et[gt]})}return a?a(De):De},[ne,Ye,se,ie,ce]),he=ne.colorSchemeSelector;Un(()=>{if(ot&&N&&he&&he!=="media"){const Ge=he;let De=he;if(Ge==="class"&&(De=".%s"),Ge==="data"&&(De="[data-%s]"),Ge!=null&&Ge.startsWith("data-")&&!Ge.includes("%s")&&(De=`[${Ge}="%s"]`),De.startsWith("."))N.classList.remove(...ge.map(it=>De.substring(1).replace("%s",it))),N.classList.add(De.substring(1).replace("%s",ot));else{const it=De.replace("%s",ot).match(/\[([^\]]+)\]/);if(it){const[Et,gt]=it[1].split("=");gt||ge.forEach(mt=>{N.removeAttribute(Et.replace(ot,mt))}),N.setAttribute(Et,gt?gt.replace(/"|'/g,""):"")}else N.setAttribute(De,ot)}}},[ot,he,N,ge]),w.useEffect(()=>{let Ge;if($&&z.current&&A){const De=A.createElement("style");De.appendChild(A.createTextNode(tce)),A.head.appendChild(De),window.getComputedStyle(A.body),Ge=setTimeout(()=>{A.head.removeChild(De)},1)}return()=>{clearTimeout(Ge)}},[ot,$,A]),w.useEffect(()=>(z.current=!0,()=>{z.current=!1}),[]);const Ue=w.useMemo(()=>({allColorSchemes:ge,colorScheme:ot,darkColorScheme:Pe,lightColorScheme:Ce,mode:ke,setColorScheme:Ke,setMode:ye,systemMode:xe}),[ge,ot,Pe,Ce,ke,Ke,ye,xe,at.colorSchemeSelector]);let qe=!0;(R||ne.cssVariables===!1||re&&(H==null?void 0:H.cssVarPrefix)===ce)&&(qe=!1);const nt=T.jsxs(w.Fragment,{children:[T.jsx(VG,{themeId:X?e:void 0,theme:at,children:O}),qe&&T.jsx(wG,{styles:((ht=at.generateStyleSheets)==null?void 0:ht.call(at))||[]})]});return re?nt:T.jsx(d.Provider,{value:Ue,children:nt})}const v=typeof s=="string"?s:s.light,S=typeof s=="string"?s:s.dark;return{CssVarsProvider:m,useColorScheme:h,getInitColorSchemeScript:x=>Xle({colorSchemeStorageKey:o,defaultLightColorScheme:v,defaultDarkColorScheme:S,modeStorageKey:r,...x})}}function rce(t=""){function e(...r){if(!r.length)return"";const o=r[0];return typeof o=="string"&&!o.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${o}${e(...r.slice(1))})`:`, ${o}`}return(r,...o)=>`var(--${t?`${t}-`:""}${r}${e(...o)})`}const jH=(t,e,n,r=[])=>{let o=t;e.forEach((i,s)=>{s===e.length-1?Array.isArray(o)?o[Number(i)]=n:o&&typeof o=="object"&&(o[i]=n):o&&typeof o=="object"&&(o[i]||(o[i]=r.includes(i)?[]:{}),o=o[i])})},oce=(t,e,n)=>{function r(o,i=[],s=[]){Object.entries(o).forEach(([a,c])=>{(!n||n&&!n([...i,a]))&&c!=null&&(typeof c=="object"&&Object.keys(c).length>0?r(c,[...i,a],Array.isArray(c)?[...s,a]:s):e([...i,a],c,s))})}r(t)},ice=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function EM(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},o={},i={},s={};return oce(t,(a,c,d)=>{if((typeof c=="string"||typeof c=="number")&&(!r||!r(a,c))){const h=`--${n?`${n}-`:""}${a.join("-")}`,p=ice(a,c);Object.assign(o,{[h]:p}),jH(i,a,`var(${h})`,d),jH(s,a,`var(${h}, ${p})`,d)}},a=>a[0]==="vars"),{css:o,vars:i,varsWithDefaults:s}}function sce(t,e={}){const{getSelector:n=x,disableCssColorScheme:r,colorSchemeSelector:o,enableContrastVars:i}=e,{colorSchemes:s={},components:a,defaultColorScheme:c="light",...d}=t,{vars:h,css:p,varsWithDefaults:g}=EM(d,e);let m=g;const v={},{[c]:S,...C}=s;if(Object.entries(C||{}).forEach(([P,k])=>{const{vars:$,css:D,varsWithDefaults:I}=EM(k,e);m=Jo(m,I),v[P]={css:D,vars:$}}),S){const{css:P,vars:k,varsWithDefaults:$}=EM(S,e);m=Jo(m,$),v[c]={css:P,vars:k}}function x(P,k){var D,I;let $=o;if(o==="class"&&($=".%s"),o==="data"&&($="[data-%s]"),o!=null&&o.startsWith("data-")&&!o.includes("%s")&&($=`[${o}="%s"]`),P){if($==="media")return t.defaultColorScheme===P?":root":{[`@media (prefers-color-scheme: ${((I=(D=s[P])==null?void 0:D.palette)==null?void 0:I.mode)||P})`]:{":root":k}};if($)return t.defaultColorScheme===P?`:root, ${$.replace("%s",String(P))}`:$.replace("%s",String(P))}return":root"}return{vars:m,generateThemeVars:()=>{let P={...h};return Object.entries(v).forEach(([,{vars:k}])=>{P=Jo(P,k)}),P},generateStyleSheets:()=>{var A,N;const P=[],k=t.defaultColorScheme||"light";function $(F,R){Object.keys(R).length&&P.push(typeof F=="string"?{[F]:{...R}}:F)}$(n(void 0,{...p}),p);const{[k]:D,...I}=v;if(D){const{css:F}=D,R=(N=(A=s[k])==null?void 0:A.palette)==null?void 0:N.mode,V=!r&&R?{colorScheme:R,...F}:{...F};$(n(k,{...V}),V)}return Object.entries(I).forEach(([F,{css:R}])=>{var K,z;const V=(z=(K=s[F])==null?void 0:K.palette)==null?void 0:z.mode,q=!r&&V?{colorScheme:V,...R}:{...R};$(n(F,{...q}),q)}),i&&P.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),P}}}function ace(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}function Ze(t,e,n=void 0){const r={};for(const o in t){const i=t[o];let s="",a=!0;for(let c=0;c<i.length;c+=1){const d=i[c];d&&(s+=(a===!0?"":" ")+e(d),a=!1,n&&n[d]&&(s+=" "+n[d]))}r[o]=s}return r}const lce=CE(),cce=gn("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${Ie(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),uce=t=>DG({props:t,name:"MuiContainer",defaultTheme:lce}),dce=(t,e)=>{const n=c=>kt(e,c),{classes:r,fixed:o,disableGutters:i,maxWidth:s}=t,a={root:["root",s&&`maxWidth${Ie(String(s))}`,o&&"fixed",i&&"disableGutters"]};return Ze(a,n,r)};function hce(t={}){const{createStyledComponent:e=cce,useThemeProps:n=uce,componentName:r="MuiContainer"}=t,o=e(({theme:s,ownerState:a})=>({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!a.disableGutters&&{paddingLeft:s.spacing(2),paddingRight:s.spacing(2),[s.breakpoints.up("sm")]:{paddingLeft:s.spacing(3),paddingRight:s.spacing(3)}}}),({theme:s,ownerState:a})=>a.fixed&&Object.keys(s.breakpoints.values).reduce((c,d)=>{const h=d,p=s.breakpoints.values[h];return p!==0&&(c[s.breakpoints.up(h)]={maxWidth:`${p}${s.breakpoints.unit}`}),c},{}),({theme:s,ownerState:a})=>({...a.maxWidth==="xs"&&{[s.breakpoints.up("xs")]:{maxWidth:Math.max(s.breakpoints.values.xs,444)}},...a.maxWidth&&a.maxWidth!=="xs"&&{[s.breakpoints.up(a.maxWidth)]:{maxWidth:`${s.breakpoints.values[a.maxWidth]}${s.breakpoints.unit}`}}}));return w.forwardRef(function(a,c){const d=n(a),{className:h,component:p="div",disableGutters:g=!1,fixed:m=!1,maxWidth:v="lg",classes:S,...C}=d,x={...d,component:p,disableGutters:g,fixed:m,maxWidth:v},O=dce(x,r);return T.jsx(o,{as:p,ownerState:x,className:Ne(O.root,h),ref:c,...C})})}function xM(t,e){var n,r,o;return w.isValidElement(t)&&e.indexOf(t.type.muiName??((o=(r=(n=t.type)==null?void 0:n._payload)==null?void 0:r.value)==null?void 0:o.muiName))!==-1}const fce=CE(),pce=gn("div",{name:"MuiStack",slot:"Root"});function gce(t){return DG({props:t,name:"MuiStack",defaultTheme:fce})}function mce(t,e){const n=w.Children.toArray(t).filter(Boolean);return n.reduce((r,o,i)=>(r.push(o),i<n.length-1&&r.push(w.cloneElement(e,{key:`separator-${i}`})),r),[])}const yce=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],bce=({ownerState:t,theme:e})=>{let n={display:"flex",flexDirection:"column",...kl({theme:e},vM({values:t.direction,breakpoints:e.breakpoints.values}),r=>({flexDirection:r}))};if(t.spacing){const r=QA(e),o=Object.keys(e.breakpoints.values).reduce((c,d)=>((typeof t.spacing=="object"&&t.spacing[d]!=null||typeof t.direction=="object"&&t.direction[d]!=null)&&(c[d]=!0),c),{}),i=vM({values:t.direction,base:o}),s=vM({values:t.spacing,base:o});typeof i=="object"&&Object.keys(i).forEach((c,d,h)=>{if(!i[c]){const g=d>0?i[h[d-1]]:"column";i[c]=g}}),n=Jo(n,kl({theme:e},s,(c,d)=>t.useFlexGap?{gap:Qg(r,c)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${yce(d?i[d]:t.direction)}`]:Qg(r,c)}}))}return n=Mae(e.breakpoints,n),n};function vce(t={}){const{createStyledComponent:e=pce,useThemeProps:n=gce,componentName:r="MuiStack"}=t,o=()=>Ze({root:["root"]},c=>kt(r,c),{}),i=e(bce);return w.forwardRef(function(c,d){const h=n(c),p=AL(h),{component:g="div",direction:m="column",spacing:v=0,divider:S,children:C,className:x,useFlexGap:O=!1,...M}=p,P={direction:m,spacing:v,useFlexGap:O},k=o();return T.jsx(i,{as:g,ownerState:P,ref:d,className:Ne(k.root,x),...M,children:S?mce(C,S):C})})}function BG(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:iS.white,default:iS.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const HG=BG();function jG(){return{text:{primary:iS.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:iS.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const Xk=jG();function UH(t,e,n,r){const o=r.light||r,i=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=xE(t.main,o):e==="dark"&&(t.dark=EE(t.main,i)))}function GH(t,e,n,r,o){const i=o.light||o,s=o.dark||o*1.5;e[n]||(e.hasOwnProperty(r)?e[n]=e[r]:n==="light"?e.light=`color-mix(in ${t}, ${e.main}, #fff ${(i*100).toFixed(0)}%)`:n==="dark"&&(e.dark=`color-mix(in ${t}, ${e.main}, #000 ${(s*100).toFixed(0)}%)`))}function wce(t="light"){return t==="dark"?{main:ny[200],light:ny[50],dark:ny[400]}:{main:ny[700],light:ny[400],dark:ny[800]}}function Sce(t="light"){return t==="dark"?{main:ty[200],light:ty[50],dark:ty[400]}:{main:ty[500],light:ty[300],dark:ty[700]}}function Cce(t="light"){return t==="dark"?{main:ey[500],light:ey[300],dark:ey[700]}:{main:ey[700],light:ey[400],dark:ey[800]}}function Ece(t="light"){return t==="dark"?{main:ry[400],light:ry[300],dark:ry[700]}:{main:ry[700],light:ry[500],dark:ry[900]}}function xce(t="light"){return t==="dark"?{main:oy[400],light:oy[300],dark:oy[700]}:{main:oy[800],light:oy[500],dark:oy[900]}}function _ce(t="light"){return t==="dark"?{main:Fw[400],light:Fw[300],dark:Fw[700]}:{main:"#ed6c02",light:Fw[500],dark:Fw[900]}}function Tce(t){return`oklch(from ${t} var(--__l) 0 h / var(--__a))`}function kL(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,colorSpace:o,...i}=t,s=t.primary||wce(e),a=t.secondary||Sce(e),c=t.error||Cce(e),d=t.info||Ece(e),h=t.success||xce(e),p=t.warning||_ce(e);function g(C){return o?Tce(C):Lle(C,Xk.text.primary)>=n?Xk.text.primary:HG.text.primary}const m=({color:C,name:x,mainShade:O=500,lightShade:M=300,darkShade:P=700})=>{if(C={...C},!C.main&&C[O]&&(C.main=C[O]),!C.hasOwnProperty("main"))throw new Error(md(11,x?` (${x})`:"",O));if(typeof C.main!="string")throw new Error(md(12,x?` (${x})`:"",JSON.stringify(C.main)));return o?(GH(o,C,"light",M,r),GH(o,C,"dark",P,r)):(UH(C,"light",M,r),UH(C,"dark",P,r)),C.contrastText||(C.contrastText=g(C.main)),C};let v;return e==="light"?v=BG():e==="dark"&&(v=jG()),Jo({common:{...iS},mode:e,primary:m({color:s,name:"primary"}),secondary:m({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:m({color:c,name:"error"}),warning:m({color:p,name:"warning"}),info:m({color:d,name:"info"}),success:m({color:h,name:"success"}),grey:bse,contrastThreshold:n,getContrastText:g,augmentColor:m,tonalOffset:r,...v},i)}function Ace(t){const e={};return Object.entries(t).forEach(r=>{const[o,i]=r;typeof i=="object"&&(e[o]=`${i.fontStyle?`${i.fontStyle} `:""}${i.fontVariant?`${i.fontVariant} `:""}${i.fontWeight?`${i.fontWeight} `:""}${i.fontStretch?`${i.fontStretch} `:""}${i.fontSize||""}${i.lineHeight?`/${i.lineHeight} `:""}${i.fontFamily||""}`)}),e}function Ice(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function Rce(t){return Math.round(t*1e5)/1e5}const WH={textTransform:"uppercase"},qH='"Roboto", "Helvetica", "Arial", sans-serif';function UG(t,e){const{fontFamily:n=qH,fontSize:r=14,fontWeightLight:o=300,fontWeightRegular:i=400,fontWeightMedium:s=500,fontWeightBold:a=700,htmlFontSize:c=16,allVariants:d,pxToRem:h,...p}=typeof e=="function"?e(t):e,g=r/14,m=h||(C=>`${C/c*g}rem`),v=(C,x,O,M,P)=>({fontFamily:n,fontWeight:C,fontSize:m(x),lineHeight:O,...n===qH?{letterSpacing:`${Rce(M/x)}em`}:{},...P,...d}),S={h1:v(o,96,1.167,-1.5),h2:v(o,60,1.2,-.5),h3:v(i,48,1.167,0),h4:v(i,34,1.235,.25),h5:v(i,24,1.334,0),h6:v(s,20,1.6,.15),subtitle1:v(i,16,1.75,.15),subtitle2:v(s,14,1.57,.1),body1:v(i,16,1.5,.15),body2:v(i,14,1.43,.15),button:v(s,14,1.75,.4,WH),caption:v(i,12,1.66,.4),overline:v(i,12,2.66,1,WH),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Jo({htmlFontSize:c,pxToRem:m,fontFamily:n,fontSize:r,fontWeightLight:o,fontWeightRegular:i,fontWeightMedium:s,fontWeightBold:a,...S},p,{clone:!1})}const Pce=.2,Mce=.14,kce=.12;function Ir(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${Pce})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${Mce})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${kce})`].join(",")}const Oce=["none",Ir(0,2,1,-1,0,1,1,0,0,1,3,0),Ir(0,3,1,-2,0,2,2,0,0,1,5,0),Ir(0,3,3,-2,0,3,4,0,0,1,8,0),Ir(0,2,4,-1,0,4,5,0,0,1,10,0),Ir(0,3,5,-1,0,5,8,0,0,1,14,0),Ir(0,3,5,-1,0,6,10,0,0,1,18,0),Ir(0,4,5,-2,0,7,10,1,0,2,16,1),Ir(0,5,5,-3,0,8,10,1,0,3,14,2),Ir(0,5,6,-3,0,9,12,1,0,3,16,2),Ir(0,6,6,-3,0,10,14,1,0,4,18,3),Ir(0,6,7,-4,0,11,15,1,0,4,20,3),Ir(0,7,8,-4,0,12,17,2,0,5,22,4),Ir(0,7,8,-4,0,13,19,2,0,5,24,4),Ir(0,7,9,-4,0,14,21,2,0,5,26,4),Ir(0,8,9,-5,0,15,22,2,0,6,28,5),Ir(0,8,10,-5,0,16,24,2,0,6,30,5),Ir(0,8,11,-5,0,17,26,2,0,6,32,5),Ir(0,9,11,-5,0,18,28,2,0,7,34,6),Ir(0,9,12,-6,0,19,29,2,0,7,36,6),Ir(0,10,13,-6,0,20,31,3,0,8,38,7),Ir(0,10,13,-6,0,21,33,3,0,8,40,7),Ir(0,10,14,-6,0,22,35,3,0,8,42,7),Ir(0,11,14,-7,0,23,36,3,0,9,44,8),Ir(0,11,15,-7,0,24,38,3,0,9,46,8)],Dce={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Lce={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function KH(t){return`${Math.round(t)}ms`}function Nce(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function Fce(t){const e={...Dce,...t.easing},n={...Lce,...t.duration};return{getAutoHeightDuration:Nce,create:(o=["all"],i={})=>{const{duration:s=n.standard,easing:a=e.easeInOut,delay:c=0,...d}=i;return(Array.isArray(o)?o:[o]).map(h=>`${h} ${typeof s=="string"?s:KH(s)} ${a} ${typeof c=="string"?c:KH(c)}`).join(",")},...t,easing:e,duration:n}}const $ce={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Vce(t){return Ec(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function GG(t={}){const e={...t};function n(r){const o=Object.entries(r);for(let i=0;i<o.length;i++){const[s,a]=o[i];!Vce(a)||s.startsWith("unstable_")?delete r[s]:Ec(a)&&(r[s]={...a},n(r[s]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function YH(t){return typeof t=="number"?`${(t*100).toFixed(0)}%`:`calc((${t}) * 100%)`}const zce=t=>{if(!Number.isNaN(+t))return+t;const e=t.match(/\d*\.?\d+/g);if(!e)return 0;let n=0;for(let r=0;r<e.length;r+=1)n+=+e[r];return n};function Bce(t){Object.assign(t,{alpha(e,n){const r=this||t;return r.colorSpace?`oklch(from ${e} l c h / ${typeof n=="string"?`calc(${n})`:n})`:r.vars?`rgba(${e.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof n=="string"?`calc(${n})`:n})`:vr(e,zce(n))},lighten(e,n){const r=this||t;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${e}, #fff ${YH(n)})`:xE(e,n)},darken(e,n){const r=this||t;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${e}, #000 ${YH(n)})`:EE(e,n)}})}function Qk(t={},...e){const{breakpoints:n,mixins:r={},spacing:o,palette:i={},transitions:s={},typography:a={},shape:c,colorSpace:d,...h}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(md(20));const p=kL({...i,colorSpace:d}),g=CE(t);let m=Jo(g,{mixins:Ice(g.breakpoints,r),palette:p,shadows:Oce.slice(),typography:UG(p,a),transitions:Fce(s),zIndex:{...$ce}});return m=Jo(m,h),m=e.reduce((v,S)=>Jo(v,S),m),m.unstable_sxConfig={...SE,...h==null?void 0:h.unstable_sxConfig},m.unstable_sx=function(S){return mf({sx:S,theme:this})},m.toRuntimeSource=GG,Bce(m),m}function Zk(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const Hce=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=Zk(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function WG(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function qG(t){return t==="dark"?Hce:[]}function jce(t){const{palette:e={mode:"light"},opacity:n,overlays:r,colorSpace:o,...i}=t,s=kL({...e,colorSpace:o});return{palette:s,opacity:{...WG(s.mode),...n},overlays:r||qG(s.mode),...i}}function Uce(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const Gce=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],Wce=t=>(e,n)=>{const r=t.rootSelector||":root",o=t.colorSchemeSelector;let i=o;if(o==="class"&&(i=".%s"),o==="data"&&(i="[data-%s]"),o!=null&&o.startsWith("data-")&&!o.includes("%s")&&(i=`[${o}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const s={};return Gce(t.cssVarPrefix).forEach(a=>{s[a]=n[a],delete n[a]}),i==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:s}}:i?{[i.replace("%s",e)]:s,[`${r}, ${i.replace("%s",e)}`]:n}:{[r]:{...n,...s}}}if(i&&i!=="media")return`${r}, ${i.replace("%s",String(e))}`}else if(e){if(i==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(i)return i.replace("%s",String(e))}return r};function qce(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function Le(t,e,n){!t[e]&&n&&(t[e]=n)}function l0(t){return typeof t!="string"||!t.startsWith("hsl")?t:LG(t)}function fu(t,e){`${e}Channel`in t||(t[`${e}Channel`]=a0(l0(t[e])))}function Kce(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const Ql=t=>{try{return t()}catch{}},Yce=(t="mui")=>rce(t);function _M(t,e,n,r,o){if(!n)return;n=n===!0?{}:n;const i=o==="dark"?"dark":"light";if(!r){e[o]=jce({...n,palette:{mode:i,...n==null?void 0:n.palette},colorSpace:t});return}const{palette:s,...a}=Qk({...r,palette:{mode:i,...n==null?void 0:n.palette},colorSpace:t});return e[o]={...n,palette:s,opacity:{...WG(i),...n==null?void 0:n.opacity},overlays:(n==null?void 0:n.overlays)||qG(i)},a}function Xce(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:o=!1,cssVarPrefix:i="mui",nativeColor:s=!1,shouldSkipGeneratingVar:a=Uce,colorSchemeSelector:c=n.light&&n.dark?"media":void 0,rootSelector:d=":root",...h}=t,p=Object.keys(n)[0],g=r||(n.light&&p!=="light"?"light":p),m=Yce(i),{[g]:v,light:S,dark:C,...x}=n,O={...x};let M=v;if((g==="dark"&&!("dark"in n)||g==="light"&&!("light"in n))&&(M=!0),!M)throw new Error(md(21,g));let P;s&&(P="oklch");const k=_M(P,O,M,h,g);S&&!O.light&&_M(P,O,S,void 0,"light"),C&&!O.dark&&_M(P,O,C,void 0,"dark");let $={defaultColorScheme:g,...k,cssVarPrefix:i,colorSchemeSelector:c,rootSelector:d,getCssVar:m,colorSchemes:O,font:{...Ace(k.typography),...k.font},spacing:Kce(h.spacing)};Object.keys($.colorSchemes).forEach(F=>{const R=$.colorSchemes[F].palette,V=K=>{const z=K.split("-"),H=z[1],Z=z[2];return m(K,R[H][Z])};R.mode==="light"&&(Le(R.common,"background","#fff"),Le(R.common,"onBackground","#000")),R.mode==="dark"&&(Le(R.common,"background","#000"),Le(R.common,"onBackground","#fff"));function q(K,z,H){if(P){let Z;return K===ap&&(Z=`transparent ${((1-H)*100).toFixed(0)}%`),K===Kn&&(Z=`#000 ${(H*100).toFixed(0)}%`),K===Yn&&(Z=`#fff ${(H*100).toFixed(0)}%`),`color-mix(in ${P}, ${z}, ${Z})`}return K(z,H)}if(qce(R,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),R.mode==="light"){Le(R.Alert,"errorColor",q(Kn,R.error.light,.6)),Le(R.Alert,"infoColor",q(Kn,R.info.light,.6)),Le(R.Alert,"successColor",q(Kn,R.success.light,.6)),Le(R.Alert,"warningColor",q(Kn,R.warning.light,.6)),Le(R.Alert,"errorFilledBg",V("palette-error-main")),Le(R.Alert,"infoFilledBg",V("palette-info-main")),Le(R.Alert,"successFilledBg",V("palette-success-main")),Le(R.Alert,"warningFilledBg",V("palette-warning-main")),Le(R.Alert,"errorFilledColor",Ql(()=>R.getContrastText(R.error.main))),Le(R.Alert,"infoFilledColor",Ql(()=>R.getContrastText(R.info.main))),Le(R.Alert,"successFilledColor",Ql(()=>R.getContrastText(R.success.main))),Le(R.Alert,"warningFilledColor",Ql(()=>R.getContrastText(R.warning.main))),Le(R.Alert,"errorStandardBg",q(Yn,R.error.light,.9)),Le(R.Alert,"infoStandardBg",q(Yn,R.info.light,.9)),Le(R.Alert,"successStandardBg",q(Yn,R.success.light,.9)),Le(R.Alert,"warningStandardBg",q(Yn,R.warning.light,.9)),Le(R.Alert,"errorIconColor",V("palette-error-main")),Le(R.Alert,"infoIconColor",V("palette-info-main")),Le(R.Alert,"successIconColor",V("palette-success-main")),Le(R.Alert,"warningIconColor",V("palette-warning-main")),Le(R.AppBar,"defaultBg",V("palette-grey-100")),Le(R.Avatar,"defaultBg",V("palette-grey-400")),Le(R.Button,"inheritContainedBg",V("palette-grey-300")),Le(R.Button,"inheritContainedHoverBg",V("palette-grey-A100")),Le(R.Chip,"defaultBorder",V("palette-grey-400")),Le(R.Chip,"defaultAvatarColor",V("palette-grey-700")),Le(R.Chip,"defaultIconColor",V("palette-grey-700")),Le(R.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Le(R.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Le(R.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Le(R.LinearProgress,"primaryBg",q(Yn,R.primary.main,.62)),Le(R.LinearProgress,"secondaryBg",q(Yn,R.secondary.main,.62)),Le(R.LinearProgress,"errorBg",q(Yn,R.error.main,.62)),Le(R.LinearProgress,"infoBg",q(Yn,R.info.main,.62)),Le(R.LinearProgress,"successBg",q(Yn,R.success.main,.62)),Le(R.LinearProgress,"warningBg",q(Yn,R.warning.main,.62)),Le(R.Skeleton,"bg",P?q(ap,R.text.primary,.11):`rgba(${V("palette-text-primaryChannel")} / 0.11)`),Le(R.Slider,"primaryTrack",q(Yn,R.primary.main,.62)),Le(R.Slider,"secondaryTrack",q(Yn,R.secondary.main,.62)),Le(R.Slider,"errorTrack",q(Yn,R.error.main,.62)),Le(R.Slider,"infoTrack",q(Yn,R.info.main,.62)),Le(R.Slider,"successTrack",q(Yn,R.success.main,.62)),Le(R.Slider,"warningTrack",q(Yn,R.warning.main,.62));const K=P?q(Kn,R.background.default,.6825):w1(R.background.default,.8);Le(R.SnackbarContent,"bg",K),Le(R.SnackbarContent,"color",Ql(()=>P?Xk.text.primary:R.getContrastText(K))),Le(R.SpeedDialAction,"fabHoverBg",w1(R.background.paper,.15)),Le(R.StepConnector,"border",V("palette-grey-400")),Le(R.StepContent,"border",V("palette-grey-400")),Le(R.Switch,"defaultColor",V("palette-common-white")),Le(R.Switch,"defaultDisabledColor",V("palette-grey-100")),Le(R.Switch,"primaryDisabledColor",q(Yn,R.primary.main,.62)),Le(R.Switch,"secondaryDisabledColor",q(Yn,R.secondary.main,.62)),Le(R.Switch,"errorDisabledColor",q(Yn,R.error.main,.62)),Le(R.Switch,"infoDisabledColor",q(Yn,R.info.main,.62)),Le(R.Switch,"successDisabledColor",q(Yn,R.success.main,.62)),Le(R.Switch,"warningDisabledColor",q(Yn,R.warning.main,.62)),Le(R.TableCell,"border",q(Yn,q(ap,R.divider,1),.88)),Le(R.Tooltip,"bg",q(ap,R.grey[700],.92))}if(R.mode==="dark"){Le(R.Alert,"errorColor",q(Yn,R.error.light,.6)),Le(R.Alert,"infoColor",q(Yn,R.info.light,.6)),Le(R.Alert,"successColor",q(Yn,R.success.light,.6)),Le(R.Alert,"warningColor",q(Yn,R.warning.light,.6)),Le(R.Alert,"errorFilledBg",V("palette-error-dark")),Le(R.Alert,"infoFilledBg",V("palette-info-dark")),Le(R.Alert,"successFilledBg",V("palette-success-dark")),Le(R.Alert,"warningFilledBg",V("palette-warning-dark")),Le(R.Alert,"errorFilledColor",Ql(()=>R.getContrastText(R.error.dark))),Le(R.Alert,"infoFilledColor",Ql(()=>R.getContrastText(R.info.dark))),Le(R.Alert,"successFilledColor",Ql(()=>R.getContrastText(R.success.dark))),Le(R.Alert,"warningFilledColor",Ql(()=>R.getContrastText(R.warning.dark))),Le(R.Alert,"errorStandardBg",q(Kn,R.error.light,.9)),Le(R.Alert,"infoStandardBg",q(Kn,R.info.light,.9)),Le(R.Alert,"successStandardBg",q(Kn,R.success.light,.9)),Le(R.Alert,"warningStandardBg",q(Kn,R.warning.light,.9)),Le(R.Alert,"errorIconColor",V("palette-error-main")),Le(R.Alert,"infoIconColor",V("palette-info-main")),Le(R.Alert,"successIconColor",V("palette-success-main")),Le(R.Alert,"warningIconColor",V("palette-warning-main")),Le(R.AppBar,"defaultBg",V("palette-grey-900")),Le(R.AppBar,"darkBg",V("palette-background-paper")),Le(R.AppBar,"darkColor",V("palette-text-primary")),Le(R.Avatar,"defaultBg",V("palette-grey-600")),Le(R.Button,"inheritContainedBg",V("palette-grey-800")),Le(R.Button,"inheritContainedHoverBg",V("palette-grey-700")),Le(R.Chip,"defaultBorder",V("palette-grey-700")),Le(R.Chip,"defaultAvatarColor",V("palette-grey-300")),Le(R.Chip,"defaultIconColor",V("palette-grey-300")),Le(R.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Le(R.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Le(R.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Le(R.LinearProgress,"primaryBg",q(Kn,R.primary.main,.5)),Le(R.LinearProgress,"secondaryBg",q(Kn,R.secondary.main,.5)),Le(R.LinearProgress,"errorBg",q(Kn,R.error.main,.5)),Le(R.LinearProgress,"infoBg",q(Kn,R.info.main,.5)),Le(R.LinearProgress,"successBg",q(Kn,R.success.main,.5)),Le(R.LinearProgress,"warningBg",q(Kn,R.warning.main,.5)),Le(R.Skeleton,"bg",P?q(ap,R.text.primary,.13):`rgba(${V("palette-text-primaryChannel")} / 0.13)`),Le(R.Slider,"primaryTrack",q(Kn,R.primary.main,.5)),Le(R.Slider,"secondaryTrack",q(Kn,R.secondary.main,.5)),Le(R.Slider,"errorTrack",q(Kn,R.error.main,.5)),Le(R.Slider,"infoTrack",q(Kn,R.info.main,.5)),Le(R.Slider,"successTrack",q(Kn,R.success.main,.5)),Le(R.Slider,"warningTrack",q(Kn,R.warning.main,.5));const K=P?q(Yn,R.background.default,.985):w1(R.background.default,.98);Le(R.SnackbarContent,"bg",K),Le(R.SnackbarContent,"color",Ql(()=>P?HG.text.primary:R.getContrastText(K))),Le(R.SpeedDialAction,"fabHoverBg",w1(R.background.paper,.15)),Le(R.StepConnector,"border",V("palette-grey-600")),Le(R.StepContent,"border",V("palette-grey-600")),Le(R.Switch,"defaultColor",V("palette-grey-300")),Le(R.Switch,"defaultDisabledColor",V("palette-grey-600")),Le(R.Switch,"primaryDisabledColor",q(Kn,R.primary.main,.55)),Le(R.Switch,"secondaryDisabledColor",q(Kn,R.secondary.main,.55)),Le(R.Switch,"errorDisabledColor",q(Kn,R.error.main,.55)),Le(R.Switch,"infoDisabledColor",q(Kn,R.info.main,.55)),Le(R.Switch,"successDisabledColor",q(Kn,R.success.main,.55)),Le(R.Switch,"warningDisabledColor",q(Kn,R.warning.main,.55)),Le(R.TableCell,"border",q(Kn,q(ap,R.divider,1),.68)),Le(R.Tooltip,"bg",q(ap,R.grey[700],.92))}fu(R.background,"default"),fu(R.background,"paper"),fu(R.common,"background"),fu(R.common,"onBackground"),fu(R,"divider"),Object.keys(R).forEach(K=>{const z=R[K];K!=="tonalOffset"&&z&&typeof z=="object"&&(z.main&&Le(R[K],"mainChannel",a0(l0(z.main))),z.light&&Le(R[K],"lightChannel",a0(l0(z.light))),z.dark&&Le(R[K],"darkChannel",a0(l0(z.dark))),z.contrastText&&Le(R[K],"contrastTextChannel",a0(l0(z.contrastText))),K==="text"&&(fu(R[K],"primary"),fu(R[K],"secondary")),K==="action"&&(z.active&&fu(R[K],"active"),z.selected&&fu(R[K],"selected")))})}),$=e.reduce((F,R)=>Jo(F,R),$);const D={prefix:i,disableCssColorScheme:o,shouldSkipGeneratingVar:a,getSelector:Wce($),enableContrastVars:s},{vars:I,generateThemeVars:A,generateStyleSheets:N}=sce($,D);return $.vars=I,Object.entries($.colorSchemes[$.defaultColorScheme]).forEach(([F,R])=>{$[F]=R}),$.generateThemeVars=A,$.generateStyleSheets=N,$.generateSpacing=function(){return TG(h.spacing,QA(this))},$.getColorSchemeSelector=ace(c),$.spacing=$.generateSpacing(),$.shouldSkipGeneratingVar=a,$.unstable_sxConfig={...SE,...h==null?void 0:h.unstable_sxConfig},$.unstable_sx=function(R){return mf({sx:R,theme:this})},$.toRuntimeSource=GG,$}function XH(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:kL({...n===!0?{}:n.palette,mode:e})})}function iI(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:o=n?void 0:{light:!0},defaultColorScheme:i=n==null?void 0:n.mode,...s}=t,a=i||"light",c=o==null?void 0:o[a],d={...o,...n?{[a]:{...typeof c!="boolean"&&c,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return Qk(t,...e);let h=n;"palette"in t||d[a]&&(d[a]!==!0?h=d[a].palette:a==="dark"&&(h={mode:"dark"}));const p=Qk({...t,palette:h},...e);return p.defaultColorScheme=a,p.colorSchemes=d,p.palette.mode==="light"&&(p.colorSchemes.light={...d.light!==!0&&d.light,palette:p.palette},XH(p,"dark",d.dark)),p.palette.mode==="dark"&&(p.colorSchemes.dark={...d.dark!==!0&&d.dark,palette:p.palette},XH(p,"light",d.light)),p}return!n&&!("light"in d)&&a==="light"&&(d.light=!0),Xce({...s,colorSchemes:d,defaultColorScheme:a,...typeof r!="boolean"&&r},...e)}function Qce(t){return String(t).match(/[\d.\-+]*\s*(.*)/)[1]||""}function Zce(t){return parseFloat(t)}const OL=iI();function Cd(){const t=rI(OL);return t[kc]||t}function KG(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const es=t=>KG(t)&&t!=="classes",Se=kG({themeId:kc,defaultTheme:OL,rootShouldForwardProp:es});function Jce({theme:t,...e}){const n=kc in t?t[kc]:void 0;return T.jsx(VG,{...e,themeId:n?kc:void 0,theme:n||t})}const S1={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:eue}=nce({themeId:kc,theme:()=>iI({cssVariables:!0}),colorSchemeStorageKey:S1.colorSchemeStorageKey,modeStorageKey:S1.modeStorageKey,defaultColorScheme:{light:S1.defaultLightColorScheme,dark:S1.defaultDarkColorScheme},resolveTheme:t=>{const e={...t,typography:UG(t.palette,t.typography)};return e.unstable_sx=function(r){return mf({sx:r,theme:this})},e}}),tue=eue;function nue({theme:t,...e}){const n=w.useMemo(()=>{if(typeof t=="function")return t;const r=kc in t?t[kc]:t;return"colorSchemes"in r?null:"vars"in r?t:{...t,vars:null}},[t]);return n?T.jsx(Jce,{theme:n,...e}):T.jsx(tue,{theme:t,...e})}function QH(...t){return t.reduce((e,n)=>n==null?e:function(...o){e.apply(this,o),n.apply(this,o)},()=>{})}function rue(t){return T.jsx(AG,{...t,defaultTheme:OL,themeId:kc})}function DL(t){return function(n){return T.jsx(rue,{styles:typeof t=="function"?r=>t({theme:r,...n}):t})}}function oue(){return AL}const St=Kle;function Lt(t){return Ule(t)}function iue(t){return kt("MuiSvgIcon",t)}Pt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const sue=t=>{const{color:e,fontSize:n,classes:r}=t,o={root:["root",e!=="inherit"&&`color${Ie(e)}`,`fontSize${Ie(n)}`]};return Ze(o,iue,r)},aue=Se("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${Ie(n.color)}`],e[`fontSize${Ie(n.fontSize)}`]]}})(St(({theme:t})=>{var e,n,r,o,i,s,a,c,d,h,p,g,m,v;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(o=(e=t.transitions)==null?void 0:e.create)==null?void 0:o.call(e,"fill",{duration:(r=(n=(t.vars??t).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:S=>!S.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((s=(i=t.typography)==null?void 0:i.pxToRem)==null?void 0:s.call(i,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((c=(a=t.typography)==null?void 0:a.pxToRem)==null?void 0:c.call(a,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((h=(d=t.typography)==null?void 0:d.pxToRem)==null?void 0:h.call(d,35))||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,S])=>S&&S.main).map(([S])=>{var C,x;return{props:{color:S},style:{color:(x=(C=(t.vars??t).palette)==null?void 0:C[S])==null?void 0:x.main}}}),{props:{color:"action"},style:{color:(g=(p=(t.vars??t).palette)==null?void 0:p.action)==null?void 0:g.active}},{props:{color:"disabled"},style:{color:(v=(m=(t.vars??t).palette)==null?void 0:m.action)==null?void 0:v.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),TT=w.forwardRef(function(e,n){const r=Lt({props:e,name:"MuiSvgIcon"}),{children:o,className:i,color:s="inherit",component:a="svg",fontSize:c="medium",htmlColor:d,inheritViewBox:h=!1,titleAccess:p,viewBox:g="0 0 24 24",...m}=r,v=w.isValidElement(o)&&o.type==="svg",S={...r,color:s,component:a,fontSize:c,instanceFontSize:e.fontSize,inheritViewBox:h,viewBox:g,hasSvgAsChild:v},C={};h||(C.viewBox=g);const x=sue(S);return T.jsxs(aue,{as:a,className:Ne(x.root,i),focusable:"false",color:d,"aria-hidden":p?void 0:!0,role:p?"img":void 0,ref:n,...C,...m,...v&&o.props,ownerState:S,children:[v?o.props.children:o,p?T.jsx("title",{children:p}):null]})});TT.muiName="SvgIcon";function vs(t,e){function n(r,o){return T.jsx(TT,{"data-testid":void 0,ref:o,...r,children:t})}return n.muiName=TT.muiName,w.memo(w.forwardRef(n))}function Av(t,e=166){let n;function r(...o){const i=()=>{t.apply(this,o)};clearTimeout(n),n=setTimeout(i,e)}return r.clear=()=>{clearTimeout(n)},r}function Br(t){return t&&t.ownerDocument||document}function Ol(t){return Br(t).defaultView||window}function Jk(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function $g(t){const{controlled:e,default:n,name:r,state:o="value"}=t,{current:i}=w.useRef(e!==void 0),[s,a]=w.useState(n),c=i?e:s,d=w.useCallback(h=>{i||a(h)},[]);return[c,d]}function Mt(t){const e=w.useRef(t);return Un(()=>{e.current=t}),w.useRef((...n)=>(0,e.current)(...n)).current}function Tn(...t){const e=w.useRef(void 0),n=w.useCallback(r=>{const o=t.map(i=>{if(i==null)return null;if(typeof i=="function"){const s=i,a=s(r);return typeof a=="function"?a:()=>{s(null)}}return i.current=r,()=>{i.current=null}});return()=>{o.forEach(i=>i==null?void 0:i())}},t);return w.useMemo(()=>t.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=n(r))},t)}function lue(t,e){const n=t.charCodeAt(2);return t[0]==="o"&&t[1]==="n"&&n>=65&&n<=90&&typeof e=="function"}function LL(t,e){if(!t)return e;function n(s,a){const c={};return Object.keys(a).forEach(d=>{lue(d,a[d])&&typeof s[d]=="function"&&(c[d]=(...h)=>{s[d](...h),a[d](...h)})}),c}if(typeof t=="function"||typeof e=="function")return s=>{const a=typeof e=="function"?e(s):e,c=typeof t=="function"?t({...s,...a}):t,d=Ne(s==null?void 0:s.className,a==null?void 0:a.className,c==null?void 0:c.className),h=n(c,a);return{...a,...c,...h,...!!d&&{className:d},...(a==null?void 0:a.style)&&(c==null?void 0:c.style)&&{style:{...a.style,...c.style}},...(a==null?void 0:a.sx)&&(c==null?void 0:c.sx)&&{sx:[...Array.isArray(a.sx)?a.sx:[a.sx],...Array.isArray(c.sx)?c.sx:[c.sx]]}}};const r=e,o=n(t,r),i=Ne(r==null?void 0:r.className,t==null?void 0:t.className);return{...e,...t,...o,...!!i&&{className:i},...(r==null?void 0:r.style)&&(t==null?void 0:t.style)&&{style:{...r.style,...t.style}},...(r==null?void 0:r.sx)&&(t==null?void 0:t.sx)&&{sx:[...Array.isArray(r.sx)?r.sx:[r.sx],...Array.isArray(t.sx)?t.sx:[t.sx]]}}}function Xe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function eO(t,e){return eO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},eO(t,e)}function YG(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,eO(t,e)}const ZH={disabled:!1},AT=Tc.createContext(null);var cue=function(e){return e.scrollTop},c0="unmounted",fp="exited",pp="entering",gy="entered",tO="exiting",Fl=function(t){YG(e,t);function e(r,o){var i;i=t.call(this,r,o)||this;var s=o,a=s&&!s.isMounting?r.enter:r.appear,c;return i.appearStatus=null,r.in?a?(c=fp,i.appearStatus=pp):c=gy:r.unmountOnExit||r.mountOnEnter?c=c0:c=fp,i.state={status:c},i.nextCallback=null,i}e.getDerivedStateFromProps=function(o,i){var s=o.in;return s&&i.status===c0?{status:fp}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(o){var i=null;if(o!==this.props){var s=this.state.status;this.props.in?s!==pp&&s!==gy&&(i=pp):(s===pp||s===gy)&&(i=tO)}this.updateStatus(!1,i)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var o=this.props.timeout,i,s,a;return i=s=a=o,o!=null&&typeof o!="number"&&(i=o.exit,s=o.enter,a=o.appear!==void 0?o.appear:s),{exit:i,enter:s,appear:a}},n.updateStatus=function(o,i){if(o===void 0&&(o=!1),i!==null)if(this.cancelNextCallback(),i===pp){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:c1.findDOMNode(this);s&&cue(s)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===fp&&this.setState({status:c0})},n.performEnter=function(o){var i=this,s=this.props.enter,a=this.context?this.context.isMounting:o,c=this.props.nodeRef?[a]:[c1.findDOMNode(this),a],d=c[0],h=c[1],p=this.getTimeouts(),g=a?p.appear:p.enter;if(!o&&!s||ZH.disabled){this.safeSetState({status:gy},function(){i.props.onEntered(d)});return}this.props.onEnter(d,h),this.safeSetState({status:pp},function(){i.props.onEntering(d,h),i.onTransitionEnd(g,function(){i.safeSetState({status:gy},function(){i.props.onEntered(d,h)})})})},n.performExit=function(){var o=this,i=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:c1.findDOMNode(this);if(!i||ZH.disabled){this.safeSetState({status:fp},function(){o.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:tO},function(){o.props.onExiting(a),o.onTransitionEnd(s.exit,function(){o.safeSetState({status:fp},function(){o.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(o,i){i=this.setNextCallback(i),this.setState(o,i)},n.setNextCallback=function(o){var i=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,i.nextCallback=null,o(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(o,i){this.setNextCallback(i);var s=this.props.nodeRef?this.props.nodeRef.current:c1.findDOMNode(this),a=o==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],d=c[0],h=c[1];this.props.addEndListener(d,h)}o!=null&&setTimeout(this.nextCallback,o)},n.render=function(){var o=this.state.status;if(o===c0)return null;var i=this.props,s=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var a=Xe(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Tc.createElement(AT.Provider,{value:null},typeof s=="function"?s(o,a):Tc.cloneElement(Tc.Children.only(s),a))},e}(Tc.Component);Fl.contextType=AT;Fl.propTypes={};function iy(){}Fl.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:iy,onEntering:iy,onEntered:iy,onExit:iy,onExiting:iy,onExited:iy};Fl.UNMOUNTED=c0;Fl.EXITED=fp;Fl.ENTERING=pp;Fl.ENTERED=gy;Fl.EXITING=tO;function uue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NL(t,e){var n=function(i){return e&&w.isValidElement(i)?e(i):i},r=Object.create(null);return t&&w.Children.map(t,function(o){return o}).forEach(function(o){r[o.key]=n(o)}),r}function due(t,e){t=t||{},e=e||{};function n(h){return h in e?e[h]:t[h]}var r=Object.create(null),o=[];for(var i in t)i in e?o.length&&(r[i]=o,o=[]):o.push(i);var s,a={};for(var c in e){if(r[c])for(s=0;s<r[c].length;s++){var d=r[c][s];a[r[c][s]]=n(d)}a[c]=n(c)}for(s=0;s<o.length;s++)a[o[s]]=n(o[s]);return a}function Ep(t,e,n){return n[e]!=null?n[e]:t.props[e]}function hue(t,e){return NL(t.children,function(n){return w.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Ep(n,"appear",t),enter:Ep(n,"enter",t),exit:Ep(n,"exit",t)})})}function fue(t,e,n){var r=NL(t.children),o=due(e,r);return Object.keys(o).forEach(function(i){var s=o[i];if(w.isValidElement(s)){var a=i in e,c=i in r,d=e[i],h=w.isValidElement(d)&&!d.props.in;c&&(!a||h)?o[i]=w.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:Ep(s,"exit",t),enter:Ep(s,"enter",t)}):!c&&a&&!h?o[i]=w.cloneElement(s,{in:!1}):c&&a&&w.isValidElement(d)&&(o[i]=w.cloneElement(s,{onExited:n.bind(null,s),in:d.props.in,exit:Ep(s,"exit",t),enter:Ep(s,"enter",t)}))}}),o}var pue=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},gue={component:"div",childFactory:function(e){return e}},FL=function(t){YG(e,t);function e(r,o){var i;i=t.call(this,r,o)||this;var s=i.handleExited.bind(uue(i));return i.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},i}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(o,i){var s=i.children,a=i.handleExited,c=i.firstRender;return{children:c?hue(o,a):fue(o,s,a),firstRender:!1}},n.handleExited=function(o,i){var s=NL(this.props.children);o.key in s||(o.props.onExited&&o.props.onExited(i),this.mounted&&this.setState(function(a){var c=U({},a.children);return delete c[o.key],{children:c}}))},n.render=function(){var o=this.props,i=o.component,s=o.childFactory,a=Xe(o,["component","childFactory"]),c=this.state.contextValue,d=pue(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,i===null?Tc.createElement(AT.Provider,{value:c},d):Tc.createElement(AT.Provider,{value:c},Tc.createElement(i,a,d))},e}(Tc.Component);FL.propTypes={};FL.defaultProps=gue;const JH={};function sa(t,e){const n=w.useRef(JH);return n.current===JH&&(n.current=t(e)),n}const mue=[];function sI(t){w.useEffect(t,mue)}class aI{constructor(){je(this,"currentId",null);je(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});je(this,"disposeEffect",()=>this.clear)}static create(){return new aI}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function Js(){const t=sa(aI.create).current;return sI(t.disposeEffect),t}const $L=t=>t.scrollTop;function sv(t,e){const{timeout:n,easing:r,style:o={}}=t;return{duration:o.transitionDuration??(typeof n=="number"?n:n[e.mode]||0),easing:o.transitionTimingFunction??(typeof r=="object"?r[e.mode]:r),delay:o.transitionDelay}}function yue(t){return kt("MuiPaper",t)}Pt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const bue=t=>{const{square:e,elevation:n,variant:r,classes:o}=t,i={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return Ze(i,yue,o)},vue=Se("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(St(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Pf=w.forwardRef(function(e,n){var m;const r=Lt({props:e,name:"MuiPaper"}),o=Cd(),{className:i,component:s="div",elevation:a=1,square:c=!1,variant:d="elevation",...h}=r,p={...r,component:s,elevation:a,square:c,variant:d},g=bue(p);return T.jsx(vue,{as:s,ownerState:p,className:Ne(g.root,i),ref:n,...h,style:{...d==="elevation"&&{"--Paper-shadow":(o.vars||o).shadows[a],...o.vars&&{"--Paper-overlay":(m=o.vars.overlays)==null?void 0:m[a]},...!o.vars&&o.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${vr("#fff",Zk(a))}, ${vr("#fff",Zk(a))})`}},...h.style}})});function wue(t){return typeof t=="string"}function XG(t,e,n){return t===void 0||wue(t)?e:{...e,ownerState:{...e.ownerState,...n}}}function QG(t,e,n){return typeof t=="function"?t(e,n):t}function ZG(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function ej(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function JG(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:o,className:i}=t;if(!e){const m=Ne(n==null?void 0:n.className,i,o==null?void 0:o.className,r==null?void 0:r.className),v={...n==null?void 0:n.style,...o==null?void 0:o.style,...r==null?void 0:r.style},S={...n,...o,...r};return m.length>0&&(S.className=m),Object.keys(v).length>0&&(S.style=v),{props:S,internalRef:void 0}}const s=ZG({...o,...r}),a=ej(r),c=ej(o),d=e(s),h=Ne(d==null?void 0:d.className,n==null?void 0:n.className,i,o==null?void 0:o.className,r==null?void 0:r.className),p={...d==null?void 0:d.style,...n==null?void 0:n.style,...o==null?void 0:o.style,...r==null?void 0:r.style},g={...d,...n,...c,...a};return h.length>0&&(g.className=h),Object.keys(p).length>0&&(g.style=p),{props:g,internalRef:d.ref}}function At(t,e){const{className:n,elementType:r,ownerState:o,externalForwardedProps:i,internalForwardedProps:s,shouldForwardComponentProp:a=!1,...c}=e,{component:d,slots:h={[t]:void 0},slotProps:p={[t]:void 0},...g}=i,m=h[t]||r,v=QG(p[t],o),{props:{component:S,...C},internalRef:x}=JG({className:n,...c,externalForwardedProps:t==="root"?g:void 0,externalSlotProps:v}),O=Tn(x,v==null?void 0:v.ref,e.ref),M=t==="root"?S||d:S,P=XG(m,{...t==="root"&&!d&&!h[t]&&s,...t!=="root"&&!h[t]&&s,...C,...M&&!a&&{as:M},...M&&a&&{component:M},ref:O},o);return[m,P]}function IT(t){try{return t.matches(":focus-visible")}catch{}return!1}class RT{constructor(){je(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new RT}static use(){const e=sa(RT.create).current,[n,r]=w.useState(!1);return e.shouldMount=n,e.setShouldMount=r,w.useEffect(e.mountEffect,[n]),e}mount(){return this.mounted||(this.mounted=Cue(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.start(...e)})}stop(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.stop(...e)})}pulsate(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.pulsate(...e)})}}function Sue(){return RT.use()}function Cue(){let t,e;const n=new Promise((r,o)=>{t=r,e=o});return n.resolve=t,n.reject=e,n}function Eue(t){const{className:e,classes:n,pulsate:r=!1,rippleX:o,rippleY:i,rippleSize:s,in:a,onExited:c,timeout:d}=t,[h,p]=w.useState(!1),g=Ne(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),m={width:s,height:s,top:-(s/2)+i,left:-(s/2)+o},v=Ne(n.child,h&&n.childLeaving,r&&n.childPulsate);return!a&&!h&&p(!0),w.useEffect(()=>{if(!a&&c!=null){const S=setTimeout(c,d);return()=>{clearTimeout(S)}}},[c,a,d]),T.jsx("span",{className:g,style:m,children:T.jsx("span",{className:v})})}const Oa=Pt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),nO=550,xue=80,_ue=Ja`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,Tue=Ja`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,Aue=Ja`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,Iue=Se("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Rue=Se(Eue,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Oa.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${_ue};
    animation-duration: ${nO}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  &.${Oa.ripplePulsate} {
    animation-duration: ${({theme:t})=>t.transitions.duration.shorter}ms;
  }

  & .${Oa.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Oa.childLeaving} {
    opacity: 0;
    animation-name: ${Tue};
    animation-duration: ${nO}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  & .${Oa.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${Aue};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,Pue=w.forwardRef(function(e,n){const r=Lt({props:e,name:"MuiTouchRipple"}),{center:o=!1,classes:i={},className:s,...a}=r,[c,d]=w.useState([]),h=w.useRef(0),p=w.useRef(null);w.useEffect(()=>{p.current&&(p.current(),p.current=null)},[c]);const g=w.useRef(!1),m=Js(),v=w.useRef(null),S=w.useRef(null),C=w.useCallback(P=>{const{pulsate:k,rippleX:$,rippleY:D,rippleSize:I,cb:A}=P;d(N=>[...N,T.jsx(Rue,{classes:{ripple:Ne(i.ripple,Oa.ripple),rippleVisible:Ne(i.rippleVisible,Oa.rippleVisible),ripplePulsate:Ne(i.ripplePulsate,Oa.ripplePulsate),child:Ne(i.child,Oa.child),childLeaving:Ne(i.childLeaving,Oa.childLeaving),childPulsate:Ne(i.childPulsate,Oa.childPulsate)},timeout:nO,pulsate:k,rippleX:$,rippleY:D,rippleSize:I},h.current)]),h.current+=1,p.current=A},[i]),x=w.useCallback((P={},k={},$=()=>{})=>{const{pulsate:D=!1,center:I=o||k.pulsate,fakeElement:A=!1}=k;if((P==null?void 0:P.type)==="mousedown"&&g.current){g.current=!1;return}(P==null?void 0:P.type)==="touchstart"&&(g.current=!0);const N=A?null:S.current,F=N?N.getBoundingClientRect():{width:0,height:0,left:0,top:0};let R,V,q;if(I||P===void 0||P.clientX===0&&P.clientY===0||!P.clientX&&!P.touches)R=Math.round(F.width/2),V=Math.round(F.height/2);else{const{clientX:K,clientY:z}=P.touches&&P.touches.length>0?P.touches[0]:P;R=Math.round(K-F.left),V=Math.round(z-F.top)}if(I)q=Math.sqrt((2*F.width**2+F.height**2)/3),q%2===0&&(q+=1);else{const K=Math.max(Math.abs((N?N.clientWidth:0)-R),R)*2+2,z=Math.max(Math.abs((N?N.clientHeight:0)-V),V)*2+2;q=Math.sqrt(K**2+z**2)}P!=null&&P.touches?v.current===null&&(v.current=()=>{C({pulsate:D,rippleX:R,rippleY:V,rippleSize:q,cb:$})},m.start(xue,()=>{v.current&&(v.current(),v.current=null)})):C({pulsate:D,rippleX:R,rippleY:V,rippleSize:q,cb:$})},[o,C,m]),O=w.useCallback(()=>{x({},{pulsate:!0})},[x]),M=w.useCallback((P,k)=>{if(m.clear(),(P==null?void 0:P.type)==="touchend"&&v.current){v.current(),v.current=null,m.start(0,()=>{M(P,k)});return}v.current=null,d($=>$.length>0?$.slice(1):$),p.current=k},[m]);return w.useImperativeHandle(n,()=>({pulsate:O,start:x,stop:M}),[O,x,M]),T.jsx(Iue,{className:Ne(Oa.root,i.root,s),ref:S,...a,children:T.jsx(FL,{component:null,exit:!0,children:c})})});function Mue(t){return kt("MuiButtonBase",t)}const kue=Pt("MuiButtonBase",["root","disabled","focusVisible"]),Oue=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:o}=t,s=Ze({root:["root",e&&"disabled",n&&"focusVisible"]},Mue,o);return n&&r&&(s.root+=` ${r}`),s},Due=Se("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${kue.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Zg=w.forwardRef(function(e,n){const r=Lt({props:e,name:"MuiButtonBase"}),{action:o,centerRipple:i=!1,children:s,className:a,component:c="button",disabled:d=!1,disableRipple:h=!1,disableTouchRipple:p=!1,focusRipple:g=!1,focusVisibleClassName:m,LinkComponent:v="a",onBlur:S,onClick:C,onContextMenu:x,onDragLeave:O,onFocus:M,onFocusVisible:P,onKeyDown:k,onKeyUp:$,onMouseDown:D,onMouseLeave:I,onMouseUp:A,onTouchEnd:N,onTouchMove:F,onTouchStart:R,tabIndex:V=0,TouchRippleProps:q,touchRippleRef:K,type:z,...H}=r,Z=w.useRef(null),re=Sue(),j=Tn(re.ref,K),[X,ne]=w.useState(!1);d&&X&&ne(!1),w.useImperativeHandle(o,()=>({focusVisible:()=>{ne(!0),Z.current.focus()}}),[]);const ie=re.shouldMount&&!h&&!d;w.useEffect(()=>{X&&g&&!h&&re.pulsate()},[h,g,X,re]);const se=pu(re,"start",D,p),ce=pu(re,"stop",x,p),ae=pu(re,"stop",O,p),ge=pu(re,"stop",A,p),Ee=pu(re,"stop",he=>{X&&he.preventDefault(),I&&I(he)},p),Te=pu(re,"start",R,p),le=pu(re,"stop",N,p),pe=pu(re,"stop",F,p),ye=pu(re,"stop",he=>{IT(he.target)||ne(!1),S&&S(he)},!1),xe=Mt(he=>{Z.current||(Z.current=he.currentTarget),IT(he.target)&&(ne(!0),P&&P(he)),M&&M(he)}),Ce=()=>{const he=Z.current;return c&&c!=="button"&&!(he.tagName==="A"&&he.href)},Pe=Mt(he=>{g&&!he.repeat&&X&&he.key===" "&&re.stop(he,()=>{re.start(he)}),he.target===he.currentTarget&&Ce()&&he.key===" "&&he.preventDefault(),k&&k(he),he.target===he.currentTarget&&Ce()&&he.key==="Enter"&&!d&&(he.preventDefault(),C&&C(he))}),ze=Mt(he=>{g&&he.key===" "&&X&&!he.defaultPrevented&&re.stop(he,()=>{re.pulsate(he)}),$&&$(he),C&&he.target===he.currentTarget&&Ce()&&he.key===" "&&!he.defaultPrevented&&C(he)});let Ke=c;Ke==="button"&&(H.href||H.to)&&(Ke=v);const ke={};Ke==="button"?(ke.type=z===void 0?"button":z,ke.disabled=d):(!H.href&&!H.to&&(ke.role="button"),d&&(ke["aria-disabled"]=d));const ot=Tn(n,Z),Ye={...r,centerRipple:i,component:c,disabled:d,disableRipple:h,disableTouchRipple:p,focusRipple:g,tabIndex:V,focusVisible:X},at=Oue(Ye);return T.jsxs(Due,{as:Ke,className:Ne(at.root,a),ownerState:Ye,onBlur:ye,onClick:C,onContextMenu:ce,onFocus:xe,onKeyDown:Pe,onKeyUp:ze,onMouseDown:se,onMouseLeave:Ee,onMouseUp:ge,onDragLeave:ae,onTouchEnd:le,onTouchMove:pe,onTouchStart:Te,ref:ot,tabIndex:d?-1:V,type:z,...ke,...H,children:[s,ie?T.jsx(Pue,{ref:j,center:i,...q}):null]})});function pu(t,e,n,r=!1){return Mt(o=>(n&&n(o),r||t[e](o),!0))}function Lue(t){return typeof t.main=="string"}function Nue(t,e=[]){if(!Lue(t))return!1;for(const n of e)if(!t.hasOwnProperty(n)||typeof t[n]!="string")return!1;return!0}function Jr(t=[]){return([,e])=>e&&Nue(e,t)}function Fue(t){return kt("MuiCircularProgress",t)}Pt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Zd=44,rO=Ja`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,oO=Ja`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,$ue=typeof rO!="string"?Rf`
        animation: ${rO} 1.4s linear infinite;
      `:null,Vue=typeof oO!="string"?Rf`
        animation: ${oO} 1.4s ease-in-out infinite;
      `:null,zue=t=>{const{classes:e,variant:n,color:r,disableShrink:o}=t,i={root:["root",n,`color${Ie(r)}`],svg:["svg"],circle:["circle",`circle${Ie(n)}`,o&&"circleDisableShrink"]};return Ze(i,Fue,e)},Bue=Se("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${Ie(n.color)}`]]}})(St(({theme:t})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:$ue||{animation:`${rO} 1.4s linear infinite`}},...Object.entries(t.palette).filter(Jr()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}}))]}))),Hue=Se("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),jue=Se("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${Ie(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(St(({theme:t})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:Vue||{animation:`${oO} 1.4s ease-in-out infinite`}}]}))),lI=w.forwardRef(function(e,n){const r=Lt({props:e,name:"MuiCircularProgress"}),{className:o,color:i="primary",disableShrink:s=!1,size:a=40,style:c,thickness:d=3.6,value:h=0,variant:p="indeterminate",...g}=r,m={...r,color:i,disableShrink:s,size:a,thickness:d,value:h,variant:p},v=zue(m),S={},C={},x={};if(p==="determinate"){const O=2*Math.PI*((Zd-d)/2);S.strokeDasharray=O.toFixed(3),x["aria-valuenow"]=Math.round(h),S.strokeDashoffset=`${((100-h)/100*O).toFixed(3)}px`,C.transform="rotate(-90deg)"}return T.jsx(Bue,{className:Ne(v.root,o),style:{width:a,height:a,...C,...c},ownerState:m,ref:n,role:"progressbar",...x,...g,children:T.jsx(Hue,{className:v.svg,ownerState:m,viewBox:`${Zd/2} ${Zd/2} ${Zd} ${Zd}`,children:T.jsx(jue,{className:v.circle,style:S,ownerState:m,cx:Zd,cy:Zd,r:(Zd-d)/2,fill:"none",strokeWidth:d})})})});function Uue(t){return kt("MuiIconButton",t)}const iO=Pt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),Gue=t=>{const{classes:e,disabled:n,color:r,edge:o,size:i,loading:s}=t,a={root:["root",s&&"loading",n&&"disabled",r!=="default"&&`color${Ie(r)}`,o&&`edge${Ie(o)}`,`size${Ie(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return Ze(a,Uue,e)},Wue=Se(Zg,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.loading&&e.loading,n.color!=="default"&&e[`color${Ie(n.color)}`],n.edge&&e[`edge${Ie(n.edge)}`],e[`size${Ie(n.size)}`]]}})(St(({theme:t})=>({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),St(({theme:t})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(Jr()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette).filter(Jr()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":t.alpha((t.vars||t).palette[e].main,(t.vars||t).palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${iO.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${iO.loading}`]:{color:"transparent"}}))),que=Se("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),Va=w.forwardRef(function(e,n){const r=Lt({props:e,name:"MuiIconButton"}),{edge:o=!1,children:i,className:s,color:a="default",disabled:c=!1,disableFocusRipple:d=!1,size:h="medium",id:p,loading:g=null,loadingIndicator:m,...v}=r,S=sn(p),C=m??T.jsx(lI,{"aria-labelledby":S,color:"inherit",size:16}),x={...r,edge:o,color:a,disabled:c,disableFocusRipple:d,loading:g,loadingIndicator:C,size:h},O=Gue(x);return T.jsxs(Wue,{id:g?S:p,className:Ne(O.root,s),centerRipple:!0,focusRipple:!d,disabled:c||g,ref:n,...v,ownerState:x,children:[typeof g=="boolean"&&T.jsx("span",{className:O.loadingWrapper,style:{display:"contents"},children:T.jsx(que,{className:O.loadingIndicator,ownerState:x,children:g&&C})}),i]})}),Kue=vs(T.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}));function Yue(t){return kt("MuiTypography",t)}const tj=Pt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),Xue={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},Que=oue(),Zue=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:o,variant:i,classes:s}=t,a={root:["root",i,t.align!=="inherit"&&`align${Ie(e)}`,n&&"gutterBottom",r&&"noWrap",o&&"paragraph"]};return Ze(a,Yue,s)},Jue=Se("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${Ie(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(St(({theme:t})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([n,r])=>n!=="inherit"&&r&&typeof r=="object").map(([n,r])=>({props:{variant:n},style:r})),...Object.entries(t.palette).filter(Jr()).map(([n])=>({props:{color:n},style:{color:(t.vars||t).palette[n].main}})),...Object.entries(((e=t.palette)==null?void 0:e.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${Ie(n)}`},style:{color:(t.vars||t).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),nj={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},pr=w.forwardRef(function(e,n){const{color:r,...o}=Lt({props:e,name:"MuiTypography"}),i=!Xue[r],s=Que({...o,...i&&{color:r}}),{align:a="inherit",className:c,component:d,gutterBottom:h=!1,noWrap:p=!1,paragraph:g=!1,variant:m="body1",variantMapping:v=nj,...S}=s,C={...s,align:a,color:r,className:c,component:d,gutterBottom:h,noWrap:p,paragraph:g,variant:m,variantMapping:v},x=d||(g?"p":v[m]||nj[m])||"span",O=Zue(C);return T.jsx(Jue,{as:x,ref:n,className:Ne(O.root,c),...S,ownerState:C,style:{...a!=="inherit"&&{"--Typography-textAlign":a},...S.style}})}),VL=t=>{const e=w.useRef({});return w.useEffect(()=>{e.current=t}),e.current};function rj({array1:t,array2:e,parser:n=r=>r}){return t&&e&&t.length===e.length&&t.every((r,o)=>n(r)===n(e[o]))}function oj(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function ede(t={}){const{ignoreAccents:e=!0,ignoreCase:n=!0,limit:r,matchFrom:o="any",stringify:i,trim:s=!1}=t;return(a,{inputValue:c,getOptionLabel:d})=>{let h=s?c.trim():c;n&&(h=h.toLowerCase()),e&&(h=oj(h));const p=h?a.filter(g=>{let m=(i||d)(g);return n&&(m=m.toLowerCase()),e&&(m=oj(m)),o==="start"?m.startsWith(h):m.includes(h)}):a;return typeof r=="number"?p.slice(0,r):p}}const tde=ede(),ij=5,nde=t=>{var e;return t.current!==null&&((e=t.current.parentElement)==null?void 0:e.contains(document.activeElement))},rde=[];function sj(t,e,n,r){if(e||t==null||r)return"";const o=n(t);return typeof o=="string"?o:""}function ode(t){const{unstable_isActiveElementInListbox:e=nde,unstable_classNamePrefix:n="Mui",autoComplete:r=!1,autoHighlight:o=!1,autoSelect:i=!1,blurOnSelect:s=!1,clearOnBlur:a=!t.freeSolo,clearOnEscape:c=!1,componentName:d="useAutocomplete",defaultValue:h=t.multiple?rde:null,disableClearable:p=!1,disableCloseOnSelect:g=!1,disabled:m,disabledItemsFocusable:v=!1,disableListWrap:S=!1,filterOptions:C=tde,filterSelectedOptions:x=!1,freeSolo:O=!1,getOptionDisabled:M,getOptionKey:P,getOptionLabel:k=Oe=>Oe.label??Oe,groupBy:$,handleHomeEndKeys:D=!t.freeSolo,id:I,includeInputInList:A=!1,inputValue:N,isOptionEqualToValue:F=(Oe,Me)=>Oe===Me,multiple:R=!1,onChange:V,onClose:q,onHighlightChange:K,onInputChange:z,onOpen:H,open:Z,openOnFocus:re=!1,options:j,readOnly:X=!1,renderValue:ne,selectOnFocus:ie=!t.freeSolo,value:se}=t,ce=sn(I);let ae=k;ae=Oe=>{const Me=k(Oe);return typeof Me!="string"?String(Me):Me};const ge=w.useRef(!1),Ee=w.useRef(!0),Te=w.useRef(null),le=w.useRef(null),[pe,ye]=w.useState(null),[xe,Ce]=w.useState(-1),Pe=o?0:-1,ze=w.useRef(Pe),Ke=w.useRef(sj(h??se,R,ae)).current,[ke,ot]=$g({controlled:se,default:h,name:d}),[Ye,at]=$g({controlled:N,default:Ke,name:d,state:"inputValue"}),[he,Ue]=w.useState(!1),qe=w.useCallback((Oe,Me,lt)=>{if(!(R?ke.length<Me.length:Me!==null)&&!a)return;const Bt=sj(Me,R,ae,ne);Ye!==Bt&&(at(Bt),z&&z(Oe,Bt,lt))},[ae,Ye,R,z,at,a,ke,ne]),[nt,Je]=$g({controlled:Z,default:!1,name:d,state:"open"}),[Qe,dt]=w.useState(!0),ht=!R&&ke!=null&&Ye===ae(ke),Ge=nt&&!X,De=Ge?C(j.filter(Oe=>!(x&&(R?ke:[ke]).some(Me=>Me!==null&&F(Oe,Me)))),{inputValue:ht&&Qe?"":Ye,getOptionLabel:ae}):[],it=VL({filteredOptions:De,value:ke,inputValue:Ye});w.useEffect(()=>{const Oe=ke!==it.value;he&&!Oe||O&&!Oe||qe(null,ke,"reset")},[ke,qe,he,it.value,O]);const Et=nt&&De.length>0&&!X,gt=Mt(Oe=>{if(Oe===-1)Te.current.focus();else{const Me=ne?"data-item-index":"data-tag-index";pe.querySelector(`[${Me}="${Oe}"]`).focus()}});w.useEffect(()=>{R&&xe>ke.length-1&&(Ce(-1),gt(-1))},[ke,R,xe,gt]);function mt(Oe,Me){if(!le.current||Oe<0||Oe>=De.length)return-1;let lt=Oe;for(;;){const Tt=le.current.querySelector(`[data-option-index="${lt}"]`),Bt=v?!1:!Tt||Tt.disabled||Tt.getAttribute("aria-disabled")==="true";if(Tt&&Tt.hasAttribute("tabindex")&&!Bt)return lt;if(Me==="next"?lt=(lt+1)%De.length:lt=(lt-1+De.length)%De.length,lt===Oe)return-1}}const Ut=Mt(({event:Oe,index:Me,reason:lt})=>{if(ze.current=Me,Me===-1?Te.current.removeAttribute("aria-activedescendant"):Te.current.setAttribute("aria-activedescendant",`${ce}-option-${Me}`),K&&["mouse","keyboard","touch"].includes(lt)&&K(Oe,Me===-1?null:De[Me],lt),!le.current)return;const Tt=le.current.querySelector(`[role="option"].${n}-focused`);Tt&&(Tt.classList.remove(`${n}-focused`),Tt.classList.remove(`${n}-focusVisible`));let Bt=le.current;if(le.current.getAttribute("role")!=="listbox"&&(Bt=le.current.parentElement.querySelector('[role="listbox"]')),!Bt)return;if(Me===-1){Bt.scrollTop=0;return}const Nr=le.current.querySelector(`[data-option-index="${Me}"]`);if(Nr&&(Nr.classList.add(`${n}-focused`),lt==="keyboard"&&Nr.classList.add(`${n}-focusVisible`),Bt.scrollHeight>Bt.clientHeight&&lt!=="mouse"&&lt!=="touch")){const Gn=Nr,wi=Bt.clientHeight+Bt.scrollTop,Ss=Gn.offsetTop+Gn.offsetHeight;Ss>wi?Bt.scrollTop=Ss-Bt.clientHeight:Gn.offsetTop-Gn.offsetHeight*($?1.3:0)<Bt.scrollTop&&(Bt.scrollTop=Gn.offsetTop-Gn.offsetHeight*($?1.3:0))}}),Ot=Mt(({event:Oe,diff:Me,direction:lt="next",reason:Tt})=>{if(!Ge)return;const Nr=mt((()=>{const Gn=De.length-1;if(Me==="reset")return Pe;if(Me==="start")return 0;if(Me==="end")return Gn;const wi=ze.current+Me;return wi<0?wi===-1&&A?-1:S&&ze.current!==-1||Math.abs(Me)>1?0:Gn:wi>Gn?wi===Gn+1&&A?-1:S||Math.abs(Me)>1?Gn:0:wi})(),lt);if(Ut({index:Nr,reason:Tt,event:Oe}),r&&Me!=="reset")if(Nr===-1)Te.current.value=Ye;else{const Gn=ae(De[Nr]);Te.current.value=Gn,Gn.toLowerCase().indexOf(Ye.toLowerCase())===0&&Ye.length>0&&Te.current.setSelectionRange(Ye.length,Gn.length)}}),mn=!rj({array1:it.filteredOptions,array2:De,parser:ae}),vt=()=>{const Oe=(Me,lt)=>{const Tt=Me?ae(Me):"",Bt=lt?ae(lt):"";return Tt===Bt};if(ze.current!==-1&&!rj({array1:it.filteredOptions,array2:De,parser:ae})&&it.inputValue===Ye&&(R?ke.length===it.value.length&&it.value.every((Me,lt)=>ae(ke[lt])===ae(Me)):Oe(it.value,ke))){const Me=it.filteredOptions[ze.current];if(Me)return De.findIndex(lt=>ae(lt)===ae(Me))}return-1},Yt=w.useCallback(()=>{if(!Ge)return;const Oe=vt();if(Oe!==-1){ze.current=Oe;return}const Me=R?ke[0]:ke;if(De.length===0||Me==null){Ot({diff:"reset"});return}if(le.current){if(Me!=null){const lt=De[ze.current];if(R&&lt&&ke.findIndex(Bt=>F(lt,Bt))!==-1)return;const Tt=De.findIndex(Bt=>F(Bt,Me));Tt===-1?Ot({diff:"reset"}):Ut({index:Tt});return}if(ze.current>=De.length-1){Ut({index:De.length-1});return}Ut({index:ze.current})}},[De.length,R?!1:ke,x,Ot,Ut,Ge,Ye,R]),Zt=Mt(Oe=>{Jk(le,Oe),Oe&&Yt()});w.useEffect(()=>{mn&&Yt()},[Yt,mn]);const An=Oe=>{nt||(Je(!0),dt(!0),H&&H(Oe))},_r=(Oe,Me)=>{nt&&(Je(!1),q&&q(Oe,Me))},Qn=(Oe,Me,lt,Tt)=>{if(R){if(ke.length===Me.length&&ke.every((Bt,Nr)=>Bt===Me[Nr]))return}else if(ke===Me)return;V&&V(Oe,Me,lt,Tt),ot(Me)},Tr=w.useRef(!1),jr=(Oe,Me,lt="selectOption",Tt="options")=>{let Bt=lt,Nr=Me;if(R){Nr=Array.isArray(ke)?ke.slice():[];const Gn=Nr.findIndex(wi=>F(Me,wi));Gn===-1?Nr.push(Me):Tt!=="freeSolo"&&(Nr.splice(Gn,1),Bt="removeOption")}qe(Oe,Nr,Bt),Qn(Oe,Nr,Bt,{option:Me}),!g&&(!Oe||!Oe.ctrlKey&&!Oe.metaKey)&&_r(Oe,Bt),(s===!0||s==="touch"&&Tr.current||s==="mouse"&&!Tr.current)&&Te.current.blur()};function Nt(Oe,Me){if(Oe===-1)return-1;let lt=Oe;for(;;){if(Me==="next"&&lt===ke.length||Me==="previous"&&lt===-1)return-1;const Tt=ne?"data-item-index":"data-tag-index",Bt=pe.querySelector(`[${Tt}="${lt}"]`);if(!Bt||!Bt.hasAttribute("tabindex")||Bt.disabled||Bt.getAttribute("aria-disabled")==="true")lt+=Me==="next"?1:-1;else return lt}}const Nn=(Oe,Me)=>{if(!R)return;Ye===""&&_r(Oe,"toggleInput");let lt=xe;xe===-1?Ye===""&&Me==="previous"&&(lt=ke.length-1):(lt+=Me==="next"?1:-1,lt<0&&(lt=0),lt===ke.length&&(lt=-1)),lt=Nt(lt,Me),Ce(lt),gt(lt)},ts=Oe=>{ge.current=!0,at(""),z&&z(Oe,"","clear"),Qn(Oe,R?[]:null,"clear")},Fn=Oe=>Me=>{if(Oe.onKeyDown&&Oe.onKeyDown(Me),!Me.defaultMuiPrevented&&(xe!==-1&&!["ArrowLeft","ArrowRight"].includes(Me.key)&&(Ce(-1),gt(-1)),Me.which!==229))switch(Me.key){case"Home":Ge&&D&&(Me.preventDefault(),Ot({diff:"start",direction:"next",reason:"keyboard",event:Me}));break;case"End":Ge&&D&&(Me.preventDefault(),Ot({diff:"end",direction:"previous",reason:"keyboard",event:Me}));break;case"PageUp":Me.preventDefault(),Ot({diff:-ij,direction:"previous",reason:"keyboard",event:Me}),An(Me);break;case"PageDown":Me.preventDefault(),Ot({diff:ij,direction:"next",reason:"keyboard",event:Me}),An(Me);break;case"ArrowDown":Me.preventDefault(),Ot({diff:1,direction:"next",reason:"keyboard",event:Me}),An(Me);break;case"ArrowUp":Me.preventDefault(),Ot({diff:-1,direction:"previous",reason:"keyboard",event:Me}),An(Me);break;case"ArrowLeft":!R&&ne?gt(0):Nn(Me,"previous");break;case"ArrowRight":!R&&ne?gt(-1):Nn(Me,"next");break;case"Enter":if(ze.current!==-1&&Ge){const lt=De[ze.current],Tt=M?M(lt):!1;if(Me.preventDefault(),Tt)return;jr(Me,lt,"selectOption"),r&&Te.current.setSelectionRange(Te.current.value.length,Te.current.value.length)}else O&&Ye!==""&&ht===!1&&(R&&Me.preventDefault(),jr(Me,Ye,"createOption","freeSolo"));break;case"Escape":Ge?(Me.preventDefault(),Me.stopPropagation(),_r(Me,"escape")):c&&(Ye!==""||R&&ke.length>0||ne)&&(Me.preventDefault(),Me.stopPropagation(),ts(Me));break;case"Backspace":if(R&&!X&&Ye===""&&ke.length>0){const lt=xe===-1?ke.length-1:xe,Tt=ke.slice();Tt.splice(lt,1),Qn(Me,Tt,"removeOption",{option:ke[lt]})}!R&&ne&&!X&&(ot(null),gt(-1));break;case"Delete":if(R&&!X&&Ye===""&&ke.length>0&&xe!==-1){const lt=xe,Tt=ke.slice();Tt.splice(lt,1),Qn(Me,Tt,"removeOption",{option:ke[lt]})}!R&&ne&&!X&&(ot(null),gt(-1));break}},Zn=Oe=>{Ue(!0),re&&!ge.current&&An(Oe)},$n=Oe=>{if(e(le)){Te.current.focus();return}Ue(!1),Ee.current=!0,ge.current=!1,i&&ze.current!==-1&&Ge?jr(Oe,De[ze.current],"blur"):i&&O&&Ye!==""?jr(Oe,Ye,"blur","freeSolo"):a&&qe(Oe,ke,"blur"),_r(Oe,"blur")},Ur=Oe=>{const Me=Oe.target.value;Ye!==Me&&(at(Me),dt(!1),z&&z(Oe,Me,"input")),Me===""?!p&&!R&&Qn(Oe,null,"clear"):An(Oe)},la=Oe=>{const Me=Number(Oe.currentTarget.getAttribute("data-option-index"));ze.current!==Me&&Ut({event:Oe,index:Me,reason:"mouse"})},Df=Oe=>{Ut({event:Oe,index:Number(Oe.currentTarget.getAttribute("data-option-index")),reason:"touch"}),Tr.current=!0},ca=Oe=>{const Me=Number(Oe.currentTarget.getAttribute("data-option-index"));jr(Oe,De[Me],"selectOption"),Tr.current=!1},Ad=Oe=>Me=>{const lt=ke.slice();lt.splice(Oe,1),Qn(Me,lt,"removeOption",{option:ke[Oe]})},ws=Oe=>{Qn(Oe,null,"removeOption",{option:ke})},Jn=Oe=>{nt?_r(Oe,"toggleInput"):An(Oe)},er=Oe=>{Oe.currentTarget.contains(Oe.target)&&Oe.target.getAttribute("id")!==ce&&Oe.preventDefault()},So=Oe=>{Oe.currentTarget.contains(Oe.target)&&(Te.current.focus(),ie&&Ee.current&&Te.current.selectionEnd-Te.current.selectionStart===0&&Te.current.select(),Ee.current=!1)},ns=Oe=>{!m&&(Ye===""||!nt)&&Jn(Oe)};let eo=O&&Ye.length>0;eo=eo||(R?ke.length>0:ke!==null);let mr=De;return $&&(mr=De.reduce((Oe,Me,lt)=>{const Tt=$(Me);return Oe.length>0&&Oe[Oe.length-1].group===Tt?Oe[Oe.length-1].options.push(Me):Oe.push({key:lt,index:lt,group:Tt,options:[Me]}),Oe},[])),m&&he&&$n(),{getRootProps:(Oe={})=>({...Oe,onKeyDown:Fn(Oe),onMouseDown:er,onClick:So}),getInputLabelProps:()=>({id:`${ce}-label`,htmlFor:ce}),getInputProps:()=>({id:ce,value:Ye,onBlur:$n,onFocus:Zn,onChange:Ur,onMouseDown:ns,"aria-activedescendant":Ge?"":null,"aria-autocomplete":r?"both":"list","aria-controls":Et?`${ce}-listbox`:void 0,"aria-expanded":Et,autoComplete:"off",ref:Te,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:m}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:ts}),getItemProps:({index:Oe=0}={})=>({...R&&{key:Oe},...ne?{"data-item-index":Oe}:{"data-tag-index":Oe},tabIndex:-1,...!X&&{onDelete:R?Ad(Oe):ws}}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:Jn}),getTagProps:({index:Oe})=>({key:Oe,"data-tag-index":Oe,tabIndex:-1,...!X&&{onDelete:Ad(Oe)}}),getListboxProps:()=>({role:"listbox",id:`${ce}-listbox`,"aria-labelledby":`${ce}-label`,ref:Zt,onMouseDown:Oe=>{Oe.preventDefault()}}),getOptionProps:({index:Oe,option:Me})=>{const lt=(R?ke:[ke]).some(Bt=>Bt!=null&&F(Me,Bt)),Tt=M?M(Me):!1;return{key:(P==null?void 0:P(Me))??ae(Me),tabIndex:-1,role:"option",id:`${ce}-option-${Oe}`,onMouseMove:la,onClick:ca,onTouchStart:Df,"data-option-index":Oe,"aria-disabled":Tt,"aria-selected":lt}},id:ce,inputValue:Ye,value:ke,dirty:eo,expanded:Ge&&pe,popupOpen:Ge,focused:he||xe!==-1,anchorEl:pe,setAnchorEl:ye,focusedItem:xe,focusedTag:xe,groupedOptions:mr}}var ms="top",Ka="bottom",Ya="right",ys="left",zL="auto",_E=[ms,Ka,Ya,ys],av="start",cS="end",ide="clippingParents",e9="viewport",Vw="popper",sde="reference",aj=_E.reduce(function(t,e){return t.concat([e+"-"+av,e+"-"+cS])},[]),t9=[].concat(_E,[zL]).reduce(function(t,e){return t.concat([e,e+"-"+av,e+"-"+cS])},[]),ade="beforeRead",lde="read",cde="afterRead",ude="beforeMain",dde="main",hde="afterMain",fde="beforeWrite",pde="write",gde="afterWrite",mde=[ade,lde,cde,ude,dde,hde,fde,pde,gde];function zc(t){return t?(t.nodeName||"").toLowerCase():null}function ia(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Jg(t){var e=ia(t).Element;return t instanceof e||t instanceof Element}function Ha(t){var e=ia(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function BL(t){if(typeof ShadowRoot>"u")return!1;var e=ia(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function yde(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},o=e.attributes[n]||{},i=e.elements[n];!Ha(i)||!zc(i)||(Object.assign(i.style,r),Object.keys(o).forEach(function(s){var a=o[s];a===!1?i.removeAttribute(s):i.setAttribute(s,a===!0?"":a)}))})}function bde(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var o=e.elements[r],i=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=s.reduce(function(c,d){return c[d]="",c},{});!Ha(o)||!zc(o)||(Object.assign(o.style,a),Object.keys(i).forEach(function(c){o.removeAttribute(c)}))})}}const vde={name:"applyStyles",enabled:!0,phase:"write",fn:yde,effect:bde,requires:["computeStyles"]};function Dc(t){return t.split("-")[0]}var Vg=Math.max,PT=Math.min,lv=Math.round;function sO(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function n9(){return!/^((?!chrome|android).)*safari/i.test(sO())}function cv(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),o=1,i=1;e&&Ha(t)&&(o=t.offsetWidth>0&&lv(r.width)/t.offsetWidth||1,i=t.offsetHeight>0&&lv(r.height)/t.offsetHeight||1);var s=Jg(t)?ia(t):window,a=s.visualViewport,c=!n9()&&n,d=(r.left+(c&&a?a.offsetLeft:0))/o,h=(r.top+(c&&a?a.offsetTop:0))/i,p=r.width/o,g=r.height/i;return{width:p,height:g,top:h,right:d+p,bottom:h+g,left:d,x:d,y:h}}function HL(t){var e=cv(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function r9(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&BL(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function yd(t){return ia(t).getComputedStyle(t)}function wde(t){return["table","td","th"].indexOf(zc(t))>=0}function Mf(t){return((Jg(t)?t.ownerDocument:t.document)||window.document).documentElement}function cI(t){return zc(t)==="html"?t:t.assignedSlot||t.parentNode||(BL(t)?t.host:null)||Mf(t)}function lj(t){return!Ha(t)||yd(t).position==="fixed"?null:t.offsetParent}function Sde(t){var e=/firefox/i.test(sO()),n=/Trident/i.test(sO());if(n&&Ha(t)){var r=yd(t);if(r.position==="fixed")return null}var o=cI(t);for(BL(o)&&(o=o.host);Ha(o)&&["html","body"].indexOf(zc(o))<0;){var i=yd(o);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return o;o=o.parentNode}return null}function TE(t){for(var e=ia(t),n=lj(t);n&&wde(n)&&yd(n).position==="static";)n=lj(n);return n&&(zc(n)==="html"||zc(n)==="body"&&yd(n).position==="static")?e:n||Sde(t)||e}function jL(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function $0(t,e,n){return Vg(t,PT(e,n))}function Cde(t,e,n){var r=$0(t,e,n);return r>n?n:r}function o9(){return{top:0,right:0,bottom:0,left:0}}function i9(t){return Object.assign({},o9(),t)}function s9(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var Ede=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,i9(typeof e!="number"?e:s9(e,_E))};function xde(t){var e,n=t.state,r=t.name,o=t.options,i=n.elements.arrow,s=n.modifiersData.popperOffsets,a=Dc(n.placement),c=jL(a),d=[ys,Ya].indexOf(a)>=0,h=d?"height":"width";if(!(!i||!s)){var p=Ede(o.padding,n),g=HL(i),m=c==="y"?ms:ys,v=c==="y"?Ka:Ya,S=n.rects.reference[h]+n.rects.reference[c]-s[c]-n.rects.popper[h],C=s[c]-n.rects.reference[c],x=TE(i),O=x?c==="y"?x.clientHeight||0:x.clientWidth||0:0,M=S/2-C/2,P=p[m],k=O-g[h]-p[v],$=O/2-g[h]/2+M,D=$0(P,$,k),I=c;n.modifiersData[r]=(e={},e[I]=D,e.centerOffset=D-$,e)}}function _de(t){var e=t.state,n=t.options,r=n.element,o=r===void 0?"[data-popper-arrow]":r;o!=null&&(typeof o=="string"&&(o=e.elements.popper.querySelector(o),!o)||r9(e.elements.popper,o)&&(e.elements.arrow=o))}const Tde={name:"arrow",enabled:!0,phase:"main",fn:xde,effect:_de,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function uv(t){return t.split("-")[1]}var Ade={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ide(t,e){var n=t.x,r=t.y,o=e.devicePixelRatio||1;return{x:lv(n*o)/o||0,y:lv(r*o)/o||0}}function cj(t){var e,n=t.popper,r=t.popperRect,o=t.placement,i=t.variation,s=t.offsets,a=t.position,c=t.gpuAcceleration,d=t.adaptive,h=t.roundOffsets,p=t.isFixed,g=s.x,m=g===void 0?0:g,v=s.y,S=v===void 0?0:v,C=typeof h=="function"?h({x:m,y:S}):{x:m,y:S};m=C.x,S=C.y;var x=s.hasOwnProperty("x"),O=s.hasOwnProperty("y"),M=ys,P=ms,k=window;if(d){var $=TE(n),D="clientHeight",I="clientWidth";if($===ia(n)&&($=Mf(n),yd($).position!=="static"&&a==="absolute"&&(D="scrollHeight",I="scrollWidth")),$=$,o===ms||(o===ys||o===Ya)&&i===cS){P=Ka;var A=p&&$===k&&k.visualViewport?k.visualViewport.height:$[D];S-=A-r.height,S*=c?1:-1}if(o===ys||(o===ms||o===Ka)&&i===cS){M=Ya;var N=p&&$===k&&k.visualViewport?k.visualViewport.width:$[I];m-=N-r.width,m*=c?1:-1}}var F=Object.assign({position:a},d&&Ade),R=h===!0?Ide({x:m,y:S},ia(n)):{x:m,y:S};if(m=R.x,S=R.y,c){var V;return Object.assign({},F,(V={},V[P]=O?"0":"",V[M]=x?"0":"",V.transform=(k.devicePixelRatio||1)<=1?"translate("+m+"px, "+S+"px)":"translate3d("+m+"px, "+S+"px, 0)",V))}return Object.assign({},F,(e={},e[P]=O?S+"px":"",e[M]=x?m+"px":"",e.transform="",e))}function Rde(t){var e=t.state,n=t.options,r=n.gpuAcceleration,o=r===void 0?!0:r,i=n.adaptive,s=i===void 0?!0:i,a=n.roundOffsets,c=a===void 0?!0:a,d={placement:Dc(e.placement),variation:uv(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,cj(Object.assign({},d,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,cj(Object.assign({},d,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Pde={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Rde,data:{}};var C1={passive:!0};function Mde(t){var e=t.state,n=t.instance,r=t.options,o=r.scroll,i=o===void 0?!0:o,s=r.resize,a=s===void 0?!0:s,c=ia(e.elements.popper),d=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&d.forEach(function(h){h.addEventListener("scroll",n.update,C1)}),a&&c.addEventListener("resize",n.update,C1),function(){i&&d.forEach(function(h){h.removeEventListener("scroll",n.update,C1)}),a&&c.removeEventListener("resize",n.update,C1)}}const kde={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Mde,data:{}};var Ode={left:"right",right:"left",bottom:"top",top:"bottom"};function i_(t){return t.replace(/left|right|bottom|top/g,function(e){return Ode[e]})}var Dde={start:"end",end:"start"};function uj(t){return t.replace(/start|end/g,function(e){return Dde[e]})}function UL(t){var e=ia(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function GL(t){return cv(Mf(t)).left+UL(t).scrollLeft}function Lde(t,e){var n=ia(t),r=Mf(t),o=n.visualViewport,i=r.clientWidth,s=r.clientHeight,a=0,c=0;if(o){i=o.width,s=o.height;var d=n9();(d||!d&&e==="fixed")&&(a=o.offsetLeft,c=o.offsetTop)}return{width:i,height:s,x:a+GL(t),y:c}}function Nde(t){var e,n=Mf(t),r=UL(t),o=(e=t.ownerDocument)==null?void 0:e.body,i=Vg(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=Vg(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),a=-r.scrollLeft+GL(t),c=-r.scrollTop;return yd(o||n).direction==="rtl"&&(a+=Vg(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:s,x:a,y:c}}function WL(t){var e=yd(t),n=e.overflow,r=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function a9(t){return["html","body","#document"].indexOf(zc(t))>=0?t.ownerDocument.body:Ha(t)&&WL(t)?t:a9(cI(t))}function V0(t,e){var n;e===void 0&&(e=[]);var r=a9(t),o=r===((n=t.ownerDocument)==null?void 0:n.body),i=ia(r),s=o?[i].concat(i.visualViewport||[],WL(r)?r:[]):r,a=e.concat(s);return o?a:a.concat(V0(cI(s)))}function aO(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Fde(t,e){var n=cv(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function dj(t,e,n){return e===e9?aO(Lde(t,n)):Jg(e)?Fde(e,n):aO(Nde(Mf(t)))}function $de(t){var e=V0(cI(t)),n=["absolute","fixed"].indexOf(yd(t).position)>=0,r=n&&Ha(t)?TE(t):t;return Jg(r)?e.filter(function(o){return Jg(o)&&r9(o,r)&&zc(o)!=="body"}):[]}function Vde(t,e,n,r){var o=e==="clippingParents"?$de(t):[].concat(e),i=[].concat(o,[n]),s=i[0],a=i.reduce(function(c,d){var h=dj(t,d,r);return c.top=Vg(h.top,c.top),c.right=PT(h.right,c.right),c.bottom=PT(h.bottom,c.bottom),c.left=Vg(h.left,c.left),c},dj(t,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function l9(t){var e=t.reference,n=t.element,r=t.placement,o=r?Dc(r):null,i=r?uv(r):null,s=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,c;switch(o){case ms:c={x:s,y:e.y-n.height};break;case Ka:c={x:s,y:e.y+e.height};break;case Ya:c={x:e.x+e.width,y:a};break;case ys:c={x:e.x-n.width,y:a};break;default:c={x:e.x,y:e.y}}var d=o?jL(o):null;if(d!=null){var h=d==="y"?"height":"width";switch(i){case av:c[d]=c[d]-(e[h]/2-n[h]/2);break;case cS:c[d]=c[d]+(e[h]/2-n[h]/2);break}}return c}function uS(t,e){e===void 0&&(e={});var n=e,r=n.placement,o=r===void 0?t.placement:r,i=n.strategy,s=i===void 0?t.strategy:i,a=n.boundary,c=a===void 0?ide:a,d=n.rootBoundary,h=d===void 0?e9:d,p=n.elementContext,g=p===void 0?Vw:p,m=n.altBoundary,v=m===void 0?!1:m,S=n.padding,C=S===void 0?0:S,x=i9(typeof C!="number"?C:s9(C,_E)),O=g===Vw?sde:Vw,M=t.rects.popper,P=t.elements[v?O:g],k=Vde(Jg(P)?P:P.contextElement||Mf(t.elements.popper),c,h,s),$=cv(t.elements.reference),D=l9({reference:$,element:M,placement:o}),I=aO(Object.assign({},M,D)),A=g===Vw?I:$,N={top:k.top-A.top+x.top,bottom:A.bottom-k.bottom+x.bottom,left:k.left-A.left+x.left,right:A.right-k.right+x.right},F=t.modifiersData.offset;if(g===Vw&&F){var R=F[o];Object.keys(N).forEach(function(V){var q=[Ya,Ka].indexOf(V)>=0?1:-1,K=[ms,Ka].indexOf(V)>=0?"y":"x";N[V]+=R[K]*q})}return N}function zde(t,e){e===void 0&&(e={});var n=e,r=n.placement,o=n.boundary,i=n.rootBoundary,s=n.padding,a=n.flipVariations,c=n.allowedAutoPlacements,d=c===void 0?t9:c,h=uv(r),p=h?a?aj:aj.filter(function(v){return uv(v)===h}):_E,g=p.filter(function(v){return d.indexOf(v)>=0});g.length===0&&(g=p);var m=g.reduce(function(v,S){return v[S]=uS(t,{placement:S,boundary:o,rootBoundary:i,padding:s})[Dc(S)],v},{});return Object.keys(m).sort(function(v,S){return m[v]-m[S]})}function Bde(t){if(Dc(t)===zL)return[];var e=i_(t);return[uj(t),e,uj(e)]}function Hde(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var o=n.mainAxis,i=o===void 0?!0:o,s=n.altAxis,a=s===void 0?!0:s,c=n.fallbackPlacements,d=n.padding,h=n.boundary,p=n.rootBoundary,g=n.altBoundary,m=n.flipVariations,v=m===void 0?!0:m,S=n.allowedAutoPlacements,C=e.options.placement,x=Dc(C),O=x===C,M=c||(O||!v?[i_(C)]:Bde(C)),P=[C].concat(M).reduce(function(se,ce){return se.concat(Dc(ce)===zL?zde(e,{placement:ce,boundary:h,rootBoundary:p,padding:d,flipVariations:v,allowedAutoPlacements:S}):ce)},[]),k=e.rects.reference,$=e.rects.popper,D=new Map,I=!0,A=P[0],N=0;N<P.length;N++){var F=P[N],R=Dc(F),V=uv(F)===av,q=[ms,Ka].indexOf(R)>=0,K=q?"width":"height",z=uS(e,{placement:F,boundary:h,rootBoundary:p,altBoundary:g,padding:d}),H=q?V?Ya:ys:V?Ka:ms;k[K]>$[K]&&(H=i_(H));var Z=i_(H),re=[];if(i&&re.push(z[R]<=0),a&&re.push(z[H]<=0,z[Z]<=0),re.every(function(se){return se})){A=F,I=!1;break}D.set(F,re)}if(I)for(var j=v?3:1,X=function(ce){var ae=P.find(function(ge){var Ee=D.get(ge);if(Ee)return Ee.slice(0,ce).every(function(Te){return Te})});if(ae)return A=ae,"break"},ne=j;ne>0;ne--){var ie=X(ne);if(ie==="break")break}e.placement!==A&&(e.modifiersData[r]._skip=!0,e.placement=A,e.reset=!0)}}const jde={name:"flip",enabled:!0,phase:"main",fn:Hde,requiresIfExists:["offset"],data:{_skip:!1}};function hj(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function fj(t){return[ms,Ya,Ka,ys].some(function(e){return t[e]>=0})}function Ude(t){var e=t.state,n=t.name,r=e.rects.reference,o=e.rects.popper,i=e.modifiersData.preventOverflow,s=uS(e,{elementContext:"reference"}),a=uS(e,{altBoundary:!0}),c=hj(s,r),d=hj(a,o,i),h=fj(c),p=fj(d);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:d,isReferenceHidden:h,hasPopperEscaped:p},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":p})}const Gde={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Ude};function Wde(t,e,n){var r=Dc(t),o=[ys,ms].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=i[0],a=i[1];return s=s||0,a=(a||0)*o,[ys,Ya].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function qde(t){var e=t.state,n=t.options,r=t.name,o=n.offset,i=o===void 0?[0,0]:o,s=t9.reduce(function(h,p){return h[p]=Wde(p,e.rects,i),h},{}),a=s[e.placement],c=a.x,d=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=d),e.modifiersData[r]=s}const Kde={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:qde};function Yde(t){var e=t.state,n=t.name;e.modifiersData[n]=l9({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const Xde={name:"popperOffsets",enabled:!0,phase:"read",fn:Yde,data:{}};function Qde(t){return t==="x"?"y":"x"}function Zde(t){var e=t.state,n=t.options,r=t.name,o=n.mainAxis,i=o===void 0?!0:o,s=n.altAxis,a=s===void 0?!1:s,c=n.boundary,d=n.rootBoundary,h=n.altBoundary,p=n.padding,g=n.tether,m=g===void 0?!0:g,v=n.tetherOffset,S=v===void 0?0:v,C=uS(e,{boundary:c,rootBoundary:d,padding:p,altBoundary:h}),x=Dc(e.placement),O=uv(e.placement),M=!O,P=jL(x),k=Qde(P),$=e.modifiersData.popperOffsets,D=e.rects.reference,I=e.rects.popper,A=typeof S=="function"?S(Object.assign({},e.rects,{placement:e.placement})):S,N=typeof A=="number"?{mainAxis:A,altAxis:A}:Object.assign({mainAxis:0,altAxis:0},A),F=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,R={x:0,y:0};if($){if(i){var V,q=P==="y"?ms:ys,K=P==="y"?Ka:Ya,z=P==="y"?"height":"width",H=$[P],Z=H+C[q],re=H-C[K],j=m?-I[z]/2:0,X=O===av?D[z]:I[z],ne=O===av?-I[z]:-D[z],ie=e.elements.arrow,se=m&&ie?HL(ie):{width:0,height:0},ce=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:o9(),ae=ce[q],ge=ce[K],Ee=$0(0,D[z],se[z]),Te=M?D[z]/2-j-Ee-ae-N.mainAxis:X-Ee-ae-N.mainAxis,le=M?-D[z]/2+j+Ee+ge+N.mainAxis:ne+Ee+ge+N.mainAxis,pe=e.elements.arrow&&TE(e.elements.arrow),ye=pe?P==="y"?pe.clientTop||0:pe.clientLeft||0:0,xe=(V=F==null?void 0:F[P])!=null?V:0,Ce=H+Te-xe-ye,Pe=H+le-xe,ze=$0(m?PT(Z,Ce):Z,H,m?Vg(re,Pe):re);$[P]=ze,R[P]=ze-H}if(a){var Ke,ke=P==="x"?ms:ys,ot=P==="x"?Ka:Ya,Ye=$[k],at=k==="y"?"height":"width",he=Ye+C[ke],Ue=Ye-C[ot],qe=[ms,ys].indexOf(x)!==-1,nt=(Ke=F==null?void 0:F[k])!=null?Ke:0,Je=qe?he:Ye-D[at]-I[at]-nt+N.altAxis,Qe=qe?Ye+D[at]+I[at]-nt-N.altAxis:Ue,dt=m&&qe?Cde(Je,Ye,Qe):$0(m?Je:he,Ye,m?Qe:Ue);$[k]=dt,R[k]=dt-Ye}e.modifiersData[r]=R}}const Jde={name:"preventOverflow",enabled:!0,phase:"main",fn:Zde,requiresIfExists:["offset"]};function ehe(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function the(t){return t===ia(t)||!Ha(t)?UL(t):ehe(t)}function nhe(t){var e=t.getBoundingClientRect(),n=lv(e.width)/t.offsetWidth||1,r=lv(e.height)/t.offsetHeight||1;return n!==1||r!==1}function rhe(t,e,n){n===void 0&&(n=!1);var r=Ha(e),o=Ha(e)&&nhe(e),i=Mf(e),s=cv(t,o,n),a={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((zc(e)!=="body"||WL(i))&&(a=the(e)),Ha(e)?(c=cv(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):i&&(c.x=GL(i))),{x:s.left+a.scrollLeft-c.x,y:s.top+a.scrollTop-c.y,width:s.width,height:s.height}}function ohe(t){var e=new Map,n=new Set,r=[];t.forEach(function(i){e.set(i.name,i)});function o(i){n.add(i.name);var s=[].concat(i.requires||[],i.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var c=e.get(a);c&&o(c)}}),r.push(i)}return t.forEach(function(i){n.has(i.name)||o(i)}),r}function ihe(t){var e=ohe(t);return mde.reduce(function(n,r){return n.concat(e.filter(function(o){return o.phase===r}))},[])}function she(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function ahe(t){var e=t.reduce(function(n,r){var o=n[r.name];return n[r.name]=o?Object.assign({},o,r,{options:Object.assign({},o.options,r.options),data:Object.assign({},o.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var pj={placement:"bottom",modifiers:[],strategy:"absolute"};function gj(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function lhe(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,o=e.defaultOptions,i=o===void 0?pj:o;return function(a,c,d){d===void 0&&(d=i);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},pj,i),modifiersData:{},elements:{reference:a,popper:c},attributes:{},styles:{}},p=[],g=!1,m={state:h,setOptions:function(x){var O=typeof x=="function"?x(h.options):x;S(),h.options=Object.assign({},i,h.options,O),h.scrollParents={reference:Jg(a)?V0(a):a.contextElement?V0(a.contextElement):[],popper:V0(c)};var M=ihe(ahe([].concat(r,h.options.modifiers)));return h.orderedModifiers=M.filter(function(P){return P.enabled}),v(),m.update()},forceUpdate:function(){if(!g){var x=h.elements,O=x.reference,M=x.popper;if(gj(O,M)){h.rects={reference:rhe(O,TE(M),h.options.strategy==="fixed"),popper:HL(M)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(N){return h.modifiersData[N.name]=Object.assign({},N.data)});for(var P=0;P<h.orderedModifiers.length;P++){if(h.reset===!0){h.reset=!1,P=-1;continue}var k=h.orderedModifiers[P],$=k.fn,D=k.options,I=D===void 0?{}:D,A=k.name;typeof $=="function"&&(h=$({state:h,options:I,name:A,instance:m})||h)}}}},update:she(function(){return new Promise(function(C){m.forceUpdate(),C(h)})}),destroy:function(){S(),g=!0}};if(!gj(a,c))return m;m.setOptions(d).then(function(C){!g&&d.onFirstUpdate&&d.onFirstUpdate(C)});function v(){h.orderedModifiers.forEach(function(C){var x=C.name,O=C.options,M=O===void 0?{}:O,P=C.effect;if(typeof P=="function"){var k=P({state:h,name:x,instance:m,options:M}),$=function(){};p.push(k||$)}})}function S(){p.forEach(function(C){return C()}),p=[]}return m}}var che=[kde,Xde,Pde,vde,Kde,jde,Jde,Tde,Gde],uhe=lhe({defaultModifiers:che});function c9(t){var p;const{elementType:e,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:o=!1,...i}=t,s=o?{}:QG(n,r),{props:a,internalRef:c}=JG({...i,externalSlotProps:s}),d=Tn(c,s==null?void 0:s.ref,(p=t.additionalProps)==null?void 0:p.ref);return XG(e,{...a,ref:d},r)}function kf(t){var e;return parseInt(w.version,10)>=19?((e=t==null?void 0:t.props)==null?void 0:e.ref)||null:(t==null?void 0:t.ref)||null}function dhe(t){return typeof t=="function"?t():t}const u9=w.forwardRef(function(e,n){const{children:r,container:o,disablePortal:i=!1}=e,[s,a]=w.useState(null),c=Tn(w.isValidElement(r)?kf(r):null,n);if(Un(()=>{i||a(dhe(o)||document.body)},[o,i]),Un(()=>{if(s&&!i)return Jk(n,s),()=>{Jk(n,null)}},[n,s,i]),i){if(w.isValidElement(r)){const d={ref:c};return w.cloneElement(r,d)}return r}return s&&c2.createPortal(r,s)});function hhe(t){return kt("MuiPopper",t)}Pt("MuiPopper",["root"]);function fhe(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function lO(t){return typeof t=="function"?t():t}function phe(t){return t.nodeType!==void 0}const ghe=t=>{const{classes:e}=t;return Ze({root:["root"]},hhe,e)},mhe={},yhe=w.forwardRef(function(e,n){const{anchorEl:r,children:o,direction:i,disablePortal:s,modifiers:a,open:c,placement:d,popperOptions:h,popperRef:p,slotProps:g={},slots:m={},TransitionProps:v,ownerState:S,...C}=e,x=w.useRef(null),O=Tn(x,n),M=w.useRef(null),P=Tn(M,p),k=w.useRef(P);Un(()=>{k.current=P},[P]),w.useImperativeHandle(p,()=>M.current,[]);const $=fhe(d,i),[D,I]=w.useState($),[A,N]=w.useState(lO(r));w.useEffect(()=>{M.current&&M.current.forceUpdate()}),w.useEffect(()=>{r&&N(lO(r))},[r]),Un(()=>{if(!A||!c)return;const K=Z=>{I(Z.placement)};let z=[{name:"preventOverflow",options:{altBoundary:s}},{name:"flip",options:{altBoundary:s}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:Z})=>{K(Z)}}];a!=null&&(z=z.concat(a)),h&&h.modifiers!=null&&(z=z.concat(h.modifiers));const H=uhe(A,x.current,{placement:$,...h,modifiers:z});return k.current(H),()=>{H.destroy(),k.current(null)}},[A,s,a,c,h,$]);const F={placement:D};v!==null&&(F.TransitionProps=v);const R=ghe(e),V=m.root??"div",q=c9({elementType:V,externalSlotProps:g.root,externalForwardedProps:C,additionalProps:{role:"tooltip",ref:O},ownerState:e,className:R.root});return T.jsx(V,{...q,children:typeof o=="function"?o(F):o})}),bhe=w.forwardRef(function(e,n){const{anchorEl:r,children:o,container:i,direction:s="ltr",disablePortal:a=!1,keepMounted:c=!1,modifiers:d,open:h,placement:p="bottom",popperOptions:g=mhe,popperRef:m,style:v,transition:S=!1,slotProps:C={},slots:x={},...O}=e,[M,P]=w.useState(!0),k=()=>{P(!1)},$=()=>{P(!0)};if(!c&&!h&&(!S||M))return null;let D;if(i)D=i;else if(r){const N=lO(r);D=N&&phe(N)?Br(N).body:Br(null).body}const I=!h&&c&&(!S||M)?"none":void 0,A=S?{in:h,onEnter:k,onExited:$}:void 0;return T.jsx(u9,{disablePortal:a,container:D,children:T.jsx(yhe,{anchorEl:r,direction:s,disablePortal:a,modifiers:d,ref:n,open:S?!M:h,placement:p,popperOptions:g,popperRef:m,slotProps:C,slots:x,...O,style:{position:"fixed",top:0,left:0,display:I,...v},TransitionProps:A,children:o})})}),vhe=Se(bhe,{name:"MuiPopper",slot:"Root"})({}),AE=w.forwardRef(function(e,n){const r=Ni(),o=Lt({props:e,name:"MuiPopper"}),{anchorEl:i,component:s,components:a,componentsProps:c,container:d,disablePortal:h,keepMounted:p,modifiers:g,open:m,placement:v,popperOptions:S,popperRef:C,transition:x,slots:O,slotProps:M,...P}=o,k=(O==null?void 0:O.root)??(a==null?void 0:a.Root),$={anchorEl:i,container:d,disablePortal:h,keepMounted:p,modifiers:g,open:m,placement:v,popperOptions:S,popperRef:C,transition:x,...P};return T.jsx(vhe,{as:s,direction:r?"rtl":"ltr",slots:{root:k},slotProps:M??c,...$,ref:n})});function whe(t){return kt("MuiListSubheader",t)}Pt("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const She=t=>{const{classes:e,color:n,disableGutters:r,inset:o,disableSticky:i}=t,s={root:["root",n!=="default"&&`color${Ie(n)}`,!r&&"gutters",o&&"inset",!i&&"sticky"]};return Ze(s,whe,e)},Che=Se("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${Ie(n.color)}`],!n.disableGutters&&e.gutters,n.inset&&e.inset,!n.disableSticky&&e.sticky]}})(St(({theme:t})=>({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(t.vars||t).palette.text.secondary,fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(14),variants:[{props:{color:"primary"},style:{color:(t.vars||t).palette.primary.main}},{props:{color:"inherit"},style:{color:"inherit"}},{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.inset,style:{paddingLeft:72}},{props:({ownerState:e})=>!e.disableSticky,style:{position:"sticky",top:0,zIndex:1,backgroundColor:(t.vars||t).palette.background.paper}}]}))),cO=w.forwardRef(function(e,n){const r=Lt({props:e,name:"MuiListSubheader"}),{className:o,color:i="default",component:s="li",disableGutters:a=!1,disableSticky:c=!1,inset:d=!1,...h}=r,p={...r,color:i,component:s,disableGutters:a,disableSticky:c,inset:d},g=She(p);return T.jsx(Che,{as:s,className:Ne(g.root,o),ref:n,ownerState:p,...h})});cO&&(cO.muiSkipListHighlight=!0);const Ehe=vs(T.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function xhe(t){return kt("MuiChip",t)}const fn=Pt("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),_he=t=>{const{classes:e,disabled:n,size:r,color:o,iconColor:i,onDelete:s,clickable:a,variant:c}=t,d={root:["root",c,n&&"disabled",`size${Ie(r)}`,`color${Ie(o)}`,a&&"clickable",a&&`clickableColor${Ie(o)}`,s&&"deletable",s&&`deletableColor${Ie(o)}`,`${c}${Ie(o)}`],label:["label",`label${Ie(r)}`],avatar:["avatar",`avatar${Ie(r)}`,`avatarColor${Ie(o)}`],icon:["icon",`icon${Ie(r)}`,`iconColor${Ie(i)}`],deleteIcon:["deleteIcon",`deleteIcon${Ie(r)}`,`deleteIconColor${Ie(o)}`,`deleteIcon${Ie(c)}Color${Ie(o)}`]};return Ze(d,xhe,e)},The=Se("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{color:r,iconColor:o,clickable:i,onDelete:s,size:a,variant:c}=n;return[{[`& .${fn.avatar}`]:e.avatar},{[`& .${fn.avatar}`]:e[`avatar${Ie(a)}`]},{[`& .${fn.avatar}`]:e[`avatarColor${Ie(r)}`]},{[`& .${fn.icon}`]:e.icon},{[`& .${fn.icon}`]:e[`icon${Ie(a)}`]},{[`& .${fn.icon}`]:e[`iconColor${Ie(o)}`]},{[`& .${fn.deleteIcon}`]:e.deleteIcon},{[`& .${fn.deleteIcon}`]:e[`deleteIcon${Ie(a)}`]},{[`& .${fn.deleteIcon}`]:e[`deleteIconColor${Ie(r)}`]},{[`& .${fn.deleteIcon}`]:e[`deleteIcon${Ie(c)}Color${Ie(r)}`]},e.root,e[`size${Ie(a)}`],e[`color${Ie(r)}`],i&&e.clickable,i&&r!=="default"&&e[`clickableColor${Ie(r)})`],s&&e.deletable,s&&r!=="default"&&e[`deletableColor${Ie(r)}`],e[c],e[`${c}${Ie(r)}`]]}})(St(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return{maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,lineHeight:1.5,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${fn.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${fn.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:e,fontSize:t.typography.pxToRem(12)},[`& .${fn.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${fn.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${fn.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${fn.icon}`]:{marginLeft:5,marginRight:-6},[`& .${fn.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:t.alpha((t.vars||t).palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.alpha((t.vars||t).palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${fn.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${fn.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(t.palette).filter(Jr(["contrastText"])).map(([n])=>({props:{color:n},style:{backgroundColor:(t.vars||t).palette[n].main,color:(t.vars||t).palette[n].contrastText,[`& .${fn.deleteIcon}`]:{color:t.alpha((t.vars||t).palette[n].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].contrastText}}}})),{props:n=>n.iconColor===n.color,style:{[`& .${fn.icon}`]:{color:t.vars?t.vars.palette.Chip.defaultIconColor:e}}},{props:n=>n.iconColor===n.color&&n.color!=="default",style:{[`& .${fn.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${fn.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}}},...Object.entries(t.palette).filter(Jr(["dark"])).map(([n])=>({props:{color:n,onDelete:!0},style:{[`&.${fn.focusVisible}`]:{background:(t.vars||t).palette[n].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`)},[`&.${fn.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)},"&:active":{boxShadow:(t.vars||t).shadows[1]}}},...Object.entries(t.palette).filter(Jr(["dark"])).map(([n])=>({props:{color:n,clickable:!0},style:{[`&:hover, &.${fn.focusVisible}`]:{backgroundColor:(t.vars||t).palette[n].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${fn.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${fn.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${fn.avatar}`]:{marginLeft:4},[`& .${fn.avatarSmall}`]:{marginLeft:2},[`& .${fn.icon}`]:{marginLeft:4},[`& .${fn.iconSmall}`]:{marginLeft:2},[`& .${fn.deleteIcon}`]:{marginRight:5},[`& .${fn.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(t.palette).filter(Jr()).map(([n])=>({props:{variant:"outlined",color:n},style:{color:(t.vars||t).palette[n].main,border:`1px solid ${t.alpha((t.vars||t).palette[n].main,.7)}`,[`&.${fn.clickable}:hover`]:{backgroundColor:t.alpha((t.vars||t).palette[n].main,(t.vars||t).palette.action.hoverOpacity)},[`&.${fn.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette[n].main,(t.vars||t).palette.action.focusOpacity)},[`& .${fn.deleteIcon}`]:{color:t.alpha((t.vars||t).palette[n].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].main}}}}))]}})),Ahe=Se("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:n}=t,{size:r}=n;return[e.label,e[`label${Ie(r)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function mj(t){return t.key==="Backspace"||t.key==="Delete"}const sf=w.forwardRef(function(e,n){const r=Lt({props:e,name:"MuiChip"}),{avatar:o,className:i,clickable:s,color:a="default",component:c,deleteIcon:d,disabled:h=!1,icon:p,label:g,onClick:m,onDelete:v,onKeyDown:S,onKeyUp:C,size:x="medium",variant:O="filled",tabIndex:M,skipFocusWhenDisabled:P=!1,slots:k={},slotProps:$={},...D}=r,I=w.useRef(null),A=Tn(I,n),N=ae=>{ae.stopPropagation(),v&&v(ae)},F=ae=>{ae.currentTarget===ae.target&&mj(ae)&&ae.preventDefault(),S&&S(ae)},R=ae=>{ae.currentTarget===ae.target&&v&&mj(ae)&&v(ae),C&&C(ae)},V=s!==!1&&m?!0:s,q=V||v?Zg:c||"div",K={...r,component:q,disabled:h,size:x,color:a,iconColor:w.isValidElement(p)&&p.props.color||a,onDelete:!!v,clickable:V,variant:O},z=_he(K),H=q===Zg?{component:c||"div",focusVisibleClassName:z.focusVisible,...v&&{disableRipple:!0}}:{};let Z=null;v&&(Z=d&&w.isValidElement(d)?w.cloneElement(d,{className:Ne(d.props.className,z.deleteIcon),onClick:N}):T.jsx(Ehe,{className:z.deleteIcon,onClick:N}));let re=null;o&&w.isValidElement(o)&&(re=w.cloneElement(o,{className:Ne(z.avatar,o.props.className)}));let j=null;p&&w.isValidElement(p)&&(j=w.cloneElement(p,{className:Ne(z.icon,p.props.className)}));const X={slots:k,slotProps:$},[ne,ie]=At("root",{elementType:The,externalForwardedProps:{...X,...D},ownerState:K,shouldForwardComponentProp:!0,ref:A,className:Ne(z.root,i),additionalProps:{disabled:V&&h?!0:void 0,tabIndex:P&&h?-1:M,...H},getSlotProps:ae=>({...ae,onClick:ge=>{var Ee;(Ee=ae.onClick)==null||Ee.call(ae,ge),m==null||m(ge)},onKeyDown:ge=>{var Ee;(Ee=ae.onKeyDown)==null||Ee.call(ae,ge),F==null||F(ge)},onKeyUp:ge=>{var Ee;(Ee=ae.onKeyUp)==null||Ee.call(ae,ge),R==null||R(ge)}})}),[se,ce]=At("label",{elementType:Ahe,externalForwardedProps:X,ownerState:K,className:z.label});return T.jsxs(ne,{as:q,...ie,children:[re||j,T.jsx(se,{...ce,children:g}),Z]})});function E1(t){return parseInt(t,10)||0}const Ihe={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function Rhe(t){for(const e in t)return!1;return!0}function yj(t){return Rhe(t)||t.outerHeightStyle===0&&!t.overflowing}const Phe=w.forwardRef(function(e,n){const{onChange:r,maxRows:o,minRows:i=1,style:s,value:a,...c}=e,{current:d}=w.useRef(a!=null),h=w.useRef(null),p=Tn(n,h),g=w.useRef(null),m=w.useRef(null),v=w.useCallback(()=>{const M=h.current,P=m.current;if(!M||!P)return;const $=Ol(M).getComputedStyle(M);if($.width==="0px")return{outerHeightStyle:0,overflowing:!1};P.style.width=$.width,P.value=M.value||e.placeholder||"x",P.value.slice(-1)===`
`&&(P.value+=" ");const D=$.boxSizing,I=E1($.paddingBottom)+E1($.paddingTop),A=E1($.borderBottomWidth)+E1($.borderTopWidth),N=P.scrollHeight;P.value="x";const F=P.scrollHeight;let R=N;i&&(R=Math.max(Number(i)*F,R)),o&&(R=Math.min(Number(o)*F,R)),R=Math.max(R,F);const V=R+(D==="border-box"?I+A:0),q=Math.abs(R-N)<=1;return{outerHeightStyle:V,overflowing:q}},[o,i,e.placeholder]),S=Mt(()=>{const M=h.current,P=v();if(!M||!P||yj(P))return!1;const k=P.outerHeightStyle;return g.current!=null&&g.current!==k}),C=w.useCallback(()=>{const M=h.current,P=v();if(!M||!P||yj(P))return;const k=P.outerHeightStyle;g.current!==k&&(g.current=k,M.style.height=`${k}px`),M.style.overflow=P.overflowing?"hidden":""},[v]),x=w.useRef(-1);Un(()=>{const M=Av(C),P=h==null?void 0:h.current;if(!P)return;const k=Ol(P);k.addEventListener("resize",M);let $;return typeof ResizeObserver<"u"&&($=new ResizeObserver(()=>{S()&&($.unobserve(P),cancelAnimationFrame(x.current),C(),x.current=requestAnimationFrame(()=>{$.observe(P)}))}),$.observe(P)),()=>{M.clear(),cancelAnimationFrame(x.current),k.removeEventListener("resize",M),$&&$.disconnect()}},[v,C,S]),Un(()=>{C()});const O=M=>{d||C();const P=M.target,k=P.value.length,$=P.value.endsWith(`
`),D=P.selectionStart===k;$&&D&&P.setSelectionRange(k,k),r&&r(M)};return T.jsxs(w.Fragment,{children:[T.jsx("textarea",{value:a,onChange:O,ref:p,rows:i,style:s,...c}),T.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:m,tabIndex:-1,style:{...Ihe.shadow,...s,paddingTop:0,paddingBottom:0}})]})});function uO(t){return typeof t=="string"}function um({props:t,states:e,muiFormControl:n}){return e.reduce((r,o)=>(r[o]=t[o],n&&typeof t[o]>"u"&&(r[o]=n[o]),r),{})}const uI=w.createContext(void 0);function Ed(){return w.useContext(uI)}function bj(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function MT(t,e=!1){return t&&(bj(t.value)&&t.value!==""||e&&bj(t.defaultValue)&&t.defaultValue!=="")}function Mhe(t){return t.startAdornment}function khe(t){return kt("MuiInputBase",t)}const mi=Pt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var vj;const dI=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${Ie(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},hI=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},Ohe=t=>{const{classes:e,color:n,disabled:r,error:o,endAdornment:i,focused:s,formControl:a,fullWidth:c,hiddenLabel:d,multiline:h,readOnly:p,size:g,startAdornment:m,type:v}=t,S={root:["root",`color${Ie(n)}`,r&&"disabled",o&&"error",c&&"fullWidth",s&&"focused",a&&"formControl",g&&g!=="medium"&&`size${Ie(g)}`,h&&"multiline",m&&"adornedStart",i&&"adornedEnd",d&&"hiddenLabel",p&&"readOnly"],input:["input",r&&"disabled",v==="search"&&"inputTypeSearch",h&&"inputMultiline",g==="small"&&"inputSizeSmall",d&&"inputHiddenLabel",m&&"inputAdornedStart",i&&"inputAdornedEnd",p&&"readOnly"]};return Ze(S,khe,e)},fI=Se("div",{name:"MuiInputBase",slot:"Root",overridesResolver:dI})(St(({theme:t})=>({...t.typography.body1,color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${mi.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:n})=>e.multiline&&n==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),pI=Se("input",{name:"MuiInputBase",slot:"Input",overridesResolver:hI})(St(({theme:t})=>{const e=t.palette.mode==="light",n={color:"currentColor",...t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},r={opacity:"0 !important"},o=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${mi.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus::-ms-input-placeholder":o},[`&.${mi.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:({ownerState:i})=>!i.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:i})=>i.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),wj=DL({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),IE=w.forwardRef(function(e,n){const r=Lt({props:e,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:i,autoFocus:s,className:a,color:c,components:d={},componentsProps:h={},defaultValue:p,disabled:g,disableInjectingGlobalStyles:m,endAdornment:v,error:S,fullWidth:C=!1,id:x,inputComponent:O="input",inputProps:M={},inputRef:P,margin:k,maxRows:$,minRows:D,multiline:I=!1,name:A,onBlur:N,onChange:F,onClick:R,onFocus:V,onKeyDown:q,onKeyUp:K,placeholder:z,readOnly:H,renderSuffix:Z,rows:re,size:j,slotProps:X={},slots:ne={},startAdornment:ie,type:se="text",value:ce,...ae}=r,ge=M.value!=null?M.value:ce,{current:Ee}=w.useRef(ge!=null),Te=w.useRef(),le=w.useCallback(De=>{},[]),pe=Tn(Te,P,M.ref,le),[ye,xe]=w.useState(!1),Ce=Ed(),Pe=um({props:r,muiFormControl:Ce,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Pe.focused=Ce?Ce.focused:ye,w.useEffect(()=>{!Ce&&g&&ye&&(xe(!1),N&&N())},[Ce,g,ye,N]);const ze=Ce&&Ce.onFilled,Ke=Ce&&Ce.onEmpty,ke=w.useCallback(De=>{MT(De)?ze&&ze():Ke&&Ke()},[ze,Ke]);Un(()=>{Ee&&ke({value:ge})},[ge,ke,Ee]);const ot=De=>{V&&V(De),M.onFocus&&M.onFocus(De),Ce&&Ce.onFocus?Ce.onFocus(De):xe(!0)},Ye=De=>{N&&N(De),M.onBlur&&M.onBlur(De),Ce&&Ce.onBlur?Ce.onBlur(De):xe(!1)},at=(De,...it)=>{if(!Ee){const Et=De.target||Te.current;if(Et==null)throw new Error(md(1));ke({value:Et.value})}M.onChange&&M.onChange(De,...it),F&&F(De,...it)};w.useEffect(()=>{ke(Te.current)},[]);const he=De=>{Te.current&&De.currentTarget===De.target&&Te.current.focus(),R&&R(De)};let Ue=O,qe=M;I&&Ue==="input"&&(re?qe={type:void 0,minRows:re,maxRows:re,...qe}:qe={type:void 0,maxRows:$,minRows:D,...qe},Ue=Phe);const nt=De=>{ke(De.animationName==="mui-auto-fill-cancel"?Te.current:{value:"x"})};w.useEffect(()=>{Ce&&Ce.setAdornedStart(!!ie)},[Ce,ie]);const Je={...r,color:Pe.color||"primary",disabled:Pe.disabled,endAdornment:v,error:Pe.error,focused:Pe.focused,formControl:Ce,fullWidth:C,hiddenLabel:Pe.hiddenLabel,multiline:I,size:Pe.size,startAdornment:ie,type:se},Qe=Ohe(Je),dt=ne.root||d.Root||fI,ht=X.root||h.root||{},Ge=ne.input||d.Input||pI;return qe={...qe,...X.input??h.input},T.jsxs(w.Fragment,{children:[!m&&typeof wj=="function"&&(vj||(vj=T.jsx(wj,{}))),T.jsxs(dt,{...ht,ref:n,onClick:he,...ae,...!uO(dt)&&{ownerState:{...Je,...ht.ownerState}},className:Ne(Qe.root,ht.className,a,H&&"MuiInputBase-readOnly"),children:[ie,T.jsx(uI.Provider,{value:null,children:T.jsx(Ge,{"aria-invalid":Pe.error,"aria-describedby":o,autoComplete:i,autoFocus:s,defaultValue:p,disabled:Pe.disabled,id:x,onAnimationStart:nt,name:A,placeholder:z,readOnly:H,required:Pe.required,rows:re,value:ge,onKeyDown:q,onKeyUp:K,type:se,...qe,...!uO(Ge)&&{as:Ue,ownerState:{...Je,...qe.ownerState}},ref:pe,className:Ne(Qe.input,qe.className,H&&"MuiInputBase-readOnly"),onBlur:Ye,onChange:at,onFocus:ot})}),v,Z?Z({...Pe,startAdornment:ie}):null]})]})});function Dhe(t){return kt("MuiInput",t)}const ch={...mi,...Pt("MuiInput",["root","underline","input"])};function Lhe(t){return kt("MuiOutlinedInput",t)}const xa={...mi,...Pt("MuiOutlinedInput",["root","notchedOutline","input"])};function Nhe(t){return kt("MuiFilledInput",t)}const qs={...mi,...Pt("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},d9=vs(T.jsx("path",{d:"M7 10l5 5 5-5z"}));function Fhe(t){return kt("MuiAutocomplete",t)}const on=Pt("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var Sj,Cj;const $he=t=>{const{classes:e,disablePortal:n,expanded:r,focused:o,fullWidth:i,hasClearIcon:s,hasPopupIcon:a,inputFocused:c,popupOpen:d,size:h}=t,p={root:["root",r&&"expanded",o&&"focused",i&&"fullWidth",s&&"hasClearIcon",a&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",c&&"inputFocused"],tag:["tag",`tagSize${Ie(h)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",d&&"popupIndicatorOpen"],popper:["popper",n&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return Ze(p,Fhe,e)},Vhe=Se("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{fullWidth:r,hasClearIcon:o,hasPopupIcon:i,inputFocused:s,size:a}=n;return[{[`& .${on.tag}`]:e.tag},{[`& .${on.tag}`]:e[`tagSize${Ie(a)}`]},{[`& .${on.inputRoot}`]:e.inputRoot},{[`& .${on.input}`]:e.input},{[`& .${on.input}`]:s&&e.inputFocused},e.root,r&&e.fullWidth,i&&e.hasPopupIcon,o&&e.hasClearIcon]}})({[`&.${on.focused} .${on.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${on.clearIndicator}`]:{visibility:"visible"}},[`& .${on.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${on.inputRoot}`]:{[`.${on.hasPopupIcon}&, .${on.hasClearIcon}&`]:{paddingRight:30},[`.${on.hasPopupIcon}.${on.hasClearIcon}&`]:{paddingRight:56},[`& .${on.input}`]:{width:0,minWidth:30}},[`& .${ch.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${ch.root}.${mi.sizeSmall}`]:{[`& .${ch.input}`]:{padding:"2px 4px 3px 0"}},[`& .${xa.root}`]:{padding:9,[`.${on.hasPopupIcon}&, .${on.hasClearIcon}&`]:{paddingRight:39},[`.${on.hasPopupIcon}.${on.hasClearIcon}&`]:{paddingRight:65},[`& .${on.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${on.endAdornment}`]:{right:9}},[`& .${xa.root}.${mi.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${on.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${qs.root}`]:{paddingTop:19,paddingLeft:8,[`.${on.hasPopupIcon}&, .${on.hasClearIcon}&`]:{paddingRight:39},[`.${on.hasPopupIcon}.${on.hasClearIcon}&`]:{paddingRight:65},[`& .${qs.input}`]:{padding:"7px 4px"},[`& .${on.endAdornment}`]:{right:9}},[`& .${qs.root}.${mi.sizeSmall}`]:{paddingBottom:1,[`& .${qs.input}`]:{padding:"2.5px 4px"}},[`& .${mi.hiddenLabel}`]:{paddingTop:8},[`& .${qs.root}.${mi.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${on.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${qs.root}.${mi.hiddenLabel}.${mi.sizeSmall}`]:{[`& .${on.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${on.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${on.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${on.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${on.inputRoot}`]:{flexWrap:"wrap"}}}]}),zhe=Se("div",{name:"MuiAutocomplete",slot:"EndAdornment"})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),Bhe=Se(Va,{name:"MuiAutocomplete",slot:"ClearIndicator"})({marginRight:-2,padding:4,visibility:"hidden"}),Hhe=Se(Va,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.popupIndicator,n.popupOpen&&e.popupIndicatorOpen]}})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),jhe=Se(AE,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${on.option}`]:e.option},e.popper,n.disablePortal&&e.popperDisablePortal]}})(St(({theme:t})=>({zIndex:(t.vars||t).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}))),Uhe=Se(Pf,{name:"MuiAutocomplete",slot:"Paper"})(St(({theme:t})=>({...t.typography.body1,overflow:"auto"}))),Ghe=Se("div",{name:"MuiAutocomplete",slot:"Loading"})(St(({theme:t})=>({color:(t.vars||t).palette.text.secondary,padding:"14px 16px"}))),Whe=Se("div",{name:"MuiAutocomplete",slot:"NoOptions"})(St(({theme:t})=>({color:(t.vars||t).palette.text.secondary,padding:"14px 16px"}))),qhe=Se("ul",{name:"MuiAutocomplete",slot:"Listbox"})(St(({theme:t})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${on.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[t.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${on.focused}`]:{backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${on.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),[`&.${on.focused}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:(t.vars||t).palette.action.selected}},[`&.${on.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}}}}))),Khe=Se(cO,{name:"MuiAutocomplete",slot:"GroupLabel"})(St(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,top:-8}))),Yhe=Se("ul",{name:"MuiAutocomplete",slot:"GroupUl"})({padding:0,[`& .${on.option}`]:{paddingLeft:24}}),Xhe=w.forwardRef(function(e,n){const r=Lt({props:e,name:"MuiAutocomplete"}),{autoComplete:o=!1,autoHighlight:i=!1,autoSelect:s=!1,blurOnSelect:a=!1,ChipProps:c,className:d,clearIcon:h=Sj||(Sj=T.jsx(Kue,{fontSize:"small"})),clearOnBlur:p=!r.freeSolo,clearOnEscape:g=!1,clearText:m="Clear",closeText:v="Close",componentsProps:S,defaultValue:C=r.multiple?[]:null,disableClearable:x=!1,disableCloseOnSelect:O=!1,disabled:M=!1,disabledItemsFocusable:P=!1,disableListWrap:k=!1,disablePortal:$=!1,filterOptions:D,filterSelectedOptions:I=!1,forcePopupIcon:A="auto",freeSolo:N=!1,fullWidth:F=!1,getLimitTagsText:R=un=>`+${un}`,getOptionDisabled:V,getOptionKey:q,getOptionLabel:K,isOptionEqualToValue:z,groupBy:H,handleHomeEndKeys:Z=!r.freeSolo,id:re,includeInputInList:j=!1,inputValue:X,limitTags:ne=-1,ListboxComponent:ie,ListboxProps:se,loading:ce=!1,loadingText:ae="Loading",multiple:ge=!1,noOptionsText:Ee="No options",onChange:Te,onClose:le,onHighlightChange:pe,onInputChange:ye,onOpen:xe,open:Ce,openOnFocus:Pe=!1,openText:ze="Open",options:Ke,PaperComponent:ke,PopperComponent:ot,popupIcon:Ye=Cj||(Cj=T.jsx(d9,{})),readOnly:at=!1,renderGroup:he,renderInput:Ue,renderOption:qe,renderTags:nt,renderValue:Je,selectOnFocus:Qe=!r.freeSolo,size:dt="medium",slots:ht={},slotProps:Ge={},value:De,...it}=r,{getRootProps:Et,getInputProps:gt,getInputLabelProps:mt,getPopupIndicatorProps:Ut,getClearProps:Ot,getItemProps:mn,getListboxProps:vt,getOptionProps:Yt,value:Zt,dirty:An,expanded:_r,id:Qn,popupOpen:Tr,focused:jr,focusedItem:Nt,anchorEl:Nn,setAnchorEl:ts,inputValue:Fn,groupedOptions:Zn}=ode({...r,componentName:"Autocomplete"}),$n=!x&&!M&&An&&!at,Ur=(!N||A===!0)&&A!==!1,{onMouseDown:la}=gt(),{ref:Df,...ca}=vt(),ws=K||(un=>un.label??un),Jn={...r,disablePortal:$,expanded:_r,focused:jr,fullWidth:F,getOptionLabel:ws,hasClearIcon:$n,hasPopupIcon:Ur,inputFocused:Nt===-1,popupOpen:Tr,size:dt},er=$he(Jn),So={slots:{paper:ke,popper:ot,...ht},slotProps:{chip:c,listbox:se,...S,...Ge}},[ns,eo]=At("listbox",{elementType:qhe,externalForwardedProps:So,ownerState:Jn,className:er.listbox,additionalProps:ca,ref:Df}),[mr,Oe]=At("paper",{elementType:Pf,externalForwardedProps:So,ownerState:Jn,className:er.paper}),[Me,lt]=At("popper",{elementType:AE,externalForwardedProps:So,ownerState:Jn,className:er.popper,additionalProps:{disablePortal:$,style:{width:Nn?Nn.clientWidth:null},role:"presentation",anchorEl:Nn,open:Tr}});let Tt;const Bt=un=>({className:er.tag,disabled:M,...mn(un)});if(ge?Zt.length>0&&(nt?Tt=nt(Zt,Bt,Jn):Je?Tt=Je(Zt,Bt,Jn):Tt=Zt.map((un,Fo)=>{const{key:Fi,...da}=Bt({index:Fo});return T.jsx(sf,{label:ws(un),size:dt,...da,...So.slotProps.chip},Fi)})):Je&&Zt!=null&&(Tt=Je(Zt,Bt,Jn)),ne>-1&&Array.isArray(Tt)){const un=Tt.length-ne;!jr&&un>0&&(Tt=Tt.splice(0,ne),Tt.push(T.jsx("span",{className:er.tag,children:R(un)},Tt.length)))}const Gn=he||(un=>T.jsxs("li",{children:[T.jsx(Khe,{className:er.groupLabel,ownerState:Jn,component:"div",children:un.group}),T.jsx(Yhe,{className:er.groupUl,ownerState:Jn,children:un.children})]},un.key)),Ss=qe||((un,Fo)=>{const{key:Fi,...da}=un;return T.jsx("li",{...da,children:ws(Fo)},Fi)}),Cs=(un,Fo)=>{const Fi=Yt({option:un,index:Fo});return Ss({...Fi,className:er.option},un,{selected:Fi["aria-selected"],index:Fo,inputValue:Fn},Jn)},Gr=So.slotProps.clearIndicator,ua=So.slotProps.popupIndicator;return T.jsxs(w.Fragment,{children:[T.jsx(Vhe,{ref:n,className:Ne(er.root,d),ownerState:Jn,...Et(it),children:Ue({id:Qn,disabled:M,fullWidth:!0,size:dt==="small"?"small":void 0,InputLabelProps:mt(),InputProps:{ref:ts,className:er.inputRoot,startAdornment:Tt,onMouseDown:un=>{un.target===un.currentTarget&&la(un)},...($n||Ur)&&{endAdornment:T.jsxs(zhe,{className:er.endAdornment,ownerState:Jn,children:[$n?T.jsx(Bhe,{...Ot(),"aria-label":m,title:m,ownerState:Jn,...Gr,className:Ne(er.clearIndicator,Gr==null?void 0:Gr.className),children:h}):null,Ur?T.jsx(Hhe,{...Ut(),disabled:M,"aria-label":Tr?v:ze,title:Tr?v:ze,ownerState:Jn,...ua,className:Ne(er.popupIndicator,ua==null?void 0:ua.className),children:Ye}):null]})}},inputProps:{className:er.input,disabled:M,readOnly:at,...gt()}})}),Nn?T.jsx(jhe,{as:Me,...lt,children:T.jsxs(Uhe,{as:mr,...Oe,children:[ce&&Zn.length===0?T.jsx(Ghe,{className:er.loading,ownerState:Jn,children:ae}):null,Zn.length===0&&!N&&!ce?T.jsx(Whe,{className:er.noOptions,ownerState:Jn,role:"presentation",onMouseDown:un=>{un.preventDefault()},children:Ee}):null,Zn.length>0?T.jsx(ns,{as:ie,...eo,children:Zn.map((un,Fo)=>H?Gn({key:un.key,group:un.group,children:un.options.map((Fi,da)=>Cs(Fi,un.index+da))}):Cs(un,Fo))}):null]})}):null]})}),Qhe=vs(T.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}));function Zhe(t){return kt("MuiAvatar",t)}Pt("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const Jhe=t=>{const{classes:e,variant:n,colorDefault:r}=t;return Ze({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},Zhe,e)},efe=Se("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.colorDefault&&e.colorDefault]}})(St(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(t.vars||t).palette.background.default,...t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:t.palette.grey[400],...t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})}}}]}))),tfe=Se("img",{name:"MuiAvatar",slot:"Img"})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),nfe=Se(Qhe,{name:"MuiAvatar",slot:"Fallback"})({width:"75%",height:"75%"});function rfe({crossOrigin:t,referrerPolicy:e,src:n,srcSet:r}){const[o,i]=w.useState(!1);return w.useEffect(()=>{if(!n&&!r)return;i(!1);let s=!0;const a=new Image;return a.onload=()=>{s&&i("loaded")},a.onerror=()=>{s&&i("error")},a.crossOrigin=t,a.referrerPolicy=e,a.src=n,r&&(a.srcset=r),()=>{s=!1}},[t,e,n,r]),o}const ofe=w.forwardRef(function(e,n){const r=Lt({props:e,name:"MuiAvatar"}),{alt:o,children:i,className:s,component:a="div",slots:c={},slotProps:d={},imgProps:h,sizes:p,src:g,srcSet:m,variant:v="circular",...S}=r;let C=null;const x={...r,component:a,variant:v},O=rfe({...h,...typeof d.img=="function"?d.img(x):d.img,src:g,srcSet:m}),M=g||m,P=M&&O!=="error";x.colorDefault=!P,delete x.ownerState;const k=Jhe(x),[$,D]=At("root",{ref:n,className:Ne(k.root,s),elementType:efe,externalForwardedProps:{slots:c,slotProps:d,component:a,...S},ownerState:x}),[I,A]=At("img",{className:k.img,elementType:tfe,externalForwardedProps:{slots:c,slotProps:{img:{...h,...d.img}}},additionalProps:{alt:o,src:g,srcSet:m,sizes:p},ownerState:x}),[N,F]=At("fallback",{className:k.fallback,elementType:nfe,externalForwardedProps:{slots:c,slotProps:d},shouldForwardComponentProp:!0,ownerState:x});return P?C=T.jsx(I,{...A}):i||i===0?C=i:M&&o?C=o[0]:C=T.jsx(N,{...F}),T.jsx($,{...D,children:C})}),ife={entering:{opacity:1},entered:{opacity:1}},dO=w.forwardRef(function(e,n){const r=Cd(),o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:i,appear:s=!0,children:a,easing:c,in:d,onEnter:h,onEntered:p,onEntering:g,onExit:m,onExited:v,onExiting:S,style:C,timeout:x=o,TransitionComponent:O=Fl,...M}=e,P=w.useRef(null),k=Tn(P,kf(a),n),$=q=>K=>{if(q){const z=P.current;K===void 0?q(z):q(z,K)}},D=$(g),I=$((q,K)=>{$L(q);const z=sv({style:C,timeout:x,easing:c},{mode:"enter"});q.style.webkitTransition=r.transitions.create("opacity",z),q.style.transition=r.transitions.create("opacity",z),h&&h(q,K)}),A=$(p),N=$(S),F=$(q=>{const K=sv({style:C,timeout:x,easing:c},{mode:"exit"});q.style.webkitTransition=r.transitions.create("opacity",K),q.style.transition=r.transitions.create("opacity",K),m&&m(q)}),R=$(v),V=q=>{i&&i(P.current,q)};return T.jsx(O,{appear:s,in:d,nodeRef:P,onEnter:I,onEntered:A,onEntering:D,onExit:F,onExited:R,onExiting:N,addEndListener:V,timeout:x,...M,children:(q,{ownerState:K,...z})=>w.cloneElement(a,{style:{opacity:0,visibility:q==="exited"&&!d?"hidden":void 0,...ife[q],...C,...a.props.style},ref:k,...z})})});function sfe(t){return kt("MuiBackdrop",t)}Pt("MuiBackdrop",["root","invisible"]);const afe=t=>{const{classes:e,invisible:n}=t;return Ze({root:["root",n&&"invisible"]},sfe,e)},lfe=Se("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),h9=w.forwardRef(function(e,n){const r=Lt({props:e,name:"MuiBackdrop"}),{children:o,className:i,component:s="div",invisible:a=!1,open:c,components:d={},componentsProps:h={},slotProps:p={},slots:g={},TransitionComponent:m,transitionDuration:v,...S}=r,C={...r,component:s,invisible:a},x=afe(C),O={transition:m,root:d.Root,...g},M={...h,...p},P={component:s,slots:O,slotProps:M},[k,$]=At("root",{elementType:lfe,externalForwardedProps:P,className:Ne(x.root,i),ownerState:C}),[D,I]=At("transition",{elementType:dO,externalForwardedProps:P,ownerState:C});return T.jsx(D,{in:c,timeout:v,...S,...I,children:T.jsx(k,{"aria-hidden":!0,...$,classes:x,ref:n,children:o})})});function cfe(t){const{badgeContent:e,invisible:n=!1,max:r=99,showZero:o=!1}=t,i=VL({badgeContent:e,max:r});let s=n;n===!1&&e===0&&!o&&(s=!0);const{badgeContent:a,max:c=r}=s?i:t,d=a&&Number(a)>c?`${c}+`:a;return{badgeContent:a,invisible:s,max:c,displayValue:d}}function ufe(t){return kt("MuiBadge",t)}const Jd=Pt("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),TM=10,AM=4,dfe=t=>{const{color:e,anchorOrigin:n,invisible:r,overlap:o,variant:i,classes:s={}}=t,a={root:["root"],badge:["badge",i,r&&"invisible",`anchorOrigin${Ie(n.vertical)}${Ie(n.horizontal)}`,`anchorOrigin${Ie(n.vertical)}${Ie(n.horizontal)}${Ie(o)}`,`overlap${Ie(o)}`,e!=="default"&&`color${Ie(e)}`]};return Ze(a,ufe,s)},hfe=Se("span",{name:"MuiBadge",slot:"Root"})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),ffe=Se("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.badge,e[n.variant],e[`anchorOrigin${Ie(n.anchorOrigin.vertical)}${Ie(n.anchorOrigin.horizontal)}${Ie(n.overlap)}`],n.color!=="default"&&e[`color${Ie(n.color)}`],n.invisible&&e.invisible]}})(St(({theme:t})=>({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:TM*2,lineHeight:1,padding:"0 6px",height:TM*2,borderRadius:TM,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen}),variants:[...Object.entries(t.palette).filter(Jr(["contrastText"])).map(([e])=>({props:{color:e},style:{backgroundColor:(t.vars||t).palette[e].main,color:(t.vars||t).palette[e].contrastText}})),{props:{variant:"dot"},style:{borderRadius:AM,height:AM*2,minWidth:AM*2,padding:0}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Jd.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Jd.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Jd.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Jd.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Jd.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Jd.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Jd.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Jd.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})}}]})));function Ej(t){return{vertical:(t==null?void 0:t.vertical)??"top",horizontal:(t==null?void 0:t.horizontal)??"right"}}const pfe=w.forwardRef(function(e,n){const r=Lt({props:e,name:"MuiBadge"}),{anchorOrigin:o,className:i,classes:s,component:a,components:c={},componentsProps:d={},children:h,overlap:p="rectangular",color:g="default",invisible:m=!1,max:v=99,badgeContent:S,slots:C,slotProps:x,showZero:O=!1,variant:M="standard",...P}=r,{badgeContent:k,invisible:$,max:D,displayValue:I}=cfe({max:v,invisible:m,badgeContent:S,showZero:O}),A=VL({anchorOrigin:Ej(o),color:g,overlap:p,variant:M,badgeContent:S}),N=$||k==null&&M!=="dot",{color:F=g,overlap:R=p,anchorOrigin:V,variant:q=M}=N?A:r,K=Ej(V),z=q!=="dot"?I:void 0,H={...r,badgeContent:k,invisible:N,max:D,displayValue:z,showZero:O,anchorOrigin:K,color:F,overlap:R,variant:q},Z=dfe(H),re={slots:{root:(C==null?void 0:C.root)??c.Root,badge:(C==null?void 0:C.badge)??c.Badge},slotProps:{root:(x==null?void 0:x.root)??d.root,badge:(x==null?void 0:x.badge)??d.badge}},[j,X]=At("root",{elementType:hfe,externalForwardedProps:{...re,...P},ownerState:H,className:Ne(Z.root,i),ref:n,additionalProps:{as:a}}),[ne,ie]=At("badge",{elementType:ffe,externalForwardedProps:re,ownerState:H,className:Z.badge});return T.jsxs(j,{...X,children:[h,T.jsx(ne,{...ie,children:z})]})}),gfe=Pt("MuiBox",["root"]),mfe=iI(),Er=Ele({themeId:kc,defaultTheme:mfe,defaultClassName:gfe.root,generateClassName:IG.generate});function yfe(t){return kt("MuiButton",t)}const lp=Pt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),bfe=w.createContext({}),vfe=w.createContext(void 0),wfe=t=>{const{color:e,disableElevation:n,fullWidth:r,size:o,variant:i,loading:s,loadingPosition:a,classes:c}=t,d={root:["root",s&&"loading",i,`${i}${Ie(e)}`,`size${Ie(o)}`,`${i}Size${Ie(o)}`,`color${Ie(e)}`,n&&"disableElevation",r&&"fullWidth",s&&`loadingPosition${Ie(a)}`],startIcon:["icon","startIcon",`iconSize${Ie(o)}`],endIcon:["icon","endIcon",`iconSize${Ie(o)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},h=Ze(d,yfe,c);return{...c,...h}},f9=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],Sfe=Se(Zg,{shouldForwardProp:t=>es(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${Ie(n.color)}`],e[`size${Ie(n.size)}`],e[`${n.variant}Size${Ie(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth,n.loading&&e.loading]}})(St(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],n=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return{...t.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${lp.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},[`&.${lp.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},[`&.${lp.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${lp.disabled}`]:{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(Jr()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(t.vars||t).palette[r].main,"--variant-outlinedColor":(t.vars||t).palette[r].main,"--variant-outlinedBorder":t.alpha((t.vars||t).palette[r].main,.5),"--variant-containedColor":(t.vars||t).palette[r].contrastText,"--variant-containedBg":(t.vars||t).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[r].dark,"--variant-textBg":t.alpha((t.vars||t).palette[r].main,(t.vars||t).palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[r].main,"--variant-outlinedBg":t.alpha((t.vars||t).palette[r].main,(t.vars||t).palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.hoverOpacity),"--variant-outlinedBg":t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${lp.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${lp.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${lp.loading}`]:{color:"transparent"}}}]}})),Cfe=Se("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,n.loading&&e.startIconLoadingStart,e[`iconSize${Ie(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...f9]})),Efe=Se("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,n.loading&&e.endIconLoadingEnd,e[`iconSize${Ie(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...f9]})),xfe=Se("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),xj=Se("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),Iv=w.forwardRef(function(e,n){const r=w.useContext(bfe),o=w.useContext(vfe),i=iv(r,e),s=Lt({props:i,name:"MuiButton"}),{children:a,color:c="primary",component:d="button",className:h,disabled:p=!1,disableElevation:g=!1,disableFocusRipple:m=!1,endIcon:v,focusVisibleClassName:S,fullWidth:C=!1,id:x,loading:O=null,loadingIndicator:M,loadingPosition:P="center",size:k="medium",startIcon:$,type:D,variant:I="text",...A}=s,N=sn(x),F=M??T.jsx(lI,{"aria-labelledby":N,color:"inherit",size:16}),R={...s,color:c,component:d,disabled:p,disableElevation:g,disableFocusRipple:m,fullWidth:C,loading:O,loadingIndicator:F,loadingPosition:P,size:k,type:D,variant:I},V=wfe(R),q=($||O&&P==="start")&&T.jsx(Cfe,{className:V.startIcon,ownerState:R,children:$||T.jsx(xj,{className:V.loadingIconPlaceholder,ownerState:R})}),K=(v||O&&P==="end")&&T.jsx(Efe,{className:V.endIcon,ownerState:R,children:v||T.jsx(xj,{className:V.loadingIconPlaceholder,ownerState:R})}),z=o||"",H=typeof O=="boolean"?T.jsx("span",{className:V.loadingWrapper,style:{display:"contents"},children:O&&T.jsx(xfe,{className:V.loadingIndicator,ownerState:R,children:F})}):null;return T.jsxs(Sfe,{ownerState:R,className:Ne(r.className,V.root,h,z),component:d,disabled:p||O,focusRipple:!m,focusVisibleClassName:Ne(V.focusVisible,S),ref:n,type:D,id:O?N:x,...A,classes:V,children:[q,P!=="end"&&H,a,P==="end"&&H,K]})});function _fe(t){return kt("MuiCard",t)}Pt("MuiCard",["root"]);const Tfe=t=>{const{classes:e}=t;return Ze({root:["root"]},_fe,e)},Afe=Se(Pf,{name:"MuiCard",slot:"Root"})({overflow:"hidden"}),qL=w.forwardRef(function(e,n){const r=Lt({props:e,name:"MuiCard"}),{className:o,raised:i=!1,...s}=r,a={...r,raised:i},c=Tfe(a);return T.jsx(Afe,{className:Ne(c.root,o),elevation:i?8:void 0,ref:n,ownerState:a,...s})});function Ife(t){return kt("MuiCardActionArea",t)}const IM=Pt("MuiCardActionArea",["root","focusVisible","focusHighlight"]),Rfe=t=>{const{classes:e}=t;return Ze({root:["root"],focusHighlight:["focusHighlight"]},Ife,e)},Pfe=Se(Zg,{name:"MuiCardActionArea",slot:"Root"})(St(({theme:t})=>({display:"block",textAlign:"inherit",borderRadius:"inherit",width:"100%",[`&:hover .${IM.focusHighlight}`]:{opacity:(t.vars||t).palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}},[`&.${IM.focusVisible} .${IM.focusHighlight}`]:{opacity:(t.vars||t).palette.action.focusOpacity}}))),Mfe=Se("span",{name:"MuiCardActionArea",slot:"FocusHighlight"})(St(({theme:t})=>({overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:t.transitions.create("opacity",{duration:t.transitions.duration.short})}))),p9=w.forwardRef(function(e,n){const r=Lt({props:e,name:"MuiCardActionArea"}),{children:o,className:i,focusVisibleClassName:s,slots:a={},slotProps:c={},...d}=r,h=r,p=Rfe(h),g={slots:a,slotProps:c},[m,v]=At("root",{elementType:Pfe,externalForwardedProps:{...g,...d},shouldForwardComponentProp:!0,ownerState:h,ref:n,className:Ne(p.root,i),additionalProps:{focusVisibleClassName:Ne(s,p.focusVisible)}}),[S,C]=At("focusHighlight",{elementType:Mfe,externalForwardedProps:g,ownerState:h,ref:n,className:p.focusHighlight});return T.jsxs(m,{...v,children:[o,T.jsx(S,{...C})]})});function kfe(t){return kt("MuiCardContent",t)}Pt("MuiCardContent",["root"]);const Ofe=t=>{const{classes:e}=t;return Ze({root:["root"]},kfe,e)},Dfe=Se("div",{name:"MuiCardContent",slot:"Root"})({padding:16,"&:last-child":{paddingBottom:24}}),g9=w.forwardRef(function(e,n){const r=Lt({props:e,name:"MuiCardContent"}),{className:o,component:i="div",...s}=r,a={...r,component:i},c=Ofe(a);return T.jsx(Dfe,{as:i,className:Ne(c.root,o),ownerState:a,ref:n,...s})});function Lfe(t){return kt("PrivateSwitchBase",t)}Pt("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const Nfe=t=>{const{classes:e,checked:n,disabled:r,edge:o}=t,i={root:["root",n&&"checked",r&&"disabled",o&&`edge${Ie(o)}`],input:["input"]};return Ze(i,Lfe,e)},Ffe=Se(Zg,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:t,ownerState:e})=>t==="start"&&e.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:t,ownerState:e})=>t==="end"&&e.size!=="small",style:{marginRight:-12}}]}),$fe=Se("input",{name:"MuiSwitchBase",shouldForwardProp:es})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),m9=w.forwardRef(function(e,n){const{autoFocus:r,checked:o,checkedIcon:i,defaultChecked:s,disabled:a,disableFocusRipple:c=!1,edge:d=!1,icon:h,id:p,inputProps:g,inputRef:m,name:v,onBlur:S,onChange:C,onFocus:x,readOnly:O,required:M=!1,tabIndex:P,type:k,value:$,slots:D={},slotProps:I={},...A}=e,[N,F]=$g({controlled:o,default:!!s,name:"SwitchBase",state:"checked"}),R=Ed(),V=ce=>{x&&x(ce),R&&R.onFocus&&R.onFocus(ce)},q=ce=>{S&&S(ce),R&&R.onBlur&&R.onBlur(ce)},K=ce=>{if(ce.nativeEvent.defaultPrevented)return;const ae=ce.target.checked;F(ae),C&&C(ce,ae)};let z=a;R&&typeof z>"u"&&(z=R.disabled);const H=k==="checkbox"||k==="radio",Z={...e,checked:N,disabled:z,disableFocusRipple:c,edge:d},re=Nfe(Z),j={slots:D,slotProps:{input:g,...I}},[X,ne]=At("root",{ref:n,elementType:Ffe,className:re.root,shouldForwardComponentProp:!0,externalForwardedProps:{...j,component:"span",...A},getSlotProps:ce=>({...ce,onFocus:ae=>{var ge;(ge=ce.onFocus)==null||ge.call(ce,ae),V(ae)},onBlur:ae=>{var ge;(ge=ce.onBlur)==null||ge.call(ce,ae),q(ae)}}),ownerState:Z,additionalProps:{centerRipple:!0,focusRipple:!c,disabled:z,role:void 0,tabIndex:null}}),[ie,se]=At("input",{ref:m,elementType:$fe,className:re.input,externalForwardedProps:j,getSlotProps:ce=>({...ce,onChange:ae=>{var ge;(ge=ce.onChange)==null||ge.call(ce,ae),K(ae)}}),ownerState:Z,additionalProps:{autoFocus:r,checked:o,defaultChecked:s,disabled:z,id:H?p:void 0,name:v,readOnly:O,required:M,tabIndex:P,type:k,...k==="checkbox"&&$===void 0?{}:{value:$}}});return T.jsxs(X,{...ne,children:[T.jsx(ie,{...se}),N?i:h]})}),Vfe=vs(T.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})),zfe=vs(T.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),Bfe=vs(T.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}));function Hfe(t){return kt("MuiCheckbox",t)}const RM=Pt("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),jfe=t=>{const{classes:e,indeterminate:n,color:r,size:o}=t,i={root:["root",n&&"indeterminate",`color${Ie(r)}`,`size${Ie(o)}`]},s=Ze(i,Hfe,e);return{...e,...s}},Ufe=Se(m9,{shouldForwardProp:t=>es(t)||t==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.indeterminate&&e.indeterminate,e[`size${Ie(n.size)}`],n.color!=="default"&&e[`color${Ie(n.color)}`]]}})(St(({theme:t})=>({color:(t.vars||t).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity)}}},...Object.entries(t.palette).filter(Jr()).map(([e])=>({props:{color:e,disableRipple:!1},style:{"&:hover":{backgroundColor:t.alpha((t.vars||t).palette[e].main,(t.vars||t).palette.action.hoverOpacity)}}})),...Object.entries(t.palette).filter(Jr()).map(([e])=>({props:{color:e},style:{[`&.${RM.checked}, &.${RM.indeterminate}`]:{color:(t.vars||t).palette[e].main},[`&.${RM.disabled}`]:{color:(t.vars||t).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),Gfe=T.jsx(zfe,{}),Wfe=T.jsx(Vfe,{}),qfe=T.jsx(Bfe,{}),y9=w.forwardRef(function(e,n){const r=Lt({props:e,name:"MuiCheckbox"}),{checkedIcon:o=Gfe,color:i="primary",icon:s=Wfe,indeterminate:a=!1,indeterminateIcon:c=qfe,inputProps:d,size:h="medium",disableRipple:p=!1,className:g,slots:m={},slotProps:v={},...S}=r,C=a?c:s,x=a?c:o,O={...r,disableRipple:p,color:i,indeterminate:a,size:h},M=jfe(O),P=v.input??d,[k,$]=At("root",{ref:n,elementType:Ufe,className:Ne(M.root,g),shouldForwardComponentProp:!0,externalForwardedProps:{slots:m,slotProps:v,...S},ownerState:O,additionalProps:{type:"checkbox",icon:w.cloneElement(C,{fontSize:C.props.fontSize??h}),checkedIcon:w.cloneElement(x,{fontSize:x.props.fontSize??h}),disableRipple:p,slots:m,slotProps:{input:LL(typeof P=="function"?P(O):P,{"data-indeterminate":a})}}});return T.jsx(k,{...$,classes:M})});function _j(t){return t.substring(2).toLowerCase()}function Kfe(t,e){return e.documentElement.clientWidth<t.clientX||e.documentElement.clientHeight<t.clientY}function Yfe(t){const{children:e,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:o,touchEvent:i="onTouchEnd"}=t,s=w.useRef(!1),a=w.useRef(null),c=w.useRef(!1),d=w.useRef(!1);w.useEffect(()=>(setTimeout(()=>{c.current=!0},0),()=>{c.current=!1}),[]);const h=Tn(kf(e),a),p=Mt(v=>{const S=d.current;d.current=!1;const C=Br(a.current);if(!c.current||!a.current||"clientX"in v&&Kfe(v,C))return;if(s.current){s.current=!1;return}let x;v.composedPath?x=v.composedPath().includes(a.current):x=!C.documentElement.contains(v.target)||a.current.contains(v.target),!x&&(n||!S)&&o(v)}),g=v=>S=>{d.current=!0;const C=e.props[v];C&&C(S)},m={ref:h};return i!==!1&&(m[i]=g(i)),w.useEffect(()=>{if(i!==!1){const v=_j(i),S=Br(a.current),C=()=>{s.current=!0};return S.addEventListener(v,p),S.addEventListener("touchmove",C),()=>{S.removeEventListener(v,p),S.removeEventListener("touchmove",C)}}},[p,i]),r!==!1&&(m[r]=g(r)),w.useEffect(()=>{if(r!==!1){const v=_j(r),S=Br(a.current);return S.addEventListener(v,p),()=>{S.removeEventListener(v,p)}}},[p,r]),w.cloneElement(e,m)}const b9=hce({createStyledComponent:Se("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${Ie(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),useThemeProps:t=>Lt({props:t,name:"MuiContainer"})}),hO=typeof DL({})=="function",Xfe=(t,e)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...e&&!t.vars&&{colorScheme:t.palette.mode}}),Qfe=t=>({color:(t.vars||t).palette.text.primary,...t.typography.body1,backgroundColor:(t.vars||t).palette.background.default,"@media print":{backgroundColor:(t.vars||t).palette.common.white}}),v9=(t,e=!1)=>{var i,s;const n={};e&&t.colorSchemes&&typeof t.getColorSchemeSelector=="function"&&Object.entries(t.colorSchemes).forEach(([a,c])=>{var h,p;const d=t.getColorSchemeSelector(a);d.startsWith("@")?n[d]={":root":{colorScheme:(h=c.palette)==null?void 0:h.mode}}:n[d.replace(/\s*&/,"")]={colorScheme:(p=c.palette)==null?void 0:p.mode}});let r={html:Xfe(t,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:t.typography.fontWeightBold},body:{margin:0,...Qfe(t),"&::backdrop":{backgroundColor:(t.vars||t).palette.background.default}},...n};const o=(s=(i=t.components)==null?void 0:i.MuiCssBaseline)==null?void 0:s.styleOverrides;return o&&(r=[r,o]),r},s_="mui-ecs",Zfe=t=>{const e=v9(t,!1),n=Array.isArray(e)?e[0]:e;return!t.vars&&n&&(n.html[`:root:has(${s_})`]={colorScheme:t.palette.mode}),t.colorSchemes&&Object.entries(t.colorSchemes).forEach(([r,o])=>{var s,a;const i=t.getColorSchemeSelector(r);i.startsWith("@")?n[i]={[`:root:not(:has(.${s_}))`]:{colorScheme:(s=o.palette)==null?void 0:s.mode}}:n[i.replace(/\s*&/,"")]={[`&:not(:has(.${s_}))`]:{colorScheme:(a=o.palette)==null?void 0:a.mode}}}),e},Jfe=DL(hO?({theme:t,enableColorScheme:e})=>v9(t,e):({theme:t})=>Zfe(t));function epe(t){const e=Lt({props:t,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=e;return T.jsxs(w.Fragment,{children:[hO&&T.jsx(Jfe,{enableColorScheme:r}),!hO&&!r&&T.jsx("span",{className:s_,style:{display:"none"}}),n]})}function w9(t=window){const e=t.document.documentElement.clientWidth;return t.innerWidth-e}function tpe(t){const e=Br(t);return e.body===t?Ol(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function z0(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function Tj(t){return parseInt(Ol(t).getComputedStyle(t).paddingRight,10)||0}function npe(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function Aj(t,e,n,r,o){const i=[e,n,...r];[].forEach.call(t.children,s=>{const a=!i.includes(s),c=!npe(s);a&&c&&z0(s,o)})}function PM(t,e){let n=-1;return t.some((r,o)=>e(r)?(n=o,!0):!1),n}function rpe(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(tpe(r)){const s=w9(Ol(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${Tj(r)+s}px`;const a=Br(r).querySelectorAll(".mui-fixed");[].forEach.call(a,c=>{n.push({value:c.style.paddingRight,property:"padding-right",el:c}),c.style.paddingRight=`${Tj(c)+s}px`})}let i;if(r.parentNode instanceof DocumentFragment)i=Br(r).body;else{const s=r.parentElement,a=Ol(r);i=(s==null?void 0:s.nodeName)==="HTML"&&a.getComputedStyle(s).overflowY==="scroll"?s:r}n.push({value:i.style.overflow,property:"overflow",el:i},{value:i.style.overflowX,property:"overflow-x",el:i},{value:i.style.overflowY,property:"overflow-y",el:i}),i.style.overflow="hidden"}return()=>{n.forEach(({value:i,el:s,property:a})=>{i?s.style.setProperty(a,i):s.style.removeProperty(a)})}}function ope(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class ipe{constructor(){this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&z0(e.modalRef,!1);const o=ope(n);Aj(n,e.mount,e.modalRef,o,!0);const i=PM(this.containers,s=>s.container===n);return i!==-1?(this.containers[i].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:o}),r)}mount(e,n){const r=PM(this.containers,i=>i.modals.includes(e)),o=this.containers[r];o.restore||(o.restore=rpe(o,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const o=PM(this.containers,s=>s.modals.includes(e)),i=this.containers[o];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(r,1),i.modals.length===0)i.restore&&i.restore(),e.modalRef&&z0(e.modalRef,n),Aj(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(o,1);else{const s=i.modals[i.modals.length-1];s.modalRef&&z0(s.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const spe=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function ape(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function lpe(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function cpe(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||lpe(t))}function upe(t){const e=[],n=[];return Array.from(t.querySelectorAll(spe)).forEach((r,o)=>{const i=ape(r);i===-1||!cpe(r)||(i===0?e.push(r):n.push({documentOrder:o,tabIndex:i,node:r}))}),n.sort((r,o)=>r.tabIndex===o.tabIndex?r.documentOrder-o.documentOrder:r.tabIndex-o.tabIndex).map(r=>r.node).concat(e)}function dpe(){return!0}function S9(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:o=!1,getTabbable:i=upe,isEnabled:s=dpe,open:a}=t,c=w.useRef(!1),d=w.useRef(null),h=w.useRef(null),p=w.useRef(null),g=w.useRef(null),m=w.useRef(!1),v=w.useRef(null),S=Tn(kf(e),v),C=w.useRef(null);w.useEffect(()=>{!a||!v.current||(m.current=!n)},[n,a]),w.useEffect(()=>{if(!a||!v.current)return;const M=Br(v.current);return v.current.contains(M.activeElement)||(v.current.hasAttribute("tabIndex")||v.current.setAttribute("tabIndex","-1"),m.current&&v.current.focus()),()=>{o||(p.current&&p.current.focus&&(c.current=!0,p.current.focus()),p.current=null)}},[a]),w.useEffect(()=>{if(!a||!v.current)return;const M=Br(v.current),P=D=>{C.current=D,!(r||!s()||D.key!=="Tab")&&M.activeElement===v.current&&D.shiftKey&&(c.current=!0,h.current&&h.current.focus())},k=()=>{var A,N;const D=v.current;if(D===null)return;if(!M.hasFocus()||!s()||c.current){c.current=!1;return}if(D.contains(M.activeElement)||r&&M.activeElement!==d.current&&M.activeElement!==h.current)return;if(M.activeElement!==g.current)g.current=null;else if(g.current!==null)return;if(!m.current)return;let I=[];if((M.activeElement===d.current||M.activeElement===h.current)&&(I=i(v.current)),I.length>0){const F=!!((A=C.current)!=null&&A.shiftKey&&((N=C.current)==null?void 0:N.key)==="Tab"),R=I[0],V=I[I.length-1];typeof R!="string"&&typeof V!="string"&&(F?V.focus():R.focus())}else D.focus()};M.addEventListener("focusin",k),M.addEventListener("keydown",P,!0);const $=setInterval(()=>{M.activeElement&&M.activeElement.tagName==="BODY"&&k()},50);return()=>{clearInterval($),M.removeEventListener("focusin",k),M.removeEventListener("keydown",P,!0)}},[n,r,o,s,a,i]);const x=M=>{p.current===null&&(p.current=M.relatedTarget),m.current=!0,g.current=M.target;const P=e.props.onFocus;P&&P(M)},O=M=>{p.current===null&&(p.current=M.relatedTarget),m.current=!0};return T.jsxs(w.Fragment,{children:[T.jsx("div",{tabIndex:a?0:-1,onFocus:O,ref:d,"data-testid":"sentinelStart"}),w.cloneElement(e,{ref:S,onFocus:x}),T.jsx("div",{tabIndex:a?0:-1,onFocus:O,ref:h,"data-testid":"sentinelEnd"})]})}function hpe(t){return typeof t=="function"?t():t}function fpe(t){return t?t.props.hasOwnProperty("in"):!1}const Ij=()=>{},x1=new ipe;function ppe(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:o=!1,onTransitionEnter:i,onTransitionExited:s,children:a,onClose:c,open:d,rootRef:h}=t,p=w.useRef({}),g=w.useRef(null),m=w.useRef(null),v=Tn(m,h),[S,C]=w.useState(!d),x=fpe(a);let O=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(O=!1);const M=()=>Br(g.current),P=()=>(p.current.modalRef=m.current,p.current.mount=g.current,p.current),k=()=>{x1.mount(P(),{disableScrollLock:r}),m.current&&(m.current.scrollTop=0)},$=Mt(()=>{const K=hpe(e)||M().body;x1.add(P(),K),m.current&&k()}),D=()=>x1.isTopModal(P()),I=Mt(K=>{g.current=K,K&&(d&&D()?k():m.current&&z0(m.current,O))}),A=w.useCallback(()=>{x1.remove(P(),O)},[O]);w.useEffect(()=>()=>{A()},[A]),w.useEffect(()=>{d?$():(!x||!o)&&A()},[d,A,x,o,$]);const N=K=>z=>{var H;(H=K.onKeyDown)==null||H.call(K,z),!(z.key!=="Escape"||z.which===229||!D())&&(n||(z.stopPropagation(),c&&c(z,"escapeKeyDown")))},F=K=>z=>{var H;(H=K.onClick)==null||H.call(K,z),z.target===z.currentTarget&&c&&c(z,"backdropClick")};return{getRootProps:(K={})=>{const z=ZG(t);delete z.onTransitionEnter,delete z.onTransitionExited;const H={...z,...K};return{role:"presentation",...H,onKeyDown:N(H),ref:v}},getBackdropProps:(K={})=>{const z=K;return{"aria-hidden":!0,...z,onClick:F(z),open:d}},getTransitionProps:()=>{const K=()=>{C(!1),i&&i()},z=()=>{C(!0),s&&s(),o&&A()};return{onEnter:QH(K,(a==null?void 0:a.props.onEnter)??Ij),onExited:QH(z,(a==null?void 0:a.props.onExited)??Ij)}},rootRef:v,portalRef:I,isTopModal:D,exited:S,hasTransition:x}}function gpe(t){return kt("MuiModal",t)}Pt("MuiModal",["root","hidden","backdrop"]);const mpe=t=>{const{open:e,exited:n,classes:r}=t;return Ze({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},gpe,r)},ype=Se("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(St(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),bpe=Se(h9,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),KL=w.forwardRef(function(e,n){const r=Lt({name:"MuiModal",props:e}),{BackdropComponent:o=bpe,BackdropProps:i,classes:s,className:a,closeAfterTransition:c=!1,children:d,container:h,component:p,components:g={},componentsProps:m={},disableAutoFocus:v=!1,disableEnforceFocus:S=!1,disableEscapeKeyDown:C=!1,disablePortal:x=!1,disableRestoreFocus:O=!1,disableScrollLock:M=!1,hideBackdrop:P=!1,keepMounted:k=!1,onClose:$,onTransitionEnter:D,onTransitionExited:I,open:A,slotProps:N={},slots:F={},theme:R,...V}=r,q={...r,closeAfterTransition:c,disableAutoFocus:v,disableEnforceFocus:S,disableEscapeKeyDown:C,disablePortal:x,disableRestoreFocus:O,disableScrollLock:M,hideBackdrop:P,keepMounted:k},{getRootProps:K,getBackdropProps:z,getTransitionProps:H,portalRef:Z,isTopModal:re,exited:j,hasTransition:X}=ppe({...q,rootRef:n}),ne={...q,exited:j},ie=mpe(ne),se={};if(d.props.tabIndex===void 0&&(se.tabIndex="-1"),X){const{onEnter:le,onExited:pe}=H();se.onEnter=le,se.onExited=pe}const ce={slots:{root:g.Root,backdrop:g.Backdrop,...F},slotProps:{...m,...N}},[ae,ge]=At("root",{ref:n,elementType:ype,externalForwardedProps:{...ce,...V,component:p},getSlotProps:K,ownerState:ne,className:Ne(a,ie==null?void 0:ie.root,!ne.open&&ne.exited&&(ie==null?void 0:ie.hidden))}),[Ee,Te]=At("backdrop",{ref:i==null?void 0:i.ref,elementType:o,externalForwardedProps:ce,shouldForwardComponentProp:!0,additionalProps:i,getSlotProps:le=>z({...le,onClick:pe=>{le!=null&&le.onClick&&le.onClick(pe)}}),className:Ne(i==null?void 0:i.className,ie==null?void 0:ie.backdrop),ownerState:ne});return!k&&!A&&(!X||j)?null:T.jsx(u9,{ref:Z,container:h,disablePortal:x,children:T.jsxs(ae,{...ge,children:[!P&&o?T.jsx(Ee,{...Te}):null,T.jsx(S9,{disableEnforceFocus:S,disableAutoFocus:v,disableRestoreFocus:O,isEnabled:re,open:A,children:w.cloneElement(d,se)})]})})});function vpe(t){return kt("MuiDialog",t)}const MM=Pt("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),wpe=w.createContext({}),Spe=Se(h9,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),Cpe=t=>{const{classes:e,scroll:n,maxWidth:r,fullWidth:o,fullScreen:i}=t,s={root:["root"],container:["container",`scroll${Ie(n)}`],paper:["paper",`paperScroll${Ie(n)}`,`paperWidth${Ie(String(r))}`,o&&"paperFullWidth",i&&"paperFullScreen"]};return Ze(s,vpe,e)},Epe=Se(KL,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),xpe=Se("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.container,e[`scroll${Ie(n.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),_pe=Se(Pf,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`scrollPaper${Ie(n.scroll)}`],e[`paperWidth${Ie(String(n.maxWidth))}`],n.fullWidth&&e.paperFullWidth,n.fullScreen&&e.paperFullScreen]}})(St(({theme:t})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${MM.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(t.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${t.breakpoints.values[e]}${t.breakpoints.unit}`,[`&.${MM.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${MM.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),Tpe=w.forwardRef(function(e,n){const r=Lt({props:e,name:"MuiDialog"}),o=Cd(),i={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{"aria-describedby":s,"aria-labelledby":a,"aria-modal":c=!0,BackdropComponent:d,BackdropProps:h,children:p,className:g,disableEscapeKeyDown:m=!1,fullScreen:v=!1,fullWidth:S=!1,maxWidth:C="sm",onClick:x,onClose:O,open:M,PaperComponent:P=Pf,PaperProps:k={},scroll:$="paper",slots:D={},slotProps:I={},TransitionComponent:A=dO,transitionDuration:N=i,TransitionProps:F,...R}=r,V={...r,disableEscapeKeyDown:m,fullScreen:v,fullWidth:S,maxWidth:C,scroll:$},q=Cpe(V),K=w.useRef(),z=xe=>{K.current=xe.target===xe.currentTarget},H=xe=>{x&&x(xe),K.current&&(K.current=null,O&&O(xe,"backdropClick"))},Z=sn(a),re=w.useMemo(()=>({titleId:Z}),[Z]),j={transition:A,...D},X={transition:F,paper:k,backdrop:h,...I},ne={slots:j,slotProps:X},[ie,se]=At("root",{elementType:Epe,shouldForwardComponentProp:!0,externalForwardedProps:ne,ownerState:V,className:Ne(q.root,g),ref:n}),[ce,ae]=At("backdrop",{elementType:Spe,shouldForwardComponentProp:!0,externalForwardedProps:ne,ownerState:V}),[ge,Ee]=At("paper",{elementType:_pe,shouldForwardComponentProp:!0,externalForwardedProps:ne,ownerState:V,className:Ne(q.paper,k.className)}),[Te,le]=At("container",{elementType:xpe,externalForwardedProps:ne,ownerState:V,className:q.container}),[pe,ye]=At("transition",{elementType:dO,externalForwardedProps:ne,ownerState:V,additionalProps:{appear:!0,in:M,timeout:N,role:"presentation"}});return T.jsx(ie,{closeAfterTransition:!0,slots:{backdrop:ce},slotProps:{backdrop:{transitionDuration:N,as:d,...ae}},disableEscapeKeyDown:m,onClose:O,open:M,onClick:H,...se,...R,children:T.jsx(pe,{...ye,children:T.jsx(Te,{onMouseDown:z,...le,children:T.jsx(ge,{as:P,elevation:24,role:"dialog","aria-describedby":s,"aria-labelledby":Z,"aria-modal":c,...Ee,children:T.jsx(wpe.Provider,{value:re,children:p})})})})})});function Ape(t){return kt("MuiDialogContent",t)}Pt("MuiDialogContent",["root","dividers"]);const Ipe=Pt("MuiDialogTitle",["root"]),Rpe=t=>{const{classes:e,dividers:n}=t;return Ze({root:["root",n&&"dividers"]},Ape,e)},Ppe=Se("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.dividers&&e.dividers]}})(St(({theme:t})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:e})=>e.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>!e.dividers,style:{[`.${Ipe.root} + &`]:{paddingTop:0}}}]}))),Mpe=w.forwardRef(function(e,n){const r=Lt({props:e,name:"MuiDialogContent"}),{className:o,dividers:i=!1,...s}=r,a={...r,dividers:i},c=Rpe(a);return T.jsx(Ppe,{className:Ne(c.root,o),ownerState:a,ref:n,...s})});function kpe(t){return kt("MuiDivider",t)}const Rj=Pt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),Ope=t=>{const{absolute:e,children:n,classes:r,flexItem:o,light:i,orientation:s,textAlign:a,variant:c}=t;return Ze({root:["root",e&&"absolute",c,i&&"light",s==="vertical"&&"vertical",o&&"flexItem",n&&"withChildren",n&&s==="vertical"&&"withChildrenVertical",a==="right"&&s!=="vertical"&&"textAlignRight",a==="left"&&s!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",s==="vertical"&&"wrapperVertical"]},kpe,r)},Dpe=Se("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,n.orientation==="vertical"&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&n.orientation==="vertical"&&e.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&e.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&e.textAlignLeft]}})(St(({theme:t})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:t.alpha((t.vars||t).palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:t.spacing(2),marginRight:t.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:t.spacing(1),marginBottom:t.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:e})=>!!e.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:e})=>e.children&&e.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:e})=>e.orientation==="vertical"&&e.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:e})=>e.textAlign==="right"&&e.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:e})=>e.textAlign==="left"&&e.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),Lpe=Se("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.wrapper,n.orientation==="vertical"&&e.wrapperVertical]}})(St(({theme:t})=>({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`}}]}))),dS=w.forwardRef(function(e,n){const r=Lt({props:e,name:"MuiDivider"}),{absolute:o=!1,children:i,className:s,orientation:a="horizontal",component:c=i||a==="vertical"?"div":"hr",flexItem:d=!1,light:h=!1,role:p=c!=="hr"?"separator":void 0,textAlign:g="center",variant:m="fullWidth",...v}=r,S={...r,absolute:o,component:c,flexItem:d,light:h,orientation:a,role:p,textAlign:g,variant:m},C=Ope(S);return T.jsx(Dpe,{as:c,className:Ne(C.root,s),role:p,ref:n,ownerState:S,"aria-orientation":p==="separator"&&(c!=="hr"||a==="vertical")?a:void 0,...v,children:i?T.jsx(Lpe,{className:C.wrapper,ownerState:S,children:i}):null})});dS&&(dS.muiSkipListHighlight=!0);function Npe(t,e,n){const r=e.getBoundingClientRect(),o=n&&n.getBoundingClientRect(),i=Ol(e);let s;if(e.fakeTransform)s=e.fakeTransform;else{const d=i.getComputedStyle(e);s=d.getPropertyValue("-webkit-transform")||d.getPropertyValue("transform")}let a=0,c=0;if(s&&s!=="none"&&typeof s=="string"){const d=s.split("(")[1].split(")")[0].split(",");a=parseInt(d[4],10),c=parseInt(d[5],10)}return t==="left"?o?`translateX(${o.right+a-r.left}px)`:`translateX(${i.innerWidth+a-r.left}px)`:t==="right"?o?`translateX(-${r.right-o.left-a}px)`:`translateX(-${r.left+r.width-a}px)`:t==="up"?o?`translateY(${o.bottom+c-r.top}px)`:`translateY(${i.innerHeight+c-r.top}px)`:o?`translateY(-${r.top-o.top+r.height-c}px)`:`translateY(-${r.top+r.height-c}px)`}function Fpe(t){return typeof t=="function"?t():t}function _1(t,e,n){const r=Fpe(n),o=Npe(t,e,r);o&&(e.style.webkitTransform=o,e.style.transform=o)}const $pe=w.forwardRef(function(e,n){const r=Cd(),o={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:a=!0,children:c,container:d,direction:h="down",easing:p=o,in:g,onEnter:m,onEntered:v,onEntering:S,onExit:C,onExited:x,onExiting:O,style:M,timeout:P=i,TransitionComponent:k=Fl,...$}=e,D=w.useRef(null),I=Tn(kf(c),D,n),A=Z=>re=>{Z&&(re===void 0?Z(D.current):Z(D.current,re))},N=A((Z,re)=>{_1(h,Z,d),$L(Z),m&&m(Z,re)}),F=A((Z,re)=>{const j=sv({timeout:P,style:M,easing:p},{mode:"enter"});Z.style.webkitTransition=r.transitions.create("-webkit-transform",{...j}),Z.style.transition=r.transitions.create("transform",{...j}),Z.style.webkitTransform="none",Z.style.transform="none",S&&S(Z,re)}),R=A(v),V=A(O),q=A(Z=>{const re=sv({timeout:P,style:M,easing:p},{mode:"exit"});Z.style.webkitTransition=r.transitions.create("-webkit-transform",re),Z.style.transition=r.transitions.create("transform",re),_1(h,Z,d),C&&C(Z)}),K=A(Z=>{Z.style.webkitTransition="",Z.style.transition="",x&&x(Z)}),z=Z=>{s&&s(D.current,Z)},H=w.useCallback(()=>{D.current&&_1(h,D.current,d)},[h,d]);return w.useEffect(()=>{if(g||h==="down"||h==="right")return;const Z=Av(()=>{D.current&&_1(h,D.current,d)}),re=Ol(D.current);return re.addEventListener("resize",Z),()=>{Z.clear(),re.removeEventListener("resize",Z)}},[h,g,d]),w.useEffect(()=>{g||H()},[g,H]),T.jsx(k,{nodeRef:D,onEnter:N,onEntered:R,onEntering:F,onExit:q,onExited:K,onExiting:V,addEndListener:z,appear:a,in:g,timeout:P,...$,children:(Z,{ownerState:re,...j})=>w.cloneElement(c,{ref:I,style:{visibility:Z==="exited"&&!g?"hidden":void 0,...M,...c.props.style},...j})})});function Vpe(t){return kt("MuiDrawer",t)}Pt("MuiDrawer",["root","docked","paper","anchorLeft","anchorRight","anchorTop","anchorBottom","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const C9=(t,e)=>{const{ownerState:n}=t;return[e.root,(n.variant==="permanent"||n.variant==="persistent")&&e.docked,e.modal]},zpe=t=>{const{classes:e,anchor:n,variant:r}=t,o={root:["root",`anchor${Ie(n)}`],docked:[(r==="permanent"||r==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${Ie(n)}`,r!=="temporary"&&`paperAnchorDocked${Ie(n)}`]};return Ze(o,Vpe,e)},Bpe=Se(KL,{name:"MuiDrawer",slot:"Root",overridesResolver:C9})(St(({theme:t})=>({zIndex:(t.vars||t).zIndex.drawer}))),Hpe=Se("div",{shouldForwardProp:es,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:C9})({flex:"0 0 auto"}),jpe=Se(Pf,{name:"MuiDrawer",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`paperAnchor${Ie(n.anchor)}`],n.variant!=="temporary"&&e[`paperAnchorDocked${Ie(n.anchor)}`]]}})(St(({theme:t})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:({ownerState:e})=>e.anchor==="left"&&e.variant!=="temporary",style:{borderRight:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="top"&&e.variant!=="temporary",style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="right"&&e.variant!=="temporary",style:{borderLeft:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="bottom"&&e.variant!=="temporary",style:{borderTop:`1px solid ${(t.vars||t).palette.divider}`}}]}))),E9={left:"right",right:"left",top:"down",bottom:"up"};function Upe(t){return["left","right"].includes(t)}function Gpe({direction:t},e){return t==="rtl"&&Upe(e)?E9[e]:e}const Wpe=w.forwardRef(function(e,n){const r=Lt({props:e,name:"MuiDrawer"}),o=Cd(),i=Ni(),s={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{anchor:a="left",BackdropProps:c,children:d,className:h,elevation:p=16,hideBackdrop:g=!1,ModalProps:{BackdropProps:m,...v}={},onClose:S,open:C=!1,PaperProps:x={},SlideProps:O,TransitionComponent:M,transitionDuration:P=s,variant:k="temporary",slots:$={},slotProps:D={},...I}=r,A=w.useRef(!1);w.useEffect(()=>{A.current=!0},[]);const N=Gpe({direction:i?"rtl":"ltr"},a),R={...r,anchor:a,elevation:p,open:C,variant:k,...I},V=zpe(R),q={slots:{transition:M,...$},slotProps:{paper:x,transition:O,...D,backdrop:LL(D.backdrop||{...c,...m},{transitionDuration:P})}},[K,z]=At("root",{ref:n,elementType:Bpe,className:Ne(V.root,V.modal,h),shouldForwardComponentProp:!0,ownerState:R,externalForwardedProps:{...q,...I,...v},additionalProps:{open:C,onClose:S,hideBackdrop:g,slots:{backdrop:q.slots.backdrop},slotProps:{backdrop:q.slotProps.backdrop}}}),[H,Z]=At("paper",{elementType:jpe,shouldForwardComponentProp:!0,className:Ne(V.paper,x.className),ownerState:R,externalForwardedProps:q,additionalProps:{elevation:k==="temporary"?p:0,square:!0}}),[re,j]=At("docked",{elementType:Hpe,ref:n,className:Ne(V.root,V.docked,h),ownerState:R,externalForwardedProps:q,additionalProps:I}),[X,ne]=At("transition",{elementType:$pe,ownerState:R,externalForwardedProps:q,additionalProps:{in:C,direction:E9[N],timeout:P,appear:A.current}}),ie=T.jsx(H,{...Z,children:d});if(k==="permanent")return T.jsx(re,{...j,children:ie});const se=T.jsx(X,{...ne,children:ie});return k==="persistent"?T.jsx(re,{...j,children:se}):T.jsx(K,{...z,children:se})}),qpe=t=>{const{classes:e,disableUnderline:n,startAdornment:r,endAdornment:o,size:i,hiddenLabel:s,multiline:a}=t,c={root:["root",!n&&"underline",r&&"adornedStart",o&&"adornedEnd",i==="small"&&`size${Ie(i)}`,s&&"hiddenLabel",a&&"multiline"],input:["input"]},d=Ze(c,Nhe,e);return{...e,...d}},Kpe=Se(fI,{shouldForwardProp:t=>es(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...dI(t,e),!n.disableUnderline&&e.underline]}})(St(({theme:t})=>{const e=t.palette.mode==="light",n=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",i=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r}},[`&.${qs.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r},[`&.${qs.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:i},variants:[{props:({ownerState:s})=>!s.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${qs.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${qs.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?t.alpha(t.vars.palette.common.onBackground,t.vars.opacity.inputUnderline):n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${qs.disabled}, .${qs.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${qs.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(Jr()).map(([s])=>{var a;return{props:{disableUnderline:!1,color:s},style:{"&::after":{borderBottom:`2px solid ${(a=(t.vars||t).palette[s])==null?void 0:a.main}`}}}}),{props:({ownerState:s})=>s.startAdornment,style:{paddingLeft:12}},{props:({ownerState:s})=>s.endAdornment,style:{paddingRight:12}},{props:({ownerState:s})=>s.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:s,size:a})=>s.multiline&&a==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:s})=>s.multiline&&s.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:s})=>s.multiline&&s.hiddenLabel&&s.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),Ype=Se(pI,{name:"MuiFilledInput",slot:"Input",overridesResolver:hI})(St(({theme:t})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),YL=w.forwardRef(function(e,n){const r=Lt({props:e,name:"MuiFilledInput"}),{disableUnderline:o=!1,components:i={},componentsProps:s,fullWidth:a=!1,hiddenLabel:c,inputComponent:d="input",multiline:h=!1,slotProps:p,slots:g={},type:m="text",...v}=r,S={...r,disableUnderline:o,fullWidth:a,inputComponent:d,multiline:h,type:m},C=qpe(r),x={root:{ownerState:S},input:{ownerState:S}},O=p??s?Jo(x,p??s):x,M=g.root??i.Root??Kpe,P=g.input??i.Input??Ype;return T.jsx(IE,{slots:{root:M,input:P},slotProps:O,fullWidth:a,inputComponent:d,multiline:h,ref:n,type:m,...v,classes:C})});YL.muiName="Input";function Xpe(t){return kt("MuiFormControl",t)}Pt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Qpe=t=>{const{classes:e,margin:n,fullWidth:r}=t,o={root:["root",n!=="none"&&`margin${Ie(n)}`,r&&"fullWidth"]};return Ze(o,Xpe,e)},Zpe=Se("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`margin${Ie(n.margin)}`],n.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),Qh=w.forwardRef(function(e,n){const r=Lt({props:e,name:"MuiFormControl"}),{children:o,className:i,color:s="primary",component:a="div",disabled:c=!1,error:d=!1,focused:h,fullWidth:p=!1,hiddenLabel:g=!1,margin:m="none",required:v=!1,size:S="medium",variant:C="outlined",...x}=r,O={...r,color:s,component:a,disabled:c,error:d,fullWidth:p,hiddenLabel:g,margin:m,required:v,size:S,variant:C},M=Qpe(O),[P,k]=w.useState(()=>{let K=!1;return o&&w.Children.forEach(o,z=>{if(!xM(z,["Input","Select"]))return;const H=xM(z,["Select"])?z.props.input:z;H&&Mhe(H.props)&&(K=!0)}),K}),[$,D]=w.useState(()=>{let K=!1;return o&&w.Children.forEach(o,z=>{xM(z,["Input","Select"])&&(MT(z.props,!0)||MT(z.props.inputProps,!0))&&(K=!0)}),K}),[I,A]=w.useState(!1);c&&I&&A(!1);const N=h!==void 0&&!c?h:I;let F;w.useRef(!1);const R=w.useCallback(()=>{D(!0)},[]),V=w.useCallback(()=>{D(!1)},[]),q=w.useMemo(()=>({adornedStart:P,setAdornedStart:k,color:s,disabled:c,error:d,filled:$,focused:N,fullWidth:p,hiddenLabel:g,size:S,onBlur:()=>{A(!1)},onFocus:()=>{A(!0)},onEmpty:V,onFilled:R,registerEffect:F,required:v,variant:C}),[P,s,c,d,$,N,p,g,F,V,R,v,S,C]);return T.jsx(uI.Provider,{value:q,children:T.jsx(Zpe,{as:a,ownerState:O,className:Ne(M.root,i),ref:n,...x,children:o})})});function Jpe(t){return kt("MuiFormControlLabel",t)}const xy=Pt("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),ege=t=>{const{classes:e,disabled:n,labelPlacement:r,error:o,required:i}=t,s={root:["root",n&&"disabled",`labelPlacement${Ie(r)}`,o&&"error",i&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",o&&"error"]};return Ze(s,Jpe,e)},tge=Se("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${xy.label}`]:e.label},e.root,e[`labelPlacement${Ie(n.labelPlacement)}`]]}})(St(({theme:t})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${xy.disabled}`]:{cursor:"default"},[`& .${xy.label}`]:{[`&.${xy.disabled}`]:{color:(t.vars||t).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:e})=>e==="start"||e==="top"||e==="bottom",style:{marginLeft:16}}]}))),nge=Se("span",{name:"MuiFormControlLabel",slot:"Asterisk"})(St(({theme:t})=>({[`&.${xy.error}`]:{color:(t.vars||t).palette.error.main}}))),x9=w.forwardRef(function(e,n){const r=Lt({props:e,name:"MuiFormControlLabel"}),{checked:o,className:i,componentsProps:s={},control:a,disabled:c,disableTypography:d,inputRef:h,label:p,labelPlacement:g="end",name:m,onChange:v,required:S,slots:C={},slotProps:x={},value:O,...M}=r,P=Ed(),k=c??a.props.disabled??(P==null?void 0:P.disabled),$=S??a.props.required,D={disabled:k,required:$};["checked","name","onChange","value","inputRef"].forEach(K=>{typeof a.props[K]>"u"&&typeof r[K]<"u"&&(D[K]=r[K])});const I=um({props:r,muiFormControl:P,states:["error"]}),A={...r,disabled:k,labelPlacement:g,required:$,error:I.error},N=ege(A),F={slots:C,slotProps:{...s,...x}},[R,V]=At("typography",{elementType:pr,externalForwardedProps:F,ownerState:A});let q=p;return q!=null&&q.type!==pr&&!d&&(q=T.jsx(R,{component:"span",...V,className:Ne(N.label,V==null?void 0:V.className),children:q})),T.jsxs(tge,{className:Ne(N.root,i),ownerState:A,ref:n,...M,children:[w.cloneElement(a,D),$?T.jsxs("div",{children:[q,T.jsxs(nge,{ownerState:A,"aria-hidden":!0,className:N.asterisk,children:["","*"]})]}):q]})});function rge(t){return kt("MuiFormHelperText",t)}const Pj=Pt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var Mj;const oge=t=>{const{classes:e,contained:n,size:r,disabled:o,error:i,filled:s,focused:a,required:c}=t,d={root:["root",o&&"disabled",i&&"error",r&&`size${Ie(r)}`,n&&"contained",a&&"focused",s&&"filled",c&&"required"]};return Ze(d,rge,e)},ige=Se("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${Ie(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(St(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${Pj.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Pj.error}`]:{color:(t.vars||t).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),sge=w.forwardRef(function(e,n){const r=Lt({props:e,name:"MuiFormHelperText"}),{children:o,className:i,component:s="p",disabled:a,error:c,filled:d,focused:h,margin:p,required:g,variant:m,...v}=r,S=Ed(),C=um({props:r,muiFormControl:S,states:["variant","size","disabled","error","filled","focused","required"]}),x={...r,component:s,contained:C.variant==="filled"||C.variant==="outlined",variant:C.variant,size:C.size,disabled:C.disabled,error:C.error,filled:C.filled,focused:C.focused,required:C.required};delete x.ownerState;const O=oge(x);return T.jsx(ige,{as:s,className:Ne(O.root,i),ref:n,...v,ownerState:x,children:o===" "?Mj||(Mj=T.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):o})});function age(t){return kt("MuiFormLabel",t)}const B0=Pt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),lge=t=>{const{classes:e,color:n,focused:r,disabled:o,error:i,filled:s,required:a}=t,c={root:["root",`color${Ie(n)}`,o&&"disabled",i&&"error",s&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",i&&"error"]};return Ze(c,age,e)},cge=Se("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color==="secondary"&&e.colorSecondary,n.filled&&e.filled]}})(St(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(Jr()).map(([e])=>({props:{color:e},style:{[`&.${B0.focused}`]:{color:(t.vars||t).palette[e].main}}})),{props:{},style:{[`&.${B0.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${B0.error}`]:{color:(t.vars||t).palette.error.main}}}]}))),uge=Se("span",{name:"MuiFormLabel",slot:"Asterisk"})(St(({theme:t})=>({[`&.${B0.error}`]:{color:(t.vars||t).palette.error.main}}))),xp=w.forwardRef(function(e,n){const r=Lt({props:e,name:"MuiFormLabel"}),{children:o,className:i,color:s,component:a="label",disabled:c,error:d,filled:h,focused:p,required:g,...m}=r,v=Ed(),S=um({props:r,muiFormControl:v,states:["color","required","focused","disabled","error","filled"]}),C={...r,color:S.color||"primary",component:a,disabled:S.disabled,error:S.error,filled:S.filled,focused:S.focused,required:S.required},x=lge(C);return T.jsxs(cge,{as:a,ownerState:C,className:Ne(x.root,i),ref:n,...m,children:[o,S.required&&T.jsxs(uge,{ownerState:C,"aria-hidden":!0,className:x.asterisk,children:["","*"]})]})});function fO(t){return`scale(${t}, ${t**2})`}const dge={entering:{opacity:1,transform:fO(1)},entered:{opacity:1,transform:"none"}},kM=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),hS=w.forwardRef(function(e,n){const{addEndListener:r,appear:o=!0,children:i,easing:s,in:a,onEnter:c,onEntered:d,onEntering:h,onExit:p,onExited:g,onExiting:m,style:v,timeout:S="auto",TransitionComponent:C=Fl,...x}=e,O=Js(),M=w.useRef(),P=Cd(),k=w.useRef(null),$=Tn(k,kf(i),n),D=K=>z=>{if(K){const H=k.current;z===void 0?K(H):K(H,z)}},I=D(h),A=D((K,z)=>{$L(K);const{duration:H,delay:Z,easing:re}=sv({style:v,timeout:S,easing:s},{mode:"enter"});let j;S==="auto"?(j=P.transitions.getAutoHeightDuration(K.clientHeight),M.current=j):j=H,K.style.transition=[P.transitions.create("opacity",{duration:j,delay:Z}),P.transitions.create("transform",{duration:kM?j:j*.666,delay:Z,easing:re})].join(","),c&&c(K,z)}),N=D(d),F=D(m),R=D(K=>{const{duration:z,delay:H,easing:Z}=sv({style:v,timeout:S,easing:s},{mode:"exit"});let re;S==="auto"?(re=P.transitions.getAutoHeightDuration(K.clientHeight),M.current=re):re=z,K.style.transition=[P.transitions.create("opacity",{duration:re,delay:H}),P.transitions.create("transform",{duration:kM?re:re*.666,delay:kM?H:H||re*.333,easing:Z})].join(","),K.style.opacity=0,K.style.transform=fO(.75),p&&p(K)}),V=D(g),q=K=>{S==="auto"&&O.start(M.current||0,K),r&&r(k.current,K)};return T.jsx(C,{appear:o,in:a,nodeRef:k,onEnter:A,onEntered:N,onEntering:I,onExit:R,onExited:V,onExiting:F,addEndListener:q,timeout:S==="auto"?null:S,...x,children:(K,{ownerState:z,...H})=>w.cloneElement(i,{style:{opacity:0,transform:fO(.75),visibility:K==="exited"&&!a?"hidden":void 0,...dge[K],...v,...i.props.style},ref:$,...H})})});hS&&(hS.muiSupportAuto=!0);const hge=t=>{const{classes:e,disableUnderline:n}=t,o=Ze({root:["root",!n&&"underline"],input:["input"]},Dhe,e);return{...e,...o}},fge=Se(fI,{shouldForwardProp:t=>es(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...dI(t,e),!n.disableUnderline&&e.underline]}})(St(({theme:t})=>{let n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=t.alpha(t.vars.palette.common.onBackground,t.vars.opacity.inputUnderline)),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ch.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ch.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ch.disabled}, .${ch.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${ch.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(Jr()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[r].main}`}}}))]}})),pge=Se(pI,{name:"MuiInput",slot:"Input",overridesResolver:hI})({}),XL=w.forwardRef(function(e,n){const r=Lt({props:e,name:"MuiInput"}),{disableUnderline:o=!1,components:i={},componentsProps:s,fullWidth:a=!1,inputComponent:c="input",multiline:d=!1,slotProps:h,slots:p={},type:g="text",...m}=r,v=hge(r),C={root:{ownerState:{disableUnderline:o}}},x=h??s?Jo(h??s,C):C,O=p.root??i.Root??fge,M=p.input??i.Input??pge;return T.jsx(IE,{slots:{root:O,input:M},slotProps:x,fullWidth:a,inputComponent:c,multiline:d,ref:n,type:g,...m,classes:v})});XL.muiName="Input";function gge(t){return kt("MuiInputAdornment",t)}const pO=Pt("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var kj;const mge=(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${Ie(n.position)}`],n.disablePointerEvents===!0&&e.disablePointerEvents,e[n.variant]]},yge=t=>{const{classes:e,disablePointerEvents:n,hiddenLabel:r,position:o,size:i,variant:s}=t,a={root:["root",n&&"disablePointerEvents",o&&`position${Ie(o)}`,s,r&&"hiddenLabel",i&&`size${Ie(i)}`]};return Ze(a,gge,e)},bge=Se("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:mge})(St(({theme:t})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${pO.positionStart}&:not(.${pO.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),gO=w.forwardRef(function(e,n){const r=Lt({props:e,name:"MuiInputAdornment"}),{children:o,className:i,component:s="div",disablePointerEvents:a=!1,disableTypography:c=!1,position:d,variant:h,...p}=r,g=Ed()||{};let m=h;h&&g.variant,g&&!m&&(m=g.variant);const v={...r,hiddenLabel:g.hiddenLabel,size:g.size,disablePointerEvents:a,position:d,variant:m},S=yge(v);return T.jsx(uI.Provider,{value:null,children:T.jsx(bge,{as:s,ownerState:v,className:Ne(S.root,i),ref:n,...p,children:typeof o=="string"&&!c?T.jsx(pr,{color:"textSecondary",children:o}):T.jsxs(w.Fragment,{children:[d==="start"?kj||(kj=T.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):null,o]})})})});function vge(t){return kt("MuiInputLabel",t)}Pt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const wge=t=>{const{classes:e,formControl:n,size:r,shrink:o,disableAnimation:i,variant:s,required:a}=t,c={root:["root",n&&"formControl",!i&&"animated",o&&"shrink",r&&r!=="medium"&&`size${Ie(r)}`,s],asterisk:[a&&"asterisk"]},d=Ze(c,vge,e);return{...e,...d}},Sge=Se(xp,{shouldForwardProp:t=>es(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${B0.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(St(({theme:t})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="filled"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:n,size:r})=>e==="filled"&&n.shrink&&r==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="outlined"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),_9=w.forwardRef(function(e,n){const r=Lt({name:"MuiInputLabel",props:e}),{disableAnimation:o=!1,margin:i,shrink:s,variant:a,className:c,...d}=r,h=Ed();let p=s;typeof p>"u"&&h&&(p=h.filled||h.focused||h.adornedStart);const g=um({props:r,muiFormControl:h,states:["size","variant","required","focused"]}),m={...r,disableAnimation:o,formControl:h,shrink:p,size:g.size,variant:g.variant,required:g.required,focused:g.focused},v=wge(m);return T.jsx(Sge,{"data-shrink":p,ref:n,className:Ne(v.root,c),...d,ownerState:m,classes:v})});function Cge(t){return kt("MuiLinearProgress",t)}Pt("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","bar1","bar2","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const mO=4,yO=Ja`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`,Ege=typeof yO!="string"?Rf`
        animation: ${yO} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
      `:null,bO=Ja`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`,xge=typeof bO!="string"?Rf`
        animation: ${bO} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
      `:null,vO=Ja`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`,_ge=typeof vO!="string"?Rf`
        animation: ${vO} 3s infinite linear;
      `:null,Tge=t=>{const{classes:e,variant:n,color:r}=t,o={root:["root",`color${Ie(r)}`,n],dashed:["dashed",`dashedColor${Ie(r)}`],bar1:["bar","bar1",`barColor${Ie(r)}`,(n==="indeterminate"||n==="query")&&"bar1Indeterminate",n==="determinate"&&"bar1Determinate",n==="buffer"&&"bar1Buffer"],bar2:["bar","bar2",n!=="buffer"&&`barColor${Ie(r)}`,n==="buffer"&&`color${Ie(r)}`,(n==="indeterminate"||n==="query")&&"bar2Indeterminate",n==="buffer"&&"bar2Buffer"]};return Ze(o,Cge,e)},QL=(t,e)=>t.vars?t.vars.palette.LinearProgress[`${e}Bg`]:t.palette.mode==="light"?t.lighten(t.palette[e].main,.62):t.darken(t.palette[e].main,.5),Age=Se("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`color${Ie(n.color)}`],e[n.variant]]}})(St(({theme:t})=>({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},variants:[...Object.entries(t.palette).filter(Jr()).map(([e])=>({props:{color:e},style:{backgroundColor:QL(t,e)}})),{props:({ownerState:e})=>e.color==="inherit"&&e.variant!=="buffer",style:{"&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}}},{props:{variant:"buffer"},style:{backgroundColor:"transparent"}},{props:{variant:"query"},style:{transform:"rotate(180deg)"}}]}))),Ige=Se("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.dashed,e[`dashedColor${Ie(n.color)}`]]}})(St(({theme:t})=>({position:"absolute",marginTop:0,height:"100%",width:"100%",backgroundSize:"10px 10px",backgroundPosition:"0 -23px",variants:[{props:{color:"inherit"},style:{opacity:.3,backgroundImage:"radial-gradient(currentColor 0%, currentColor 16%, transparent 42%)"}},...Object.entries(t.palette).filter(Jr()).map(([e])=>{const n=QL(t,e);return{props:{color:e},style:{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`}}})]})),_ge||{animation:`${vO} 3s infinite linear`}),Rge=Se("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e.bar1,e[`barColor${Ie(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar1Indeterminate,n.variant==="determinate"&&e.bar1Determinate,n.variant==="buffer"&&e.bar1Buffer]}})(St(({theme:t})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[{props:{color:"inherit"},style:{backgroundColor:"currentColor"}},...Object.entries(t.palette).filter(Jr()).map(([e])=>({props:{color:e},style:{backgroundColor:(t.vars||t).palette[e].main}})),{props:{variant:"determinate"},style:{transition:`transform .${mO}s linear`}},{props:{variant:"buffer"},style:{zIndex:1,transition:`transform .${mO}s linear`}},{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:{width:"auto"}},{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:Ege||{animation:`${yO} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite`}}]}))),Pge=Se("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e.bar2,e[`barColor${Ie(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar2Indeterminate,n.variant==="buffer"&&e.bar2Buffer]}})(St(({theme:t})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[...Object.entries(t.palette).filter(Jr()).map(([e])=>({props:{color:e},style:{"--LinearProgressBar2-barColor":(t.vars||t).palette[e].main}})),{props:({ownerState:e})=>e.variant!=="buffer"&&e.color!=="inherit",style:{backgroundColor:"var(--LinearProgressBar2-barColor, currentColor)"}},{props:({ownerState:e})=>e.variant!=="buffer"&&e.color==="inherit",style:{backgroundColor:"currentColor"}},{props:{color:"inherit"},style:{opacity:.3}},...Object.entries(t.palette).filter(Jr()).map(([e])=>({props:{color:e,variant:"buffer"},style:{backgroundColor:QL(t,e),transition:`transform .${mO}s linear`}})),{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:{width:"auto"}},{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:xge||{animation:`${bO} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite`}}]}))),Mge=w.forwardRef(function(e,n){const r=Lt({props:e,name:"MuiLinearProgress"}),{className:o,color:i="primary",value:s,valueBuffer:a,variant:c="indeterminate",...d}=r,h={...r,color:i,variant:c},p=Tge(h),g=Ni(),m={},v={bar1:{},bar2:{}};if((c==="determinate"||c==="buffer")&&s!==void 0){m["aria-valuenow"]=Math.round(s),m["aria-valuemin"]=0,m["aria-valuemax"]=100;let S=s-100;g&&(S=-S),v.bar1.transform=`translateX(${S}%)`}if(c==="buffer"&&a!==void 0){let S=(a||0)-100;g&&(S=-S),v.bar2.transform=`translateX(${S}%)`}return T.jsxs(Age,{className:Ne(p.root,o),ownerState:h,role:"progressbar",...m,ref:n,...d,children:[c==="buffer"?T.jsx(Ige,{className:p.dashed,ownerState:h}):null,T.jsx(Rge,{className:p.bar1,ownerState:h,style:v.bar1}),c==="determinate"?null:T.jsx(Pge,{className:p.bar2,ownerState:h,style:v.bar2})]})}),fS=w.createContext({});function kge(t){return kt("MuiList",t)}Pt("MuiList",["root","padding","dense","subheader"]);const Oge=t=>{const{classes:e,disablePadding:n,dense:r,subheader:o}=t;return Ze({root:["root",!n&&"padding",r&&"dense",o&&"subheader"]},kge,e)},Dge=Se("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>t.subheader,style:{paddingTop:0}}]}),Lge=w.forwardRef(function(e,n){const r=Lt({props:e,name:"MuiList"}),{children:o,className:i,component:s="ul",dense:a=!1,disablePadding:c=!1,subheader:d,...h}=r,p=w.useMemo(()=>({dense:a}),[a]),g={...r,component:s,dense:a,disablePadding:c},m=Oge(g);return T.jsx(fS.Provider,{value:p,children:T.jsxs(Dge,{as:s,className:Ne(m.root,i),ref:n,ownerState:g,...h,children:[d,o]})})});function Nge(t){return kt("MuiListItemIcon",t)}const Oj=Pt("MuiListItemIcon",["root","alignItemsFlexStart"]),Fge=t=>{const{alignItems:e,classes:n}=t;return Ze({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},Nge,n)},$ge=Se("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(St(({theme:t})=>({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),Dj=w.forwardRef(function(e,n){const r=Lt({props:e,name:"MuiListItemIcon"}),{className:o,...i}=r,s=w.useContext(fS),a={...r,alignItems:s.alignItems},c=Fge(a);return T.jsx($ge,{className:Ne(c.root,o),ownerState:a,ref:n,...i})});function Vge(t){return kt("MuiListItemText",t)}const _p=Pt("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),zge=t=>{const{classes:e,inset:n,primary:r,secondary:o,dense:i}=t;return Ze({root:["root",n&&"inset",i&&"dense",r&&o&&"multiline"],primary:["primary"],secondary:["secondary"]},Vge,e)},Bge=Se("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${_p.primary}`]:e.primary},{[`& .${_p.secondary}`]:e.secondary},e.root,n.inset&&e.inset,n.primary&&n.secondary&&e.multiline,n.dense&&e.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${tj.root}:where(& .${_p.primary})`]:{display:"block"},[`.${tj.root}:where(& .${_p.secondary})`]:{display:"block"},variants:[{props:({ownerState:t})=>t.primary&&t.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:56}}]}),Hge=w.forwardRef(function(e,n){const r=Lt({props:e,name:"MuiListItemText"}),{children:o,className:i,disableTypography:s=!1,inset:a=!1,primary:c,primaryTypographyProps:d,secondary:h,secondaryTypographyProps:p,slots:g={},slotProps:m={},...v}=r,{dense:S}=w.useContext(fS);let C=c??o,x=h;const O={...r,disableTypography:s,inset:a,primary:!!C,secondary:!!x,dense:S},M=zge(O),P={slots:g,slotProps:{primary:d,secondary:p,...m}},[k,$]=At("root",{className:Ne(M.root,i),elementType:Bge,externalForwardedProps:{...P,...v},ownerState:O,ref:n}),[D,I]=At("primary",{className:M.primary,elementType:pr,externalForwardedProps:P,ownerState:O}),[A,N]=At("secondary",{className:M.secondary,elementType:pr,externalForwardedProps:P,ownerState:O});return C!=null&&C.type!==pr&&!s&&(C=T.jsx(D,{variant:S?"body2":"body1",component:I!=null&&I.variant?void 0:"span",...I,children:C})),x!=null&&x.type!==pr&&!s&&(x=T.jsx(A,{variant:"body2",color:"textSecondary",...N,children:x})),T.jsxs(k,{...$,children:[C,x]})});function OM(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function Lj(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function T9(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.startsWith(e.keys.join(""))}function zw(t,e,n,r,o,i){let s=!1,a=o(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(s)return!1;s=!0}const c=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!T9(a,i)||c)a=o(t,a,n);else return a.focus(),!0}return!1}const A9=w.forwardRef(function(e,n){const{actions:r,autoFocus:o=!1,autoFocusItem:i=!1,children:s,className:a,disabledItemsFocusable:c=!1,disableListWrap:d=!1,onKeyDown:h,variant:p="selectedMenu",...g}=e,m=w.useRef(null),v=w.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Un(()=>{o&&m.current.focus()},[o]),w.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(M,{direction:P})=>{const k=!m.current.style.width;if(M.clientHeight<m.current.clientHeight&&k){const $=`${w9(Ol(M))}px`;m.current.style[P==="rtl"?"paddingLeft":"paddingRight"]=$,m.current.style.width=`calc(100% + ${$})`}return m.current}}),[]);const S=M=>{const P=m.current,k=M.key;if(M.ctrlKey||M.metaKey||M.altKey){h&&h(M);return}const D=Br(P).activeElement;if(k==="ArrowDown")M.preventDefault(),zw(P,D,d,c,OM);else if(k==="ArrowUp")M.preventDefault(),zw(P,D,d,c,Lj);else if(k==="Home")M.preventDefault(),zw(P,null,d,c,OM);else if(k==="End")M.preventDefault(),zw(P,null,d,c,Lj);else if(k.length===1){const I=v.current,A=k.toLowerCase(),N=performance.now();I.keys.length>0&&(N-I.lastTime>500?(I.keys=[],I.repeating=!0,I.previousKeyMatched=!0):I.repeating&&A!==I.keys[0]&&(I.repeating=!1)),I.lastTime=N,I.keys.push(A);const F=D&&!I.repeating&&T9(D,I);I.previousKeyMatched&&(F||zw(P,D,!1,c,OM,I))?M.preventDefault():I.previousKeyMatched=!1}h&&h(M)},C=Tn(m,n);let x=-1;w.Children.forEach(s,(M,P)=>{if(!w.isValidElement(M)){x===P&&(x+=1,x>=s.length&&(x=-1));return}M.props.disabled||(p==="selectedMenu"&&M.props.selected||x===-1)&&(x=P),x===P&&(M.props.disabled||M.props.muiSkipListHighlight||M.type.muiSkipListHighlight)&&(x+=1,x>=s.length&&(x=-1))});const O=w.Children.map(s,(M,P)=>{if(P===x){const k={};return i&&(k.autoFocus=!0),M.props.tabIndex===void 0&&p==="selectedMenu"&&(k.tabIndex=0),w.cloneElement(M,k)}return M});return T.jsx(Lge,{role:"menu",ref:C,className:a,onKeyDown:S,tabIndex:o?0:-1,...g,children:O})});function jge(t){return kt("MuiPopover",t)}Pt("MuiPopover",["root","paper"]);function Nj(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function Fj(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function $j(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function T1(t){return typeof t=="function"?t():t}const Uge=t=>{const{classes:e}=t;return Ze({root:["root"],paper:["paper"]},jge,e)},Gge=Se(KL,{name:"MuiPopover",slot:"Root"})({}),I9=Se(Pf,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Wge=w.forwardRef(function(e,n){const r=Lt({props:e,name:"MuiPopover"}),{action:o,anchorEl:i,anchorOrigin:s={vertical:"top",horizontal:"left"},anchorPosition:a,anchorReference:c="anchorEl",children:d,className:h,container:p,elevation:g=8,marginThreshold:m=16,open:v,PaperProps:S={},slots:C={},slotProps:x={},transformOrigin:O={vertical:"top",horizontal:"left"},TransitionComponent:M,transitionDuration:P="auto",TransitionProps:k={},disableScrollLock:$=!1,...D}=r,I=w.useRef(),A={...r,anchorOrigin:s,anchorReference:c,elevation:g,marginThreshold:m,transformOrigin:O,TransitionComponent:M,transitionDuration:P,TransitionProps:k},N=Uge(A),F=w.useCallback(()=>{if(c==="anchorPosition")return a;const le=T1(i),ye=(le&&le.nodeType===1?le:Br(I.current).body).getBoundingClientRect();return{top:ye.top+Nj(ye,s.vertical),left:ye.left+Fj(ye,s.horizontal)}},[i,s.horizontal,s.vertical,a,c]),R=w.useCallback(le=>({vertical:Nj(le,O.vertical),horizontal:Fj(le,O.horizontal)}),[O.horizontal,O.vertical]),V=w.useCallback(le=>{const pe={width:le.offsetWidth,height:le.offsetHeight},ye=R(pe);if(c==="none")return{top:null,left:null,transformOrigin:$j(ye)};const xe=F();let Ce=xe.top-ye.vertical,Pe=xe.left-ye.horizontal;const ze=Ce+pe.height,Ke=Pe+pe.width,ke=Ol(T1(i)),ot=ke.innerHeight-m,Ye=ke.innerWidth-m;if(m!==null&&Ce<m){const at=Ce-m;Ce-=at,ye.vertical+=at}else if(m!==null&&ze>ot){const at=ze-ot;Ce-=at,ye.vertical+=at}if(m!==null&&Pe<m){const at=Pe-m;Pe-=at,ye.horizontal+=at}else if(Ke>Ye){const at=Ke-Ye;Pe-=at,ye.horizontal+=at}return{top:`${Math.round(Ce)}px`,left:`${Math.round(Pe)}px`,transformOrigin:$j(ye)}},[i,c,F,R,m]),[q,K]=w.useState(v),z=w.useCallback(()=>{const le=I.current;if(!le)return;const pe=V(le);pe.top!==null&&le.style.setProperty("top",pe.top),pe.left!==null&&(le.style.left=pe.left),le.style.transformOrigin=pe.transformOrigin,K(!0)},[V]);w.useEffect(()=>($&&window.addEventListener("scroll",z),()=>window.removeEventListener("scroll",z)),[i,$,z]);const H=()=>{z()},Z=()=>{K(!1)};w.useEffect(()=>{v&&z()}),w.useImperativeHandle(o,()=>v?{updatePosition:()=>{z()}}:null,[v,z]),w.useEffect(()=>{if(!v)return;const le=Av(()=>{z()}),pe=Ol(T1(i));return pe.addEventListener("resize",le),()=>{le.clear(),pe.removeEventListener("resize",le)}},[i,v,z]);let re=P;const j={slots:{transition:M,...C},slotProps:{transition:k,paper:S,...x}},[X,ne]=At("transition",{elementType:hS,externalForwardedProps:j,ownerState:A,getSlotProps:le=>({...le,onEntering:(pe,ye)=>{var xe;(xe=le.onEntering)==null||xe.call(le,pe,ye),H()},onExited:pe=>{var ye;(ye=le.onExited)==null||ye.call(le,pe),Z()}}),additionalProps:{appear:!0,in:v}});P==="auto"&&!X.muiSupportAuto&&(re=void 0);const ie=p||(i?Br(T1(i)).body:void 0),[se,{slots:ce,slotProps:ae,...ge}]=At("root",{ref:n,elementType:Gge,externalForwardedProps:{...j,...D},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:C.backdrop},slotProps:{backdrop:LL(typeof x.backdrop=="function"?x.backdrop(A):x.backdrop,{invisible:!0})},container:ie,open:v},ownerState:A,className:Ne(N.root,h)}),[Ee,Te]=At("paper",{ref:I,className:N.paper,elementType:I9,externalForwardedProps:j,shouldForwardComponentProp:!0,additionalProps:{elevation:g,style:q?void 0:{opacity:0}},ownerState:A});return T.jsx(se,{...ge,...!uO(se)&&{slots:ce,slotProps:ae,disableScrollLock:$},children:T.jsx(X,{...ne,timeout:re,children:T.jsx(Ee,{...Te,children:d})})})});function qge(t){return kt("MuiMenu",t)}Pt("MuiMenu",["root","paper","list"]);const Kge={vertical:"top",horizontal:"right"},Yge={vertical:"top",horizontal:"left"},Xge=t=>{const{classes:e}=t;return Ze({root:["root"],paper:["paper"],list:["list"]},qge,e)},Qge=Se(Wge,{shouldForwardProp:t=>es(t)||t==="classes",name:"MuiMenu",slot:"Root"})({}),Zge=Se(I9,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Jge=Se(A9,{name:"MuiMenu",slot:"List"})({outline:0}),eme=w.forwardRef(function(e,n){const r=Lt({props:e,name:"MuiMenu"}),{autoFocus:o=!0,children:i,className:s,disableAutoFocusItem:a=!1,MenuListProps:c={},onClose:d,open:h,PaperProps:p={},PopoverClasses:g,transitionDuration:m="auto",TransitionProps:{onEntering:v,...S}={},variant:C="selectedMenu",slots:x={},slotProps:O={},...M}=r,P=Ni(),k={...r,autoFocus:o,disableAutoFocusItem:a,MenuListProps:c,onEntering:v,PaperProps:p,transitionDuration:m,TransitionProps:S,variant:C},$=Xge(k),D=o&&!a&&h,I=w.useRef(null),A=(re,j)=>{I.current&&I.current.adjustStyleForScrollbar(re,{direction:P?"rtl":"ltr"}),v&&v(re,j)},N=re=>{re.key==="Tab"&&(re.preventDefault(),d&&d(re,"tabKeyDown"))};let F=-1;w.Children.map(i,(re,j)=>{w.isValidElement(re)&&(re.props.disabled||(C==="selectedMenu"&&re.props.selected||F===-1)&&(F=j))});const R={slots:x,slotProps:{list:c,transition:S,paper:p,...O}},V=c9({elementType:x.root,externalSlotProps:O.root,ownerState:k,className:[$.root,s]}),[q,K]=At("paper",{className:$.paper,elementType:Zge,externalForwardedProps:R,shouldForwardComponentProp:!0,ownerState:k}),[z,H]=At("list",{className:Ne($.list,c.className),elementType:Jge,shouldForwardComponentProp:!0,externalForwardedProps:R,getSlotProps:re=>({...re,onKeyDown:j=>{var X;N(j),(X=re.onKeyDown)==null||X.call(re,j)}}),ownerState:k}),Z=typeof R.slotProps.transition=="function"?R.slotProps.transition(k):R.slotProps.transition;return T.jsx(Qge,{onClose:d,anchorOrigin:{vertical:"bottom",horizontal:P?"right":"left"},transformOrigin:P?Kge:Yge,slots:{root:x.root,paper:q,backdrop:x.backdrop,...x.transition&&{transition:x.transition}},slotProps:{root:V,paper:K,backdrop:typeof O.backdrop=="function"?O.backdrop(k):O.backdrop,transition:{...Z,onEntering:(...re)=>{var j;A(...re),(j=Z==null?void 0:Z.onEntering)==null||j.call(Z,...re)}}},open:h,ref:n,transitionDuration:m,ownerState:k,...M,classes:g,children:T.jsx(z,{actions:I,autoFocus:o&&(F===-1||a),autoFocusItem:D,variant:C,...H,children:i})})});function tme(t){return kt("MuiMenuItem",t)}const Bw=Pt("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),nme=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},rme=t=>{const{disabled:e,dense:n,divider:r,disableGutters:o,selected:i,classes:s}=t,c=Ze({root:["root",n&&"dense",e&&"disabled",!o&&"gutters",r&&"divider",i&&"selected"]},tme,s);return{...s,...c}},ome=Se(Zg,{shouldForwardProp:t=>es(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:nme})(St(({theme:t})=>({...t.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Bw.selected}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),[`&.${Bw.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}},[`&.${Bw.selected}:hover`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity)}},[`&.${Bw.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Bw.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${Rj.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${Rj.inset}`]:{marginLeft:52},[`& .${_p.root}`]:{marginTop:0,marginBottom:0},[`& .${_p.inset}`]:{paddingLeft:36},[`& .${Oj.root}`]:{minWidth:36},variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>!e.dense,style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:e})=>e.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...t.typography.body2,[`& .${Oj.root} svg`]:{fontSize:"1.25rem"}}}]}))),ZL=w.forwardRef(function(e,n){const r=Lt({props:e,name:"MuiMenuItem"}),{autoFocus:o=!1,component:i="li",dense:s=!1,divider:a=!1,disableGutters:c=!1,focusVisibleClassName:d,role:h="menuitem",tabIndex:p,className:g,...m}=r,v=w.useContext(fS),S=w.useMemo(()=>({dense:s||v.dense||!1,disableGutters:c}),[v.dense,s,c]),C=w.useRef(null);Un(()=>{o&&C.current&&C.current.focus()},[o]);const x={...r,dense:S.dense,divider:a,disableGutters:c},O=rme(r),M=Tn(C,n);let P;return r.disabled||(P=p!==void 0?p:-1),T.jsx(fS.Provider,{value:S,children:T.jsx(ome,{ref:M,role:h,tabIndex:P,component:i,focusVisibleClassName:Ne(O.focusVisible,d),className:Ne(O.root,g),...m,ownerState:x,classes:O})})});function ime(t){return kt("MuiNativeSelect",t)}const JL=Pt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),sme=t=>{const{classes:e,variant:n,disabled:r,multiple:o,open:i,error:s}=t,a={select:["select",n,r&&"disabled",o&&"multiple",s&&"error"],icon:["icon",`icon${Ie(n)}`,i&&"iconOpen",r&&"disabled"]};return Ze(a,ime,e)},R9=Se("select",{name:"MuiNativeSelect"})(({theme:t})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${JL.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]})),ame=Se(R9,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:es,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${JL.multiple}`]:e.multiple}]}})({}),P9=Se("svg",{name:"MuiNativeSelect"})(({theme:t})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${JL.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),lme=Se(P9,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${Ie(n.variant)}`],n.open&&e.iconOpen]}})({}),cme=w.forwardRef(function(e,n){const{className:r,disabled:o,error:i,IconComponent:s,inputRef:a,variant:c="standard",...d}=e,h={...e,disabled:o,variant:c,error:i},p=sme(h);return T.jsxs(w.Fragment,{children:[T.jsx(ame,{ownerState:h,className:Ne(p.select,r),disabled:o,ref:a||n,...d}),e.multiple?null:T.jsx(lme,{as:s,ownerState:h,className:p.icon})]})});var Vj;const ume=Se("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:es})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),dme=Se("legend",{name:"MuiNotchedOutlined",shouldForwardProp:es})(St(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]})));function hme(t){const{children:e,classes:n,className:r,label:o,notched:i,...s}=t,a=o!=null&&o!=="",c={...t,notched:i,withLabel:a};return T.jsx(ume,{"aria-hidden":!0,className:r,ownerState:c,...s,children:T.jsx(dme,{ownerState:c,children:a?T.jsx("span",{children:o}):Vj||(Vj=T.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const fme=t=>{const{classes:e}=t,r=Ze({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Lhe,e);return{...e,...r}},pme=Se(fI,{shouldForwardProp:t=>es(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:dI})(St(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${xa.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${xa.notchedOutline}`]:{borderColor:t.vars?t.alpha(t.vars.palette.common.onBackground,.23):e}},[`&.${xa.focused} .${xa.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(Jr()).map(([n])=>({props:{color:n},style:{[`&.${xa.focused} .${xa.notchedOutline}`]:{borderColor:(t.vars||t).palette[n].main}}})),{props:{},style:{[`&.${xa.error} .${xa.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${xa.disabled} .${xa.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:14}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:14}},{props:({ownerState:n})=>n.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:n,size:r})=>n.multiline&&r==="small",style:{padding:"8.5px 14px"}}]}})),gme=Se(hme,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(St(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?t.alpha(t.vars.palette.common.onBackground,.23):e}})),mme=Se(pI,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:hI})(St(({theme:t})=>({padding:"16.5px 14px",...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),eN=w.forwardRef(function(e,n){const r=Lt({props:e,name:"MuiOutlinedInput"}),{components:o={},fullWidth:i=!1,inputComponent:s="input",label:a,multiline:c=!1,notched:d,slots:h={},slotProps:p={},type:g="text",...m}=r,v=fme(r),S=Ed(),C=um({props:r,muiFormControl:S,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),x={...r,color:C.color||"primary",disabled:C.disabled,error:C.error,focused:C.focused,formControl:S,fullWidth:i,hiddenLabel:C.hiddenLabel,multiline:c,size:C.size,type:g},O=h.root??o.Root??pme,M=h.input??o.Input??mme,[P,k]=At("notchedOutline",{elementType:gme,className:v.notchedOutline,shouldForwardComponentProp:!0,ownerState:x,externalForwardedProps:{slots:h,slotProps:p},additionalProps:{label:a!=null&&a!==""&&C.required?T.jsxs(w.Fragment,{children:[a,"","*"]}):a}});return T.jsx(IE,{slots:{root:O,input:M},slotProps:p,renderSuffix:$=>T.jsx(P,{...k,notched:typeof d<"u"?d:!!($.startAdornment||$.filled||$.focused)}),fullWidth:i,inputComponent:s,multiline:c,ref:n,type:g,...m,classes:{...v,notchedOutline:null}})});eN.muiName="Input";const yme=vs(T.jsx("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"})),bme=vs(T.jsx("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}));function M9(t){return kt("MuiSelect",t)}const Hw=Pt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var zj;const vme=Se(R9,{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${Hw.select}`]:e.select},{[`&.${Hw.select}`]:e[n.variant]},{[`&.${Hw.error}`]:e.error},{[`&.${Hw.multiple}`]:e.multiple}]}})({[`&.${Hw.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),wme=Se(P9,{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${Ie(n.variant)}`],n.open&&e.iconOpen]}})({}),Sme=Se("input",{shouldForwardProp:t=>KG(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function Bj(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function Cme(t){return t==null||typeof t=="string"&&!t.trim()}const Eme=t=>{const{classes:e,variant:n,disabled:r,multiple:o,open:i,error:s}=t,a={select:["select",n,r&&"disabled",o&&"multiple",s&&"error"],icon:["icon",`icon${Ie(n)}`,i&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return Ze(a,M9,e)},xme=w.forwardRef(function(e,n){var mt,Ut,Ot,mn;const{"aria-describedby":r,"aria-label":o,autoFocus:i,autoWidth:s,children:a,className:c,defaultOpen:d,defaultValue:h,disabled:p,displayEmpty:g,error:m=!1,IconComponent:v,inputRef:S,labelId:C,MenuProps:x={},multiple:O,name:M,onBlur:P,onChange:k,onClose:$,onFocus:D,onOpen:I,open:A,readOnly:N,renderValue:F,required:R,SelectDisplayProps:V={},tabIndex:q,type:K,value:z,variant:H="standard",...Z}=e,[re,j]=$g({controlled:z,default:h,name:"Select"}),[X,ne]=$g({controlled:A,default:d,name:"Select"}),ie=w.useRef(null),se=w.useRef(null),[ce,ae]=w.useState(null),{current:ge}=w.useRef(A!=null),[Ee,Te]=w.useState(),le=Tn(n,S),pe=w.useCallback(vt=>{se.current=vt,vt&&ae(vt)},[]),ye=ce==null?void 0:ce.parentNode;w.useImperativeHandle(le,()=>({focus:()=>{se.current.focus()},node:ie.current,value:re}),[re]),w.useEffect(()=>{d&&X&&ce&&!ge&&(Te(s?null:ye.clientWidth),se.current.focus())},[ce,s]),w.useEffect(()=>{i&&se.current.focus()},[i]),w.useEffect(()=>{if(!C)return;const vt=Br(se.current).getElementById(C);if(vt){const Yt=()=>{getSelection().isCollapsed&&se.current.focus()};return vt.addEventListener("click",Yt),()=>{vt.removeEventListener("click",Yt)}}},[C]);const xe=(vt,Yt)=>{vt?I&&I(Yt):$&&$(Yt),ge||(Te(s?null:ye.clientWidth),ne(vt))},Ce=vt=>{vt.button===0&&(vt.preventDefault(),se.current.focus(),xe(!0,vt))},Pe=vt=>{xe(!1,vt)},ze=w.Children.toArray(a),Ke=vt=>{const Yt=ze.find(Zt=>Zt.props.value===vt.target.value);Yt!==void 0&&(j(Yt.props.value),k&&k(vt,Yt))},ke=vt=>Yt=>{let Zt;if(Yt.currentTarget.hasAttribute("tabindex")){if(O){Zt=Array.isArray(re)?re.slice():[];const An=re.indexOf(vt.props.value);An===-1?Zt.push(vt.props.value):Zt.splice(An,1)}else Zt=vt.props.value;if(vt.props.onClick&&vt.props.onClick(Yt),re!==Zt&&(j(Zt),k)){const An=Yt.nativeEvent||Yt,_r=new An.constructor(An.type,An);Object.defineProperty(_r,"target",{writable:!0,value:{value:Zt,name:M}}),k(_r,vt)}O||xe(!1,Yt)}},ot=vt=>{N||[" ","ArrowUp","ArrowDown","Enter"].includes(vt.key)&&(vt.preventDefault(),xe(!0,vt))},Ye=ce!==null&&X,at=vt=>{!Ye&&P&&(Object.defineProperty(vt,"target",{writable:!0,value:{value:re,name:M}}),P(vt))};delete Z["aria-invalid"];let he,Ue;const qe=[];let nt=!1;(MT({value:re})||g)&&(F?he=F(re):nt=!0);const Je=ze.map(vt=>{if(!w.isValidElement(vt))return null;let Yt;if(O){if(!Array.isArray(re))throw new Error(md(2));Yt=re.some(Zt=>Bj(Zt,vt.props.value)),Yt&&nt&&qe.push(vt.props.children)}else Yt=Bj(re,vt.props.value),Yt&&nt&&(Ue=vt.props.children);return w.cloneElement(vt,{"aria-selected":Yt?"true":"false",onClick:ke(vt),onKeyUp:Zt=>{Zt.key===" "&&Zt.preventDefault(),vt.props.onKeyUp&&vt.props.onKeyUp(Zt)},role:"option",selected:Yt,value:void 0,"data-value":vt.props.value})});nt&&(O?qe.length===0?he=null:he=qe.reduce((vt,Yt,Zt)=>(vt.push(Yt),Zt<qe.length-1&&vt.push(", "),vt),[]):he=Ue);let Qe=Ee;!s&&ge&&ce&&(Qe=ye.clientWidth);let dt;typeof q<"u"?dt=q:dt=p?null:0;const ht=V.id||(M?`mui-component-select-${M}`:void 0),Ge={...e,variant:H,value:re,open:Ye,error:m},De=Eme(Ge),it={...x.PaperProps,...typeof((mt=x.slotProps)==null?void 0:mt.paper)=="function"?x.slotProps.paper(Ge):(Ut=x.slotProps)==null?void 0:Ut.paper},Et={...x.MenuListProps,...typeof((Ot=x.slotProps)==null?void 0:Ot.list)=="function"?x.slotProps.list(Ge):(mn=x.slotProps)==null?void 0:mn.list},gt=sn();return T.jsxs(w.Fragment,{children:[T.jsx(vme,{as:"div",ref:pe,tabIndex:dt,role:"combobox","aria-controls":Ye?gt:void 0,"aria-disabled":p?"true":void 0,"aria-expanded":Ye?"true":"false","aria-haspopup":"listbox","aria-label":o,"aria-labelledby":[C,ht].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":R?"true":void 0,"aria-invalid":m?"true":void 0,onKeyDown:ot,onMouseDown:p||N?null:Ce,onBlur:at,onFocus:D,...V,ownerState:Ge,className:Ne(V.className,De.select,c),id:ht,children:Cme(he)?zj||(zj=T.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):he}),T.jsx(Sme,{"aria-invalid":m,value:Array.isArray(re)?re.join(","):re,name:M,ref:ie,"aria-hidden":!0,onChange:Ke,tabIndex:-1,disabled:p,className:De.nativeInput,autoFocus:i,required:R,...Z,ownerState:Ge}),T.jsx(wme,{as:v,className:De.icon,ownerState:Ge}),T.jsx(eme,{id:`menu-${M||""}`,anchorEl:ye,open:Ye,onClose:Pe,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...x,slotProps:{...x.slotProps,list:{"aria-labelledby":C,role:"listbox","aria-multiselectable":O?"true":void 0,disableListWrap:!0,id:gt,...Et},paper:{...it,style:{minWidth:Qe,...it!=null?it.style:null}}},children:Je})]})}),_me=t=>{const{classes:e}=t,r=Ze({root:["root"]},M9,e);return{...e,...r}},tN={name:"MuiSelect",slot:"Root",shouldForwardProp:t=>es(t)&&t!=="variant"},Tme=Se(XL,tN)(""),Ame=Se(eN,tN)(""),Ime=Se(YL,tN)(""),gI=w.forwardRef(function(e,n){const r=Lt({name:"MuiSelect",props:e}),{autoWidth:o=!1,children:i,classes:s={},className:a,defaultOpen:c=!1,displayEmpty:d=!1,IconComponent:h=d9,id:p,input:g,inputProps:m,label:v,labelId:S,MenuProps:C,multiple:x=!1,native:O=!1,onClose:M,onOpen:P,open:k,renderValue:$,SelectDisplayProps:D,variant:I="outlined",...A}=r,N=O?cme:xme,F=Ed(),R=um({props:r,muiFormControl:F,states:["variant","error"]}),V=R.variant||I,q={...r,variant:V,classes:s},K=_me(q),{root:z,...H}=K,Z=g||{standard:T.jsx(Tme,{ownerState:q}),outlined:T.jsx(Ame,{label:v,ownerState:q}),filled:T.jsx(Ime,{ownerState:q})}[V],re=Tn(n,kf(Z));return T.jsx(w.Fragment,{children:w.cloneElement(Z,{inputComponent:N,inputProps:{children:i,error:R.error,IconComponent:h,variant:V,type:void 0,multiple:x,...O?{id:p}:{autoWidth:o,defaultOpen:c,displayEmpty:d,labelId:S,MenuProps:C,onClose:M,onOpen:P,open:k,renderValue:$,SelectDisplayProps:{id:p,...D}},...m,classes:m?Jo(H,m.classes):H,...g?g.props.inputProps:{}},...(x&&O||d)&&V==="outlined"?{notched:!0}:{},ref:re,className:Ne(Z.props.className,a,K.root),...!g&&{variant:V},...A})})});gI.muiName="Select";function Rme(t){return kt("MuiSkeleton",t)}Pt("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const Pme=t=>{const{classes:e,variant:n,animation:r,hasChildren:o,width:i,height:s}=t;return Ze({root:["root",n,r,o&&"withChildren",o&&!i&&"fitContent",o&&!s&&"heightAuto"]},Rme,e)},wO=Ja`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`,SO=Ja`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`,Mme=typeof wO!="string"?Rf`
        animation: ${wO} 2s ease-in-out 0.5s infinite;
      `:null,kme=typeof SO!="string"?Rf`
        &::after {
          animation: ${SO} 2s linear 0.5s infinite;
        }
      `:null,Ome=Se("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.animation!==!1&&e[n.animation],n.hasChildren&&e.withChildren,n.hasChildren&&!n.width&&e.fitContent,n.hasChildren&&!n.height&&e.heightAuto]}})(St(({theme:t})=>{const e=Qce(t.shape.borderRadius)||"px",n=Zce(t.shape.borderRadius);return{display:"block",backgroundColor:t.vars?t.vars.palette.Skeleton.bg:t.alpha(t.palette.text.primary,t.palette.mode==="light"?.11:.13),height:"1.2em",variants:[{props:{variant:"text"},style:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${n}${e}/${Math.round(n/.6*10)/10}${e}`,"&:empty:before":{content:'"\\00a0"'}}},{props:{variant:"circular"},style:{borderRadius:"50%"}},{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:({ownerState:r})=>r.hasChildren,style:{"& > *":{visibility:"hidden"}}},{props:({ownerState:r})=>r.hasChildren&&!r.width,style:{maxWidth:"fit-content"}},{props:({ownerState:r})=>r.hasChildren&&!r.height,style:{height:"auto"}},{props:{animation:"pulse"},style:Mme||{animation:`${wO} 2s ease-in-out 0.5s infinite`}},{props:{animation:"wave"},style:{position:"relative",overflow:"hidden",WebkitMaskImage:"-webkit-radial-gradient(white, black)","&::after":{background:`linear-gradient(
                90deg,
                transparent,
                ${(t.vars||t).palette.action.hover},
                transparent
              )`,content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}}},{props:{animation:"wave"},style:kme||{"&::after":{animation:`${SO} 2s linear 0.5s infinite`}}}]}})),Dme=w.forwardRef(function(e,n){const r=Lt({props:e,name:"MuiSkeleton"}),{animation:o="pulse",className:i,component:s="span",height:a,style:c,variant:d="text",width:h,...p}=r,g={...r,animation:o,component:s,variant:d,hasChildren:!!p.children},m=Pme(g);return T.jsx(Ome,{as:s,ref:n,className:Ne(m.root,i),ownerState:g,...p,style:{width:h,height:a,...c}})});function Lme(t){return kt("MuiTooltip",t)}const Qr=Pt("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function Nme(t){return Math.round(t*1e5)/1e5}const Fme=t=>{const{classes:e,disableInteractive:n,arrow:r,touch:o,placement:i}=t,s={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",o&&"touch",`tooltipPlacement${Ie(i.split("-")[0])}`],arrow:["arrow"]};return Ze(s,Lme,e)},$me=Se(AE,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.popper,!n.disableInteractive&&e.popperInteractive,n.arrow&&e.popperArrow,!n.open&&e.popperClose]}})(St(({theme:t})=>({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:e})=>!e.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:e})=>!e,style:{pointerEvents:"none"}},{props:({ownerState:e})=>e.arrow,style:{[`&[data-popper-placement*="bottom"] .${Qr.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Qr.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Qr.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${Qr.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="right"] .${Qr.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="right"] .${Qr.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="left"] .${Qr.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="left"] .${Qr.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),Vme=Se("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.tooltip,n.touch&&e.touch,n.arrow&&e.tooltipArrow,e[`tooltipPlacement${Ie(n.placement.split("-")[0])}`]]}})(St(({theme:t})=>({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:t.alpha(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium,[`.${Qr.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${Qr.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${Qr.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${Qr.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:e})=>e.arrow,style:{position:"relative",margin:0}},{props:({ownerState:e})=>e.touch,style:{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${Nme(16/14)}em`,fontWeight:t.typography.fontWeightRegular}},{props:({ownerState:e})=>!e.isRtl,style:{[`.${Qr.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${Qr.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:e})=>!e.isRtl&&e.touch,style:{[`.${Qr.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${Qr.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:e})=>!!e.isRtl,style:{[`.${Qr.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${Qr.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:e})=>!!e.isRtl&&e.touch,style:{[`.${Qr.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${Qr.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${Qr.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${Qr.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),zme=Se("span",{name:"MuiTooltip",slot:"Arrow"})(St(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:t.alpha(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let A1=!1;const Hj=new aI;let jw={x:0,y:0};function I1(t,e){return(n,...r)=>{e&&e(n,...r),t(n,...r)}}const k9=w.forwardRef(function(e,n){const r=Lt({props:e,name:"MuiTooltip"}),{arrow:o=!1,children:i,classes:s,components:a={},componentsProps:c={},describeChild:d=!1,disableFocusListener:h=!1,disableHoverListener:p=!1,disableInteractive:g=!1,disableTouchListener:m=!1,enterDelay:v=100,enterNextDelay:S=0,enterTouchDelay:C=700,followCursor:x=!1,id:O,leaveDelay:M=0,leaveTouchDelay:P=1500,onClose:k,onOpen:$,open:D,placement:I="bottom",PopperComponent:A,PopperProps:N={},slotProps:F={},slots:R={},title:V,TransitionComponent:q,TransitionProps:K,...z}=r,H=w.isValidElement(i)?i:T.jsx("span",{children:i}),Z=Cd(),re=Ni(),[j,X]=w.useState(),[ne,ie]=w.useState(null),se=w.useRef(!1),ce=g||x,ae=Js(),ge=Js(),Ee=Js(),Te=Js(),[le,pe]=$g({controlled:D,default:!1,name:"Tooltip",state:"open"});let ye=le;const xe=sn(O),Ce=w.useRef(),Pe=Mt(()=>{Ce.current!==void 0&&(document.body.style.WebkitUserSelect=Ce.current,Ce.current=void 0),Te.clear()});w.useEffect(()=>Pe,[Pe]);const ze=Nt=>{Hj.clear(),A1=!0,pe(!0),$&&!ye&&$(Nt)},Ke=Mt(Nt=>{Hj.start(800+M,()=>{A1=!1}),pe(!1),k&&ye&&k(Nt),ae.start(Z.transitions.duration.shortest,()=>{se.current=!1})}),ke=Nt=>{se.current&&Nt.type!=="touchstart"||(j&&j.removeAttribute("title"),ge.clear(),Ee.clear(),v||A1&&S?ge.start(A1?S:v,()=>{ze(Nt)}):ze(Nt))},ot=Nt=>{ge.clear(),Ee.start(M,()=>{Ke(Nt)})},[,Ye]=w.useState(!1),at=Nt=>{IT(Nt.target)||(Ye(!1),ot(Nt))},he=Nt=>{j||X(Nt.currentTarget),IT(Nt.target)&&(Ye(!0),ke(Nt))},Ue=Nt=>{se.current=!0;const Nn=H.props;Nn.onTouchStart&&Nn.onTouchStart(Nt)},qe=Nt=>{Ue(Nt),Ee.clear(),ae.clear(),Pe(),Ce.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Te.start(C,()=>{document.body.style.WebkitUserSelect=Ce.current,ke(Nt)})},nt=Nt=>{H.props.onTouchEnd&&H.props.onTouchEnd(Nt),Pe(),Ee.start(P,()=>{Ke(Nt)})};w.useEffect(()=>{if(!ye)return;function Nt(Nn){Nn.key==="Escape"&&Ke(Nn)}return document.addEventListener("keydown",Nt),()=>{document.removeEventListener("keydown",Nt)}},[Ke,ye]);const Je=Tn(kf(H),X,n);!V&&V!==0&&(ye=!1);const Qe=w.useRef(),dt=Nt=>{const Nn=H.props;Nn.onMouseMove&&Nn.onMouseMove(Nt),jw={x:Nt.clientX,y:Nt.clientY},Qe.current&&Qe.current.update()},ht={},Ge=typeof V=="string";d?(ht.title=!ye&&Ge&&!p?V:null,ht["aria-describedby"]=ye?xe:null):(ht["aria-label"]=Ge?V:null,ht["aria-labelledby"]=ye&&!Ge?xe:null);const De={...ht,...z,...H.props,className:Ne(z.className,H.props.className),onTouchStart:Ue,ref:Je,...x?{onMouseMove:dt}:{}},it={};m||(De.onTouchStart=qe,De.onTouchEnd=nt),p||(De.onMouseOver=I1(ke,De.onMouseOver),De.onMouseLeave=I1(ot,De.onMouseLeave),ce||(it.onMouseOver=ke,it.onMouseLeave=ot)),h||(De.onFocus=I1(he,De.onFocus),De.onBlur=I1(at,De.onBlur),ce||(it.onFocus=he,it.onBlur=at));const Et={...r,isRtl:re,arrow:o,disableInteractive:ce,placement:I,PopperComponentProp:A,touch:se.current},gt=typeof F.popper=="function"?F.popper(Et):F.popper,mt=w.useMemo(()=>{var Nn,ts;let Nt=[{name:"arrow",enabled:!!ne,options:{element:ne,padding:4}}];return(Nn=N.popperOptions)!=null&&Nn.modifiers&&(Nt=Nt.concat(N.popperOptions.modifiers)),(ts=gt==null?void 0:gt.popperOptions)!=null&&ts.modifiers&&(Nt=Nt.concat(gt.popperOptions.modifiers)),{...N.popperOptions,...gt==null?void 0:gt.popperOptions,modifiers:Nt}},[ne,N.popperOptions,gt==null?void 0:gt.popperOptions]),Ut=Fme(Et),Ot=typeof F.transition=="function"?F.transition(Et):F.transition,mn={slots:{popper:a.Popper,transition:a.Transition??q,tooltip:a.Tooltip,arrow:a.Arrow,...R},slotProps:{arrow:F.arrow??c.arrow,popper:{...N,...gt??c.popper},tooltip:F.tooltip??c.tooltip,transition:{...K,...Ot??c.transition}}},[vt,Yt]=At("popper",{elementType:$me,externalForwardedProps:mn,ownerState:Et,className:Ne(Ut.popper,N==null?void 0:N.className)}),[Zt,An]=At("transition",{elementType:hS,externalForwardedProps:mn,ownerState:Et}),[_r,Qn]=At("tooltip",{elementType:Vme,className:Ut.tooltip,externalForwardedProps:mn,ownerState:Et}),[Tr,jr]=At("arrow",{elementType:zme,className:Ut.arrow,externalForwardedProps:mn,ownerState:Et,ref:ie});return T.jsxs(w.Fragment,{children:[w.cloneElement(H,De),T.jsx(vt,{as:A??AE,placement:I,anchorEl:x?{getBoundingClientRect:()=>({top:jw.y,left:jw.x,right:jw.x,bottom:jw.y,width:0,height:0})}:j,popperRef:Qe,open:j?ye:!1,id:xe,transition:!0,...it,...Yt,popperOptions:mt,children:({TransitionProps:Nt})=>T.jsx(Zt,{timeout:Z.transitions.duration.shorter,...Nt,...An,children:T.jsxs(_r,{...Qn,children:[V,o?T.jsx(Tr,{...jr}):null]})})})]})}),O9=vce({createStyledComponent:Se("div",{name:"MuiStack",slot:"Root"}),useThemeProps:t=>Lt({props:t,name:"MuiStack"})});function Bme(t){return kt("MuiSwitch",t)}const Ui=Pt("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),Hme=t=>{const{classes:e,edge:n,size:r,color:o,checked:i,disabled:s}=t,a={root:["root",n&&`edge${Ie(n)}`,`size${Ie(r)}`],switchBase:["switchBase",`color${Ie(o)}`,i&&"checked",s&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},c=Ze(a,Bme,e);return{...e,...c}},jme=Se("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.edge&&e[`edge${Ie(n.edge)}`],e[`size${Ie(n.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${Ui.thumb}`]:{width:16,height:16},[`& .${Ui.switchBase}`]:{padding:4,[`&.${Ui.checked}`]:{transform:"translateX(16px)"}}}}]}),Ume=Se(m9,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.switchBase,{[`& .${Ui.input}`]:e.input},n.color!=="default"&&e[`color${Ie(n.color)}`]]}})(St(({theme:t})=>({position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:`${t.palette.mode==="light"?t.palette.common.white:t.palette.grey[300]}`,transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),[`&.${Ui.checked}`]:{transform:"translateX(20px)"},[`&.${Ui.disabled}`]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:`${t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[600]}`},[`&.${Ui.checked} + .${Ui.track}`]:{opacity:.5},[`&.${Ui.disabled} + .${Ui.track}`]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:`${t.palette.mode==="light"?.12:.2}`},[`& .${Ui.input}`]:{left:"-100%",width:"300%"}})),St(({theme:t})=>({"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(t.palette).filter(Jr(["light"])).map(([e])=>({props:{color:e},style:{[`&.${Ui.checked}`]:{color:(t.vars||t).palette[e].main,"&:hover":{backgroundColor:t.alpha((t.vars||t).palette[e].main,(t.vars||t).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Ui.disabled}`]:{color:t.vars?t.vars.palette.Switch[`${e}DisabledColor`]:`${t.palette.mode==="light"?t.lighten(t.palette[e].main,.62):t.darken(t.palette[e].main,.55)}`}},[`&.${Ui.checked} + .${Ui.track}`]:{backgroundColor:(t.vars||t).palette[e].main}}}))]}))),Gme=Se("span",{name:"MuiSwitch",slot:"Track"})(St(({theme:t})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:`${t.palette.mode==="light"?t.palette.common.black:t.palette.common.white}`,opacity:t.vars?t.vars.opacity.switchTrack:`${t.palette.mode==="light"?.38:.3}`}))),Wme=Se("span",{name:"MuiSwitch",slot:"Thumb"})(St(({theme:t})=>({boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),jj=w.forwardRef(function(e,n){const r=Lt({props:e,name:"MuiSwitch"}),{className:o,color:i="primary",edge:s=!1,size:a="medium",sx:c,slots:d={},slotProps:h={},...p}=r,g={...r,color:i,edge:s,size:a},m=Hme(g),v={slots:d,slotProps:h},[S,C]=At("root",{className:Ne(m.root,o),elementType:jme,externalForwardedProps:v,ownerState:g,additionalProps:{sx:c}}),[x,O]=At("thumb",{className:m.thumb,elementType:Wme,externalForwardedProps:v,ownerState:g}),M=T.jsx(x,{...O}),[P,k]=At("track",{className:m.track,elementType:Gme,externalForwardedProps:v,ownerState:g});return T.jsxs(S,{...C,children:[T.jsx(Ume,{type:"checkbox",icon:M,checkedIcon:M,ref:n,ownerState:g,...p,classes:{...m,root:m.switchBase},slots:{...d.switchBase&&{root:d.switchBase},...d.input&&{input:d.input}},slotProps:{...h.switchBase&&{root:typeof h.switchBase=="function"?h.switchBase(g):h.switchBase},input:{role:"switch"},...h.input&&{input:typeof h.input=="function"?h.input(g):h.input}}}),T.jsx(P,{...k})]})}),qme=w.createContext(),Kme=w.createContext();function Yme(t){return kt("MuiTableCell",t)}const Xme=Pt("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),Qme=t=>{const{classes:e,variant:n,align:r,padding:o,size:i,stickyHeader:s}=t,a={root:["root",n,s&&"stickyHeader",r!=="inherit"&&`align${Ie(r)}`,o!=="normal"&&`padding${Ie(o)}`,`size${Ie(i)}`]};return Ze(a,Yme,e)},Zme=Se("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`size${Ie(n.size)}`],n.padding!=="normal"&&e[`padding${Ie(n.padding)}`],n.align!=="inherit"&&e[`align${Ie(n.align)}`],n.stickyHeader&&e.stickyHeader]}})(St(({theme:t})=>({...t.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?`1px solid ${t.vars.palette.TableCell.border}`:`1px solid
    ${t.palette.mode==="light"?t.lighten(t.alpha(t.palette.divider,1),.88):t.darken(t.alpha(t.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(t.vars||t).palette.text.primary}},{props:{variant:"footer"},style:{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${Xme.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:e})=>e.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default}}]}))),CO=w.forwardRef(function(e,n){const r=Lt({props:e,name:"MuiTableCell"}),{align:o="inherit",className:i,component:s,padding:a,scope:c,size:d,sortDirection:h,variant:p,...g}=r,m=w.useContext(qme),v=w.useContext(Kme),S=v&&v.variant==="head";let C;s?C=s:C=S?"th":"td";let x=c;C==="td"?x=void 0:!x&&S&&(x="col");const O=p||v&&v.variant,M={...r,align:o,component:C,padding:a||(m&&m.padding?m.padding:"normal"),size:d||(m&&m.size?m.size:"medium"),sortDirection:h,stickyHeader:O==="head"&&m&&m.stickyHeader,variant:O},P=Qme(M);let k=null;return h&&(k=h==="asc"?"ascending":"descending"),T.jsx(Zme,{as:C,ref:n,className:Ne(P.root,i),"aria-sort":k,scope:x,ownerState:M,...g})});function Jme(t){return kt("MuiToolbar",t)}Pt("MuiToolbar",["root","gutters","regular","dense"]);const eye=t=>{const{classes:e,disableGutters:n,variant:r}=t;return Ze({root:["root",!n&&"gutters",r]},Jme,e)},tye=Se("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableGutters&&e.gutters,e[n.variant]]}})(St(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:t.mixins.toolbar}]}))),nye=w.forwardRef(function(e,n){const r=Lt({props:e,name:"MuiToolbar"}),{className:o,component:i="div",disableGutters:s=!1,variant:a="regular",...c}=r,d={...r,component:i,disableGutters:s,variant:a},h=eye(d);return T.jsx(tye,{as:i,className:Ne(h.root,o),ref:n,ownerState:d,...c})}),rye=vs(T.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"})),oye=vs(T.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}));function iye(t){return kt("MuiTablePaginationActions",t)}Pt("MuiTablePaginationActions",["root"]);const sye=t=>{const{classes:e}=t;return Ze({root:["root"]},iye,e)},aye=Se("div",{name:"MuiTablePaginationActions",slot:"Root"})({}),lye=w.forwardRef(function(e,n){const r=Lt({props:e,name:"MuiTablePaginationActions"}),{backIconButtonProps:o,className:i,count:s,disabled:a=!1,getItemAriaLabel:c,nextIconButtonProps:d,onPageChange:h,page:p,rowsPerPage:g,showFirstButton:m,showLastButton:v,slots:S={},slotProps:C={},...x}=r,O=Ni(),P=sye(r),k=ce=>{h(ce,0)},$=ce=>{h(ce,p-1)},D=ce=>{h(ce,p+1)},I=ce=>{h(ce,Math.max(0,Math.ceil(s/g)-1))},A=S.firstButton??Va,N=S.lastButton??Va,F=S.nextButton??Va,R=S.previousButton??Va,V=S.firstButtonIcon??yme,q=S.lastButtonIcon??bme,K=S.nextButtonIcon??oye,z=S.previousButtonIcon??rye,H=O?N:A,Z=O?F:R,re=O?R:F,j=O?A:N,X=O?C.lastButton:C.firstButton,ne=O?C.nextButton:C.previousButton,ie=O?C.previousButton:C.nextButton,se=O?C.firstButton:C.lastButton;return T.jsxs(aye,{ref:n,className:Ne(P.root,i),...x,children:[m&&T.jsx(H,{onClick:k,disabled:a||p===0,"aria-label":c("first",p),title:c("first",p),...X,children:O?T.jsx(q,{...C.lastButtonIcon}):T.jsx(V,{...C.firstButtonIcon})}),T.jsx(Z,{onClick:$,disabled:a||p===0,color:"inherit","aria-label":c("previous",p),title:c("previous",p),...ne??o,children:O?T.jsx(K,{...C.nextButtonIcon}):T.jsx(z,{...C.previousButtonIcon})}),T.jsx(re,{onClick:D,disabled:a||(s!==-1?p>=Math.ceil(s/g)-1:!1),color:"inherit","aria-label":c("next",p),title:c("next",p),...ie??d,children:O?T.jsx(z,{...C.previousButtonIcon}):T.jsx(K,{...C.nextButtonIcon})}),v&&T.jsx(j,{onClick:I,disabled:a||p>=Math.ceil(s/g)-1,"aria-label":c("last",p),title:c("last",p),...se,children:O?T.jsx(V,{...C.firstButtonIcon}):T.jsx(q,{...C.lastButtonIcon})})]})});function cye(t){return kt("MuiTablePagination",t)}const zg=Pt("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]);var Uj;const uye=Se(CO,{name:"MuiTablePagination",slot:"Root"})(St(({theme:t})=>({overflow:"auto",color:(t.vars||t).palette.text.primary,fontSize:t.typography.pxToRem(14),"&:last-child":{padding:0}}))),dye=Se(nye,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:(t,e)=>({[`& .${zg.actions}`]:e.actions,...e.toolbar})})(St(({theme:t})=>({minHeight:52,paddingRight:2,[`${t.breakpoints.up("xs")} and (orientation: landscape)`]:{minHeight:52},[t.breakpoints.up("sm")]:{minHeight:52,paddingRight:2},[`& .${zg.actions}`]:{flexShrink:0,marginLeft:20}}))),hye=Se("div",{name:"MuiTablePagination",slot:"Spacer"})({flex:"1 1 100%"}),fye=Se("p",{name:"MuiTablePagination",slot:"SelectLabel"})(St(({theme:t})=>({...t.typography.body2,flexShrink:0}))),pye=Se(gI,{name:"MuiTablePagination",slot:"Select",overridesResolver:(t,e)=>({[`& .${zg.selectIcon}`]:e.selectIcon,[`& .${zg.select}`]:e.select,...e.input,...e.selectRoot})})({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8,[`& .${zg.select}`]:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"}}),gye=Se(ZL,{name:"MuiTablePagination",slot:"MenuItem"})({}),mye=Se("p",{name:"MuiTablePagination",slot:"DisplayedRows"})(St(({theme:t})=>({...t.typography.body2,flexShrink:0})));function yye({from:t,to:e,count:n}){return`${t}${e} of ${n!==-1?n:`more than ${e}`}`}function bye(t){return`Go to ${t} page`}const vye=t=>{const{classes:e}=t;return Ze({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},cye,e)},wye=w.forwardRef(function(e,n){const r=Lt({props:e,name:"MuiTablePagination"}),{ActionsComponent:o=lye,backIconButtonProps:i,colSpan:s,component:a=CO,count:c,disabled:d=!1,getItemAriaLabel:h=bye,labelDisplayedRows:p=yye,labelRowsPerPage:g="Rows per page:",nextIconButtonProps:m,onPageChange:v,onRowsPerPageChange:S,page:C,rowsPerPage:x,rowsPerPageOptions:O=[10,25,50,100],SelectProps:M={},showFirstButton:P=!1,showLastButton:k=!1,slotProps:$={},slots:D={},...I}=r,A=r,N=vye(A),F=($==null?void 0:$.select)??M,R=F.native?"option":gye;let V;(a===CO||a==="td")&&(V=s||1e3);const q=sn(F.id),K=sn(F.labelId),z=()=>c===-1?(C+1)*x:x===-1?c:Math.min(c,(C+1)*x),H={slots:D,slotProps:$},[Z,re]=At("root",{ref:n,className:N.root,elementType:uye,externalForwardedProps:{...H,component:a,...I},ownerState:A,additionalProps:{colSpan:V}}),[j,X]=At("toolbar",{className:N.toolbar,elementType:dye,externalForwardedProps:H,ownerState:A}),[ne,ie]=At("spacer",{className:N.spacer,elementType:hye,externalForwardedProps:H,ownerState:A}),[se,ce]=At("selectLabel",{className:N.selectLabel,elementType:fye,externalForwardedProps:H,ownerState:A,additionalProps:{id:K}}),[ae,ge]=At("select",{className:N.select,elementType:pye,externalForwardedProps:H,ownerState:A}),[Ee,Te]=At("menuItem",{className:N.menuItem,elementType:R,externalForwardedProps:H,ownerState:A}),[le,pe]=At("displayedRows",{className:N.displayedRows,elementType:mye,externalForwardedProps:H,ownerState:A});return T.jsx(Z,{...re,children:T.jsxs(j,{...X,children:[T.jsx(ne,{...ie}),O.length>1&&T.jsx(se,{...ce,children:g}),O.length>1&&T.jsx(ae,{variant:"standard",...!F.variant&&{input:Uj||(Uj=T.jsx(IE,{}))},value:x,onChange:S,id:q,labelId:K,...F,classes:{...F.classes,root:Ne(N.input,N.selectRoot,(F.classes||{}).root),select:Ne(N.select,(F.classes||{}).select),icon:Ne(N.selectIcon,(F.classes||{}).icon)},disabled:d,...ge,children:O.map(ye=>w.createElement(Ee,{...Te,key:ye.label?ye.label:ye,value:ye.value?ye.value:ye},ye.label?ye.label:ye))}),T.jsx(le,{...pe,children:p({from:c===0?0:C*x+1,to:z(),count:c===-1?-1:c,page:C})}),T.jsx(o,{className:N.actions,backIconButtonProps:i,count:c,nextIconButtonProps:m,onPageChange:v,page:C,rowsPerPage:x,showFirstButton:P,showLastButton:k,slotProps:$.actions,slots:D.actions,getItemAriaLabel:h,disabled:d})]})})});function Sye(t){return kt("MuiTextField",t)}Pt("MuiTextField",["root"]);const Cye={standard:XL,filled:YL,outlined:eN},Eye=t=>{const{classes:e}=t;return Ze({root:["root"]},Sye,e)},xye=Se(Qh,{name:"MuiTextField",slot:"Root"})({}),Zh=w.forwardRef(function(e,n){const r=Lt({props:e,name:"MuiTextField"}),{autoComplete:o,autoFocus:i=!1,children:s,className:a,color:c="primary",defaultValue:d,disabled:h=!1,error:p=!1,FormHelperTextProps:g,fullWidth:m=!1,helperText:v,id:S,InputLabelProps:C,inputProps:x,InputProps:O,inputRef:M,label:P,maxRows:k,minRows:$,multiline:D=!1,name:I,onBlur:A,onChange:N,onFocus:F,placeholder:R,required:V=!1,rows:q,select:K=!1,SelectProps:z,slots:H={},slotProps:Z={},type:re,value:j,variant:X="outlined",...ne}=r,ie={...r,autoFocus:i,color:c,disabled:h,error:p,fullWidth:m,multiline:D,required:V,select:K,variant:X},se=Eye(ie),ce=sn(S),ae=v&&ce?`${ce}-helper-text`:void 0,ge=P&&ce?`${ce}-label`:void 0,Ee=Cye[X],Te={slots:H,slotProps:{input:O,inputLabel:C,htmlInput:x,formHelperText:g,select:z,...Z}},le={},pe=Te.slotProps.inputLabel;X==="outlined"&&(pe&&typeof pe.shrink<"u"&&(le.notched=pe.shrink),le.label=P),K&&((!z||!z.native)&&(le.id=void 0),le["aria-describedby"]=void 0);const[ye,xe]=At("root",{elementType:xye,shouldForwardComponentProp:!0,externalForwardedProps:{...Te,...ne},ownerState:ie,className:Ne(se.root,a),ref:n,additionalProps:{disabled:h,error:p,fullWidth:m,required:V,color:c,variant:X}}),[Ce,Pe]=At("input",{elementType:Ee,externalForwardedProps:Te,additionalProps:le,ownerState:ie}),[ze,Ke]=At("inputLabel",{elementType:_9,externalForwardedProps:Te,ownerState:ie}),[ke,ot]=At("htmlInput",{elementType:"input",externalForwardedProps:Te,ownerState:ie}),[Ye,at]=At("formHelperText",{elementType:sge,externalForwardedProps:Te,ownerState:ie}),[he,Ue]=At("select",{elementType:gI,externalForwardedProps:Te,ownerState:ie}),qe=T.jsx(Ce,{"aria-describedby":ae,autoComplete:o,autoFocus:i,defaultValue:d,fullWidth:m,multiline:D,name:I,rows:q,maxRows:k,minRows:$,type:re,value:j,id:ce,inputRef:M,onBlur:A,onChange:N,onFocus:F,placeholder:R,inputProps:ot,slots:{input:H.htmlInput?ke:void 0},...Pe});return T.jsxs(ye,{...xe,children:[P!=null&&P!==""&&T.jsx(ze,{htmlFor:ce,id:ge,...Ke,children:P}),K?T.jsx(he,{"aria-describedby":ae,id:ce,labelId:ge,value:j,input:qe,...Ue,children:s}):qe,v&&T.jsx(Ye,{id:ae,...at,children:v})]})}),_ye=({questions:t})=>{const e=bi(R=>R.lang.language),{quizId:n}=r2(),r=Za(),{uid:o,testList:i}=bi(R=>R.auth),[s,a]=w.useState(0),[c,d]=w.useState(!0),[h,p]=w.useState(0),[g,m]=w.useState(null),[v,S]=w.useState(!1),[C,x]=w.useState([]),[O,M]=w.useState(!1),[P,k]=w.useState(null),[$,D]=w.useState(!0);w.useEffect(()=>{(async()=>{if(!o||!n){console.log("  -    ");return}try{const V=await iG(o,n);k(V)}catch(V){console.error("    :",V),k(!0)}finally{D(!1)}})()},[o,n]);const I=R=>{m(R)},A=async()=>{const R=g===t[s].answer;R&&p(q=>q+1);const V=[...C,g];if(x(V),s+1>=t.length){if(S(!0),o&&n){M(!0);try{const q=R?h+1:h;await ese(o,n,q,t.length),console.log("   ")}catch(q){console.error("    :",q)}finally{M(!1)}}}else a(q=>q+1),d(!0);m(null)},N=()=>{r("/")};if($)return T.jsx("div",{className:"loading-ring"});if(o&&P===!1){const R=i==null?void 0:i.find(V=>V.idTest===n);return T.jsx("div",{className:"test-already-completed",children:T.jsxs("div",{className:"completed-message",children:[T.jsx("h2",{children:e==="ru"?"  !":"  !"}),T.jsx("div",{className:"test-info",children:(R==null?void 0:R.score)&&T.jsxs("p",{className:"result",children:[e==="ru"?" : ":" : ",T.jsx("strong",{children:R.score})]})}),T.jsx("button",{className:"quiz-results__restart",onClick:N,children:e==="ru"?"   ":"  "})]})})}if(v)return T.jsxs("div",{children:[O&&T.jsx("div",{className:"saving-indicator",children:e==="ru"?" ...":" ..."}),T.jsx(yse,{questions:t,score:h,answers:C,onClick:N})]});if(!t||t.length===0)return T.jsxs("div",{className:"error-container",children:[T.jsx("h2",{children:e==="ru"?"  ":"  "}),T.jsx("p",{children:e==="ru"?"  ":"  "}),T.jsx("button",{className:"back-button",onClick:N,children:e==="ru"?" ":""})]});const F=t[s];return!F||!F.question?T.jsxs("div",{className:"quiz-error",children:[T.jsx("h2",{children:e==="ru"?"":""}),T.jsx("p",{children:e==="ru"?"  ":"  "}),T.jsx("button",{className:"quiz-error__action",onClick:N,children:e==="ru"?" ":""})]}):T.jsxs("div",{className:"quiz-session",children:[T.jsxs("div",{className:"quiz-question",children:[T.jsx("div",{className:"quiz-question__title",children:F.question[e]}),F.image&&T.jsxs("div",{className:"quiz-question__media",children:[c&&T.jsx("div",{className:"quiz-question__image-loading",children:T.jsx(lI,{size:32,color:"inherit"})}),T.jsx(sG,{image:F.image,onLoad:()=>d(!1)})]}),T.jsx(gse,{options:F.options,selected:g,onClick:I,lang:e})]}),T.jsx("button",{className:"quiz-session__next",onClick:A,disabled:g===null,children:s+1>=t.length?e==="ru"?" ":" ":e==="ru"?"":""}),O&&T.jsx("div",{className:"quiz-saving-indicator",children:" ..."}),T.jsx(fse,{currentQuestion:s+1,questionsLength:t.length})]})},Tye=()=>{const t=bi(s=>s.lang.language),{quizId:e}=r2(),[n,r]=w.useState(null),[o,i]=w.useState(!0);return w.useEffect(()=>{if(!e)return i(!0);cse(e).then(s=>{if(!s)throw new Error("Document not found");r(s),i(!1)}).catch(s=>{console.error("Download error: ",s),r(null),i(!1)})},[e]),o?T.jsx("p",{children:"Loading..."}):n?T.jsxs("div",{className:"quiz-page",children:[T.jsxs("h2",{className:"quiz-page__title",children:[n.title[t],": ",n.description[t]]}),T.jsx(_ye,{questions:n.questions??[]})]}):T.jsx("p",{children:"Test not found"})};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aye=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Iye=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Gj=t=>{const e=Iye(t);return e.charAt(0).toUpperCase()+e.slice(1)},D9=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Rye=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Pye={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mye=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:i,iconNode:s,...a},c)=>w.createElement("svg",{ref:c,...Pye,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:D9("lucide",o),...!i&&!Rye(a)&&{"aria-hidden":"true"},...a},[...s.map(([d,h])=>w.createElement(d,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uc=(t,e)=>{const n=w.forwardRef(({className:r,...o},i)=>w.createElement(Mye,{ref:i,iconNode:e,className:D9(`lucide-${Aye(Gj(t))}`,`lucide-${t}`,r),...o}));return n.displayName=Gj(t),n};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kye=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Oye=Uc("arrow-right",kye);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dye=[["path",{d:"M10 5a2 2 0 0 0-1.344.519l-6.328 5.74a1 1 0 0 0 0 1.481l6.328 5.741A2 2 0 0 0 10 19h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z",key:"1yo7s0"}],["path",{d:"m12 9 6 6",key:"anjzzh"}],["path",{d:"m18 9-6 6",key:"1fp51s"}]],Lye=Uc("delete",Dye);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nye=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Fye=Uc("lock",Nye);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ye=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Vye=Uc("mail",$ye);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zye=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],Bye=Uc("menu",zye);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hye=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],jye=Uc("moon",Hye);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uye=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Gye=Uc("sparkles",Uye);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wye=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],qye=Uc("square-pen",Wye);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kye=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Yye=Uc("sun",Kye);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xye=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Qye=Uc("x",Xye);function Zye(){return T.jsx(TT,{children:T.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[T.jsx("path",{d:"M15.68 8.18182C15.68 7.61455 15.6291 7.06909 15.5345 6.54545H8V9.64364H12.3055C12.1164 10.64 11.5491 11.4836 10.6982 12.0509V14.0655H13.2945C14.8073 12.6691 15.68 10.6182 15.68 8.18182Z",fill:"#4285F4"}),T.jsx("path",{d:"M8 16C10.16 16 11.9709 15.2873 13.2945 14.0655L10.6982 12.0509C9.98545 12.5309 9.07636 12.8218 8 12.8218C5.92 12.8218 4.15273 11.4182 3.52 9.52727H0.858182V11.5927C2.17455 14.2036 4.87273 16 8 16Z",fill:"#34A853"}),T.jsx("path",{d:"M3.52 9.52C3.36 9.04 3.26545 8.53091 3.26545 8C3.26545 7.46909 3.36 6.96 3.52 6.48V4.41455H0.858182C0.312727 5.49091 0 6.70545 0 8C0 9.29455 0.312727 10.5091 0.858182 11.5855L2.93091 9.97091L3.52 9.52Z",fill:"#FBBC05"}),T.jsx("path",{d:"M8 3.18545C9.17818 3.18545 10.2255 3.59273 11.0618 4.37818L13.3527 2.08727C11.9636 0.792727 10.16 0 8 0C4.87273 0 2.17455 1.79636 0.858182 4.41455L3.52 6.48C4.15273 4.58909 5.92 3.18545 8 3.18545Z",fill:"#EA4335"})]})})}const L9=Se(qL)(({theme:t})=>({display:"flex",flexDirection:"column",alignSelf:"center",width:"100%",padding:t.spacing(4),gap:t.spacing(2.5),margin:"auto",borderRadius:24,backdropFilter:"blur(10px)",background:t.palette.mode==="dark"?vr("#0B1220",.6):vr("#151A21",.65),border:`1px solid ${t.palette.mode==="dark"?vr("#8AB4F8",.18):vr("#1976d2",.25)}`,boxShadow:t.palette.mode==="dark"?"0 20px 60px rgba(0,0,0,0.45), inset 0 1px 0 rgba(21,26,33,0.04)":"0 20px 60px rgba(25,118,210,0.20), inset 0 1px 0 rgba(255,255,255,0.5)",[t.breakpoints.up("sm")]:{maxWidth:520}})),N9=Se(O9)(({theme:t})=>({position:"relative",minHeight:"450px",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",padding:t.spacing(2),[t.breakpoints.up("sm")]:{padding:t.spacing(4)},"&::before":{content:'""',position:"fixed",inset:0,zIndex:-2,background:t.palette.mode==="dark"?"radial-gradient(1200px 800px at 10% 10%, rgba(25,118,210,0.35), transparent 60%), radial-gradient(1000px 700px at 90% 90%, rgba(99,102,241,0.35), transparent 60%), linear-gradient(180deg,#0b1120,#0f172a)":"radial-gradient(1200px 800px at 10% 10%, rgba(25,118,210,0.18), transparent 60%), radial-gradient(1000px 700px at 90% 90%, rgba(99,102,241,0.18), transparent 60%), linear-gradient(180deg,#eef2ff,#ffffff)"},"&::after":{content:'""',position:"fixed",inset:0,zIndex:-1,background:t.palette.mode==="dark"?`url("data:image/svg+xml,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='1' height='1' fill='%231976d21a'/%3E%3C/svg%3E")`:`url("data:image/svg+xml,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='1' height='1' fill='%231976d20d'/%3E%3C/svg%3E")`,opacity:.6}})),Jye=Se(Iv)(({theme:t})=>({height:52,borderRadius:14,fontWeight:800,textTransform:"none",letterSpacing:.2,backgroundImage:t.palette.mode==="dark"?"linear-gradient(135deg,#1976d2 0%,#7c4dff 100%)":"linear-gradient(135deg,#1976d2 0%,#6ea8fe 100%)",boxShadow:t.palette.mode==="dark"?"0 10px 30px rgba(25,118,210,0.35)":"0 10px 24px rgba(25,118,210,0.25)","&:hover":{transform:"translateY(-1px)",boxShadow:t.palette.mode==="dark"?"0 16px 36px rgba(25,118,210,0.45)":"0 16px 30px rgba(25,118,210,0.35)"},transition:"all .18s ease"})),ebe=Se(Iv)(({theme:t})=>({height:48,borderRadius:14,textTransform:"none",fontWeight:700,borderColor:t.palette.mode==="dark"?vr("#8AB4F8",.35):vr("#1976d2",.4),"&:hover":{borderColor:t.palette.mode==="dark"?vr("#8AB4F8",.55):vr("#1976d2",.7),backgroundColor:t.palette.mode==="dark"?vr("#1976d2",.08):vr("#1976d2",.06)}}));function tbe({submitFn:t,loginError:e}){const[n,r]=w.useState(!1),[o,i]=w.useState(""),[s,a]=w.useState(!1),[c,d]=w.useState(""),h=g=>{if(g.preventDefault(),n||s||!p())return;const m=new FormData(g.currentTarget);t({email:m.get("email"),password:m.get("password")})},p=()=>{const g=document.getElementById("email"),m=document.getElementById("password");let v=!0;return!g.value||!/\S+@\S+\.\S+/.test(g.value)?(r(!0),i("Please enter a valid email address."),v=!1):(r(!1),i("")),!m.value||m.value.length<6?(a(!0),d("Password must be at least 6 characters long."),v=!1):(a(!1),d("")),v};return T.jsxs(N9,{direction:"column",justifyContent:"center",alignItems:"center",children:[T.jsxs(O9,{spacing:2,alignItems:"center",sx:{mb:3},children:[T.jsx(Gye,{size:28,color:"#6ea8fe"}),T.jsx(pr,{component:"h1",variant:"h4",sx:{fontWeight:900,letterSpacing:.2,textAlign:"center",textShadow:"0 2px 20px rgba(25,118,210,0.35)",color:"#E5E7EB"},children:"Welcome back"}),T.jsx(pr,{sx:{color:"#E5E7EB",textAlign:"center"},children:"Sign in to continue to your quizzes"})]}),T.jsxs(L9,{variant:"outlined",children:[T.jsxs(Er,{component:"form",onSubmit:h,noValidate:!0,sx:{display:"flex",flexDirection:"column",width:"100%",gap:2.25},children:[T.jsxs(Qh,{children:[T.jsx(xp,{htmlFor:"email",sx:{color:"#E5E7EB"},children:"Email"}),T.jsx(Zh,{error:n,helperText:o,id:"email",type:"email",name:"email",placeholder:"you@example.com",autoComplete:"email",required:!0,fullWidth:!0,variant:"outlined",color:n?"error":"secondary",InputProps:{startAdornment:T.jsx(gO,{position:"start",children:T.jsx(Vye,{size:18,color:"#E5E7EB"})})},sx:g=>({"& .MuiOutlinedInput-root":{borderRadius:14,transition:"box-shadow .18s ease, transform .18s ease","& fieldset":{borderColor:vr(g.palette.primary.main,.25)},"&:hover fieldset":{borderColor:g.palette.primary.main},"&.Mui-focused":{boxShadow:`0 0 0 4px ${vr(g.palette.primary.main,.15)}`}}})})]}),T.jsxs(Qh,{children:[T.jsx(xp,{htmlFor:"password",sx:{color:"#E5E7EB"},children:"Password"}),T.jsx(Zh,{error:s,helperText:c,name:"password",placeholder:"",type:"password",id:"password",autoComplete:"current-password",required:!0,fullWidth:!0,variant:"outlined",color:s?"error":"primary",InputProps:{startAdornment:T.jsx(gO,{position:"start",children:T.jsx(Fye,{size:18,color:"#E5E7EB"})})},sx:g=>({"& .MuiOutlinedInput-root":{borderRadius:14,transition:"box-shadow .18s ease, transform .18s ease","& fieldset":{borderColor:vr(g.palette.primary.main,.25)},"&:hover fieldset":{borderColor:g.palette.primary.main},"&.Mui-focused":{boxShadow:`0 0 0 4px ${vr(g.palette.primary.main,.15)}`}}})})]}),e&&T.jsx("div",{children:T.jsx(pr,{sx:{color:"red",mt:2,textAlign:"center",fontSize:14},children:e})}),T.jsx(Jye,{type:"submit",fullWidth:!0,endIcon:T.jsx(Oye,{size:18,color:"#E5E7EB"}),sx:{color:"#E5E7EB"},children:"Sign in"})]}),T.jsx(dS,{sx:{my:1.5,opacity:.6,color:"#E5E7EB"},children:"or"}),T.jsxs(Er,{sx:{display:"flex",flexDirection:"column",gap:1.25},children:[T.jsx(ebe,{fullWidth:!0,startIcon:T.jsx(Zye,{}),onClick:()=>t({email:"GOOGLE",password:""}),children:"Sign in with Google"}),T.jsxs(pr,{sx:{textAlign:"center",mt:1,color:"#E5E7EB"},children:["Don't have an account?"," ",T.jsx(l2,{to:Pi.REGISTER,style:{color:"#6ea8fe",fontWeight:700},children:"Sign up"})]})]})]})]})}const nbe=async t=>{const n=(await wte(gf,t.email,t.password)).user,r=await oS(n.uid);return Promise.resolve({email:n.email,displayName:n.displayName||(r==null?void 0:r.displayName),uid:n.uid,tests:(r==null?void 0:r.testList)||[]})},rbe=async()=>{var o,i;const t=new Zu,n=(await Wte(gf,t)).user;console.log("Google user:",gf.currentUser);let r=await oS(n.uid);if(!r){const s={first_name:((o=n.displayName)==null?void 0:o.split(" ")[0])||"User",last_name:((i=n.displayName)==null?void 0:i.split(" ").slice(1).join(" "))||"",email:n.email||"",password:""};await oG(s),r=await oS(n.uid)}return Promise.resolve({email:n.email,displayName:n.displayName,uid:n.uid,tests:(r==null?void 0:r.testList)||[]})},obe=async t=>t.email==="GOOGLE"?rbe():nbe(t),ibe=async t=>{console.log("   :",t);try{const e=await vte(gf,t.email,t.password),n=`${t.first_name} ${t.last_name}`.trim();n&&await Cte(e.user,{displayName:n});const r=e.user;console.log("    Firebase Auth:",r.uid),await oG(t),console.log("     Firestore");const o=await oS(r.uid);return Promise.resolve({email:r.email||"",displayName:n,uid:r.uid,tests:(o==null?void 0:o.testList)||[]})}catch(e){throw console.error("   :",e),e}},sbe=async()=>{await Tte(gf)},abe=()=>{const t=oE(),e=Za(),[n,r]=w.useState(null),o=async i=>{try{const s=await obe(i);console.log("  Firebase auth service:",s),t(y2({uid:s.uid,email:s.email,displayName:s.displayName,testList:s.tests||[],isAuth:!0,isLoading:!1})),console.log("Redux action dispatched with uid:",s.uid),e("/")}catch(s){s instanceof Error?(s.message.includes("429")?r("         ."):r(" .    ."),console.error("Login error: ",s.message),r(" .    .")):(console.error("   :",s),r("-   ..."))}};return T.jsx("div",{className:"login",children:T.jsx(tbe,{submitFn:o,loginError:n})})},F9=()=>{const t=oE(),e=Za();return T.jsx("div",{children:T.jsx(Iv,{variant:"contained",style:{backgroundColor:"red",fontWeight:"bold"},onClick:async()=>{alert("Are you sure?"),t(DU()),await sbe(),e("/")},children:"Exit"})})},Wj={"auth/email-already-in-use":{ru:" email  .     .",he:"  .     ."},"auth/weak-password":{ru:"  ( 6 ).",he:"  ( 6 )."},"auth/invalid-email":{ru:" email.",he:"  ."},default:{ru:"  .   .",he:" .  ."}};function lbe(t,e){const n=t&&t in Wj?t:"default";return Wj[n][e]}function cbe({submitFunc:t,serverErrorKey:e}){const n=d2(A=>A.lang.language),[r,o]=w.useState(""),[i,s]=w.useState(""),[a,c]=w.useState(""),[d,h]=w.useState(""),[p,g]=w.useState(""),[m,v]=w.useState(""),[S,C]=w.useState(""),[x,O]=w.useState(""),[M,P]=w.useState(!1),k=Za(),$=()=>{let A=!0;return r.trim()?g(""):(g("First name is required."),A=!1),i.trim()?v(""):(v("Last name is required."),A=!1),!a.trim()||!/\S+@\S+\.\S+/.test(a)?(C("Please enter a valid email address."),A=!1):C(""),!d||d.length<6?(O("Password must be at least 6 characters long."),A=!1):O(""),A},D=async A=>{if(A.preventDefault(),!!$()){P(!0);try{await t({first_name:r.trim(),last_name:i.trim(),email:a.trim(),password:d}),k(Pi.HOME??"/")}finally{P(!1)}}},I=e?lbe(e,n):"";return T.jsxs(N9,{direction:"column",justifyContent:"space-between",children:[I&&T.jsx(pr,{color:"error",role:"alert",sx:{mt:1},children:I}),T.jsxs(L9,{variant:"outlined",children:[T.jsx(pr,{component:"h1",variant:"h4",sx:{width:"100%",fontSize:"clamp(2rem, 10vw, 2.15rem)"},children:"Sign up"}),T.jsxs(Er,{component:"form",onSubmit:D,sx:{display:"flex",flexDirection:"column",gap:2},children:[T.jsxs(Qh,{children:[T.jsx(xp,{htmlFor:"first_name",children:"First name"}),T.jsx(Zh,{id:"first_name",name:"first_name",autoComplete:"given-name",required:!0,fullWidth:!0,placeholder:"Jon",value:r,onChange:A=>o(A.target.value),error:!!p,helperText:p,color:p?"error":"primary"})]}),T.jsxs(Qh,{children:[T.jsx(xp,{htmlFor:"last_name",children:"Last name"}),T.jsx(Zh,{id:"last_name",name:"last_name",autoComplete:"family-name",required:!0,fullWidth:!0,placeholder:"Snow",value:i,onChange:A=>s(A.target.value),error:!!m,helperText:m,color:m?"error":"primary"})]}),T.jsxs(Qh,{children:[T.jsx(xp,{htmlFor:"email",children:"Email"}),T.jsx(Zh,{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,fullWidth:!0,placeholder:"your@email.com",value:a,onChange:A=>c(A.target.value),error:!!S,helperText:S,color:S?"error":"primary"})]}),T.jsxs(Qh,{children:[T.jsx(xp,{htmlFor:"password",children:"Password"}),T.jsx(Zh,{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,fullWidth:!0,placeholder:"",value:d,onChange:A=>h(A.target.value),error:!!x,helperText:x,color:x?"error":"primary"})]}),T.jsx(x9,{control:T.jsx(y9,{value:"allowExtraEmails",color:"primary"}),label:"I want to receive updates via email."}),T.jsx(Iv,{type:"submit",fullWidth:!0,variant:"contained",disabled:M,children:M?"Signing up":"Sign up"})]}),T.jsx(dS,{children:T.jsx(pr,{sx:{color:"text.secondary"},children:"or"})}),T.jsx(Er,{sx:{display:"flex",flexDirection:"column",gap:2},children:T.jsxs(pr,{sx:{textAlign:"center"},children:["Already have an account?"," ",T.jsx(l2,{to:Pi.LOGIN,children:"Sign in"})]})})]})]})}const ube=()=>{const t=Za(),e=oE(),[n,r]=w.useState(null),o=async i=>{try{r(null);const s=await ibe(i);console.log(" :",s),s&&(e(y2({uid:s.uid,email:s.email,displayName:s.displayName,testList:s.tests||[],isAuth:!0,isLoading:!1})),console.log("Redux action dispatched with uid:",s.uid),t(Pi.HOME))}catch(s){throw console.error("Registration error:",s),s instanceof jc?r(s.code):r("default"),s}};return T.jsx("div",{children:T.jsx(cbe,{submitFunc:o,serverErrorKey:n})})},dbe=()=>{const t=Za();return w.useEffect(()=>{const e=performance.getEntriesByType("navigation")[0];e&&e.type==="reload"&&t("/",{replace:!0})},[t]),T.jsx("div",{children:T.jsx("h1",{children:"Error 404 page not found"})})},hbe={language:"ru"},$9=kU({name:"lang",initialState:hbe,reducers:{setLanguage(t,e){t.language=e.payload}}}),{setLanguage:qj}=$9.actions,fbe=$9.reducer,pbe=()=>{const t=oE(),e=bi(n=>n.lang.language);return T.jsxs("div",{className:"lang-switch",children:[T.jsx("button",{style:{width:100,margin:4},onClick:()=>t(qj("ru")),disabled:e==="ru",children:""}),T.jsx("button",{style:{width:100},onClick:()=>t(qj("he")),disabled:e==="he",children:""})]})},V9=w.createContext({mode:"dark",toggle:()=>{}}),gbe=()=>{const{mode:t,toggle:e}=w.useContext(V9),n=t==="dark";return T.jsx(k9,{title:n?"Switch to light theme":"Switch to dark theme",children:T.jsx(Va,{onClick:e,color:"inherit","aria-label":n?"switch to light theme":"switch to dark theme",sx:{transition:"transform .15s ease","&:hover":{transform:"scale(1.05)"},width:"40px"},children:n?T.jsx(Yye,{size:18}):T.jsx(jye,{size:18})})})},mbe=()=>{const t=d2(e=>e.lang.language);return T.jsx("div",{className:"quiz-selection-container",children:T.jsxs("div",{className:"selection-header",children:[T.jsx("h2",{children:t==="ru"?"":""}),T.jsx(pbe,{}),T.jsx("h2",{children:t==="ru"?"":""}),T.jsx(gbe,{})]})})},ybe=Se(qL)(({theme:t})=>({height:260,width:280,margin:20,borderRadius:20,backgroundColor:t.palette.mode==="dark"?vr("#0f172a",.6):"#ffffff",border:`1px solid ${vr(t.palette.primary.main,.15)}`,boxShadow:t.palette.mode==="dark"?"0 16px 40px rgba(0,0,0,.35)":"0 10px 30px rgba(25,118,210,.12)",transition:"transform .18s ease, box-shadow .18s ease","&:hover":{transform:"translateY(-2px)",boxShadow:t.palette.mode==="dark"?"0 20px 50px rgba(0,0,0,.45)":"0 16px 40px rgba(25,118,210,.18)"}}));function bbe({lecture:t,onOpen:e}){const n=t.status;return T.jsx(ybe,{children:T.jsx(p9,{sx:{height:"100%",p:2.5},onClick:()=>n!=="locked"&&e(t),children:T.jsxs(Er,{sx:{display:"grid",gridTemplateColumns:"96px 1fr",gap:2},children:[T.jsx(Er,{sx:{width:96,height:96,borderRadius:"50%",display:"grid",placeItems:"center",bgcolor:"rgba(248,246,241,0.95)",border:"1px solid",borderColor:"divider",overflow:"hidden"},children:T.jsx("img",{src:t.iconUrl,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}})}),T.jsxs(g9,{sx:{p:0,display:"grid",alignContent:"start",gap:.5},children:[T.jsx(pr,{variant:"h5",fontWeight:800,children:t.title}),T.jsx(pr,{variant:"body2",color:"text.secondary",children:t.subtitle})]})]})})})}const Ki=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),EO=[.001,0,0,.001,0,0],DM=1.35,Ws={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},xc={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},z9="pdfjs_internal_editor_",qt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},bn={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},B9={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},_i={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},H0={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},ro={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},my={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},RE={ERRORS:0,WARNINGS:1,INFOS:5},pS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},R1={moveTo:0,lineTo:1,curveTo:2,closePath:3},H9={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let mI=RE.WARNINGS;function vbe(t){Number.isInteger(t)&&(mI=t)}function wbe(){return mI}function yI(t){mI>=RE.INFOS&&console.log(`Info: ${t}`)}function Xt(t){mI>=RE.WARNINGS&&console.log(`Warning: ${t}`)}function cr(t){throw new Error(t)}function bo(t,e){t||cr(e)}function Sbe(t){switch(t==null?void 0:t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function nN(t,e=null,n=null){if(!t)return null;if(n&&typeof t=="string"){if(n.addDefaultProtocol&&t.startsWith("www.")){const o=t.match(/\./g);(o==null?void 0:o.length)>=2&&(t=`http://${t}`)}if(n.tryConvertEncoding)try{t=Tbe(t)}catch{}}const r=e?URL.parse(t,e):URL.parse(t);return Sbe(r)?r:null}function rN(t,e,n=!1){const r=URL.parse(t);return r?(r.hash=e,r.href):n&&nN(t,"http://example.com")?t.split("#",1)[0]+`${e?`#${e}`:""}`:""}function pn(t,e,n,r=!1){return Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!0,writable:!1}),n}const dm=function(){function e(n,r){this.message=n,this.name=r}return e.prototype=new Error,e.constructor=e,e}();class Kj extends dm{constructor(e,n){super(e,"PasswordException"),this.code=n}}class LM extends dm{constructor(e,n){super(e,"UnknownErrorException"),this.details=n}}class kT extends dm{constructor(e){super(e,"InvalidPDFException")}}class gS extends dm{constructor(e,n,r){super(e,"ResponseException"),this.status=n,this.missing=r}}class Cbe extends dm{constructor(e){super(e,"FormatError")}}class bd extends dm{constructor(e){super(e,"AbortException")}}function j9(t){(typeof t!="object"||(t==null?void 0:t.length)===void 0)&&cr("Invalid argument for bytesToString");const e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);const r=[];for(let o=0;o<e;o+=n){const i=Math.min(o+n,e),s=t.subarray(o,i);r.push(String.fromCharCode.apply(null,s))}return r.join("")}function PE(t){typeof t!="string"&&cr("Invalid argument for stringToBytes");const e=t.length,n=new Uint8Array(e);for(let r=0;r<e;++r)n[r]=t.charCodeAt(r)&255;return n}function Ebe(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255)}function xbe(){const t=new Uint8Array(4);return t[0]=1,new Uint32Array(t.buffer,0,1)[0]===1}function _be(){try{return new Function(""),!0}catch{return!1}}class ei{static get isLittleEndian(){return pn(this,"isLittleEndian",xbe())}static get isEvalSupported(){return pn(this,"isEvalSupported",_be())}static get isOffscreenCanvasSupported(){return pn(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return pn(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:n}=navigator;return pn(this,"platform",{isAndroid:n.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:n.includes("Firefox")})}static get isCSSRoundSupported(){var e,n;return pn(this,"isCSSRoundSupported",(n=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:n.call(e,"width: round(1.5px, 1px)"))}}const NM=Array.from(Array(256).keys(),t=>t.toString(16).padStart(2,"0"));var ad,a_,xO;class Rt{static makeHexColor(e,n,r){return`#${NM[e]}${NM[n]}${NM[r]}`}static scaleMinMax(e,n){let r;e[0]?(e[0]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[0],n[2]*=e[0],e[3]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[3],n[3]*=e[3]):(r=n[0],n[0]=n[1],n[1]=r,r=n[2],n[2]=n[3],n[3]=r,e[1]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[1],n[3]*=e[1],e[2]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[2],n[2]*=e[2]),n[0]+=e[4],n[1]+=e[5],n[2]+=e[4],n[3]+=e[5]}static transform(e,n){return[e[0]*n[0]+e[2]*n[1],e[1]*n[0]+e[3]*n[1],e[0]*n[2]+e[2]*n[3],e[1]*n[2]+e[3]*n[3],e[0]*n[4]+e[2]*n[5]+e[4],e[1]*n[4]+e[3]*n[5]+e[5]]}static applyTransform(e,n,r=0){const o=e[r],i=e[r+1];e[r]=o*n[0]+i*n[2]+n[4],e[r+1]=o*n[1]+i*n[3]+n[5]}static applyTransformToBezier(e,n,r=0){const o=n[0],i=n[1],s=n[2],a=n[3],c=n[4],d=n[5];for(let h=0;h<6;h+=2){const p=e[r+h],g=e[r+h+1];e[r+h]=p*o+g*s+c,e[r+h+1]=p*i+g*a+d}}static applyInverseTransform(e,n){const r=e[0],o=e[1],i=n[0]*n[3]-n[1]*n[2];e[0]=(r*n[3]-o*n[2]+n[2]*n[5]-n[4]*n[3])/i,e[1]=(-r*n[1]+o*n[0]+n[4]*n[1]-n[5]*n[0])/i}static axialAlignedBoundingBox(e,n,r){const o=n[0],i=n[1],s=n[2],a=n[3],c=n[4],d=n[5],h=e[0],p=e[1],g=e[2],m=e[3];let v=o*h+c,S=v,C=o*g+c,x=C,O=a*p+d,M=O,P=a*m+d,k=P;if(i!==0||s!==0){const $=i*h,D=i*g,I=s*p,A=s*m;v+=I,x+=I,C+=A,S+=A,O+=$,k+=$,P+=D,M+=D}r[0]=Math.min(r[0],v,C,S,x),r[1]=Math.min(r[1],O,P,M,k),r[2]=Math.max(r[2],v,C,S,x),r[3]=Math.max(r[3],O,P,M,k)}static inverseTransform(e){const n=e[0]*e[3]-e[1]*e[2];return[e[3]/n,-e[1]/n,-e[2]/n,e[0]/n,(e[2]*e[5]-e[4]*e[3])/n,(e[4]*e[1]-e[5]*e[0])/n]}static singularValueDecompose2dScale(e,n){const r=e[0],o=e[1],i=e[2],s=e[3],a=r**2+o**2,c=r*i+o*s,d=i**2+s**2,h=(a+d)/2,p=Math.sqrt(h**2-(a*d-c**2));n[0]=Math.sqrt(h+p||1),n[1]=Math.sqrt(h-p||1)}static normalizeRect(e){const n=e.slice(0);return e[0]>e[2]&&(n[0]=e[2],n[2]=e[0]),e[1]>e[3]&&(n[1]=e[3],n[3]=e[1]),n}static intersect(e,n){const r=Math.max(Math.min(e[0],e[2]),Math.min(n[0],n[2])),o=Math.min(Math.max(e[0],e[2]),Math.max(n[0],n[2]));if(r>o)return null;const i=Math.max(Math.min(e[1],e[3]),Math.min(n[1],n[3])),s=Math.min(Math.max(e[1],e[3]),Math.max(n[1],n[3]));return i>s?null:[r,i,o,s]}static pointBoundingBox(e,n,r){r[0]=Math.min(r[0],e),r[1]=Math.min(r[1],n),r[2]=Math.max(r[2],e),r[3]=Math.max(r[3],n)}static rectBoundingBox(e,n,r,o,i){i[0]=Math.min(i[0],e,r),i[1]=Math.min(i[1],n,o),i[2]=Math.max(i[2],e,r),i[3]=Math.max(i[3],n,o)}static bezierBoundingBox(e,n,r,o,i,s,a,c,d){d[0]=Math.min(d[0],e,a),d[1]=Math.min(d[1],n,c),d[2]=Math.max(d[2],e,a),d[3]=Math.max(d[3],n,c),J(this,ad,xO).call(this,e,r,i,a,n,o,s,c,3*(-e+3*(r-i)+a),6*(e-2*r+i),3*(r-e),d),J(this,ad,xO).call(this,e,r,i,a,n,o,s,c,3*(-n+3*(o-s)+c),6*(n-2*o+s),3*(o-n),d)}}ad=new WeakSet,a_=function(e,n,r,o,i,s,a,c,d,h){if(d<=0||d>=1)return;const p=1-d,g=d*d,m=g*d,v=p*(p*(p*e+3*d*n)+3*g*r)+m*o,S=p*(p*(p*i+3*d*s)+3*g*a)+m*c;h[0]=Math.min(h[0],v),h[1]=Math.min(h[1],S),h[2]=Math.max(h[2],v),h[3]=Math.max(h[3],S)},xO=function(e,n,r,o,i,s,a,c,d,h,p,g){if(Math.abs(d)<1e-12){Math.abs(h)>=1e-12&&J(this,ad,a_).call(this,e,n,r,o,i,s,a,c,-p/h,g);return}const m=h**2-4*p*d;if(m<0)return;const v=Math.sqrt(m),S=2*d;J(this,ad,a_).call(this,e,n,r,o,i,s,a,c,(-h+v)/S,g),J(this,ad,a_).call(this,e,n,r,o,i,s,a,c,(-h-v)/S,g)},Q(Rt,ad);function Tbe(t){return decodeURIComponent(escape(t))}let FM=null,Yj=null;function U9(t){return FM||(FM=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Yj=new Map([["","t"]])),t.replaceAll(FM,(e,n,r)=>n?n.normalize("NFKC"):Yj.get(r))}function oN(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const t=new Uint8Array(32);return crypto.getRandomValues(t),j9(t)}const iN="pdfjs_internal_id_";function Abe(t,e,n){if(!Array.isArray(n)||n.length<2)return!1;const[r,o,...i]=n;if(!t(r)&&!Number.isInteger(r)||!e(o))return!1;const s=i.length;let a=!0;switch(o.name){case"XYZ":if(s<2||s>3)return!1;break;case"Fit":case"FitB":return s===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(s>1)return!1;break;case"FitR":if(s!==4)return!1;a=!1;break;default:return!1}for(const c of i)if(!(typeof c=="number"||a&&c===null))return!1;return!0}function Mi(t,e,n){return Math.min(Math.max(t,e),n)}function G9(t){return Uint8Array.prototype.toBase64?t.toBase64():btoa(j9(t))}function Ibe(t){return Uint8Array.fromBase64?Uint8Array.fromBase64(t):PE(atob(t))}typeof Promise.try!="function"&&(Promise.try=function(t,...e){return new Promise(n=>{n(t(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(t){return t.reduce((e,n)=>e+n,0)});const mu="http://www.w3.org/2000/svg",bp=class bp{};je(bp,"CSS",96),je(bp,"PDF",72),je(bp,"PDF_TO_CSS_UNITS",bp.CSS/bp.PDF);let vd=bp;async function Rv(t,e="text"){if(u0(t,document.baseURI)){const n=await fetch(t);if(!n.ok)throw new Error(n.statusText);switch(e){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise((n,r)=>{const o=new XMLHttpRequest;o.open("GET",t,!0),o.responseType=e,o.onreadystatechange=()=>{if(o.readyState===XMLHttpRequest.DONE){if(o.status===200||o.status===0){switch(e){case"arraybuffer":case"blob":case"json":n(o.response);return}n(o.responseText);return}r(new Error(o.statusText))}},o.send(null)})}class ME{constructor({viewBox:e,userUnit:n,scale:r,rotation:o,offsetX:i=0,offsetY:s=0,dontFlip:a=!1}){this.viewBox=e,this.userUnit=n,this.scale=r,this.rotation=o,this.offsetX=i,this.offsetY=s,r*=n;const c=(e[2]+e[0])/2,d=(e[3]+e[1])/2;let h,p,g,m;switch(o%=360,o<0&&(o+=360),o){case 180:h=-1,p=0,g=0,m=1;break;case 90:h=0,p=1,g=1,m=0;break;case 270:h=0,p=-1,g=-1,m=0;break;case 0:h=1,p=0,g=0,m=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(g=-g,m=-m);let v,S,C,x;h===0?(v=Math.abs(d-e[1])*r+i,S=Math.abs(c-e[0])*r+s,C=(e[3]-e[1])*r,x=(e[2]-e[0])*r):(v=Math.abs(c-e[0])*r+i,S=Math.abs(d-e[1])*r+s,C=(e[2]-e[0])*r,x=(e[3]-e[1])*r),this.transform=[h*r,p*r,g*r,m*r,v-h*r*c-g*r*d,S-p*r*c-m*r*d],this.width=C,this.height=x}get rawDims(){const e=this.viewBox;return pn(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:n=this.rotation,offsetX:r=this.offsetX,offsetY:o=this.offsetY,dontFlip:i=!1}={}){return new ME({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:n,offsetX:r,offsetY:o,dontFlip:i})}convertToViewportPoint(e,n){const r=[e,n];return Rt.applyTransform(r,this.transform),r}convertToViewportRectangle(e){const n=[e[0],e[1]];Rt.applyTransform(n,this.transform);const r=[e[2],e[3]];return Rt.applyTransform(r,this.transform),[n[0],n[1],r[0],r[1]]}convertToPdfPoint(e,n){const r=[e,n];return Rt.applyInverseTransform(r,this.transform),r}}class bI extends dm{constructor(e,n=0){super(e,"RenderingCancelledException"),this.extraDelay=n}}function kE(t){const e=t.length;let n=0;for(;n<e&&t[n].trim()==="";)n++;return t.substring(n,n+5).toLowerCase()==="data:"}function vI(t){return typeof t=="string"&&/\.pdf$/i.test(t)}function W9(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)}function q9(t,e="document.pdf"){if(typeof t!="string")return e;if(kE(t))return Xt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const r=(a=>{try{return new URL(a)}catch{try{return new URL(decodeURIComponent(a))}catch{try{return new URL(a,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(a),"https://foo.bar")}catch{return null}}}}})(t);if(!r)return e;const o=a=>{try{let c=decodeURIComponent(a);return c.includes("/")?(c=c.split("/").at(-1),c.test(/^\.pdf$/i)?c:a):c}catch{return a}},i=/\.pdf$/i,s=r.pathname.split("/").at(-1);if(i.test(s))return o(s);if(r.searchParams.size>0){const a=Array.from(r.searchParams.values()).reverse();for(const d of a)if(i.test(d))return o(d);const c=Array.from(r.searchParams.keys()).reverse();for(const d of c)if(i.test(d))return o(d)}if(r.hash){const c=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(r.hash);if(c)return o(c[0])}return e}class Xj{constructor(){je(this,"started",Object.create(null));je(this,"times",[])}time(e){e in this.started&&Xt(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Xt(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let n=0;for(const{name:r}of this.times)n=Math.max(r.length,n);for(const{name:r,start:o,end:i}of this.times)e.push(`${r.padEnd(n)} ${i-o}ms
`);return e.join("")}}function u0(t,e){const n=e?URL.parse(t,e):URL.parse(t);return(n==null?void 0:n.protocol)==="http:"||(n==null?void 0:n.protocol)==="https:"}function Xa(t){t.preventDefault()}function ao(t){t.preventDefault(),t.stopPropagation()}function Rbe(t){console.log("Deprecated API usage: "+t)}var AS;class wI{static toDateObject(e){if(!e||typeof e!="string")return null;y(this,AS)||G(this,AS,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const n=y(this,AS).exec(e);if(!n)return null;const r=parseInt(n[1],10);let o=parseInt(n[2],10);o=o>=1&&o<=12?o-1:0;let i=parseInt(n[3],10);i=i>=1&&i<=31?i:1;let s=parseInt(n[4],10);s=s>=0&&s<=23?s:0;let a=parseInt(n[5],10);a=a>=0&&a<=59?a:0;let c=parseInt(n[6],10);c=c>=0&&c<=59?c:0;const d=n[7]||"Z";let h=parseInt(n[8],10);h=h>=0&&h<=23?h:0;let p=parseInt(n[9],10)||0;return p=p>=0&&p<=59?p:0,d==="-"?(s+=h,a+=p):d==="+"&&(s-=h,a-=p),new Date(Date.UTC(r,o,i,s,a,c))}}AS=new WeakMap,Q(wI,AS);function K9(t,{scale:e=1,rotation:n=0}){const{width:r,height:o}=t.attributes.style,i=[0,0,parseInt(r),parseInt(o)];return new ME({viewBox:i,userUnit:1,scale:e,rotation:n})}function sN(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map(e=>parseInt(e)):t.startsWith("rgba(")?t.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Xt(`Not a valid color format: "${t}"`),[0,0,0])}function Pbe(t){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const n of t.keys()){e.style.color=n;const r=window.getComputedStyle(e).color;t.set(n,sN(r))}e.remove()}function Vr(t){const{a:e,b:n,c:r,d:o,e:i,f:s}=t.getTransform();return[e,n,r,o,i,s]}function Zl(t){const{a:e,b:n,c:r,d:o,e:i,f:s}=t.getTransform().invertSelf();return[e,n,r,o,i,s]}function bf(t,e,n=!1,r=!0){if(e instanceof ME){const{pageWidth:o,pageHeight:i}=e.rawDims,{style:s}=t,a=ei.isCSSRoundSupported,c=`var(--total-scale-factor) * ${o}px`,d=`var(--total-scale-factor) * ${i}px`,h=a?`round(down, ${c}, var(--scale-round-x))`:`calc(${c})`,p=a?`round(down, ${d}, var(--scale-round-y))`:`calc(${d})`;!n||e.rotation%180===0?(s.width=h,s.height=p):(s.width=p,s.height=h)}r&&t.setAttribute("data-main-rotation",e.rotation)}class Dl{constructor(){const{pixelRatio:e}=Dl;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,n,r,o,i=-1){let s=1/0,a=1/0,c=1/0;r=Dl.capPixels(r,i),r>0&&(s=Math.sqrt(r/(e*n))),o!==-1&&(a=o/e,c=o/n);const d=Math.min(s,a,c);return this.sx>d||this.sy>d?(this.sx=d,this.sy=d,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,n){if(n>=0){const r=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+n/100));return e>0?Math.min(e,r):r}return e}}const OT=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];var fh,Ip,_a,ph,IS,jy,RS,ZT,Y9,Qi,X9,Q9,d0,l_;const wu=class wu{constructor(e){Q(this,Qi);Q(this,fh,null);Q(this,Ip,null);Q(this,_a);Q(this,ph,null);Q(this,IS,null);Q(this,jy,null);G(this,_a,e),y(wu,RS)||G(wu,RS,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=G(this,fh,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const n=y(this,_a)._uiManager._signal;e.addEventListener("contextmenu",Xa,{signal:n}),e.addEventListener("pointerdown",J(wu,ZT,Y9),{signal:n});const r=G(this,ph,document.createElement("div"));r.className="buttons",e.append(r);const o=y(this,_a).toolbarPosition;if(o){const{style:i}=e,s=y(this,_a)._uiManager.direction==="ltr"?1-o[0]:o[0];i.insetInlineEnd=`${100*s}%`,i.top=`calc(${100*o[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return y(this,fh)}hide(){var e;y(this,fh).classList.add("hidden"),(e=y(this,Ip))==null||e.hideDropdown()}show(){var e;y(this,fh).classList.remove("hidden"),(e=y(this,IS))==null||e.shown()}addDeleteButton(){const{editorType:e,_uiManager:n}=y(this,_a),r=document.createElement("button");r.className="delete",r.tabIndex=0,r.setAttribute("data-l10n-id",y(wu,RS)[e]),J(this,Qi,d0).call(this,r),r.addEventListener("click",o=>{n.delete()},{signal:n._signal}),y(this,ph).append(r)}async addAltText(e){const n=await e.render();J(this,Qi,d0).call(this,n),y(this,ph).append(n,y(this,Qi,l_)),G(this,IS,e)}addColorPicker(e){G(this,Ip,e);const n=e.renderButton();J(this,Qi,d0).call(this,n),y(this,ph).append(n,y(this,Qi,l_))}async addEditSignatureButton(e){const n=G(this,jy,await e.renderEditButton(y(this,_a)));J(this,Qi,d0).call(this,n),y(this,ph).append(n,y(this,Qi,l_))}async addButton(e,n){switch(e){case"colorPicker":this.addColorPicker(n);break;case"altText":await this.addAltText(n);break;case"editSignature":await this.addEditSignatureButton(n);break;case"delete":this.addDeleteButton();break}}updateEditSignatureButton(e){y(this,jy)&&(y(this,jy).title=e)}remove(){var e;y(this,fh).remove(),(e=y(this,Ip))==null||e.destroy(),G(this,Ip,null)}};fh=new WeakMap,Ip=new WeakMap,_a=new WeakMap,ph=new WeakMap,IS=new WeakMap,jy=new WeakMap,RS=new WeakMap,ZT=new WeakSet,Y9=function(e){e.stopPropagation()},Qi=new WeakSet,X9=function(e){y(this,_a)._focusEventsAllowed=!1,ao(e)},Q9=function(e){y(this,_a)._focusEventsAllowed=!0,ao(e)},d0=function(e){const n=y(this,_a)._uiManager._signal;e.addEventListener("focusin",J(this,Qi,X9).bind(this),{capture:!0,signal:n}),e.addEventListener("focusout",J(this,Qi,Q9).bind(this),{capture:!0,signal:n}),e.addEventListener("contextmenu",Xa,{signal:n})},l_=function(){const e=document.createElement("div");return e.className="divider",e},Q(wu,ZT),Q(wu,RS,null);let _O=wu;var PS,Rp,Pp,Sf,Z9,J9,e8;class Mbe{constructor(e){Q(this,Sf);Q(this,PS,null);Q(this,Rp,null);Q(this,Pp);G(this,Pp,e)}show(e,n,r){const[o,i]=J(this,Sf,J9).call(this,n,r),{style:s}=y(this,Rp)||G(this,Rp,J(this,Sf,Z9).call(this));e.append(y(this,Rp)),s.insetInlineEnd=`${100*o}%`,s.top=`calc(${100*i}% + var(--editor-toolbar-vert-offset))`}hide(){y(this,Rp).remove()}}PS=new WeakMap,Rp=new WeakMap,Pp=new WeakMap,Sf=new WeakSet,Z9=function(){const e=G(this,Rp,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Xa,{signal:y(this,Pp)._signal});const n=G(this,PS,document.createElement("div"));return n.className="buttons",e.append(n),J(this,Sf,e8).call(this),e},J9=function(e,n){let r=0,o=0;for(const i of e){const s=i.y+i.height;if(s<r)continue;const a=i.x+(n?i.width:0);if(s>r){o=a,r=s;continue}n?a>o&&(o=a):a<o&&(o=a)}return[n?1-o:o,r]},e8=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const n=document.createElement("span");e.append(n),n.className="visuallyHidden",n.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const r=y(this,Pp)._signal;e.addEventListener("contextmenu",Xa,{signal:r}),e.addEventListener("click",()=>{y(this,Pp).highlightSelection("floating_button")},{signal:r}),y(this,PS).append(e)};function t8(t,e,n){for(const r of n)e.addEventListener(r,t[r].bind(t))}var JT;class kbe{constructor(){Q(this,JT,0)}get id(){return`${z9}${Bi(this,JT)._++}`}}JT=new WeakMap;var Uy,MS,Ai,Gy,c_;const XN=class XN{constructor(){Q(this,Gy);Q(this,Uy,oN());Q(this,MS,0);Q(this,Ai,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),o=new Image;o.src=e;const i=o.decode().then(()=>(r.drawImage(o,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return pn(this,"_isSVGFittingCanvas",i)}async getFromFile(e){const{lastModified:n,name:r,size:o,type:i}=e;return J(this,Gy,c_).call(this,`${n}_${r}_${o}_${i}`,e)}async getFromUrl(e){return J(this,Gy,c_).call(this,e,e)}async getFromBlob(e,n){const r=await n;return J(this,Gy,c_).call(this,e,r)}async getFromId(e){y(this,Ai)||G(this,Ai,new Map);const n=y(this,Ai).get(e);if(!n)return null;if(n.bitmap)return n.refCounter+=1,n;if(n.file)return this.getFromFile(n.file);if(n.blobPromise){const{blobPromise:r}=n;return delete n.blobPromise,this.getFromBlob(n.id,r)}return this.getFromUrl(n.url)}getFromCanvas(e,n){y(this,Ai)||G(this,Ai,new Map);let r=y(this,Ai).get(e);if(r!=null&&r.bitmap)return r.refCounter+=1,r;const o=new OffscreenCanvas(n.width,n.height);return o.getContext("2d").drawImage(n,0,0),r={bitmap:o.transferToImageBitmap(),id:`image_${y(this,Uy)}_${Bi(this,MS)._++}`,refCounter:1,isSvg:!1},y(this,Ai).set(e,r),y(this,Ai).set(r.id,r),r}getSvgUrl(e){const n=y(this,Ai).get(e);return n!=null&&n.isSvg?n.svgUrl:null}deleteId(e){var o;y(this,Ai)||G(this,Ai,new Map);const n=y(this,Ai).get(e);if(!n||(n.refCounter-=1,n.refCounter!==0))return;const{bitmap:r}=n;if(!n.url&&!n.file){const i=new OffscreenCanvas(r.width,r.height);i.getContext("bitmaprenderer").transferFromImageBitmap(r),n.blobPromise=i.convertToBlob()}(o=r.close)==null||o.call(r),n.bitmap=null}isValidId(e){return e.startsWith(`image_${y(this,Uy)}_`)}};Uy=new WeakMap,MS=new WeakMap,Ai=new WeakMap,Gy=new WeakSet,c_=async function(e,n){y(this,Ai)||G(this,Ai,new Map);let r=y(this,Ai).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${y(this,Uy)}_${Bi(this,MS)._++}`,refCounter:0,isSvg:!1});let o;if(typeof n=="string"?(r.url=n,o=await Rv(n,"blob")):n instanceof File?o=r.file=n:n instanceof Blob&&(o=n),o.type==="image/svg+xml"){const i=XN._isSVGFittingCanvas,s=new FileReader,a=new Image,c=new Promise((d,h)=>{a.onload=()=>{r.bitmap=a,r.isSvg=!0,d()},s.onload=async()=>{const p=r.svgUrl=s.result;a.src=await i?`${p}#svgView(preserveAspectRatio(none))`:p},a.onerror=s.onerror=h});s.readAsDataURL(o),await c}else r.bitmap=await createImageBitmap(o);r.refCounter=1}catch(o){Xt(o),r=null}return y(this,Ai).set(e,r),r&&y(this,Ai).set(r.id,r),r};let TO=XN;var oo,gh,kS,$r;class Obe{constructor(e=128){Q(this,oo,[]);Q(this,gh,!1);Q(this,kS);Q(this,$r,-1);G(this,kS,e)}add({cmd:e,undo:n,post:r,mustExec:o,type:i=NaN,overwriteIfSameType:s=!1,keepUndo:a=!1}){if(o&&e(),y(this,gh))return;const c={cmd:e,undo:n,post:r,type:i};if(y(this,$r)===-1){y(this,oo).length>0&&(y(this,oo).length=0),G(this,$r,0),y(this,oo).push(c);return}if(s&&y(this,oo)[y(this,$r)].type===i){a&&(c.undo=y(this,oo)[y(this,$r)].undo),y(this,oo)[y(this,$r)]=c;return}const d=y(this,$r)+1;d===y(this,kS)?y(this,oo).splice(0,1):(G(this,$r,d),d<y(this,oo).length&&y(this,oo).splice(d)),y(this,oo).push(c)}undo(){if(y(this,$r)===-1)return;G(this,gh,!0);const{undo:e,post:n}=y(this,oo)[y(this,$r)];e(),n==null||n(),G(this,gh,!1),G(this,$r,y(this,$r)-1)}redo(){if(y(this,$r)<y(this,oo).length-1){G(this,$r,y(this,$r)+1),G(this,gh,!0);const{cmd:e,post:n}=y(this,oo)[y(this,$r)];e(),n==null||n(),G(this,gh,!1)}}hasSomethingToUndo(){return y(this,$r)!==-1}hasSomethingToRedo(){return y(this,$r)<y(this,oo).length-1}cleanType(e){if(y(this,$r)!==-1){for(let n=y(this,$r);n>=0;n--)if(y(this,oo)[n].type!==e){y(this,oo).splice(n+1,y(this,$r)-n),G(this,$r,n);return}y(this,oo).length=0,G(this,$r,-1)}}destroy(){G(this,oo,null)}}oo=new WeakMap,gh=new WeakMap,kS=new WeakMap,$r=new WeakMap;var eA,n8;class OE{constructor(e){Q(this,eA);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:n}=ei.platform;for(const[r,o,i={}]of e)for(const s of r){const a=s.startsWith("mac+");n&&a?(this.callbacks.set(s.slice(4),{callback:o,options:i}),this.allKeys.add(s.split("+").at(-1))):!n&&!a&&(this.callbacks.set(s,{callback:o,options:i}),this.allKeys.add(s.split("+").at(-1)))}}exec(e,n){if(!this.allKeys.has(n.key))return;const r=this.callbacks.get(J(this,eA,n8).call(this,n));if(!r)return;const{callback:o,options:{bubbles:i=!1,args:s=[],checker:a=null}}=r;a&&!a(e,n)||(o.bind(e,...s,n)(),i||ao(n))}}eA=new WeakSet,n8=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const n=this.buffer.join("+");return this.buffer.length=0,n};const tA=class tA{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return Pbe(e),pn(this,"_colors",e)}convert(e){const n=sN(e);if(!window.matchMedia("(forced-colors: active)").matches)return n;for(const[r,o]of this._colors)if(o.every((i,s)=>i===n[s]))return tA._colorsMapping.get(r);return n}getHexCode(e){const n=this._colors.get(e);return n?Rt.makeHexColor(...n):e}};je(tA,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let AO=tA;var Wy,ks,Io,si,qy,Cu,Ky,Ta,mh,yh,Yy,Mp,oc,ul,kp,OS,DS,Xy,LS,ic,bh,Qy,vh,sc,nA,wh,NS,Sh,Op,Dp,Ch,FS,jo,Xn,Eu,Eh,Lp,$S,VS,xh,ac,xu,zS,BS,Aa,ut,u_,IO,r8,o8,d_,i8,s8,a8,RO,l8,PO,MO,c8,Hi,yu,u8,d8,kO,h8,h0,OO;const Iy=class Iy{constructor(e,n,r,o,i,s,a,c,d,h,p,g,m,v,S){Q(this,ut);Q(this,Wy,new AbortController);Q(this,ks,null);Q(this,Io,new Map);Q(this,si,new Map);Q(this,qy,null);Q(this,Cu,null);Q(this,Ky,null);Q(this,Ta,new Obe);Q(this,mh,null);Q(this,yh,null);Q(this,Yy,0);Q(this,Mp,new Set);Q(this,oc,null);Q(this,ul,null);Q(this,kp,new Set);je(this,"_editorUndoBar",null);Q(this,OS,!1);Q(this,DS,!1);Q(this,Xy,!1);Q(this,LS,null);Q(this,ic,null);Q(this,bh,null);Q(this,Qy,null);Q(this,vh,!1);Q(this,sc,null);Q(this,nA,new kbe);Q(this,wh,!1);Q(this,NS,!1);Q(this,Sh,null);Q(this,Op,null);Q(this,Dp,null);Q(this,Ch,null);Q(this,FS,null);Q(this,jo,qt.NONE);Q(this,Xn,new Set);Q(this,Eu,null);Q(this,Eh,null);Q(this,Lp,null);Q(this,$S,null);Q(this,VS,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});Q(this,xh,[0,0]);Q(this,ac,null);Q(this,xu,null);Q(this,zS,null);Q(this,BS,null);Q(this,Aa,null);const C=this._signal=y(this,Wy).signal;G(this,xu,e),G(this,zS,n),G(this,BS,r),G(this,qy,o),G(this,Eh,i),this._eventBus=s,s._on("editingaction",this.onEditingAction.bind(this),{signal:C}),s._on("pagechanging",this.onPageChanging.bind(this),{signal:C}),s._on("scalechanging",this.onScaleChanging.bind(this),{signal:C}),s._on("rotationchanging",this.onRotationChanging.bind(this),{signal:C}),s._on("setpreference",this.onSetPreference.bind(this),{signal:C}),s._on("switchannotationeditorparams",x=>this.updateParams(x.type,x.value),{signal:C}),J(this,ut,i8).call(this),J(this,ut,c8).call(this),J(this,ut,RO).call(this),G(this,Cu,a.annotationStorage),G(this,LS,a.filterFactory),G(this,Lp,c),G(this,Qy,d||null),G(this,OS,h),G(this,DS,p),G(this,Xy,g),G(this,FS,m||null),this.viewParameters={realScale:vd.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=v||null,this._supportsPinchToZoom=S!==!1}static get _keyboardManager(){const e=Iy.prototype,n=s=>y(s,xu).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&s.hasSomethingToControl(),r=(s,{target:a})=>{if(a instanceof HTMLInputElement){const{type:c}=a;return c!=="text"&&c!=="number"}return!0},o=this.TRANSLATE_SMALL,i=this.TRANSLATE_BIG;return pn(this,"_keyboardManager",new OE([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(s,{target:a})=>!(a instanceof HTMLButtonElement)&&y(s,xu).contains(a)&&!s.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(s,{target:a})=>!(a instanceof HTMLButtonElement)&&y(s,xu).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-o,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[o,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-o],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:n}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,o],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:n}]]))}destroy(){var e,n,r,o,i,s,a,c;(e=y(this,Aa))==null||e.resolve(),G(this,Aa,null),(n=y(this,Wy))==null||n.abort(),G(this,Wy,null),this._signal=null;for(const d of y(this,si).values())d.destroy();y(this,si).clear(),y(this,Io).clear(),y(this,kp).clear(),(r=y(this,Ch))==null||r.clear(),G(this,ks,null),y(this,Xn).clear(),y(this,Ta).destroy(),(o=y(this,qy))==null||o.destroy(),(i=y(this,Eh))==null||i.destroy(),(s=y(this,sc))==null||s.hide(),G(this,sc,null),(a=y(this,Dp))==null||a.destroy(),G(this,Dp,null),y(this,ic)&&(clearTimeout(y(this,ic)),G(this,ic,null)),y(this,ac)&&(clearTimeout(y(this,ac)),G(this,ac,null)),(c=this._editorUndoBar)==null||c.destroy()}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return y(this,FS)}get useNewAltTextFlow(){return y(this,DS)}get useNewAltTextWhenAddingImage(){return y(this,Xy)}get hcmFilter(){return pn(this,"hcmFilter",y(this,Lp)?y(this,LS).addHCMFilter(y(this,Lp).foreground,y(this,Lp).background):"none")}get direction(){return pn(this,"direction",getComputedStyle(y(this,xu)).direction)}get highlightColors(){return pn(this,"highlightColors",y(this,Qy)?new Map(y(this,Qy).split(",").map(e=>(e=e.split("=").map(n=>n.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColorNames(){return pn(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),G(this,yh,e)}setMainHighlightColorPicker(e){G(this,Dp,e)}editAltText(e,n=!1){var r;(r=y(this,qy))==null||r.editAltText(this,e,n)}getSignature(e){var n;(n=y(this,Eh))==null||n.getSignature({uiManager:this,editor:e})}get signatureManager(){return y(this,Eh)}switchToMode(e,n){this._eventBus.on("annotationeditormodechanged",n,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,n){this._eventBus.dispatch("setpreference",{source:this,name:e,value:n})}onSetPreference({name:e,value:n}){switch(e){case"enableNewAltTextWhenAddingImage":G(this,Xy,n);break}}onPageChanging({pageNumber:e}){G(this,Yy,e-1)}focusMainContainer(){y(this,xu).focus()}findParent(e,n){for(const r of y(this,si).values()){const{x:o,y:i,width:s,height:a}=r.div.getBoundingClientRect();if(e>=o&&e<=o+s&&n>=i&&n<=i+a)return r}return null}disableUserSelect(e=!1){y(this,zS).classList.toggle("noUserSelect",e)}addShouldRescale(e){y(this,kp).add(e)}removeShouldRescale(e){y(this,kp).delete(e)}onScaleChanging({scale:e}){var n;this.commitOrRemove(),this.viewParameters.realScale=e*vd.PDF_TO_CSS_UNITS;for(const r of y(this,kp))r.onScaleChanging();(n=y(this,yh))==null||n.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:r,anchorOffset:o,focusNode:i,focusOffset:s}=n,a=n.toString(),d=J(this,ut,u_).call(this,n).closest(".textLayer"),h=this.getSelectionBoxes(d);if(!h)return;n.empty();const p=J(this,ut,IO).call(this,d),g=y(this,jo)===qt.NONE,m=()=>{p==null||p.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:r,anchorOffset:o,focusNode:i,focusOffset:s,text:a}),g&&this.showAllEditors("highlight",!0,!0)};if(g){this.switchToMode(qt.HIGHLIGHT,m);return}m()}addToAnnotationStorage(e){!e.isEmpty()&&y(this,Cu)&&!y(this,Cu).has(e.id)&&y(this,Cu).setValue(e.id,e)}a11yAlert(e,n=null){const r=y(this,BS);r&&(r.setAttribute("data-l10n-id",e),n?r.setAttribute("data-l10n-args",JSON.stringify(n)):r.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,y(this,vh)&&(G(this,vh,!1),J(this,ut,d_).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const n of y(this,Xn))if(n.div.contains(e)){G(this,Op,[n,e]),n._focusEventsAllowed=!1;break}}focus(){if(!y(this,Op))return;const[e,n]=y(this,Op);G(this,Op,null),n.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),n.focus()}addEditListeners(){J(this,ut,RO).call(this),J(this,ut,PO).call(this)}removeEditListeners(){J(this,ut,l8).call(this),J(this,ut,MO).call(this)}dragOver(e){for(const{type:n}of e.dataTransfer.items)for(const r of y(this,ul))if(r.isHandlingMimeForPasting(n)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const n of e.dataTransfer.items)for(const r of y(this,ul))if(r.isHandlingMimeForPasting(n.type)){r.paste(n,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=y(this,ks))==null||r.commitOrRemove(),!this.hasSelection)return;const n=[];for(const o of y(this,Xn)){const i=o.serialize(!0);i&&n.push(i)}n.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:n}=e;for(const i of n.items)for(const s of y(this,ul))if(s.isHandlingMimeForPasting(i.type)){s.paste(i,this.currentLayer);return}let r=n.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(i){Xt(`paste: "${i.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const o=this.currentLayer;try{const i=[];for(const c of r){const d=await o.deserialize(c);if(!d)return;i.push(d)}const s=()=>{for(const c of i)J(this,ut,kO).call(this,c);J(this,ut,OO).call(this,i)},a=()=>{for(const c of i)c.remove()};this.addCommands({cmd:s,undo:a,mustExec:!0})}catch(i){Xt(`paste: "${i.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),y(this,jo)!==qt.NONE&&!this.isEditorHandlingKeyboard&&Iy._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,y(this,vh)&&(G(this,vh,!1),J(this,ut,d_).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(J(this,ut,s8).call(this),J(this,ut,PO).call(this),J(this,ut,Hi).call(this,{isEditing:y(this,jo)!==qt.NONE,isEmpty:J(this,ut,h0).call(this),hasSomethingToUndo:y(this,Ta).hasSomethingToUndo(),hasSomethingToRedo:y(this,Ta).hasSomethingToRedo(),hasSelectedEditor:!1})):(J(this,ut,a8).call(this),J(this,ut,MO).call(this),J(this,ut,Hi).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!y(this,ul)){G(this,ul,e);for(const n of y(this,ul))J(this,ut,yu).call(this,n.defaultPropertiesToUpdate)}}getId(){return y(this,nA).id}get currentLayer(){return y(this,si).get(y(this,Yy))}getLayer(e){return y(this,si).get(e)}get currentPageIndex(){return y(this,Yy)}addLayer(e){y(this,si).set(e.pageIndex,e),y(this,wh)?e.enable():e.disable()}removeLayer(e){y(this,si).delete(e.pageIndex)}async updateMode(e,n=null,r=!1,o=!1){var i,s,a;if(y(this,jo)!==e&&!(y(this,Aa)&&(await y(this,Aa).promise,!y(this,Aa)))){if(G(this,Aa,Promise.withResolvers()),(i=y(this,yh))==null||i.commitOrRemove(),G(this,jo,e),e===qt.NONE){this.setEditingState(!1),J(this,ut,d8).call(this),(s=this._editorUndoBar)==null||s.hide(),y(this,Aa).resolve();return}e===qt.SIGNATURE&&await((a=y(this,Eh))==null?void 0:a.loadSignatures()),this.setEditingState(!0),await J(this,ut,u8).call(this),this.unselectAll();for(const c of y(this,si).values())c.updateMode(e);if(!n){r&&this.addNewEditorFromKeyboard(),y(this,Aa).resolve();return}for(const c of y(this,Io).values())c.annotationElementId===n||c.id===n?(this.setSelected(c),o&&c.enterInEditMode()):c.unselect();y(this,Aa).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==y(this,jo)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,n){var r;if(y(this,ul)){switch(e){case bn.CREATE:this.currentLayer.addNewEditor(n);return;case bn.HIGHLIGHT_DEFAULT_COLOR:(r=y(this,Dp))==null||r.updateColor(n);break;case bn.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(y(this,$S)||G(this,$S,new Map)).set(e,n),this.showAllEditors("highlight",n);break}for(const o of y(this,Xn))o.updateParams(e,n);for(const o of y(this,ul))o.updateDefaultParams(e,n)}}showAllEditors(e,n,r=!1){var i;for(const s of y(this,Io).values())s.editorType===e&&s.show(n);(((i=y(this,$S))==null?void 0:i.get(bn.HIGHLIGHT_SHOW_ALL))??!0)!==n&&J(this,ut,yu).call(this,[[bn.HIGHLIGHT_SHOW_ALL,n]])}enableWaiting(e=!1){if(y(this,NS)!==e){G(this,NS,e);for(const n of y(this,si).values())e?n.disableClick():n.enableClick(),n.div.classList.toggle("waiting",e)}}getEditors(e){const n=[];for(const r of y(this,Io).values())r.pageIndex===e&&n.push(r);return n}getEditor(e){return y(this,Io).get(e)}addEditor(e){y(this,Io).set(e.id,e)}removeEditor(e){var n,r;e.div.contains(document.activeElement)&&(y(this,ic)&&clearTimeout(y(this,ic)),G(this,ic,setTimeout(()=>{this.focusMainContainer(),G(this,ic,null)},0))),y(this,Io).delete(e.id),e.annotationElementId&&((n=y(this,Ch))==null||n.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!y(this,Mp).has(e.annotationElementId))&&((r=y(this,Cu))==null||r.remove(e.id))}addDeletedAnnotationElement(e){y(this,Mp).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return y(this,Mp).has(e)}removeDeletedAnnotationElement(e){y(this,Mp).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){y(this,ks)!==e&&(G(this,ks,e),e&&J(this,ut,yu).call(this,e.propertiesToUpdate))}updateUI(e){y(this,ut,h8)===e&&J(this,ut,yu).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){J(this,ut,yu).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(y(this,Xn).has(e)){y(this,Xn).delete(e),e.unselect(),J(this,ut,Hi).call(this,{hasSelectedEditor:this.hasSelection});return}y(this,Xn).add(e),e.select(),J(this,ut,yu).call(this,e.propertiesToUpdate),J(this,ut,Hi).call(this,{hasSelectedEditor:!0})}setSelected(e){var n;this.updateToolbar({mode:e.mode,editId:e.id}),(n=y(this,yh))==null||n.commitOrRemove();for(const r of y(this,Xn))r!==e&&r.unselect();y(this,Xn).clear(),y(this,Xn).add(e),e.select(),J(this,ut,yu).call(this,e.propertiesToUpdate),J(this,ut,Hi).call(this,{hasSelectedEditor:!0})}isSelected(e){return y(this,Xn).has(e)}get firstSelectedEditor(){return y(this,Xn).values().next().value}unselect(e){e.unselect(),y(this,Xn).delete(e),J(this,ut,Hi).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return y(this,Xn).size!==0}get isEnterHandled(){return y(this,Xn).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;y(this,Ta).undo(),J(this,ut,Hi).call(this,{hasSomethingToUndo:y(this,Ta).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:J(this,ut,h0).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){y(this,Ta).redo(),J(this,ut,Hi).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:y(this,Ta).hasSomethingToRedo(),isEmpty:J(this,ut,h0).call(this)})}addCommands(e){y(this,Ta).add(e),J(this,ut,Hi).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:J(this,ut,h0).call(this)})}cleanUndoStack(e){y(this,Ta).cleanType(e)}delete(){var i;this.commitOrRemove();const e=(i=this.currentLayer)==null?void 0:i.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const n=e?[e]:[...y(this,Xn)],r=()=>{var s;(s=this._editorUndoBar)==null||s.show(o,n.length===1?n[0].editorType:n.length);for(const a of n)a.remove()},o=()=>{for(const s of n)J(this,ut,kO).call(this,s)};this.addCommands({cmd:r,undo:o,mustExec:!0})}commitOrRemove(){var e;(e=y(this,ks))==null||e.commitOrRemove()}hasSomethingToControl(){return y(this,ks)||this.hasSelection}selectAll(){for(const e of y(this,Xn))e.commit();J(this,ut,OO).call(this,y(this,Io).values())}unselectAll(){var e;if(!(y(this,ks)&&(y(this,ks).commitOrRemove(),y(this,jo)!==qt.NONE))&&!((e=y(this,yh))!=null&&e.commitOrRemove())&&this.hasSelection){for(const n of y(this,Xn))n.unselect();y(this,Xn).clear(),J(this,ut,Hi).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,n,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;y(this,xh)[0]+=e,y(this,xh)[1]+=n;const[o,i]=y(this,xh),s=[...y(this,Xn)],a=1e3;y(this,ac)&&clearTimeout(y(this,ac)),G(this,ac,setTimeout(()=>{G(this,ac,null),y(this,xh)[0]=y(this,xh)[1]=0,this.addCommands({cmd:()=>{for(const c of s)y(this,Io).has(c.id)&&(c.translateInPage(o,i),c.translationDone())},undo:()=>{for(const c of s)y(this,Io).has(c.id)&&(c.translateInPage(-o,-i),c.translationDone())},mustExec:!1})},a));for(const c of s)c.translateInPage(e,n),c.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),G(this,oc,new Map);for(const e of y(this,Xn))y(this,oc).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!y(this,oc))return!1;this.disableUserSelect(!1);const e=y(this,oc);G(this,oc,null);let n=!1;for(const[{x:o,y:i,pageIndex:s},a]of e)a.newX=o,a.newY=i,a.newPageIndex=s,n||(n=o!==a.savedX||i!==a.savedY||s!==a.savedPageIndex);if(!n)return!1;const r=(o,i,s,a)=>{if(y(this,Io).has(o.id)){const c=y(this,si).get(a);c?o._setParentAndPosition(c,i,s):(o.pageIndex=a,o.x=i,o.y=s)}};return this.addCommands({cmd:()=>{for(const[o,{newX:i,newY:s,newPageIndex:a}]of e)r(o,i,s,a)},undo:()=>{for(const[o,{savedX:i,savedY:s,savedPageIndex:a}]of e)r(o,i,s,a)},mustExec:!0}),!0}dragSelectedEditors(e,n){if(y(this,oc))for(const r of y(this,oc).keys())r.drag(e,n)}rebuild(e){if(e.parent===null){const n=this.getLayer(e.pageIndex);n?(n.changeParent(e),n.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||y(this,Xn).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return y(this,ks)===e}getActive(){return y(this,ks)}getMode(){return y(this,jo)}get imageManager(){return pn(this,"imageManager",new TO)}getSelectionBoxes(e){if(!e)return null;const n=document.getSelection();for(let d=0,h=n.rangeCount;d<h;d++)if(!e.contains(n.getRangeAt(d).commonAncestorContainer))return null;const{x:r,y:o,width:i,height:s}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(d,h,p,g)=>({x:(h-o)/s,y:1-(d+p-r)/i,width:g/s,height:p/i});break;case"180":a=(d,h,p,g)=>({x:1-(d+p-r)/i,y:1-(h+g-o)/s,width:p/i,height:g/s});break;case"270":a=(d,h,p,g)=>({x:1-(h+g-o)/s,y:(d-r)/i,width:g/s,height:p/i});break;default:a=(d,h,p,g)=>({x:(d-r)/i,y:(h-o)/s,width:p/i,height:g/s});break}const c=[];for(let d=0,h=n.rangeCount;d<h;d++){const p=n.getRangeAt(d);if(!p.collapsed)for(const{x:g,y:m,width:v,height:S}of p.getClientRects())v===0||S===0||c.push(a(g,m,v,S))}return c.length===0?null:c}addChangedExistingAnnotation({annotationElementId:e,id:n}){(y(this,Ky)||G(this,Ky,new Map)).set(e,n)}removeChangedExistingAnnotation({annotationElementId:e}){var n;(n=y(this,Ky))==null||n.delete(e)}renderAnnotationElement(e){var o;const n=(o=y(this,Ky))==null?void 0:o.get(e.data.id);if(!n)return;const r=y(this,Cu).getRawValue(n);r&&(y(this,jo)===qt.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}setMissingCanvas(e,n,r){var i;const o=(i=y(this,Ch))==null?void 0:i.get(e);o&&(o.setCanvas(n,r),y(this,Ch).delete(e))}addMissingCanvas(e,n){(y(this,Ch)||G(this,Ch,new Map)).set(e,n)}};Wy=new WeakMap,ks=new WeakMap,Io=new WeakMap,si=new WeakMap,qy=new WeakMap,Cu=new WeakMap,Ky=new WeakMap,Ta=new WeakMap,mh=new WeakMap,yh=new WeakMap,Yy=new WeakMap,Mp=new WeakMap,oc=new WeakMap,ul=new WeakMap,kp=new WeakMap,OS=new WeakMap,DS=new WeakMap,Xy=new WeakMap,LS=new WeakMap,ic=new WeakMap,bh=new WeakMap,Qy=new WeakMap,vh=new WeakMap,sc=new WeakMap,nA=new WeakMap,wh=new WeakMap,NS=new WeakMap,Sh=new WeakMap,Op=new WeakMap,Dp=new WeakMap,Ch=new WeakMap,FS=new WeakMap,jo=new WeakMap,Xn=new WeakMap,Eu=new WeakMap,Eh=new WeakMap,Lp=new WeakMap,$S=new WeakMap,VS=new WeakMap,xh=new WeakMap,ac=new WeakMap,xu=new WeakMap,zS=new WeakMap,BS=new WeakMap,Aa=new WeakMap,ut=new WeakSet,u_=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},IO=function(e){const{currentLayer:n}=this;if(n.hasTextLayer(e))return n;for(const r of y(this,si).values())if(r.hasTextLayer(e))return r;return null},r8=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=J(this,ut,u_).call(this,e).closest(".textLayer"),o=this.getSelectionBoxes(r);o&&(y(this,sc)||G(this,sc,new Mbe(this)),y(this,sc).show(r,o,this.direction==="ltr"))},o8=function(){var i,s,a;const e=document.getSelection();if(!e||e.isCollapsed){y(this,Eu)&&((i=y(this,sc))==null||i.hide(),G(this,Eu,null),J(this,ut,Hi).call(this,{hasSelectedText:!1}));return}const{anchorNode:n}=e;if(n===y(this,Eu))return;const o=J(this,ut,u_).call(this,e).closest(".textLayer");if(!o){y(this,Eu)&&((s=y(this,sc))==null||s.hide(),G(this,Eu,null),J(this,ut,Hi).call(this,{hasSelectedText:!1}));return}if((a=y(this,sc))==null||a.hide(),G(this,Eu,n),J(this,ut,Hi).call(this,{hasSelectedText:!0}),!(y(this,jo)!==qt.HIGHLIGHT&&y(this,jo)!==qt.NONE)&&(y(this,jo)===qt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),G(this,vh,this.isShiftKeyDown),!this.isShiftKeyDown)){const c=y(this,jo)===qt.HIGHLIGHT?J(this,ut,IO).call(this,o):null;c==null||c.toggleDrawing();const d=new AbortController,h=this.combinedSignal(d),p=g=>{g.type==="pointerup"&&g.button!==0||(d.abort(),c==null||c.toggleDrawing(!0),g.type==="pointerup"&&J(this,ut,d_).call(this,"main_toolbar"))};window.addEventListener("pointerup",p,{signal:h}),window.addEventListener("blur",p,{signal:h})}},d_=function(e=""){y(this,jo)===qt.HIGHLIGHT?this.highlightSelection(e):y(this,OS)&&J(this,ut,r8).call(this)},i8=function(){document.addEventListener("selectionchange",J(this,ut,o8).bind(this),{signal:this._signal})},s8=function(){if(y(this,bh))return;G(this,bh,new AbortController);const e=this.combinedSignal(y(this,bh));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},a8=function(){var e;(e=y(this,bh))==null||e.abort(),G(this,bh,null)},RO=function(){if(y(this,Sh))return;G(this,Sh,new AbortController);const e=this.combinedSignal(y(this,Sh));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},l8=function(){var e;(e=y(this,Sh))==null||e.abort(),G(this,Sh,null)},PO=function(){if(y(this,mh))return;G(this,mh,new AbortController);const e=this.combinedSignal(y(this,mh));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},MO=function(){var e;(e=y(this,mh))==null||e.abort(),G(this,mh,null)},c8=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Hi=function(e){Object.entries(e).some(([r,o])=>y(this,VS)[r]!==o)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(y(this,VS),e)}),y(this,jo)===qt.HIGHLIGHT&&e.hasSelectedEditor===!1&&J(this,ut,yu).call(this,[[bn.HIGHLIGHT_FREE,!0]]))},yu=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},u8=async function(){if(!y(this,wh)){G(this,wh,!0);const e=[];for(const n of y(this,si).values())e.push(n.enable());await Promise.all(e);for(const n of y(this,Io).values())n.enable()}},d8=function(){if(this.unselectAll(),y(this,wh)){G(this,wh,!1);for(const e of y(this,si).values())e.disable();for(const e of y(this,Io).values())e.disable()}},kO=function(e){const n=y(this,si).get(e.pageIndex);n?n.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},h8=function(){let e=null;for(e of y(this,Xn));return e},h0=function(){if(y(this,Io).size===0)return!0;if(y(this,Io).size===1)for(const e of y(this,Io).values())return e.isEmpty();return!1},OO=function(e){for(const n of y(this,Xn))n.unselect();y(this,Xn).clear();for(const n of e)n.isEmpty()||(y(this,Xn).add(n),n.select());J(this,ut,Hi).call(this,{hasSelectedEditor:this.hasSelection})},je(Iy,"TRANSLATE_SMALL",1),je(Iy,"TRANSLATE_BIG",10);let vf=Iy;var Uo,lc,dl,Zy,cc,Os,Jy,uc,ls,_u,Np,dc,_h,_l,f0,h_;const ji=class ji{constructor(e){Q(this,_l);Q(this,Uo,null);Q(this,lc,!1);Q(this,dl,null);Q(this,Zy,null);Q(this,cc,null);Q(this,Os,null);Q(this,Jy,!1);Q(this,uc,null);Q(this,ls,null);Q(this,_u,null);Q(this,Np,null);Q(this,dc,!1);G(this,ls,e),G(this,dc,e._uiManager.useNewAltTextFlow),y(ji,_h)||G(ji,_h,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){ji._l10n??(ji._l10n=e)}async render(){const e=G(this,dl,document.createElement("button"));e.className="altText",e.tabIndex="0";const n=G(this,Zy,document.createElement("span"));e.append(n),y(this,dc)?(e.classList.add("new"),e.setAttribute("data-l10n-id",y(ji,_h).missing),n.setAttribute("data-l10n-id",y(ji,_h)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=y(this,ls)._uiManager._signal;e.addEventListener("contextmenu",Xa,{signal:r}),e.addEventListener("pointerdown",i=>i.stopPropagation(),{signal:r});const o=i=>{i.preventDefault(),y(this,ls)._uiManager.editAltText(y(this,ls)),y(this,dc)&&y(this,ls)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:y(this,_l,f0)}})};return e.addEventListener("click",o,{capture:!0,signal:r}),e.addEventListener("keydown",i=>{i.target===e&&i.key==="Enter"&&(G(this,Jy,!0),o(i))},{signal:r}),await J(this,_l,h_).call(this),e}finish(){y(this,dl)&&(y(this,dl).focus({focusVisible:y(this,Jy)}),G(this,Jy,!1))}isEmpty(){return y(this,dc)?y(this,Uo)===null:!y(this,Uo)&&!y(this,lc)}hasData(){return y(this,dc)?y(this,Uo)!==null||!!y(this,_u):this.isEmpty()}get guessedText(){return y(this,_u)}async setGuessedText(e){y(this,Uo)===null&&(G(this,_u,e),G(this,Np,await ji._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),J(this,_l,h_).call(this))}toggleAltTextBadge(e=!1){var n;if(!y(this,dc)||y(this,Uo)){(n=y(this,uc))==null||n.remove(),G(this,uc,null);return}if(!y(this,uc)){const r=G(this,uc,document.createElement("div"));r.className="noAltTextBadge",y(this,ls).div.append(r)}y(this,uc).classList.toggle("hidden",!e)}serialize(e){let n=y(this,Uo);return!e&&y(this,_u)===n&&(n=y(this,Np)),{altText:n,decorative:y(this,lc),guessedText:y(this,_u),textWithDisclaimer:y(this,Np)}}get data(){return{altText:y(this,Uo),decorative:y(this,lc)}}set data({altText:e,decorative:n,guessedText:r,textWithDisclaimer:o,cancel:i=!1}){r&&(G(this,_u,r),G(this,Np,o)),!(y(this,Uo)===e&&y(this,lc)===n)&&(i||(G(this,Uo,e),G(this,lc,n)),J(this,_l,h_).call(this))}toggle(e=!1){y(this,dl)&&(!e&&y(this,Os)&&(clearTimeout(y(this,Os)),G(this,Os,null)),y(this,dl).disabled=!e)}shown(){y(this,ls)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:y(this,_l,f0)}})}destroy(){var e,n;(e=y(this,dl))==null||e.remove(),G(this,dl,null),G(this,Zy,null),G(this,cc,null),(n=y(this,uc))==null||n.remove(),G(this,uc,null)}};Uo=new WeakMap,lc=new WeakMap,dl=new WeakMap,Zy=new WeakMap,cc=new WeakMap,Os=new WeakMap,Jy=new WeakMap,uc=new WeakMap,ls=new WeakMap,_u=new WeakMap,Np=new WeakMap,dc=new WeakMap,_h=new WeakMap,_l=new WeakSet,f0=function(){return y(this,Uo)&&"added"||y(this,Uo)===null&&this.guessedText&&"review"||"missing"},h_=async function(){var o,i,s;const e=y(this,dl);if(!e)return;if(y(this,dc)){if(e.classList.toggle("done",!!y(this,Uo)),e.setAttribute("data-l10n-id",y(ji,_h)[y(this,_l,f0)]),(o=y(this,Zy))==null||o.setAttribute("data-l10n-id",y(ji,_h)[`${y(this,_l,f0)}-label`]),!y(this,Uo)){(i=y(this,cc))==null||i.remove();return}}else{if(!y(this,Uo)&&!y(this,lc)){e.classList.remove("done"),(s=y(this,cc))==null||s.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let n=y(this,cc);if(!n){G(this,cc,n=document.createElement("span")),n.className="tooltip",n.setAttribute("role","tooltip"),n.id=`alt-text-tooltip-${y(this,ls).id}`;const a=100,c=y(this,ls)._uiManager._signal;c.addEventListener("abort",()=>{clearTimeout(y(this,Os)),G(this,Os,null)},{once:!0}),e.addEventListener("mouseenter",()=>{G(this,Os,setTimeout(()=>{G(this,Os,null),y(this,cc).classList.add("show"),y(this,ls)._reportTelemetry({action:"alt_text_tooltip"})},a))},{signal:c}),e.addEventListener("mouseleave",()=>{var d;y(this,Os)&&(clearTimeout(y(this,Os)),G(this,Os,null)),(d=y(this,cc))==null||d.classList.remove("show")},{signal:c})}y(this,lc)?n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(n.removeAttribute("data-l10n-id"),n.textContent=y(this,Uo)),n.parentNode||e.append(n);const r=y(this,ls).getElementForAltText();r==null||r.setAttribute("aria-describedby",n.id)},Q(ji,_h,null),je(ji,"_l10n",null);let DT=ji;var eb,Fp,HS,jS,US,GS,WS,Tu,$p,Au,Vp,Iu,Cf,f8,p8,g8;const QN=class QN{constructor({container:e,isPinchingDisabled:n=null,isPinchingStopped:r=null,onPinchStart:o=null,onPinching:i=null,onPinchEnd:s=null,signal:a}){Q(this,Cf);Q(this,eb);Q(this,Fp,!1);Q(this,HS,null);Q(this,jS);Q(this,US);Q(this,GS);Q(this,WS);Q(this,Tu,null);Q(this,$p);Q(this,Au,null);Q(this,Vp);Q(this,Iu,null);G(this,eb,e),G(this,HS,r),G(this,jS,n),G(this,US,o),G(this,GS,i),G(this,WS,s),G(this,Vp,new AbortController),G(this,$p,AbortSignal.any([a,y(this,Vp).signal])),e.addEventListener("touchstart",J(this,Cf,f8).bind(this),{passive:!1,signal:y(this,$p)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Dl.pixelRatio}destroy(){var e,n;(e=y(this,Vp))==null||e.abort(),G(this,Vp,null),(n=y(this,Tu))==null||n.abort(),G(this,Tu,null)}};eb=new WeakMap,Fp=new WeakMap,HS=new WeakMap,jS=new WeakMap,US=new WeakMap,GS=new WeakMap,WS=new WeakMap,Tu=new WeakMap,$p=new WeakMap,Au=new WeakMap,Vp=new WeakMap,Iu=new WeakMap,Cf=new WeakSet,f8=function(e){var o,i,s;if((o=y(this,jS))!=null&&o.call(this))return;if(e.touches.length===1){if(y(this,Tu))return;const a=G(this,Tu,new AbortController),c=AbortSignal.any([y(this,$p),a.signal]),d=y(this,eb),h={capture:!0,signal:c,passive:!1},p=g=>{var m;g.pointerType==="touch"&&((m=y(this,Tu))==null||m.abort(),G(this,Tu,null))};d.addEventListener("pointerdown",g=>{g.pointerType==="touch"&&(ao(g),p(g))},h),d.addEventListener("pointerup",p,h),d.addEventListener("pointercancel",p,h);return}if(!y(this,Iu)){G(this,Iu,new AbortController);const a=AbortSignal.any([y(this,$p),y(this,Iu).signal]),c=y(this,eb),d={signal:a,capture:!1,passive:!1};c.addEventListener("touchmove",J(this,Cf,p8).bind(this),d);const h=J(this,Cf,g8).bind(this);c.addEventListener("touchend",h,d),c.addEventListener("touchcancel",h,d),d.capture=!0,c.addEventListener("pointerdown",ao,d),c.addEventListener("pointermove",ao,d),c.addEventListener("pointercancel",ao,d),c.addEventListener("pointerup",ao,d),(i=y(this,US))==null||i.call(this)}if(ao(e),e.touches.length!==2||(s=y(this,HS))!=null&&s.call(this)){G(this,Au,null);return}let[n,r]=e.touches;n.identifier>r.identifier&&([n,r]=[r,n]),G(this,Au,{touch0X:n.screenX,touch0Y:n.screenY,touch1X:r.screenX,touch1Y:r.screenY})},p8=function(e){var P;if(!y(this,Au)||e.touches.length!==2)return;ao(e);let[n,r]=e.touches;n.identifier>r.identifier&&([n,r]=[r,n]);const{screenX:o,screenY:i}=n,{screenX:s,screenY:a}=r,c=y(this,Au),{touch0X:d,touch0Y:h,touch1X:p,touch1Y:g}=c,m=p-d,v=g-h,S=s-o,C=a-i,x=Math.hypot(S,C)||1,O=Math.hypot(m,v)||1;if(!y(this,Fp)&&Math.abs(O-x)<=QN.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(c.touch0X=o,c.touch0Y=i,c.touch1X=s,c.touch1Y=a,!y(this,Fp)){G(this,Fp,!0);return}const M=[(o+s)/2,(i+a)/2];(P=y(this,GS))==null||P.call(this,M,O,x)},g8=function(e){var n;e.touches.length>=2||(y(this,Iu)&&(y(this,Iu).abort(),G(this,Iu,null),(n=y(this,WS))==null||n.call(this)),y(this,Au)&&(ao(e),G(this,Au,null),G(this,Fp,!1)))};let mS=QN;var zp,hl,Pr,tb,Th,qS,Bp,ai,Hp,Ru,Ah,KS,jp,Ds,YS,Up,Pu,hc,nb,rb,Ia,Gp,XS,rA,Vt,DO,QS,LO,f_,m8,y8,NO,p_,FO,b8,v8,w8,$O,S8,VO,C8,E8,x8,zO,p0;const rn=class rn{constructor(e){Q(this,Vt);Q(this,zp,null);Q(this,hl,null);Q(this,Pr,null);Q(this,tb,!1);Q(this,Th,null);Q(this,qS,"");Q(this,Bp,!1);Q(this,ai,null);Q(this,Hp,null);Q(this,Ru,null);Q(this,Ah,null);Q(this,KS,"");Q(this,jp,!1);Q(this,Ds,null);Q(this,YS,!1);Q(this,Up,!1);Q(this,Pu,!1);Q(this,hc,null);Q(this,nb,0);Q(this,rb,0);Q(this,Ia,null);Q(this,Gp,null);je(this,"isSelected",!1);je(this,"_isCopy",!1);je(this,"_editToolbar",null);je(this,"_initialOptions",Object.create(null));je(this,"_initialData",null);je(this,"_isVisible",!0);je(this,"_uiManager",null);je(this,"_focusEventsAllowed",!0);Q(this,XS,!1);Q(this,rA,rn._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null;const{rotation:n,rawDims:{pageWidth:r,pageHeight:o,pageX:i,pageY:s}}=this.parent.viewport;this.rotation=n,this.pageRotation=(360+n-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,o],this.pageTranslation=[i,s];const[a,c]=this.parentDimensions;this.x=e.x/a,this.y=e.y/c,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=rn.prototype._resizeWithKeyboard,n=vf.TRANSLATE_SMALL,r=vf.TRANSLATE_BIG;return pn(this,"_resizerKeyboardManager",new OE([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-n,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[n,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-n]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,n]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],rn.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return pn(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const n=new Dbe({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});n.annotationElementId=e.annotationElementId,n.deleted=!0,n._uiManager.addToAnnotationStorage(n)}static initialize(e,n){if(rn._l10n??(rn._l10n=e),rn._l10nResizer||(rn._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),rn._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);rn._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,n){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,n){cr("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return y(this,XS)}set _isDraggable(e){var n;G(this,XS,e),(n=this.div)==null||n.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,n]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*n/(e*2),this.y+=this.width*e/(n*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*n/(e*2),this.y-=this.width*e/(n*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=y(this,rA)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):J(this,Vt,p0).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(y(this,jp)?G(this,jp,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const n=e.relatedTarget;n!=null&&n.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,n,r,o){const[i,s]=this.parentDimensions;[r,o]=this.screenToPageTranslation(r,o),this.x=(e+r)/i,this.y=(n+o)/s,this.fixAndSetPosition()}_moveAfterPaste(e,n){const[r,o]=this.parentDimensions;this.setAt(e*r,n*o,this.width*r,this.height*o),this._onTranslated()}translate(e,n){J(this,Vt,DO).call(this,this.parentDimensions,e,n)}translateInPage(e,n){y(this,Ds)||G(this,Ds,[this.x,this.y,this.width,this.height]),J(this,Vt,DO).call(this,this.pageDimensions,e,n),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,n){y(this,Ds)||G(this,Ds,[this.x,this.y,this.width,this.height]);const{div:r,parentDimensions:[o,i]}=this;if(this.x+=e/o,this.y+=n/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:p,y:g}=this.div.getBoundingClientRect();this.parent.findNewParent(this,p,g)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:a}=this;const[c,d]=this.getBaseTranslation();s+=c,a+=d;const{style:h}=r;h.left=`${(100*s).toFixed(2)}%`,h.top=`${(100*a).toFixed(2)}%`,this._onTranslating(s,a),r.scrollIntoView({block:"nearest"})}_onTranslating(e,n){}_onTranslated(e,n){}get _hasBeenMoved(){return!!y(this,Ds)&&(y(this,Ds)[0]!==this.x||y(this,Ds)[1]!==this.y)}get _hasBeenResized(){return!!y(this,Ds)&&(y(this,Ds)[2]!==this.width||y(this,Ds)[3]!==this.height)}getBaseTranslation(){const[e,n]=this.parentDimensions,{_borderLineWidth:r}=rn,o=r/e,i=r/n;switch(this.rotation){case 90:return[-o,i];case 180:return[o,i];case 270:return[o,-i];default:return[-o,-i]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:n},pageDimensions:[r,o]}=this;let{x:i,y:s,width:a,height:c}=this;if(a*=r,c*=o,i*=r,s*=o,this._mustFixPosition)switch(e){case 0:i=Mi(i,0,r-a),s=Mi(s,0,o-c);break;case 90:i=Mi(i,0,r-c),s=Mi(s,a,o);break;case 180:i=Mi(i,a,r),s=Mi(s,c,o);break;case 270:i=Mi(i,c,r),s=Mi(s,0,o-a);break}this.x=i/=r,this.y=s/=o;const[d,h]=this.getBaseTranslation();i+=d,s+=h,n.left=`${(100*i).toFixed(2)}%`,n.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,n){var r;return J(r=rn,QS,LO).call(r,e,n,this.parentRotation)}pageTranslationToScreen(e,n){var r;return J(r=rn,QS,LO).call(r,e,n,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[n,r]}=this;return[n*e,r*e]}setDims(e,n){const[r,o]=this.parentDimensions,{style:i}=this.div;i.width=`${(100*e/r).toFixed(2)}%`,y(this,Bp)||(i.height=`${(100*n/o).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:n,width:r}=e,o=r.endsWith("%"),i=!y(this,Bp)&&n.endsWith("%");if(o&&i)return;const[s,a]=this.parentDimensions;o||(e.width=`${(100*parseFloat(r)/s).toFixed(2)}%`),!y(this,Bp)&&!i&&(e.height=`${(100*parseFloat(n)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=y(this,Pr))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||y(this,Up))return this._editToolbar;this._editToolbar=new _O(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[n,r]of e)await this._editToolbar.addButton(n,r);return this._editToolbar.addButton("delete"),this._editToolbar}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=y(this,Pr))==null||e.destroy())}addContainer(e){var r;const n=(r=this._editToolbar)==null?void 0:r.div;n?n.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return y(this,Pr)||(DT.initialize(rn._l10n),G(this,Pr,new DT(this)),y(this,zp)&&(y(this,Pr).data=y(this,zp),G(this,zp,null))),y(this,Pr)}get altTextData(){var e;return(e=y(this,Pr))==null?void 0:e.data}set altTextData(e){y(this,Pr)&&(y(this,Pr).data=e)}get guessedAltText(){var e;return(e=y(this,Pr))==null?void 0:e.guessedText}async setGuessedAltText(e){var n;await((n=y(this,Pr))==null?void 0:n.setGuessedText(e))}serializeAltText(e){var n;return(n=y(this,Pr))==null?void 0:n.serialize(e)}hasAltText(){return!!y(this,Pr)&&!y(this,Pr).isEmpty()}hasAltTextData(){var e;return((e=y(this,Pr))==null?void 0:e.hasData())??!1}render(){var s;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=y(this,tb)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),J(this,Vt,VO).call(this);const[n,r]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*r/n).toFixed(2)}%`,e.style.maxHeight=`${(100*n/r).toFixed(2)}%`);const[o,i]=this.getInitialTranslation();return this.translate(o,i),t8(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(y(this,Gp)||G(this,Gp,new mS({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:J(this,Vt,b8).bind(this),onPinching:J(this,Vt,v8).bind(this),onPinchEnd:J(this,Vt,w8).bind(this),signal:this._uiManager._signal}))),(s=this._uiManager._editorUndoBar)==null||s.hide(),e}pointerdown(e){const{isMac:n}=ei.platform;if(e.button!==0||e.ctrlKey&&n){e.preventDefault();return}if(G(this,jp,!0),this._isDraggable){J(this,Vt,S8).call(this,e);return}J(this,Vt,$O).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){y(this,hc)&&clearTimeout(y(this,hc)),G(this,hc,setTimeout(()=>{var e;G(this,hc,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,n,r){e.changeParent(this),this.x=n,this.y=r,this.fixAndSetPosition(),this._onTranslated()}getRect(e,n,r=this.rotation){const o=this.parentScale,[i,s]=this.pageDimensions,[a,c]=this.pageTranslation,d=e/o,h=n/o,p=this.x*i,g=this.y*s,m=this.width*i,v=this.height*s;switch(r){case 0:return[p+d+a,s-g-h-v+c,p+d+m+a,s-g-h+c];case 90:return[p+h+a,s-g+d+c,p+h+v+a,s-g+d+m+c];case 180:return[p-d-m+a,s-g+h+c,p-d+a,s-g+h+v+c];case 270:return[p-h-v+a,s-g-d-m+c,p-h+a,s-g-d+c];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,n){const[r,o,i,s]=e,a=i-r,c=s-o;switch(this.rotation){case 0:return[r,n-s,a,c];case 90:return[r,n-o,c,a];case 180:return[i,n-o,a,c];case 270:return[i,n-s,c,a];default:throw new Error("Invalid rotation")}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),G(this,Up,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),G(this,Up,!1),!0):!1}isInEditMode(){return y(this,Up)}shouldGetKeyboardEvents(){return y(this,Pu)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:n,bottom:r,right:o}=this.getClientDimensions(),{innerHeight:i,innerWidth:s}=window;return n<s&&o>0&&e<i&&r>0}rebuild(){J(this,Vt,VO).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,n=null){cr("An editor must be serializable")}static async deserialize(e,n,r){const o=new this.prototype.constructor({parent:n,id:n.getNextId(),uiManager:r,annotationElementId:e.annotationElementId});o.rotation=e.rotation,G(o,zp,e.accessibilityData),o._isCopy=e.isCopy||!1;const[i,s]=o.pageDimensions,[a,c,d,h]=o.getRectInCurrentCoords(e.rect,s);return o.x=a/i,o.y=c/s,o.width=d/i,o.height=h/s,o}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,n;if((e=y(this,Ah))==null||e.abort(),G(this,Ah,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),y(this,hc)&&(clearTimeout(y(this,hc)),G(this,hc,null)),J(this,Vt,p0).call(this),this.removeEditToolbar(),y(this,Ia)){for(const r of y(this,Ia).values())clearTimeout(r);G(this,Ia,null)}this.parent=null,(n=y(this,Gp))==null||n.destroy(),G(this,Gp,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(J(this,Vt,m8).call(this),y(this,ai).classList.remove("hidden"))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),G(this,Ru,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const n=y(this,ai).children;if(!y(this,hl)){G(this,hl,Array.from(n));const s=J(this,Vt,C8).bind(this),a=J(this,Vt,E8).bind(this),c=this._uiManager._signal;for(const d of y(this,hl)){const h=d.getAttribute("data-resizer-name");d.setAttribute("role","spinbutton"),d.addEventListener("keydown",s,{signal:c}),d.addEventListener("blur",a,{signal:c}),d.addEventListener("focus",J(this,Vt,x8).bind(this,h),{signal:c}),d.setAttribute("data-l10n-id",rn._l10nResizer[h])}}const r=y(this,hl)[0];let o=0;for(const s of n){if(s===r)break;o++}const i=(360-this.rotation+this.parentRotation)%360/90*(y(this,hl).length/4);if(i!==o){if(i<o)for(let a=0;a<o-i;a++)y(this,ai).append(y(this,ai).firstChild);else if(i>o)for(let a=0;a<i-o;a++)y(this,ai).firstChild.before(y(this,ai).lastChild);let s=0;for(const a of n){const d=y(this,hl)[s++].getAttribute("data-resizer-name");a.setAttribute("data-l10n-id",rn._l10nResizer[d])}}J(this,Vt,zO).call(this,0),G(this,Pu,!0),y(this,ai).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,n){y(this,Pu)&&J(this,Vt,FO).call(this,y(this,KS),{deltaX:e,deltaY:n,fromKeyboard:!0})}_stopResizingWithKeyboard(){J(this,Vt,p0).call(this),this.div.focus()}select(){var e,n,r;if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var o,i;(o=this.div)!=null&&o.classList.contains("selectedEditor")&&((i=this._editToolbar)==null||i.show())});return}(n=this._editToolbar)==null||n.show(),(r=y(this,Pr))==null||r.toggleAltTextBadge(!1)}}unselect(){var e,n,r,o,i;this.isSelected&&(this.isSelected=!1,(e=y(this,ai))==null||e.classList.add("hidden"),(n=this.div)==null||n.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(o=this._editToolbar)==null||o.hide(),(i=y(this,Pr))==null||i.toggleAltTextBadge(!0))}updateParams(e,n){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return y(this,YS)}set isEditing(e){G(this,YS,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,n){G(this,Bp,!0);const r=e/n,{style:o}=this.div;o.aspectRatio=r,o.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,n=!1){if(n){y(this,Ia)||G(this,Ia,new Map);const{action:r}=e;let o=y(this,Ia).get(r);o&&clearTimeout(o),o=setTimeout(()=>{this._reportTelemetry(e),y(this,Ia).delete(r),y(this,Ia).size===0&&G(this,Ia,null)},rn._telemetryTimeout),y(this,Ia).set(r,o);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),G(this,tb,!1)}disable(){this.div&&(this.div.tabIndex=-1),G(this,tb,!0)}renderAnnotationElement(e){let n=e.container.querySelector(".annotationContent");if(!n)n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),e.container.prepend(n);else if(n.nodeName==="CANVAS"){const r=n;n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),r.before(n)}return n}resetAnnotationElement(e){const{firstChild:n}=e.container;(n==null?void 0:n.nodeName)==="DIV"&&n.classList.contains("annotationContent")&&n.remove()}};zp=new WeakMap,hl=new WeakMap,Pr=new WeakMap,tb=new WeakMap,Th=new WeakMap,qS=new WeakMap,Bp=new WeakMap,ai=new WeakMap,Hp=new WeakMap,Ru=new WeakMap,Ah=new WeakMap,KS=new WeakMap,jp=new WeakMap,Ds=new WeakMap,YS=new WeakMap,Up=new WeakMap,Pu=new WeakMap,hc=new WeakMap,nb=new WeakMap,rb=new WeakMap,Ia=new WeakMap,Gp=new WeakMap,XS=new WeakMap,rA=new WeakMap,Vt=new WeakSet,DO=function([e,n],r,o){[r,o]=this.screenToPageTranslation(r,o),this.x+=r/e,this.y+=o/n,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},QS=new WeakSet,LO=function(e,n,r){switch(r){case 90:return[n,-e];case 180:return[-e,-n];case 270:return[-n,e];default:return[e,n]}},f_=function(e){switch(e){case 90:{const[n,r]=this.pageDimensions;return[0,-n/r,r/n,0]}case 180:return[-1,0,0,-1];case 270:{const[n,r]=this.pageDimensions;return[0,n/r,-r/n,0]}default:return[1,0,0,1]}},m8=function(){if(y(this,ai))return;G(this,ai,document.createElement("div")),y(this,ai).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],n=this._uiManager._signal;for(const r of e){const o=document.createElement("div");y(this,ai).append(o),o.classList.add("resizer",r),o.setAttribute("data-resizer-name",r),o.addEventListener("pointerdown",J(this,Vt,y8).bind(this,r),{signal:n}),o.addEventListener("contextmenu",Xa,{signal:n}),o.tabIndex=-1}this.div.prepend(y(this,ai))},y8=function(e,n){var h;n.preventDefault();const{isMac:r}=ei.platform;if(n.button!==0||n.ctrlKey&&r)return;(h=y(this,Pr))==null||h.toggle(!1);const o=this._isDraggable;this._isDraggable=!1,G(this,Hp,[n.screenX,n.screenY]);const i=new AbortController,s=this._uiManager.combinedSignal(i);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",J(this,Vt,FO).bind(this,e),{passive:!0,capture:!0,signal:s}),window.addEventListener("touchmove",ao,{passive:!1,signal:s}),window.addEventListener("contextmenu",Xa,{signal:s}),G(this,Ru,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const a=this.parent.div.style.cursor,c=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(n.target).cursor;const d=()=>{var p;i.abort(),this.parent.togglePointerEvents(!0),(p=y(this,Pr))==null||p.toggle(!0),this._isDraggable=o,this.parent.div.style.cursor=a,this.div.style.cursor=c,J(this,Vt,p_).call(this)};window.addEventListener("pointerup",d,{signal:s}),window.addEventListener("blur",d,{signal:s})},NO=function(e,n,r,o){this.width=r,this.height=o,this.x=e,this.y=n;const[i,s]=this.parentDimensions;this.setDims(i*r,s*o),this.fixAndSetPosition(),this._onResized()},p_=function(){if(!y(this,Ru))return;const{savedX:e,savedY:n,savedWidth:r,savedHeight:o}=y(this,Ru);G(this,Ru,null);const i=this.x,s=this.y,a=this.width,c=this.height;i===e&&s===n&&a===r&&c===o||this.addCommands({cmd:J(this,Vt,NO).bind(this,i,s,a,c),undo:J(this,Vt,NO).bind(this,e,n,r,o),mustExec:!0})},FO=function(e,n){const[r,o]=this.parentDimensions,i=this.x,s=this.y,a=this.width,c=this.height,d=rn.MIN_SIZE/r,h=rn.MIN_SIZE/o,p=J(this,Vt,f_).call(this,this.rotation),g=(z,H)=>[p[0]*z+p[2]*H,p[1]*z+p[3]*H],m=J(this,Vt,f_).call(this,360-this.rotation),v=(z,H)=>[m[0]*z+m[2]*H,m[1]*z+m[3]*H];let S,C,x=!1,O=!1;switch(e){case"topLeft":x=!0,S=(z,H)=>[0,0],C=(z,H)=>[z,H];break;case"topMiddle":S=(z,H)=>[z/2,0],C=(z,H)=>[z/2,H];break;case"topRight":x=!0,S=(z,H)=>[z,0],C=(z,H)=>[0,H];break;case"middleRight":O=!0,S=(z,H)=>[z,H/2],C=(z,H)=>[0,H/2];break;case"bottomRight":x=!0,S=(z,H)=>[z,H],C=(z,H)=>[0,0];break;case"bottomMiddle":S=(z,H)=>[z/2,H],C=(z,H)=>[z/2,0];break;case"bottomLeft":x=!0,S=(z,H)=>[0,H],C=(z,H)=>[z,0];break;case"middleLeft":O=!0,S=(z,H)=>[0,H/2],C=(z,H)=>[z,H/2];break}const M=S(a,c),P=C(a,c);let k=g(...P);const $=rn._round(i+k[0]),D=rn._round(s+k[1]);let I=1,A=1,N,F;if(n.fromKeyboard)({deltaX:N,deltaY:F}=n);else{const{screenX:z,screenY:H}=n,[Z,re]=y(this,Hp);[N,F]=this.screenToPageTranslation(z-Z,H-re),y(this,Hp)[0]=z,y(this,Hp)[1]=H}if([N,F]=v(N/r,F/o),x){const z=Math.hypot(a,c);I=A=Math.max(Math.min(Math.hypot(P[0]-M[0]-N,P[1]-M[1]-F)/z,1/a,1/c),d/a,h/c)}else O?I=Mi(Math.abs(P[0]-M[0]-N),d,1)/a:A=Mi(Math.abs(P[1]-M[1]-F),h,1)/c;const R=rn._round(a*I),V=rn._round(c*A);k=g(...C(R,V));const q=$-k[0],K=D-k[1];y(this,Ds)||G(this,Ds,[this.x,this.y,this.width,this.height]),this.width=R,this.height=V,this.x=q,this.y=K,this.setDims(r*R,o*V),this.fixAndSetPosition(),this._onResizing()},b8=function(){var e;G(this,Ru,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=y(this,Pr))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},v8=function(e,n,r){let i=.7*(r/n)+1-.7;if(i===1)return;const s=J(this,Vt,f_).call(this,this.rotation),a=($,D)=>[s[0]*$+s[2]*D,s[1]*$+s[3]*D],[c,d]=this.parentDimensions,h=this.x,p=this.y,g=this.width,m=this.height,v=rn.MIN_SIZE/c,S=rn.MIN_SIZE/d;i=Math.max(Math.min(i,1/g,1/m),v/g,S/m);const C=rn._round(g*i),x=rn._round(m*i);if(C===g&&x===m)return;y(this,Ds)||G(this,Ds,[h,p,g,m]);const O=a(g/2,m/2),M=rn._round(h+O[0]),P=rn._round(p+O[1]),k=a(C/2,x/2);this.x=M-k[0],this.y=P-k[1],this.width=C,this.height=x,this.setDims(c*C,d*x),this.fixAndSetPosition(),this._onResizing()},w8=function(){var e;(e=y(this,Pr))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),J(this,Vt,p_).call(this)},$O=function(e){const{isMac:n}=ei.platform;e.ctrlKey&&!n||e.shiftKey||e.metaKey&&n?this.parent.toggleSelected(this):this.parent.setSelected(this)},S8=function(e){const{isSelected:n}=this;this._uiManager.setUpDragSession();let r=!1;const o=new AbortController,i=this._uiManager.combinedSignal(o),s={capture:!0,passive:!1,signal:i},a=d=>{o.abort(),G(this,Th,null),G(this,jp,!1),this._uiManager.endDragSession()||J(this,Vt,$O).call(this,d),r&&this._onStopDragging()};n&&(G(this,nb,e.clientX),G(this,rb,e.clientY),G(this,Th,e.pointerId),G(this,qS,e.pointerType),window.addEventListener("pointermove",d=>{r||(r=!0,this._onStartDragging());const{clientX:h,clientY:p,pointerId:g}=d;if(g!==y(this,Th)){ao(d);return}const[m,v]=this.screenToPageTranslation(h-y(this,nb),p-y(this,rb));G(this,nb,h),G(this,rb,p),this._uiManager.dragSelectedEditors(m,v)},s),window.addEventListener("touchmove",ao,s),window.addEventListener("pointerdown",d=>{d.pointerType===y(this,qS)&&(y(this,Gp)||d.isPrimary)&&a(d),ao(d)},s));const c=d=>{if(!y(this,Th)||y(this,Th)===d.pointerId){a(d);return}ao(d)};window.addEventListener("pointerup",c,{signal:i}),window.addEventListener("blur",c,{signal:i})},VO=function(){if(y(this,Ah)||!this.div)return;G(this,Ah,new AbortController);const e=this._uiManager.combinedSignal(y(this,Ah));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},C8=function(e){rn._resizerKeyboardManager.exec(this,e)},E8=function(e){var n;y(this,Pu)&&((n=e.relatedTarget)==null?void 0:n.parentNode)!==y(this,ai)&&J(this,Vt,p0).call(this)},x8=function(e){G(this,KS,y(this,Pu)?e:"")},zO=function(e){if(y(this,hl))for(const n of y(this,hl))n.tabIndex=e},p0=function(){G(this,Pu,!1),J(this,Vt,zO).call(this,-1),J(this,Vt,p_).call(this)},Q(rn,QS),je(rn,"_l10n",null),je(rn,"_l10nResizer",null),je(rn,"_borderLineWidth",-1),je(rn,"_colorManager",new AO),je(rn,"_zIndex",1),je(rn,"_telemetryTimeout",1e3);let wr=rn;class Dbe extends wr{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const Qj=3285377520,Ea=4294901760,Jl=65535;class _8{constructor(e){this.h1=e?e&4294967295:Qj,this.h2=e?e&4294967295:Qj}update(e){let n,r;if(typeof e=="string"){n=new Uint8Array(e.length*2),r=0;for(let S=0,C=e.length;S<C;S++){const x=e.charCodeAt(S);x<=255?n[r++]=x:(n[r++]=x>>>8,n[r++]=x&255)}}else if(ArrayBuffer.isView(e))n=e.slice(),r=n.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const o=r>>2,i=r-o*4,s=new Uint32Array(n.buffer,0,o);let a=0,c=0,d=this.h1,h=this.h2;const p=3432918353,g=461845907,m=p&Jl,v=g&Jl;for(let S=0;S<o;S++)S&1?(a=s[S],a=a*p&Ea|a*m&Jl,a=a<<15|a>>>17,a=a*g&Ea|a*v&Jl,d^=a,d=d<<13|d>>>19,d=d*5+3864292196):(c=s[S],c=c*p&Ea|c*m&Jl,c=c<<15|c>>>17,c=c*g&Ea|c*v&Jl,h^=c,h=h<<13|h>>>19,h=h*5+3864292196);switch(a=0,i){case 3:a^=n[o*4+2]<<16;case 2:a^=n[o*4+1]<<8;case 1:a^=n[o*4],a=a*p&Ea|a*m&Jl,a=a<<15|a>>>17,a=a*g&Ea|a*v&Jl,o&1?d^=a:h^=a}this.h1=d,this.h2=h}hexdigest(){let e=this.h1,n=this.h2;return e^=n>>>1,e=e*3981806797&Ea|e*36045&Jl,n=n*4283543511&Ea|((n<<16|e>>>16)*2950163797&Ea)>>>16,e^=n>>>1,e=e*444984403&Ea|e*60499&Jl,n=n*3301882366&Ea|((n<<16|e>>>16)*3120437893&Ea)>>>16,e^=n>>>1,(e>>>0).toString(16).padStart(8,"0")+(n>>>0).toString(16).padStart(8,"0")}}const BO=Object.freeze({map:null,hash:"",transfer:void 0});var Wp,qp,li,oA,T8;class aN{constructor(){Q(this,oA);Q(this,Wp,!1);Q(this,qp,null);Q(this,li,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,n){const r=y(this,li).get(e);return r===void 0?n:Object.assign(n,r)}getRawValue(e){return y(this,li).get(e)}remove(e){if(y(this,li).delete(e),y(this,li).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const n of y(this,li).values())if(n instanceof wr)return;this.onAnnotationEditor(null)}}setValue(e,n){const r=y(this,li).get(e);let o=!1;if(r!==void 0)for(const[i,s]of Object.entries(n))r[i]!==s&&(o=!0,r[i]=s);else o=!0,y(this,li).set(e,n);o&&J(this,oA,T8).call(this),n instanceof wr&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(n.constructor._type)}has(e){return y(this,li).has(e)}get size(){return y(this,li).size}resetModified(){y(this,Wp)&&(G(this,Wp,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new A8(this)}get serializable(){if(y(this,li).size===0)return BO;const e=new Map,n=new _8,r=[],o=Object.create(null);let i=!1;for(const[s,a]of y(this,li)){const c=a instanceof wr?a.serialize(!1,o):a;c&&(e.set(s,c),n.update(`${s}:${JSON.stringify(c)}`),i||(i=!!c.bitmap))}if(i)for(const s of e.values())s.bitmap&&r.push(s.bitmap);return e.size>0?{map:e,hash:n.hexdigest(),transfer:r}:BO}get editorStats(){let e=null;const n=new Map;for(const r of y(this,li).values()){if(!(r instanceof wr))continue;const o=r.telemetryFinalData;if(!o)continue;const{type:i}=o;n.has(i)||n.set(i,Object.getPrototypeOf(r).constructor),e||(e=Object.create(null));const s=e[i]||(e[i]=new Map);for(const[a,c]of Object.entries(o)){if(a==="type")continue;let d=s.get(a);d||(d=new Map,s.set(a,d));const h=d.get(c)??0;d.set(c,h+1)}}for(const[r,o]of n)e[r]=o.computeTelemetryFinalData(e[r]);return e}resetModifiedIds(){G(this,qp,null)}get modifiedIds(){if(y(this,qp))return y(this,qp);const e=[];for(const n of y(this,li).values())!(n instanceof wr)||!n.annotationElementId||!n.serialize()||e.push(n.annotationElementId);return G(this,qp,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return y(this,li).entries()}}Wp=new WeakMap,qp=new WeakMap,li=new WeakMap,oA=new WeakSet,T8=function(){y(this,Wp)||(G(this,Wp,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var ZS;class A8 extends aN{constructor(n){super();Q(this,ZS);const{map:r,hash:o,transfer:i}=n.serializable,s=structuredClone(r,i?{transfer:i}:null);G(this,ZS,{map:s,hash:o,transfer:i})}get print(){cr("Should not call PrintAnnotationStorage.print")}get serializable(){return y(this,ZS)}get modifiedIds(){return pn(this,"modifiedIds",{ids:new Set,hash:""})}}ZS=new WeakMap;var ob;class Lbe{constructor({ownerDocument:e=globalThis.document,styleElement:n=null}){Q(this,ob,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const n=this.styleElement.sheet;n.insertRule(e,n.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),y(this,ob).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:n,_inspectFont:r}){if(!(!e||y(this,ob).has(e.loadedName))){if(bo(!n,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:o,src:i,style:s}=e,a=new FontFace(o,i,s);this.addNativeFontFace(a);try{await a.load(),y(this,ob).add(o),r==null||r(e)}catch{Xt(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}cr("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(o){throw Xt(`Failed to load font '${r.family}': '${o}'.`),e.disableFontFace=!0,o}}return}const n=e.createFontFaceRule();if(n){if(this.insertRule(n),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const o=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,o)})}}get isFontLoadingAPISupported(){var n;const e=!!((n=this._document)!=null&&n.fonts);return pn(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return pn(this,"isSyncFontLoadingSupported",Ki||ei.platform.isFirefox)}_queueLoadingCallback(e){function n(){for(bo(!o.done,"completeRequest() cannot be called twice."),o.done=!0;r.length>0&&r[0].done;){const i=r.shift();setTimeout(i.callback,0)}}const{loadingRequests:r}=this,o={done:!1,complete:n,callback:e};return r.push(o),o}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return pn(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,n){function r(P,k){return P.charCodeAt(k)<<24|P.charCodeAt(k+1)<<16|P.charCodeAt(k+2)<<8|P.charCodeAt(k+3)&255}function o(P,k,$,D){const I=P.substring(0,k),A=P.substring(k+$);return I+D+A}let i,s;const a=this._document.createElement("canvas");a.width=1,a.height=1;const c=a.getContext("2d");let d=0;function h(P,k){if(++d>30){Xt("Load test font never loaded."),k();return}if(c.font="30px "+P,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0){k();return}setTimeout(h.bind(null,P,k))}const p=`lt${Date.now()}${this.loadTestFontId++}`;let g=this._loadTestFont;g=o(g,976,p.length,p);const v=16,S=1482184792;let C=r(g,v);for(i=0,s=p.length-3;i<s;i+=4)C=C-S+r(p,i)|0;i<p.length&&(C=C-S+r(p+"XXX",i)|0),g=o(g,v,4,Ebe(C));const x=`url(data:font/opentype;base64,${btoa(g)});`,O=`@font-face {font-family:"${p}";src:${x}}`;this.insertRule(O);const M=this._document.createElement("div");M.style.visibility="hidden",M.style.width=M.style.height="10px",M.style.position="absolute",M.style.top=M.style.left="0px";for(const P of[e.loadedName,p]){const k=this._document.createElement("span");k.textContent="Hi",k.style.fontFamily=P,M.append(k)}this._document.body.append(M),h(p,()=>{M.remove(),n.complete()})}}ob=new WeakMap;class Nbe{constructor(e,n=null){this.compiledGlyphs=Object.create(null);for(const r in e)this[r]=e[r];this._inspectFont=n}createNativeFontFace(){var n;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(n=this._inspectFont)==null||n.call(this,this),e}createFontFaceRule(){var r;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${G9(this.data)});`;let n;if(!this.cssFontInfo)n=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let o=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(o+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${o}src:${e}}`}return(r=this._inspectFont)==null||r.call(this,this,e),n}getPathGenerator(e,n){if(this.compiledGlyphs[n]!==void 0)return this.compiledGlyphs[n];const r=this.loadedName+"_path_"+n;let o;try{o=e.get(r)}catch(s){Xt(`getPathGenerator - ignoring character: "${s}".`)}const i=new Path2D(o||"");return this.fontExtraProperties||e.delete(r),this.compiledGlyphs[n]=i}}function Fbe(t){if(t instanceof URL)return t.href;if(typeof t=="string"){if(Ki)return t;const e=URL.parse(t,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function $be(t){if(Ki&&typeof Buffer<"u"&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if(typeof t=="string")return PE(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||typeof t=="object"&&!isNaN(t==null?void 0:t.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function P1(t){if(typeof t!="string")return null;if(t.endsWith("/"))return t;throw new Error(`Invalid factory url: "${t}" must include trailing slash.`)}const HO=t=>typeof t=="object"&&Number.isInteger(t==null?void 0:t.num)&&t.num>=0&&Number.isInteger(t==null?void 0:t.gen)&&t.gen>=0,Vbe=t=>typeof t=="object"&&typeof(t==null?void 0:t.name)=="string",I8=Abe.bind(null,HO,Vbe);var Mu,iA;class zbe{constructor(){Q(this,Mu,new Map);Q(this,iA,Promise.resolve())}postMessage(e,n){const r={data:structuredClone(e,n?{transfer:n}:null)};y(this,iA).then(()=>{for(const[o]of y(this,Mu))o.call(this,r)})}addEventListener(e,n,r=null){let o=null;if((r==null?void 0:r.signal)instanceof AbortSignal){const{signal:i}=r;if(i.aborted){Xt("LoopbackPort - cannot use an `aborted` signal.");return}const s=()=>this.removeEventListener(e,n);o=()=>i.removeEventListener("abort",s),i.addEventListener("abort",s)}y(this,Mu).set(n,o)}removeEventListener(e,n){const r=y(this,Mu).get(n);r==null||r(),y(this,Mu).delete(n)}terminate(){for(const[,e]of y(this,Mu))e==null||e();y(this,Mu).clear()}}Mu=new WeakMap,iA=new WeakMap;const M1={DATA:1,ERROR:2},go={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Zj(){}function ss(t){if(t instanceof bd||t instanceof kT||t instanceof Kj||t instanceof gS||t instanceof LM)return t;switch(t instanceof Error||typeof t=="object"&&t!==null||cr('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new bd(t.message);case"InvalidPDFException":return new kT(t.message);case"PasswordException":return new Kj(t.message,t.code);case"ResponseException":return new gS(t.message,t.status,t.missing);case"UnknownErrorException":return new LM(t.message,t.details)}return new LM(t.message,t.toString())}var ib,Ga,R8,P8,M8,g_;class g0{constructor(e,n,r){Q(this,Ga);Q(this,ib,new AbortController);this.sourceName=e,this.targetName=n,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",J(this,Ga,R8).bind(this),{signal:y(this,ib).signal})}on(e,n){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=n}send(e,n,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:n},r)}sendWithPromise(e,n,r){const o=this.callbackId++,i=Promise.withResolvers();this.callbackCapabilities[o]=i;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:o,data:n},r)}catch(s){i.reject(s)}return i.promise}sendWithStream(e,n,r,o){const i=this.streamId++,s=this.sourceName,a=this.targetName,c=this.comObj;return new ReadableStream({start:d=>{const h=Promise.withResolvers();return this.streamControllers[i]={controller:d,startCall:h,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:s,targetName:a,action:e,streamId:i,data:n,desiredSize:d.desiredSize},o),h.promise},pull:d=>{const h=Promise.withResolvers();return this.streamControllers[i].pullCall=h,c.postMessage({sourceName:s,targetName:a,stream:go.PULL,streamId:i,desiredSize:d.desiredSize}),h.promise},cancel:d=>{bo(d instanceof Error,"cancel must have a valid reason");const h=Promise.withResolvers();return this.streamControllers[i].cancelCall=h,this.streamControllers[i].isClosed=!0,c.postMessage({sourceName:s,targetName:a,stream:go.CANCEL,streamId:i,reason:ss(d)}),h.promise}},r)}destroy(){var e;(e=y(this,ib))==null||e.abort(),G(this,ib,null)}}ib=new WeakMap,Ga=new WeakSet,R8=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){J(this,Ga,M8).call(this,e);return}if(e.callback){const r=e.callbackId,o=this.callbackCapabilities[r];if(!o)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===M1.DATA)o.resolve(e.data);else if(e.callback===M1.ERROR)o.reject(ss(e.reason));else throw new Error("Unexpected callback case");return}const n=this.actionHandler[e.action];if(!n)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,o=e.sourceName,i=this.comObj;Promise.try(n,e.data).then(function(s){i.postMessage({sourceName:r,targetName:o,callback:M1.DATA,callbackId:e.callbackId,data:s})},function(s){i.postMessage({sourceName:r,targetName:o,callback:M1.ERROR,callbackId:e.callbackId,reason:ss(s)})});return}if(e.streamId){J(this,Ga,P8).call(this,e);return}n(e.data)},P8=function(e){const n=e.streamId,r=this.sourceName,o=e.sourceName,i=this.comObj,s=this,a=this.actionHandler[e.action],c={enqueue(d,h=1,p){if(this.isCancelled)return;const g=this.desiredSize;this.desiredSize-=h,g>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),i.postMessage({sourceName:r,targetName:o,stream:go.ENQUEUE,streamId:n,chunk:d},p)},close(){this.isCancelled||(this.isCancelled=!0,i.postMessage({sourceName:r,targetName:o,stream:go.CLOSE,streamId:n}),delete s.streamSinks[n])},error(d){bo(d instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,i.postMessage({sourceName:r,targetName:o,stream:go.ERROR,streamId:n,reason:ss(d)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[n]=c,Promise.try(a,e.data,c).then(function(){i.postMessage({sourceName:r,targetName:o,stream:go.START_COMPLETE,streamId:n,success:!0})},function(d){i.postMessage({sourceName:r,targetName:o,stream:go.START_COMPLETE,streamId:n,reason:ss(d)})})},M8=function(e){const n=e.streamId,r=this.sourceName,o=e.sourceName,i=this.comObj,s=this.streamControllers[n],a=this.streamSinks[n];switch(e.stream){case go.START_COMPLETE:e.success?s.startCall.resolve():s.startCall.reject(ss(e.reason));break;case go.PULL_COMPLETE:e.success?s.pullCall.resolve():s.pullCall.reject(ss(e.reason));break;case go.PULL:if(!a){i.postMessage({sourceName:r,targetName:o,stream:go.PULL_COMPLETE,streamId:n,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,Promise.try(a.onPull||Zj).then(function(){i.postMessage({sourceName:r,targetName:o,stream:go.PULL_COMPLETE,streamId:n,success:!0})},function(d){i.postMessage({sourceName:r,targetName:o,stream:go.PULL_COMPLETE,streamId:n,reason:ss(d)})});break;case go.ENQUEUE:if(bo(s,"enqueue should have stream controller"),s.isClosed)break;s.controller.enqueue(e.chunk);break;case go.CLOSE:if(bo(s,"close should have stream controller"),s.isClosed)break;s.isClosed=!0,s.controller.close(),J(this,Ga,g_).call(this,s,n);break;case go.ERROR:bo(s,"error should have stream controller"),s.controller.error(ss(e.reason)),J(this,Ga,g_).call(this,s,n);break;case go.CANCEL_COMPLETE:e.success?s.cancelCall.resolve():s.cancelCall.reject(ss(e.reason)),J(this,Ga,g_).call(this,s,n);break;case go.CANCEL:if(!a)break;const c=ss(e.reason);Promise.try(a.onCancel||Zj,c).then(function(){i.postMessage({sourceName:r,targetName:o,stream:go.CANCEL_COMPLETE,streamId:n,success:!0})},function(d){i.postMessage({sourceName:r,targetName:o,stream:go.CANCEL_COMPLETE,streamId:n,reason:ss(d)})}),a.sinkCapability.reject(c),a.isCancelled=!0,delete this.streamSinks[n];break;default:throw new Error("Unexpected stream case")}},g_=async function(e,n){var r,o,i;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(o=e.pullCall)==null?void 0:o.promise,(i=e.cancelCall)==null?void 0:i.promise]),delete this.streamControllers[n]};var JS;class k8{constructor({enableHWA:e=!1}){Q(this,JS,!1);G(this,JS,e)}create(e,n){if(e<=0||n<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,n);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!y(this,JS)})}}reset(e,n,r){if(!e.canvas)throw new Error("Canvas is not specified");if(n<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=n,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,n){cr("Abstract method `_createCanvas` called.")}}JS=new WeakMap;class Bbe extends k8{constructor({ownerDocument:e=globalThis.document,enableHWA:n=!1}){super({enableHWA:n}),this._document=e}_createCanvas(e,n){const r=this._document.createElement("canvas");return r.width=e,r.height=n,r}}class O8{constructor({baseUrl:e=null,isCompressed:n=!0}){this.baseUrl=e,this.isCompressed=n}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const n=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(n).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)})}async _fetch(e){cr("Abstract method `_fetch` called.")}}class Jj extends O8{async _fetch(e){const n=await Rv(e,this.isCompressed?"arraybuffer":"text");return n instanceof ArrayBuffer?new Uint8Array(n):PE(n)}}class D8{addFilter(e){return"none"}addHCMFilter(e,n){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,n,r,o,i){return"none"}destroy(e=!1){}}var Kp,sb,ku,Ou,Ii,Yp,Xp,pt,Ti,m0,yy,m_,by,L8,jO,vy,y0,b0,UO,v0;class Hbe extends D8{constructor({docId:n,ownerDocument:r=globalThis.document}){super();Q(this,pt);Q(this,Kp);Q(this,sb);Q(this,ku);Q(this,Ou);Q(this,Ii);Q(this,Yp);Q(this,Xp,0);G(this,Ou,n),G(this,Ii,r)}addFilter(n){if(!n)return"none";let r=y(this,pt,Ti).get(n);if(r)return r;const[o,i,s]=J(this,pt,m_).call(this,n),a=n.length===1?o:`${o}${i}${s}`;if(r=y(this,pt,Ti).get(a),r)return y(this,pt,Ti).set(n,r),r;const c=`g_${y(this,Ou)}_transfer_map_${Bi(this,Xp)._++}`,d=J(this,pt,by).call(this,c);y(this,pt,Ti).set(n,d),y(this,pt,Ti).set(a,d);const h=J(this,pt,vy).call(this,c);return J(this,pt,b0).call(this,o,i,s,h),d}addHCMFilter(n,r){var v;const o=`${n}-${r}`,i="base";let s=y(this,pt,m0).get(i);if((s==null?void 0:s.key)===o||(s?((v=s.filter)==null||v.remove(),s.key=o,s.url="none",s.filter=null):(s={key:o,url:"none",filter:null},y(this,pt,m0).set(i,s)),!n||!r))return s.url;const a=J(this,pt,v0).call(this,n);n=Rt.makeHexColor(...a);const c=J(this,pt,v0).call(this,r);if(r=Rt.makeHexColor(...c),y(this,pt,yy).style.color="",n==="#000000"&&r==="#ffffff"||n===r)return s.url;const d=new Array(256);for(let S=0;S<=255;S++){const C=S/255;d[S]=C<=.03928?C/12.92:((C+.055)/1.055)**2.4}const h=d.join(","),p=`g_${y(this,Ou)}_hcm_filter`,g=s.filter=J(this,pt,vy).call(this,p);J(this,pt,b0).call(this,h,h,h,g),J(this,pt,jO).call(this,g);const m=(S,C)=>{const x=a[S]/255,O=c[S]/255,M=new Array(C+1);for(let P=0;P<=C;P++)M[P]=x+P/C*(O-x);return M.join(",")};return J(this,pt,b0).call(this,m(0,5),m(1,5),m(2,5),g),s.url=J(this,pt,by).call(this,p),s.url}addAlphaFilter(n){let r=y(this,pt,Ti).get(n);if(r)return r;const[o]=J(this,pt,m_).call(this,[n]),i=`alpha_${o}`;if(r=y(this,pt,Ti).get(i),r)return y(this,pt,Ti).set(n,r),r;const s=`g_${y(this,Ou)}_alpha_map_${Bi(this,Xp)._++}`,a=J(this,pt,by).call(this,s);y(this,pt,Ti).set(n,a),y(this,pt,Ti).set(i,a);const c=J(this,pt,vy).call(this,s);return J(this,pt,UO).call(this,o,c),a}addLuminosityFilter(n){let r=y(this,pt,Ti).get(n||"luminosity");if(r)return r;let o,i;if(n?([o]=J(this,pt,m_).call(this,[n]),i=`luminosity_${o}`):i="luminosity",r=y(this,pt,Ti).get(i),r)return y(this,pt,Ti).set(n,r),r;const s=`g_${y(this,Ou)}_luminosity_map_${Bi(this,Xp)._++}`,a=J(this,pt,by).call(this,s);y(this,pt,Ti).set(n,a),y(this,pt,Ti).set(i,a);const c=J(this,pt,vy).call(this,s);return J(this,pt,L8).call(this,c),n&&J(this,pt,UO).call(this,o,c),a}addHighlightHCMFilter(n,r,o,i,s){var O;const a=`${r}-${o}-${i}-${s}`;let c=y(this,pt,m0).get(n);if((c==null?void 0:c.key)===a||(c?((O=c.filter)==null||O.remove(),c.key=a,c.url="none",c.filter=null):(c={key:a,url:"none",filter:null},y(this,pt,m0).set(n,c)),!r||!o))return c.url;const[d,h]=[r,o].map(J(this,pt,v0).bind(this));let p=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),g=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),[m,v]=[i,s].map(J(this,pt,v0).bind(this));g<p&&([p,g,m,v]=[g,p,v,m]),y(this,pt,yy).style.color="";const S=(M,P,k)=>{const $=new Array(256),D=(g-p)/k,I=M/255,A=(P-M)/(255*k);let N=0;for(let F=0;F<=k;F++){const R=Math.round(p+F*D),V=I+F*A;for(let q=N;q<=R;q++)$[q]=V;N=R+1}for(let F=N;F<256;F++)$[F]=$[N-1];return $.join(",")},C=`g_${y(this,Ou)}_hcm_${n}_filter`,x=c.filter=J(this,pt,vy).call(this,C);return J(this,pt,jO).call(this,x),J(this,pt,b0).call(this,S(m[0],v[0],5),S(m[1],v[1],5),S(m[2],v[2],5),x),c.url=J(this,pt,by).call(this,C),c.url}destroy(n=!1){var r,o,i,s;n&&((r=y(this,Yp))!=null&&r.size)||((o=y(this,ku))==null||o.parentNode.parentNode.remove(),G(this,ku,null),(i=y(this,sb))==null||i.clear(),G(this,sb,null),(s=y(this,Yp))==null||s.clear(),G(this,Yp,null),G(this,Xp,0))}}Kp=new WeakMap,sb=new WeakMap,ku=new WeakMap,Ou=new WeakMap,Ii=new WeakMap,Yp=new WeakMap,Xp=new WeakMap,pt=new WeakSet,Ti=function(){return y(this,sb)||G(this,sb,new Map)},m0=function(){return y(this,Yp)||G(this,Yp,new Map)},yy=function(){if(!y(this,ku)){const n=y(this,Ii).createElement("div"),{style:r}=n;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const o=y(this,Ii).createElementNS(mu,"svg");o.setAttribute("width",0),o.setAttribute("height",0),G(this,ku,y(this,Ii).createElementNS(mu,"defs")),n.append(o),o.append(y(this,ku)),y(this,Ii).body.append(n)}return y(this,ku)},m_=function(n){if(n.length===1){const d=n[0],h=new Array(256);for(let g=0;g<256;g++)h[g]=d[g]/255;const p=h.join(",");return[p,p,p]}const[r,o,i]=n,s=new Array(256),a=new Array(256),c=new Array(256);for(let d=0;d<256;d++)s[d]=r[d]/255,a[d]=o[d]/255,c[d]=i[d]/255;return[s.join(","),a.join(","),c.join(",")]},by=function(n){if(y(this,Kp)===void 0){G(this,Kp,"");const r=y(this,Ii).URL;r!==y(this,Ii).baseURI&&(kE(r)?Xt('#createUrl: ignore "data:"-URL for performance reasons.'):G(this,Kp,rN(r,"")))}return`url(${y(this,Kp)}#${n})`},L8=function(n){const r=y(this,Ii).createElementNS(mu,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),n.append(r)},jO=function(n){const r=y(this,Ii).createElementNS(mu,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),n.append(r)},vy=function(n){const r=y(this,Ii).createElementNS(mu,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",n),y(this,pt,yy).append(r),r},y0=function(n,r,o){const i=y(this,Ii).createElementNS(mu,r);i.setAttribute("type","discrete"),i.setAttribute("tableValues",o),n.append(i)},b0=function(n,r,o,i){const s=y(this,Ii).createElementNS(mu,"feComponentTransfer");i.append(s),J(this,pt,y0).call(this,s,"feFuncR",n),J(this,pt,y0).call(this,s,"feFuncG",r),J(this,pt,y0).call(this,s,"feFuncB",o)},UO=function(n,r){const o=y(this,Ii).createElementNS(mu,"feComponentTransfer");r.append(o),J(this,pt,y0).call(this,o,"feFuncA",n)},v0=function(n){return y(this,pt,yy).style.color=n,sN(getComputedStyle(y(this,pt,yy)).getPropertyValue("color"))};class N8{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetch(n).catch(r=>{throw new Error(`Unable to load font data at: ${n}`)})}async _fetch(e){cr("Abstract method `_fetch` called.")}}class e4 extends N8{async _fetch(e){const n=await Rv(e,"arraybuffer");return new Uint8Array(n)}}class F8{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetch(n).catch(r=>{throw new Error(`Unable to load wasm data at: ${n}`)})}async _fetch(e){cr("Abstract method `_fetch` called.")}}class t4 extends F8{async _fetch(e){const n=await Rv(e,"arraybuffer");return new Uint8Array(n)}}Ki&&Xt("Please use the `legacy` build in Node.js environments.");async function lN(t){const n=await process.getBuiltinModule("fs").promises.readFile(t);return new Uint8Array(n)}class jbe extends D8{}class Ube extends k8{_createCanvas(e,n){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,n)}}class Gbe extends O8{async _fetch(e){return lN(e)}}class Wbe extends N8{async _fetch(e){return lN(e)}}class qbe extends F8{async _fetch(e){return lN(e)}}const fi={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function GO(t,e){if(!e)return;const n=e[2]-e[0],r=e[3]-e[1],o=new Path2D;o.rect(e[0],e[1],n,r),t.clip(o)}class cN{isModifyingCurrentTransform(){return!1}getPattern(){cr("Abstract method `getPattern` called.")}}class Kbe extends cN{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let n;this._type==="axial"?n=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(n=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)n.addColorStop(r[0],r[1]);return n}getPattern(e,n,r,o){let i;if(o===fi.STROKE||o===fi.FILL){const s=n.current.getClippedPathBoundingBox(o,Vr(e))||[0,0,0,0],a=Math.ceil(s[2]-s[0])||1,c=Math.ceil(s[3]-s[1])||1,d=n.cachedCanvases.getCanvas("pattern",a,c),h=d.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-s[0],-s[1]),r=Rt.transform(r,[1,0,0,1,s[0],s[1]]),h.transform(...n.baseTransform),this.matrix&&h.transform(...this.matrix),GO(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),i=e.createPattern(d.canvas,"no-repeat");const p=new DOMMatrix(r);i.setTransform(p)}else GO(e,this._bbox),i=this._createGradient(e);return i}}function $M(t,e,n,r,o,i,s,a){const c=e.coords,d=e.colors,h=t.data,p=t.width*4;let g;c[n+1]>c[r+1]&&(g=n,n=r,r=g,g=i,i=s,s=g),c[r+1]>c[o+1]&&(g=r,r=o,o=g,g=s,s=a,a=g),c[n+1]>c[r+1]&&(g=n,n=r,r=g,g=i,i=s,s=g);const m=(c[n]+e.offsetX)*e.scaleX,v=(c[n+1]+e.offsetY)*e.scaleY,S=(c[r]+e.offsetX)*e.scaleX,C=(c[r+1]+e.offsetY)*e.scaleY,x=(c[o]+e.offsetX)*e.scaleX,O=(c[o+1]+e.offsetY)*e.scaleY;if(v>=O)return;const M=d[i],P=d[i+1],k=d[i+2],$=d[s],D=d[s+1],I=d[s+2],A=d[a],N=d[a+1],F=d[a+2],R=Math.round(v),V=Math.round(O);let q,K,z,H,Z,re,j,X;for(let ne=R;ne<=V;ne++){if(ne<C){const ge=ne<v?0:(v-ne)/(v-C);q=m-(m-S)*ge,K=M-(M-$)*ge,z=P-(P-D)*ge,H=k-(k-I)*ge}else{let ge;ne>O?ge=1:C===O?ge=0:ge=(C-ne)/(C-O),q=S-(S-x)*ge,K=$-($-A)*ge,z=D-(D-N)*ge,H=I-(I-F)*ge}let ie;ne<v?ie=0:ne>O?ie=1:ie=(v-ne)/(v-O),Z=m-(m-x)*ie,re=M-(M-A)*ie,j=P-(P-N)*ie,X=k-(k-F)*ie;const se=Math.round(Math.min(q,Z)),ce=Math.round(Math.max(q,Z));let ae=p*ne+se*4;for(let ge=se;ge<=ce;ge++)ie=(q-ge)/(q-Z),ie<0?ie=0:ie>1&&(ie=1),h[ae++]=K-(K-re)*ie|0,h[ae++]=z-(z-j)*ie|0,h[ae++]=H-(H-X)*ie|0,h[ae++]=255}}function Ybe(t,e,n){const r=e.coords,o=e.colors;let i,s;switch(e.type){case"lattice":const a=e.verticesPerRow,c=Math.floor(r.length/a)-1,d=a-1;for(i=0;i<c;i++){let h=i*a;for(let p=0;p<d;p++,h++)$M(t,n,r[h],r[h+1],r[h+a],o[h],o[h+1],o[h+a]),$M(t,n,r[h+a+1],r[h+1],r[h+a],o[h+a+1],o[h+1],o[h+a])}break;case"triangles":for(i=0,s=r.length;i<s;i+=3)$M(t,n,r[i],r[i+1],r[i+2],o[i],o[i+1],o[i+2]);break;default:throw new Error("illegal figure")}}class Xbe extends cN{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,n,r){const a=Math.floor(this._bounds[0]),c=Math.floor(this._bounds[1]),d=Math.ceil(this._bounds[2])-a,h=Math.ceil(this._bounds[3])-c,p=Math.min(Math.ceil(Math.abs(d*e[0]*1.1)),3e3),g=Math.min(Math.ceil(Math.abs(h*e[1]*1.1)),3e3),m=d/p,v=h/g,S={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-c,scaleX:1/m,scaleY:1/v},C=p+2*2,x=g+2*2,O=r.getCanvas("mesh",C,x),M=O.context,P=M.createImageData(p,g);if(n){const $=P.data;for(let D=0,I=$.length;D<I;D+=4)$[D]=n[0],$[D+1]=n[1],$[D+2]=n[2],$[D+3]=255}for(const $ of this._figures)Ybe(P,$,S);return M.putImageData(P,2,2),{canvas:O.canvas,offsetX:a-2*m,offsetY:c-2*v,scaleX:m,scaleY:v}}isModifyingCurrentTransform(){return!0}getPattern(e,n,r,o){GO(e,this._bbox);const i=new Float32Array(2);if(o===fi.SHADING)Rt.singularValueDecompose2dScale(Vr(e),i);else if(this.matrix){Rt.singularValueDecompose2dScale(this.matrix,i);const[a,c]=i;Rt.singularValueDecompose2dScale(n.baseTransform,i),i[0]*=a,i[1]*=c}else Rt.singularValueDecompose2dScale(n.baseTransform,i);const s=this._createMeshCanvas(i,o===fi.SHADING?null:this._background,n.cachedCanvases);return o!==fi.SHADING&&(e.setTransform(...n.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(s.offsetX,s.offsetY),e.scale(s.scaleX,s.scaleY),e.createPattern(s.canvas,"no-repeat")}}class Qbe extends cN{getPattern(){return"hotpink"}}function Zbe(t){switch(t[0]){case"RadialAxial":return new Kbe(t);case"Mesh":return new Xbe(t);case"Dummy":return new Qbe}throw new Error(`Unknown IR type: ${t[0]}`)}const n4={COLORED:1,UNCOLORED:2},sA=class sA{constructor(e,n,r,o){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=n,this.canvasGraphicsFactory=r,this.baseTransform=o}createPatternCanvas(e){const{bbox:n,operatorList:r,paintType:o,tilingType:i,color:s,canvasGraphicsFactory:a}=this;let{xstep:c,ystep:d}=this;c=Math.abs(c),d=Math.abs(d),yI("TilingType: "+i);const h=n[0],p=n[1],g=n[2],m=n[3],v=g-h,S=m-p,C=new Float32Array(2);Rt.singularValueDecompose2dScale(this.matrix,C);const[x,O]=C;Rt.singularValueDecompose2dScale(this.baseTransform,C);const M=x*C[0],P=O*C[1];let k=v,$=S,D=!1,I=!1;const A=Math.ceil(c*M),N=Math.ceil(d*P),F=Math.ceil(v*M),R=Math.ceil(S*P);A>=F?k=c:D=!0,N>=R?$=d:I=!0;const V=this.getSizeAndScale(k,this.ctx.canvas.width,M),q=this.getSizeAndScale($,this.ctx.canvas.height,P),K=e.cachedCanvases.getCanvas("pattern",V.size,q.size),z=K.context,H=a.createCanvasGraphics(z);if(H.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(H,o,s),z.translate(-V.scale*h,-q.scale*p),H.transform(V.scale,0,0,q.scale,0,0),z.save(),this.clipBbox(H,h,p,g,m),H.baseTransform=Vr(H.ctx),H.executeOperatorList(r),H.endDrawing(),z.restore(),D||I){const Z=K.canvas;D&&(k=c),I&&($=d);const re=this.getSizeAndScale(k,this.ctx.canvas.width,M),j=this.getSizeAndScale($,this.ctx.canvas.height,P),X=re.size,ne=j.size,ie=e.cachedCanvases.getCanvas("pattern-workaround",X,ne),se=ie.context,ce=D?Math.floor(v/c):0,ae=I?Math.floor(S/d):0;for(let ge=0;ge<=ce;ge++)for(let Ee=0;Ee<=ae;Ee++)se.drawImage(Z,X*ge,ne*Ee,X,ne,0,0,X,ne);return{canvas:ie.canvas,scaleX:re.scale,scaleY:j.scale,offsetX:h,offsetY:p}}return{canvas:K.canvas,scaleX:V.scale,scaleY:q.scale,offsetX:h,offsetY:p}}getSizeAndScale(e,n,r){const o=Math.max(sA.MAX_PATTERN_SIZE,n);let i=Math.ceil(e*r);return i>=o?i=o:r=i/e,{scale:r,size:i}}clipBbox(e,n,r,o,i){const s=o-n,a=i-r;e.ctx.rect(n,r,s,a),Rt.axialAlignedBoundingBox([n,r,o,i],Vr(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,n,r){const o=e.ctx,i=e.current;switch(n){case n4.COLORED:const{fillStyle:s,strokeStyle:a}=this.ctx;o.fillStyle=i.fillColor=s,o.strokeStyle=i.strokeColor=a;break;case n4.UNCOLORED:o.fillStyle=o.strokeStyle=r,i.fillColor=i.strokeColor=r;break;default:throw new Cbe(`Unsupported paint type: ${n}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,n,r,o){let i=r;o!==fi.SHADING&&(i=Rt.transform(i,n.baseTransform),this.matrix&&(i=Rt.transform(i,this.matrix)));const s=this.createPatternCanvas(n);let a=new DOMMatrix(i);a=a.translate(s.offsetX,s.offsetY),a=a.scale(1/s.scaleX,1/s.scaleY);const c=e.createPattern(s.canvas,"repeat");return c.setTransform(a),c}};je(sA,"MAX_PATTERN_SIZE",3e3);let WO=sA;function Jbe({src:t,srcPos:e=0,dest:n,width:r,height:o,nonBlackColor:i=4294967295,inverseDecode:s=!1}){const a=ei.isLittleEndian?4278190080:255,[c,d]=s?[i,a]:[a,i],h=r>>3,p=r&7,g=t.length;n=new Uint32Array(n.buffer);let m=0;for(let v=0;v<o;v++){for(const C=e+h;e<C;e++){const x=e<g?t[e]:255;n[m++]=x&128?d:c,n[m++]=x&64?d:c,n[m++]=x&32?d:c,n[m++]=x&16?d:c,n[m++]=x&8?d:c,n[m++]=x&4?d:c,n[m++]=x&2?d:c,n[m++]=x&1?d:c}if(p===0)continue;const S=e<g?t[e++]:255;for(let C=0;C<p;C++)n[m++]=S&1<<7-C?d:c}return{srcPos:e,destPos:m}}const r4=16,o4=100,eve=15,i4=10,ds=16,VM=new DOMMatrix,Ks=new Float32Array(2),_y=new Float32Array([1/0,1/0,-1/0,-1/0]);function tve(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(n,r){e.translate(n,r),this.__originalTranslate(n,r)},t.scale=function(n,r){e.scale(n,r),this.__originalScale(n,r)},t.transform=function(n,r,o,i,s,a){e.transform(n,r,o,i,s,a),this.__originalTransform(n,r,o,i,s,a)},t.setTransform=function(n,r,o,i,s,a){e.setTransform(n,r,o,i,s,a),this.__originalSetTransform(n,r,o,i,s,a)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(n){e.rotate(n),this.__originalRotate(n)},t.clip=function(n){e.clip(n),this.__originalClip(n)},t.moveTo=function(n,r){e.moveTo(n,r),this.__originalMoveTo(n,r)},t.lineTo=function(n,r){e.lineTo(n,r),this.__originalLineTo(n,r)},t.bezierCurveTo=function(n,r,o,i,s,a){e.bezierCurveTo(n,r,o,i,s,a),this.__originalBezierCurveTo(n,r,o,i,s,a)},t.rect=function(n,r,o,i){e.rect(n,r,o,i),this.__originalRect(n,r,o,i)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class nve{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,n,r){let o;return this.cache[e]!==void 0?(o=this.cache[e],this.canvasFactory.reset(o,n,r)):(o=this.canvasFactory.create(n,r),this.cache[e]=o),o}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const n=this.cache[e];this.canvasFactory.destroy(n),delete this.cache[e]}}}function k1(t,e,n,r,o,i,s,a,c,d){const[h,p,g,m,v,S]=Vr(t);if(p===0&&g===0){const O=s*h+v,M=Math.round(O),P=a*m+S,k=Math.round(P),$=(s+c)*h+v,D=Math.abs(Math.round($)-M)||1,I=(a+d)*m+S,A=Math.abs(Math.round(I)-k)||1;return t.setTransform(Math.sign(h),0,0,Math.sign(m),M,k),t.drawImage(e,n,r,o,i,0,0,D,A),t.setTransform(h,p,g,m,v,S),[D,A]}if(h===0&&m===0){const O=a*g+v,M=Math.round(O),P=s*p+S,k=Math.round(P),$=(a+d)*g+v,D=Math.abs(Math.round($)-M)||1,I=(s+c)*p+S,A=Math.abs(Math.round(I)-k)||1;return t.setTransform(0,Math.sign(p),Math.sign(g),0,M,k),t.drawImage(e,n,r,o,i,0,0,A,D),t.setTransform(h,p,g,m,v,S),[A,D]}t.drawImage(e,n,r,o,i,s,a,c,d);const C=Math.hypot(h,p),x=Math.hypot(g,m);return[C*c,x*d]}class s4{constructor(e,n){je(this,"alphaIsShape",!1);je(this,"fontSize",0);je(this,"fontSizeScale",1);je(this,"textMatrix",null);je(this,"textMatrixScale",1);je(this,"fontMatrix",EO);je(this,"leading",0);je(this,"x",0);je(this,"y",0);je(this,"lineX",0);je(this,"lineY",0);je(this,"charSpacing",0);je(this,"wordSpacing",0);je(this,"textHScale",1);je(this,"textRenderingMode",_i.FILL);je(this,"textRise",0);je(this,"fillColor","#000000");je(this,"strokeColor","#000000");je(this,"patternFill",!1);je(this,"patternStroke",!1);je(this,"fillAlpha",1);je(this,"strokeAlpha",1);je(this,"lineWidth",1);je(this,"activeSMask",null);je(this,"transferMaps","none");this.clipBox=new Float32Array([0,0,e,n]),this.minMax=_y.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=fi.FILL,n=null){const r=this.minMax.slice();if(e===fi.STROKE){n||cr("Stroke bounding box must include transform."),Rt.singularValueDecompose2dScale(n,Ks);const o=Ks[0]*this.lineWidth/2,i=Ks[1]*this.lineWidth/2;r[0]-=o,r[1]-=i,r[2]+=o,r[3]+=i}return r}updateClipFromPath(){const e=Rt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(_y,0)}getClippedPathBoundingBox(e=fi.FILL,n=null){return Rt.intersect(this.clipBox,this.getPathBoundingBox(e,n))}}function a4(t,e){if(e instanceof ImageData){t.putImageData(e,0,0);return}const n=e.height,r=e.width,o=n%ds,i=(n-o)/ds,s=o===0?i:i+1,a=t.createImageData(r,ds);let c=0,d;const h=e.data,p=a.data;let g,m,v,S;if(e.kind===H0.GRAYSCALE_1BPP){const C=h.byteLength,x=new Uint32Array(p.buffer,0,p.byteLength>>2),O=x.length,M=r+7>>3,P=4294967295,k=ei.isLittleEndian?4278190080:255;for(g=0;g<s;g++){for(v=g<i?ds:o,d=0,m=0;m<v;m++){const $=C-c;let D=0;const I=$>M?r:$*8-7,A=I&-8;let N=0,F=0;for(;D<A;D+=8)F=h[c++],x[d++]=F&128?P:k,x[d++]=F&64?P:k,x[d++]=F&32?P:k,x[d++]=F&16?P:k,x[d++]=F&8?P:k,x[d++]=F&4?P:k,x[d++]=F&2?P:k,x[d++]=F&1?P:k;for(;D<I;D++)N===0&&(F=h[c++],N=128),x[d++]=F&N?P:k,N>>=1}for(;d<O;)x[d++]=0;t.putImageData(a,0,g*ds)}}else if(e.kind===H0.RGBA_32BPP){for(m=0,S=r*ds*4,g=0;g<i;g++)p.set(h.subarray(c,c+S)),c+=S,t.putImageData(a,0,m),m+=ds;g<s&&(S=r*o*4,p.set(h.subarray(c,c+S)),t.putImageData(a,0,m))}else if(e.kind===H0.RGB_24BPP)for(v=ds,S=r*v,g=0;g<s;g++){for(g>=i&&(v=o,S=r*v),d=0,m=S;m--;)p[d++]=h[c++],p[d++]=h[c++],p[d++]=h[c++],p[d++]=255;t.putImageData(a,0,g*ds)}else throw new Error(`bad image kind: ${e.kind}`)}function l4(t,e){if(e.bitmap){t.drawImage(e.bitmap,0,0);return}const n=e.height,r=e.width,o=n%ds,i=(n-o)/ds,s=o===0?i:i+1,a=t.createImageData(r,ds);let c=0;const d=e.data,h=a.data;for(let p=0;p<s;p++){const g=p<i?ds:o;({srcPos:c}=Jbe({src:d,srcPos:c,dest:h,width:r,height:g,nonBlackColor:0})),t.putImageData(a,0,p*ds)}}function Uw(t,e){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of n)t[r]!==void 0&&(e[r]=t[r]);t.setLineDash!==void 0&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function O1(t){t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",t.setLineDash!==void 0&&(t.setLineDash([]),t.lineDashOffset=0);const{filter:e}=t;e!=="none"&&e!==""&&(t.filter="none")}function c4(t,e){if(e)return!0;Rt.singularValueDecompose2dScale(t,Ks);const n=Math.fround(Dl.pixelRatio*vd.PDF_TO_CSS_UNITS);return Ks[0]<=n&&Ks[1]<=n}const rve=["butt","round","square"],ove=["miter","round","bevel"],ive={},u4={};var Ll,qO,KO,YO;const ZN=class ZN{constructor(e,n,r,o,i,{optionalContentConfig:s,markedContentStack:a=null},c,d){Q(this,Ll);this.ctx=e,this.current=new s4(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=r,this.canvasFactory=o,this.filterFactory=i,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=s,this.cachedCanvases=new nve(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=c,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=d,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,n=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):n}beginDrawing({transform:e,viewport:n,transparency:r=!1,background:o=null}){const i=this.ctx.canvas.width,s=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=o||"#ffffff",this.ctx.fillRect(0,0,i,s),this.ctx.fillStyle=a,r){const c=this.cachedCanvases.getCanvas("transparent",i,s);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform(...Vr(this.compositeCtx))}this.ctx.save(),O1(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=Vr(this.ctx)}executeOperatorList(e,n,r,o){const i=e.argsArray,s=e.fnArray;let a=n||0;const c=i.length;if(c===a)return a;const d=c-a>i4&&typeof r=="function",h=d?Date.now()+eve:0;let p=0;const g=this.commonObjs,m=this.objs;let v;for(;;){if(o!==void 0&&a===o.nextBreakPoint)return o.breakIt(a,r),a;if(v=s[a],v!==pS.dependency)this[v].apply(this,i[a]);else for(const S of i[a]){const C=S.startsWith("g_")?g:m;if(!C.has(S))return C.get(S,r),a}if(a++,a===c)return a;if(d&&++p>i4){if(Date.now()>h)return r(),a;p=0}}}endDrawing(){J(this,Ll,qO).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const n of e.values())typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&(n.width=n.height=0);e.clear()}this._cachedBitmapsMap.clear(),J(this,Ll,KO).call(this)}_scaleImage(e,n){const r=e.width??e.displayWidth,o=e.height??e.displayHeight;let i=Math.max(Math.hypot(n[0],n[1]),1),s=Math.max(Math.hypot(n[2],n[3]),1),a=r,c=o,d="prescale1",h,p;for(;i>2&&a>1||s>2&&c>1;){let g=a,m=c;i>2&&a>1&&(g=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),i/=a/g),s>2&&c>1&&(m=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,s/=c/m),h=this.cachedCanvases.getCanvas(d,g,m),p=h.context,p.clearRect(0,0,g,m),p.drawImage(e,0,0,a,c,0,0,g,m),e=h.canvas,a=g,c=m,d=d==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:c}}_createMaskCanvas(e){const n=this.ctx,{width:r,height:o}=e,i=this.current.fillColor,s=this.current.patternFill,a=Vr(n);let c,d,h,p;if((e.bitmap||e.data)&&e.count>1){const A=e.bitmap||e.data.buffer;d=JSON.stringify(s?a:[a.slice(0,4),i]),c=this._cachedBitmapsMap.get(A),c||(c=new Map,this._cachedBitmapsMap.set(A,c));const N=c.get(d);if(N&&!s){const F=Math.round(Math.min(a[0],a[2])+a[4]),R=Math.round(Math.min(a[1],a[3])+a[5]);return{canvas:N,offsetX:F,offsetY:R}}h=N}h||(p=this.cachedCanvases.getCanvas("maskCanvas",r,o),l4(p.context,e));let g=Rt.transform(a,[1/r,0,0,-1/o,0,0]);g=Rt.transform(g,[1,0,0,1,0,-o]);const m=_y.slice();Rt.axialAlignedBoundingBox([0,0,r,o],g,m);const[v,S,C,x]=m,O=Math.round(C-v)||1,M=Math.round(x-S)||1,P=this.cachedCanvases.getCanvas("fillCanvas",O,M),k=P.context,$=v,D=S;k.translate(-$,-D),k.transform(...g),h||(h=this._scaleImage(p.canvas,Zl(k)),h=h.img,c&&s&&c.set(d,h)),k.imageSmoothingEnabled=c4(Vr(k),e.interpolate),k1(k,h,0,0,h.width,h.height,0,0,r,o),k.globalCompositeOperation="source-in";const I=Rt.transform(Zl(k),[1,0,0,1,-$,-D]);return k.fillStyle=s?i.getPattern(n,this,I,fi.FILL):i,k.fillRect(0,0,r,o),c&&!s&&(this.cachedCanvases.delete("fillCanvas"),c.set(d,P.canvas)),{canvas:P.canvas,offsetX:Math.round($),offsetY:Math.round(D)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=rve[e]}setLineJoin(e){this.ctx.lineJoin=ove[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,n){const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=n)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[n,r]of e)switch(n){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=r;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=r;break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,n=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,o=this.cachedCanvases.getCanvas(r,e,n);this.suspendedCtx=this.ctx;const i=this.ctx=o.context;i.setTransform(this.suspendedCtx.getTransform()),Uw(this.suspendedCtx,i),tve(i,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Uw(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const n=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,n,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,n,r,o){const i=o[0],s=o[1],a=o[2]-i,c=o[3]-s;a===0||c===0||(this.genericComposeSMask(n.context,r,a,c,n.subtype,n.backdrop,n.transferMap,i,s,n.offsetX,n.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,n,r,o,i,s,a,c,d,h,p){let g=e.canvas,m=c-h,v=d-p;if(s)if(m<0||v<0||m+r>g.width||v+o>g.height){const C=this.cachedCanvases.getCanvas("maskExtension",r,o),x=C.context;x.drawImage(g,-m,-v),x.globalCompositeOperation="destination-atop",x.fillStyle=s,x.fillRect(0,0,r,o),x.globalCompositeOperation="source-over",g=C.canvas,m=v=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const C=new Path2D;C.rect(m,v,r,o),e.clip(C),e.globalCompositeOperation="destination-atop",e.fillStyle=s,e.fillRect(m,v,r,o),e.restore()}n.save(),n.globalAlpha=1,n.setTransform(1,0,0,1,0,0),i==="Alpha"&&a?n.filter=this.filterFactory.addAlphaFilter(a):i==="Luminosity"&&(n.filter=this.filterFactory.addLuminosityFilter(a));const S=new Path2D;S.rect(c,d,r,o),n.clip(S),n.globalCompositeOperation="destination-in",n.drawImage(g,m,v,r,o,c,d,r,o),n.restore()}save(){this.inSMaskMode&&Uw(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Uw(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,n,r,o,i,s){this.ctx.transform(e,n,r,o,i,s),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,n,r){let[o]=n;if(!r){o||(o=n[0]=new Path2D),this[e](o);return}if(!(o instanceof Path2D)){const i=n[0]=new Path2D;for(let s=0,a=o.length;s<a;)switch(o[s++]){case R1.moveTo:i.moveTo(o[s++],o[s++]);break;case R1.lineTo:i.lineTo(o[s++],o[s++]);break;case R1.curveTo:i.bezierCurveTo(o[s++],o[s++],o[s++],o[s++],o[s++],o[s++]);break;case R1.closePath:i.closePath();break;default:Xt(`Unrecognized drawing path operator: ${o[s-1]}`);break}o=i}Rt.axialAlignedBoundingBox(r,Vr(this.ctx),this.current.minMax),this[e](o)}closePath(){this.ctx.closePath()}stroke(e,n=!0){const r=this.ctx,o=this.current.strokeColor;if(r.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof o=="object"&&(o!=null&&o.getPattern)){const i=o.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.strokeStyle=o.getPattern(r,this,Zl(r),fi.STROKE),i){const s=new Path2D;s.addPath(e,r.getTransform().invertSelf().multiplySelf(i)),e=s}this.rescaleAndStroke(e,!1),r.restore()}else this.rescaleAndStroke(e,!0);n&&this.consumePath(e,this.current.getClippedPathBoundingBox(fi.STROKE,Vr(this.ctx))),r.globalAlpha=this.current.fillAlpha}closeStroke(e){this.stroke(e)}fill(e,n=!0){const r=this.ctx,o=this.current.fillColor,i=this.current.patternFill;let s=!1;if(i){const c=o.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.fillStyle=o.getPattern(r,this,Zl(r),fi.FILL),c){const d=new Path2D;d.addPath(e,r.getTransform().invertSelf().multiplySelf(c)),e=d}s=!0}const a=this.current.getClippedPathBoundingBox();this.contentVisible&&a!==null&&(this.pendingEOFill?(r.fill(e,"evenodd"),this.pendingEOFill=!1):r.fill(e)),s&&r.restore(),n&&this.consumePath(e,a)}eoFill(e){this.pendingEOFill=!0,this.fill(e)}fillStroke(e){this.fill(e,!1),this.stroke(e,!1),this.consumePath(e)}eoFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}closeFillStroke(e){this.fillStroke(e)}closeEOFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}endPath(e){this.consumePath(e)}rawFillPath(e){this.ctx.fill(e)}clip(){this.pendingClip=ive}eoClip(){this.pendingClip=u4}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,n=this.ctx;if(e===void 0)return;const r=new Path2D,o=n.getTransform().invertSelf();for(const{transform:i,x:s,y:a,fontSize:c,path:d}of e)r.addPath(d,new DOMMatrix(i).preMultiplySelf(o).translate(s,a).scale(c,-c));n.clip(r),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,n){var h;const r=this.commonObjs.get(e),o=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(o.fontMatrix=r.fontMatrix||EO,(o.fontMatrix[0]===0||o.fontMatrix[3]===0)&&Xt("Invalid font matrix for font "+e),n<0?(n=-n,o.fontDirection=-1):o.fontDirection=1,this.current.font=r,this.current.fontSize=n,r.isType3Font)return;const i=r.loadedName||"sans-serif",s=((h=r.systemFontInfo)==null?void 0:h.css)||`"${i}", ${r.fallbackName}`;let a="normal";r.black?a="900":r.bold&&(a="bold");const c=r.italic?"italic":"normal";let d=n;n<r4?d=r4:n>o4&&(d=o4),this.current.fontSizeScale=n/d,this.ctx.font=`${c} ${a} ${d}px ${s}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,n){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=n}setLeadingMoveText(e,n){this.setLeading(-n),this.moveText(e,n)}setTextMatrix(e){const{current:n}=this;n.textMatrix=e,n.textMatrixScale=Math.hypot(e[0],e[1]),n.x=n.lineX=0,n.y=n.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,n,r,o,i){const s=this.ctx,a=this.current,c=a.font,d=a.textRenderingMode,h=a.fontSize/a.fontSizeScale,p=d&_i.FILL_STROKE_MASK,g=!!(d&_i.ADD_TO_PATH_FLAG),m=a.patternFill&&!c.missingFile,v=a.patternStroke&&!c.missingFile;let S;if((c.disableFontFace||g||m||v)&&(S=c.getPathGenerator(this.commonObjs,e)),c.disableFontFace||m||v){s.save(),s.translate(n,r),s.scale(h,-h);let C;if((p===_i.FILL||p===_i.FILL_STROKE)&&(o?(C=s.getTransform(),s.setTransform(...o),s.fill(J(this,Ll,YO).call(this,S,C,o))):s.fill(S)),p===_i.STROKE||p===_i.FILL_STROKE)if(i){C||(C=s.getTransform()),s.setTransform(...i);const{a:x,b:O,c:M,d:P}=C,k=Rt.inverseTransform(i),$=Rt.transform([x,O,M,P,0,0],k);Rt.singularValueDecompose2dScale($,Ks),s.lineWidth*=Math.max(Ks[0],Ks[1])/h,s.stroke(J(this,Ll,YO).call(this,S,C,i))}else s.lineWidth/=h,s.stroke(S);s.restore()}else(p===_i.FILL||p===_i.FILL_STROKE)&&s.fillText(e,n,r),(p===_i.STROKE||p===_i.FILL_STROKE)&&s.strokeText(e,n,r);g&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Vr(s),x:n,y:r,fontSize:h,path:S})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const n=e.getImageData(0,0,10,10).data;let r=!1;for(let o=3;o<n.length;o+=4)if(n[o]>0&&n[o]<255){r=!0;break}return pn(this,"isFontSubpixelAAEnabled",r)}showText(e){const n=this.current,r=n.font;if(r.isType3Font)return this.showType3Text(e);const o=n.fontSize;if(o===0)return;const i=this.ctx,s=n.fontSizeScale,a=n.charSpacing,c=n.wordSpacing,d=n.fontDirection,h=n.textHScale*d,p=e.length,g=r.vertical,m=g?1:-1,v=r.defaultVMetrics,S=o*n.fontMatrix[0],C=n.textRenderingMode===_i.FILL&&!r.disableFontFace&&!n.patternFill;i.save(),n.textMatrix&&i.transform(...n.textMatrix),i.translate(n.x,n.y+n.textRise),d>0?i.scale(h,-1):i.scale(h,1);let x,O;if(n.patternFill){i.save();const D=n.fillColor.getPattern(i,this,Zl(i),fi.FILL);x=Vr(i),i.restore(),i.fillStyle=D}if(n.patternStroke){i.save();const D=n.strokeColor.getPattern(i,this,Zl(i),fi.STROKE);O=Vr(i),i.restore(),i.strokeStyle=D}let M=n.lineWidth;const P=n.textMatrixScale;if(P===0||M===0){const D=n.textRenderingMode&_i.FILL_STROKE_MASK;(D===_i.STROKE||D===_i.FILL_STROKE)&&(M=this.getSinglePixelWidth())}else M/=P;if(s!==1&&(i.scale(s,s),M/=s),i.lineWidth=M,r.isInvalidPDFjsFont){const D=[];let I=0;for(const A of e)D.push(A.unicode),I+=A.width;i.fillText(D.join(""),0,0),n.x+=I*S*h,i.restore(),this.compose();return}let k=0,$;for($=0;$<p;++$){const D=e[$];if(typeof D=="number"){k+=m*D*o/1e3;continue}let I=!1;const A=(D.isSpace?c:0)+a,N=D.fontChar,F=D.accent;let R,V,q=D.width;if(g){const z=D.vmetric||v,H=-(D.vmetric?z[1]:q*.5)*S,Z=z[2]*S;q=z?-z[0]:q,R=H/s,V=(k+Z)/s}else R=k/s,V=0;if(r.remeasure&&q>0){const z=i.measureText(N).width*1e3/o*s;if(q<z&&this.isFontSubpixelAAEnabled){const H=q/z;I=!0,i.save(),i.scale(H,1),R/=H}else q!==z&&(R+=(q-z)/2e3*o/s)}if(this.contentVisible&&(D.isInFont||r.missingFile)){if(C&&!F)i.fillText(N,R,V);else if(this.paintChar(N,R,V,x,O),F){const z=R+o*F.offset.x/s,H=V-o*F.offset.y/s;this.paintChar(F.fontChar,z,H,x,O)}}const K=g?q*S-A*d:q*S+A*d;k+=K,I&&i.restore()}g?n.y-=k:n.x+=k*h,i.restore(),this.compose()}showType3Text(e){const n=this.ctx,r=this.current,o=r.font,i=r.fontSize,s=r.fontDirection,a=o.vertical?1:-1,c=r.charSpacing,d=r.wordSpacing,h=r.textHScale*s,p=r.fontMatrix||EO,g=e.length,m=r.textRenderingMode===_i.INVISIBLE;let v,S,C,x;if(!(m||i===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),r.textMatrix&&n.transform(...r.textMatrix),n.translate(r.x,r.y+r.textRise),n.scale(h,s),v=0;v<g;++v){if(S=e[v],typeof S=="number"){x=a*S*i/1e3,this.ctx.translate(x,0),r.x+=x*h;continue}const O=(S.isSpace?d:0)+c,M=o.charProcOperatorList[S.operatorListId];M?this.contentVisible&&(this.save(),n.scale(i,i),n.transform(...p),this.executeOperatorList(M),this.restore()):Xt(`Type3 character "${S.operatorListId}" is not available.`);const P=[S.width,0];Rt.applyTransform(P,p),C=P[0]*i+O,n.translate(C,0),r.x+=C*h}n.restore()}}setCharWidth(e,n){}setCharWidthAndBounds(e,n,r,o,i,s){const a=new Path2D;a.rect(r,o,i-r,s-o),this.ctx.clip(a),this.endPath()}getColorN_Pattern(e){let n;if(e[0]==="TilingPattern"){const r=this.baseTransform||Vr(this.ctx),o={createCanvasGraphics:i=>new ZN(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};n=new WO(e,this.ctx,o,r)}else n=this._getPattern(e[1],e[2]);return n}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e){this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e){this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,n=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=Zbe(this.getObject(e)),this.cachedPatterns.set(e,r)),n&&(r.matrix=n),r}shadingFill(e){if(!this.contentVisible)return;const n=this.ctx;this.save();const r=this._getPattern(e);n.fillStyle=r.getPattern(n,this,Zl(n),fi.SHADING);const o=Zl(n);if(o){const{width:i,height:s}=n.canvas,a=_y.slice();Rt.axialAlignedBoundingBox([0,0,i,s],o,a);const[c,d,h,p]=a;this.ctx.fillRect(c,d,h-c,p-d)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){cr("Should not call beginInlineImage")}beginImageData(){cr("Should not call beginImageData")}paintFormXObjectBegin(e,n){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Vr(this.ctx),n)){Rt.axialAlignedBoundingBox(n,this.baseTransform,this.current.minMax);const[r,o,i,s]=n,a=new Path2D;a.rect(r,o,i-r,s-o),this.ctx.clip(a),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;e.isolated||yI("TODO: Support non-isolated groups."),e.knockout&&Xt("Knockout groups not supported.");const r=Vr(n);if(e.matrix&&n.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let o=_y.slice();Rt.axialAlignedBoundingBox(e.bbox,Vr(n),o);const i=[0,0,n.canvas.width,n.canvas.height];o=Rt.intersect(o,i)||[0,0,0,0];const s=Math.floor(o[0]),a=Math.floor(o[1]),c=Math.max(Math.ceil(o[2])-s,1),d=Math.max(Math.ceil(o[3])-a,1);this.current.startNewPathAndClipBox([0,0,c,d]);let h="groupAt"+this.groupLevel;e.smask&&(h+="_smask_"+this.smaskCounter++%2);const p=this.cachedCanvases.getCanvas(h,c,d),g=p.context;g.translate(-s,-a),g.transform(...r);let m=new Path2D;const[v,S,C,x]=e.bbox;if(m.rect(v,S,C-v,x-S),e.matrix){const O=new Path2D;O.addPath(m,new DOMMatrix(e.matrix)),m=O}g.clip(m),e.smask?this.smaskStack.push({canvas:p.canvas,context:g,offsetX:s,offsetY:a,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(n.setTransform(1,0,0,1,0,0),n.translate(s,a),n.save()),Uw(n,g),this.ctx=g,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const o=Vr(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...o);const i=_y.slice();Rt.axialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],o,i),this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(i)}}beginAnnotation(e,n,r,o,i){if(J(this,Ll,qO).call(this),O1(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const s=n[2]-n[0],a=n[3]-n[1];if(i&&this.annotationCanvasMap){r=r.slice(),r[4]-=n[0],r[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=s,n[3]=a,Rt.singularValueDecompose2dScale(Vr(this.ctx),Ks);const{viewportScale:c}=this,d=Math.ceil(s*this.outputScaleX*c),h=Math.ceil(a*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(d,h);const{canvas:p,context:g}=this.annotationCanvas;this.annotationCanvasMap.set(e,p),this.annotationCanvas.savedCtx=this.ctx,this.ctx=g,this.ctx.save(),this.ctx.setTransform(Ks[0],0,0,-Ks[1],0,a*Ks[1]),O1(this.ctx)}else{O1(this.ctx),this.endPath();const c=new Path2D;c.rect(n[0],n[1],s,a),this.ctx.clip(c)}}this.current=new s4(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...r),this.transform(...o)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),J(this,Ll,KO).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const n=e.count;e=this.getObject(e.data,e),e.count=n;const r=this.ctx,o=this._createMaskCanvas(e),i=o.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(i,o.offsetX,o.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,n,r=0,o=0,i,s){if(!this.contentVisible)return;e=this.getObject(e.data,e);const a=this.ctx;a.save();const c=Vr(a);a.transform(n,r,o,i,0,0);const d=this._createMaskCanvas(e);a.setTransform(1,0,0,1,d.offsetX-c[4],d.offsetY-c[5]);for(let h=0,p=s.length;h<p;h+=2){const g=Rt.transform(c,[n,r,o,i,s[h],s[h+1]]);a.drawImage(d.canvas,g[4],g[5])}a.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const n=this.ctx,r=this.current.fillColor,o=this.current.patternFill;for(const i of e){const{data:s,width:a,height:c,transform:d}=i,h=this.cachedCanvases.getCanvas("maskCanvas",a,c),p=h.context;p.save();const g=this.getObject(s,i);l4(p,g),p.globalCompositeOperation="source-in",p.fillStyle=o?r.getPattern(p,this,Zl(n),fi.FILL):r,p.fillRect(0,0,a,c),p.restore(),n.save(),n.transform(...d),n.scale(1,-1),k1(n,h.canvas,0,0,a,c,0,-1,1,1),n.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const n=this.getObject(e);if(!n){Xt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(n)}paintImageXObjectRepeat(e,n,r,o){if(!this.contentVisible)return;const i=this.getObject(e);if(!i){Xt("Dependent image isn't ready yet");return}const s=i.width,a=i.height,c=[];for(let d=0,h=o.length;d<h;d+=2)c.push({transform:[n,0,0,r,o[d],o[d+1]],x:0,y:0,w:s,h:a});this.paintInlineImageXObjectGroup(i,c)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:n,width:r,height:o}=e,i=this.cachedCanvases.getCanvas("inlineImage",r,o),s=i.context;return s.filter=this.current.transferMaps,s.drawImage(n,0,0),s.filter="none",i.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const n=e.width,r=e.height,o=this.ctx;this.save();const{filter:i}=o;i!=="none"&&i!==""&&(o.filter="none"),o.scale(1/n,-1/r);let s;if(e.bitmap)s=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)s=e;else{const d=this.cachedCanvases.getCanvas("inlineImage",n,r).context;a4(d,e),s=this.applyTransferMapsToCanvas(d)}const a=this._scaleImage(s,Zl(o));o.imageSmoothingEnabled=c4(Vr(o),e.interpolate),k1(o,a.img,0,0,a.paintWidth,a.paintHeight,0,-r,n,r),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,n){if(!this.contentVisible)return;const r=this.ctx;let o;if(e.bitmap)o=e.bitmap;else{const i=e.width,s=e.height,c=this.cachedCanvases.getCanvas("inlineImage",i,s).context;a4(c,e),o=this.applyTransferMapsToCanvas(c)}for(const i of n)r.save(),r.transform(...i.transform),r.scale(1,-1),k1(r,o,i.x,i.y,i.w,i.h,0,-1,1,1),r.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,n){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,n){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e,n){const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const o=this.ctx;this.pendingClip&&(r||(this.pendingClip===u4?o.clip(e,"evenodd"):o.clip(e)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Vr(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const n=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),o=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,o)/n}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:n,b:r,c:o,d:i}=this.ctx.getTransform();let s,a;if(r===0&&o===0){const c=Math.abs(n),d=Math.abs(i);if(c===d)if(e===0)s=a=1/c;else{const h=c*e;s=a=h<1?1/h:1}else if(e===0)s=1/c,a=1/d;else{const h=c*e,p=d*e;s=h<1?1/h:1,a=p<1?1/p:1}}else{const c=Math.abs(n*i-r*o),d=Math.hypot(n,r),h=Math.hypot(o,i);if(e===0)s=h/c,a=d/c;else{const p=e*c;s=h>p?h/p:1,a=d>p?d/p:1}}this._cachedScaleForStroking[0]=s,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e,n){const{ctx:r,current:{lineWidth:o}}=this,[i,s]=this.getScaleForStroking();if(i===s){r.lineWidth=(o||1)*i,r.stroke(e);return}const a=r.getLineDash();n&&r.save(),r.scale(i,s),VM.a=1/i,VM.d=1/s;const c=new Path2D;if(c.addPath(e,VM),a.length>0){const d=Math.max(i,s);r.setLineDash(a.map(h=>h/d)),r.lineDashOffset/=d}r.lineWidth=o||1,r.stroke(c),n&&r.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Ll=new WeakSet,qO=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},KO=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const n=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=n}}},YO=function(e,n,r){const o=new Path2D;return o.addPath(e,new DOMMatrix(r).invertSelf().multiplySelf(n)),o};let Ny=ZN;for(const t in pS)Ny.prototype[t]!==void 0&&(Ny.prototype[pS[t]]=Ny.prototype[t]);var eC,tC;class Fa{static get workerPort(){return y(this,eC)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");G(this,eC,e)}static get workerSrc(){return y(this,tC)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");G(this,tC,e)}}eC=new WeakMap,tC=new WeakMap,Q(Fa,eC,null),Q(Fa,tC,"");var ab,nC;class sve{constructor({parsedData:e,rawData:n}){Q(this,ab);Q(this,nC);G(this,ab,e),G(this,nC,n)}getRaw(){return y(this,nC)}get(e){return y(this,ab).get(e)??null}[Symbol.iterator](){return y(this,ab).entries()}}ab=new WeakMap,nC=new WeakMap;const wy=Symbol("INTERNAL");var rC,oC,iC,lb;class ave{constructor(e,{name:n,intent:r,usage:o,rbGroups:i}){Q(this,rC,!1);Q(this,oC,!1);Q(this,iC,!1);Q(this,lb,!0);G(this,rC,!!(e&Ws.DISPLAY)),G(this,oC,!!(e&Ws.PRINT)),this.name=n,this.intent=r,this.usage=o,this.rbGroups=i}get visible(){if(y(this,iC))return y(this,lb);if(!y(this,lb))return!1;const{print:e,view:n}=this.usage;return y(this,rC)?(n==null?void 0:n.viewState)!=="OFF":y(this,oC)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,n,r=!1){e!==wy&&cr("Internal method `_setVisible` called."),G(this,iC,r),G(this,lb,n)}}rC=new WeakMap,oC=new WeakMap,iC=new WeakMap,lb=new WeakMap;var Ih,ar,cb,ub,sC,XO;class lve{constructor(e,n=Ws.DISPLAY){Q(this,sC);Q(this,Ih,null);Q(this,ar,new Map);Q(this,cb,null);Q(this,ub,null);if(this.renderingIntent=n,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,G(this,ub,e.order);for(const r of e.groups)y(this,ar).set(r.id,new ave(n,r));if(e.baseState==="OFF")for(const r of y(this,ar).values())r._setVisible(wy,!1);for(const r of e.on)y(this,ar).get(r)._setVisible(wy,!0);for(const r of e.off)y(this,ar).get(r)._setVisible(wy,!1);G(this,cb,this.getHash())}}isVisible(e){if(y(this,ar).size===0)return!0;if(!e)return yI("Optional content group not defined."),!0;if(e.type==="OCG")return y(this,ar).has(e.id)?y(this,ar).get(e.id).visible:(Xt(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return J(this,sC,XO).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const n of e.ids){if(!y(this,ar).has(n))return Xt(`Optional content group not found: ${n}`),!0;if(y(this,ar).get(n).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const n of e.ids){if(!y(this,ar).has(n))return Xt(`Optional content group not found: ${n}`),!0;if(!y(this,ar).get(n).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const n of e.ids){if(!y(this,ar).has(n))return Xt(`Optional content group not found: ${n}`),!0;if(!y(this,ar).get(n).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const n of e.ids){if(!y(this,ar).has(n))return Xt(`Optional content group not found: ${n}`),!0;if(y(this,ar).get(n).visible)return!1}return!0}return Xt(`Unknown optional content policy ${e.policy}.`),!0}return Xt(`Unknown group type ${e.type}.`),!0}setVisibility(e,n=!0,r=!0){var i;const o=y(this,ar).get(e);if(!o){Xt(`Optional content group not found: ${e}`);return}if(r&&n&&o.rbGroups.length)for(const s of o.rbGroups)for(const a of s)a!==e&&((i=y(this,ar).get(a))==null||i._setVisible(wy,!1,!0));o._setVisible(wy,!!n,!0),G(this,Ih,null)}setOCGState({state:e,preserveRB:n}){let r;for(const o of e){switch(o){case"ON":case"OFF":case"Toggle":r=o;continue}const i=y(this,ar).get(o);if(i)switch(r){case"ON":this.setVisibility(o,!0,n);break;case"OFF":this.setVisibility(o,!1,n);break;case"Toggle":this.setVisibility(o,!i.visible,n);break}}G(this,Ih,null)}get hasInitialVisibility(){return y(this,cb)===null||this.getHash()===y(this,cb)}getOrder(){return y(this,ar).size?y(this,ub)?y(this,ub).slice():[...y(this,ar).keys()]:null}getGroup(e){return y(this,ar).get(e)||null}getHash(){if(y(this,Ih)!==null)return y(this,Ih);const e=new _8;for(const[n,r]of y(this,ar))e.update(`${n}:${r.visible}`);return G(this,Ih,e.hexdigest())}[Symbol.iterator](){return y(this,ar).entries()}}Ih=new WeakMap,ar=new WeakMap,cb=new WeakMap,ub=new WeakMap,sC=new WeakSet,XO=function(e){const n=e.length;if(n<2)return!0;const r=e[0];for(let o=1;o<n;o++){const i=e[o];let s;if(Array.isArray(i))s=J(this,sC,XO).call(this,i);else if(y(this,ar).has(i))s=y(this,ar).get(i).visible;else return Xt(`Optional content group not found: ${i}`),!0;switch(r){case"And":if(!s)return!1;break;case"Or":if(s)return!0;break;case"Not":return!s;default:return!0}}return r==="And"};class cve{constructor(e,{disableRange:n=!1,disableStream:r=!1}){bo(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:o,initialData:i,progressiveDone:s,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=s,this._contentDispositionFilename=a,(i==null?void 0:i.length)>0){const c=i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength?i.buffer:new Uint8Array(i).buffer;this._queuedChunks.push(c)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!n,this._contentLength=o,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((c,d)=>{this._onReceiveData({begin:c,chunk:d})}),e.addProgressListener((c,d)=>{this._onProgress({loaded:c,total:d})}),e.addProgressiveReadListener(c=>{this._onReceiveData({chunk:c})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:n}){const r=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const o=this._rangeReaders.some(function(i){return i._begin!==e?!1:(i._enqueue(r),!0)});bo(o,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var n,r,o,i;e.total===void 0?(r=(n=this._rangeReaders[0])==null?void 0:n.onProgress)==null||r.call(n,{loaded:e.loaded}):(i=(o=this._fullRequestReader)==null?void 0:o.onProgress)==null||i.call(o,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const n=this._rangeReaders.indexOf(e);n>=0&&this._rangeReaders.splice(n,1)}getFullReader(){bo(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new uve(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new dve(this,e,n);return this._pdfDataRangeTransport.requestDataRange(e,n),this._rangeReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class uve{constructor(e,n,r=!1,o=null){this._stream=e,this._done=r||!1,this._filename=vI(o)?o:null,this._queuedChunks=n||[],this._loaded=0;for(const i of this._queuedChunks)this._loaded+=i.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class dve{constructor(e,n,r){this._stream=e,this._begin=n,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function hve(t){let e=!0,n=r("filename\\*","i").exec(t);if(n){n=n[1];let h=a(n);return h=unescape(h),h=c(h),h=d(h),i(h)}if(n=s(t),n){const h=d(n);return i(h)}if(n=r("filename","i").exec(t),n){n=n[1];let h=a(n);return h=d(h),i(h)}function r(h,p){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',p)}function o(h,p){if(h){if(!/^[\x00-\xFF]+$/.test(p))return p;try{const g=new TextDecoder(h,{fatal:!0}),m=PE(p);p=g.decode(m),e=!1}catch{}}return p}function i(h){return e&&/[\x80-\xff]/.test(h)&&(h=o("utf-8",h),e&&(h=o("iso-8859-1",h))),h}function s(h){const p=[];let g;const m=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(g=m.exec(h))!==null;){let[,S,C,x]=g;if(S=parseInt(S,10),S in p){if(S===0)break;continue}p[S]=[C,x]}const v=[];for(let S=0;S<p.length&&S in p;++S){let[C,x]=p[S];x=a(x),C&&(x=unescape(x),S===0&&(x=c(x))),v.push(x)}return v.join("")}function a(h){if(h.startsWith('"')){const p=h.slice(1).split('\\"');for(let g=0;g<p.length;++g){const m=p[g].indexOf('"');m!==-1&&(p[g]=p[g].slice(0,m),p.length=g+1),p[g]=p[g].replaceAll(/\\(.)/g,"$1")}h=p.join('"')}return h}function c(h){const p=h.indexOf("'");if(p===-1)return h;const g=h.slice(0,p),v=h.slice(p+1).replace(/^[^']*'/,"");return o(g,v)}function d(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(p,g,m,v){if(m==="q"||m==="Q")return v=v.replaceAll("_"," "),v=v.replaceAll(/=([0-9a-fA-F]{2})/g,function(S,C){return String.fromCharCode(parseInt(C,16))}),o(g,v);try{v=atob(v)}catch{}return o(g,v)})}return""}function $8(t,e){const n=new Headers;if(!t||!e||typeof e!="object")return n;for(const r in e){const o=e[r];o!==void 0&&n.append(r,o)}return n}function SI(t){var e;return((e=URL.parse(t))==null?void 0:e.origin)??null}function V8({responseHeaders:t,isHttp:e,rangeChunkSize:n,disableRange:r}){const o={allowRangeRequests:!1,suggestedLength:void 0},i=parseInt(t.get("Content-Length"),10);return!Number.isInteger(i)||(o.suggestedLength=i,i<=2*n)||r||!e||t.get("Accept-Ranges")!=="bytes"||(t.get("Content-Encoding")||"identity")!=="identity"||(o.allowRangeRequests=!0),o}function z8(t){const e=t.get("Content-Disposition");if(e){let n=hve(e);if(n.includes("%"))try{n=decodeURIComponent(n)}catch{}if(vI(n))return n}return null}function DE(t,e){return new gS(`Unexpected server response (${t}) while retrieving PDF "${e}".`,t,t===404||t===0&&e.startsWith("file:"))}function B8(t){return t===200||t===206}function H8(t,e,n){return{method:"GET",headers:t,signal:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function j8(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(Xt(`getArrayBuffer - unexpected data format: ${t}`),new Uint8Array(t).buffer)}class fve{constructor(e){je(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=$8(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return bo(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new pve(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new gve(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class pve{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const n=e.source;this._withCredentials=n.withCredentials||!1,this._contentLength=n.length,this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange;const r=new Headers(e.headers),o=n.url;fetch(o,H8(r,this._withCredentials,this._abortController)).then(i=>{if(e._responseOrigin=SI(i.url),!B8(i.status))throw DE(i.status,o);this._reader=i.body.getReader(),this._headersCapability.resolve();const s=i.headers,{allowRangeRequests:a,suggestedLength:c}=V8({responseHeaders:s,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=c||this._contentLength,this._filename=z8(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new bd("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:j8(e),done:!1})}cancel(e){var n;(n=this._reader)==null||n.cancel(e),this._abortController.abort()}}class gve{constructor(e,n,r){this._stream=e,this._reader=null,this._loaded=0;const o=e.source;this._withCredentials=o.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!o.disableStream,this._abortController=new AbortController;const i=new Headers(e.headers);i.append("Range",`bytes=${n}-${r-1}`);const s=o.url;fetch(s,H8(i,this._withCredentials,this._abortController)).then(a=>{const c=SI(a.url);if(c!==e._responseOrigin)throw new Error(`Expected range response-origin "${c}" to match "${e._responseOrigin}".`);if(!B8(a.status))throw DE(a.status,s);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:j8(e),done:!1})}cancel(e){var n;(n=this._reader)==null||n.cancel(e),this._abortController.abort()}}const zM=200,BM=206;function mve(t){const e=t.response;return typeof e!="string"?e:PE(e).buffer}class yve{constructor({url:e,httpHeaders:n,withCredentials:r}){je(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=$8(this.isHttp,n),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const n=new XMLHttpRequest,r=this.currXhrId++,o=this.pendingRequests[r]={xhr:n};n.open("GET",this.url),n.withCredentials=this.withCredentials;for(const[i,s]of this.headers)n.setRequestHeader(i,s);return this.isHttp&&"begin"in e&&"end"in e?(n.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),o.expectedStatus=BM):o.expectedStatus=zM,n.responseType="arraybuffer",bo(e.onError,"Expected `onError` callback to be provided."),n.onerror=()=>{e.onError(n.status)},n.onreadystatechange=this.onStateChange.bind(this,r),n.onprogress=this.onProgress.bind(this,r),o.onHeadersReceived=e.onHeadersReceived,o.onDone=e.onDone,o.onError=e.onError,o.onProgress=e.onProgress,n.send(null),r}onProgress(e,n){var o;const r=this.pendingRequests[e];r&&((o=r.onProgress)==null||o.call(r,n))}onStateChange(e,n){const r=this.pendingRequests[e];if(!r)return;const o=r.xhr;if(o.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),o.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],o.status===0&&this.isHttp){r.onError(o.status);return}const i=o.status||zM;if(!(i===zM&&r.expectedStatus===BM)&&i!==r.expectedStatus){r.onError(o.status);return}const a=mve(o);if(i===BM){const c=o.getResponseHeader("Content-Range"),d=/bytes (\d+)-(\d+)\/(\d+)/.exec(c);d?r.onDone({begin:parseInt(d[1],10),chunk:a}):(Xt('Missing or invalid "Content-Range" header.'),r.onError(0))}else a?r.onDone({begin:0,chunk:a}):r.onError(o.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const n=this.pendingRequests[e].xhr;delete this.pendingRequests[e],n.abort()}}class bve{constructor(e){this._source=e,this._manager=new yve(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const n=this._rangeRequestReaders.indexOf(e);n>=0&&this._rangeRequestReaders.splice(n,1)}getFullReader(){return bo(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new vve(this._manager,this._source),this._fullRequestReader}getRangeReader(e,n){const r=new wve(this._manager,e,n);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class vve{constructor(e,n){this._manager=e,this._url=n.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,n=this._manager.getRequestXhr(e);this._manager._responseOrigin=SI(n.responseURL);const r=n.getAllResponseHeaders(),o=new Headers(r?r.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(a=>{const[c,...d]=a.split(": ");return[c,d.join(": ")]}):[]),{allowRangeRequests:i,suggestedLength:s}=V8({responseHeaders:o,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=z8(o),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=DE(e,this._url),this._headersCapability.reject(this._storedError);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var n;(n=this.onProgress)==null||n.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class wve{constructor(e,n,r){this._manager=e,this._url=e.url,this._requestId=e.request({begin:n,end:r,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var n;const e=SI((n=this._manager.getRequestXhr(this._requestId))==null?void 0:n.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const n=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunk=n,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=DE(e,this._url));for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var n;this.isStreamingSupported||(n=this.onProgress)==null||n.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Sve=/^[a-z][a-z0-9\-+.]+:/i;function Cve(t){if(Sve.test(t))return new URL(t);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(t))}class Eve{constructor(e){this.source=e,this.url=Cve(e.url),bo(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return bo(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new xve(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new _ve(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class xve{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=e.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const r=process.getBuiltinModule("fs");r.promises.lstat(this._url).then(o=>{this._contentLength=o.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},o=>{o.code==="ENOENT"&&(o=DE(0,this._url.href)),this._storedError=o,this._headersCapability.reject(o)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new bd("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class _ve{constructor(e,n,r){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const o=e.source;this._isStreamingSupported=!o.disableStream;const i=process.getBuiltinModule("fs");this._setReadableStream(i.createReadStream(this._url,{start:n,end:r-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Gw=Symbol("INITIAL_DATA");var Ls,aC,QO;class U8{constructor(){Q(this,aC);Q(this,Ls,Object.create(null))}get(e,n=null){if(n){const o=J(this,aC,QO).call(this,e);return o.promise.then(()=>n(o.data)),null}const r=y(this,Ls)[e];if(!r||r.data===Gw)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const n=y(this,Ls)[e];return!!n&&n.data!==Gw}delete(e){const n=y(this,Ls)[e];return!n||n.data===Gw?!1:(delete y(this,Ls)[e],!0)}resolve(e,n=null){const r=J(this,aC,QO).call(this,e);r.data=n,r.resolve()}clear(){var e;for(const n in y(this,Ls)){const{data:r}=y(this,Ls)[n];(e=r==null?void 0:r.bitmap)==null||e.close()}G(this,Ls,Object.create(null))}*[Symbol.iterator](){for(const e in y(this,Ls)){const{data:n}=y(this,Ls)[e];n!==Gw&&(yield[e,n])}}}Ls=new WeakMap,aC=new WeakSet,QO=function(e){var n;return(n=y(this,Ls))[e]||(n[e]={...Promise.withResolvers(),data:Gw})};const Tve=1e5,d4=30;var J5,Rh,cs,lC,cC,Qp,Du,uC,dC,Zp,db,hb,Ph,fb,hC,pb,Jp,fC,pC,Zr,gb,eg,gC,Mh,mb,wd,G8,W8,ZO,na,y_,JO,q8,K8;let yS=(Zr=class{constructor({textContentSource:e,container:n,viewport:r}){Q(this,wd);Q(this,Rh,Promise.withResolvers());Q(this,cs,null);Q(this,lC,!1);Q(this,cC,!!((J5=globalThis.FontInspector)!=null&&J5.enabled));Q(this,Qp,null);Q(this,Du,null);Q(this,uC,0);Q(this,dC,0);Q(this,Zp,null);Q(this,db,null);Q(this,hb,0);Q(this,Ph,0);Q(this,fb,Object.create(null));Q(this,hC,[]);Q(this,pb,null);Q(this,Jp,[]);Q(this,fC,new WeakMap);Q(this,pC,null);var c;if(e instanceof ReadableStream)G(this,pb,e);else if(typeof e=="object")G(this,pb,new ReadableStream({start(d){d.enqueue(e),d.close()}}));else throw new Error('No "textContentSource" parameter specified.');G(this,cs,G(this,db,n)),G(this,Ph,r.scale*Dl.pixelRatio),G(this,hb,r.rotation),G(this,Du,{div:null,properties:null,ctx:null});const{pageWidth:o,pageHeight:i,pageX:s,pageY:a}=r.rawDims;G(this,pC,[1,0,0,-1,-s,a+i]),G(this,dC,o),G(this,uC,i),J(c=Zr,na,q8).call(c),bf(n,r),y(this,Rh).promise.finally(()=>{y(Zr,mb).delete(this),G(this,Du,null),G(this,fb,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:n}=ei.platform;return pn(this,"fontFamilyMap",new Map([["sans-serif",`${e&&n?"Calibri, ":""}sans-serif`],["monospace",`${e&&n?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{y(this,Zp).read().then(({value:n,done:r})=>{if(r){y(this,Rh).resolve();return}y(this,Qp)??G(this,Qp,n.lang),Object.assign(y(this,fb),n.styles),J(this,wd,G8).call(this,n.items),e()},y(this,Rh).reject)};return G(this,Zp,y(this,pb).getReader()),y(Zr,mb).add(this),e(),y(this,Rh).promise}update({viewport:e,onBefore:n=null}){var i;const r=e.scale*Dl.pixelRatio,o=e.rotation;if(o!==y(this,hb)&&(n==null||n(),G(this,hb,o),bf(y(this,db),{rotation:o})),r!==y(this,Ph)){n==null||n(),G(this,Ph,r);const s={div:null,properties:null,ctx:J(i=Zr,na,y_).call(i,y(this,Qp))};for(const a of y(this,Jp))s.properties=y(this,fC).get(a),s.div=a,J(this,wd,ZO).call(this,s)}}cancel(){var n;const e=new bd("TextLayer task cancelled.");(n=y(this,Zp))==null||n.cancel(e).catch(()=>{}),G(this,Zp,null),y(this,Rh).reject(e)}get textDivs(){return y(this,Jp)}get textContentItemsStr(){return y(this,hC)}static cleanup(){if(!(y(this,mb).size>0)){y(this,gb).clear();for(const{canvas:e}of y(this,eg).values())e.remove();y(this,eg).clear()}}},Rh=new WeakMap,cs=new WeakMap,lC=new WeakMap,cC=new WeakMap,Qp=new WeakMap,Du=new WeakMap,uC=new WeakMap,dC=new WeakMap,Zp=new WeakMap,db=new WeakMap,hb=new WeakMap,Ph=new WeakMap,fb=new WeakMap,hC=new WeakMap,pb=new WeakMap,Jp=new WeakMap,fC=new WeakMap,pC=new WeakMap,gb=new WeakMap,eg=new WeakMap,gC=new WeakMap,Mh=new WeakMap,mb=new WeakMap,wd=new WeakSet,G8=function(e){var o,i;if(y(this,lC))return;(i=y(this,Du)).ctx??(i.ctx=J(o=Zr,na,y_).call(o,y(this,Qp)));const n=y(this,Jp),r=y(this,hC);for(const s of e){if(n.length>Tve){Xt("Ignoring additional textDivs for performance reasons."),G(this,lC,!0);return}if(s.str===void 0){if(s.type==="beginMarkedContentProps"||s.type==="beginMarkedContent"){const a=y(this,cs);G(this,cs,document.createElement("span")),y(this,cs).classList.add("markedContent"),s.id!==null&&y(this,cs).setAttribute("id",`${s.id}`),a.append(y(this,cs))}else s.type==="endMarkedContent"&&G(this,cs,y(this,cs).parentNode);continue}r.push(s.str),J(this,wd,W8).call(this,s)}},W8=function(e){var S;const n=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};y(this,Jp).push(n);const o=Rt.transform(y(this,pC),e.transform);let i=Math.atan2(o[1],o[0]);const s=y(this,fb)[e.fontName];s.vertical&&(i+=Math.PI/2);let a=y(this,cC)&&s.fontSubstitution||s.fontFamily;a=Zr.fontFamilyMap.get(a)||a;const c=Math.hypot(o[2],o[3]),d=c*J(S=Zr,na,K8).call(S,a,s,y(this,Qp));let h,p;i===0?(h=o[4],p=o[5]-d):(h=o[4]+d*Math.sin(i),p=o[5]-d*Math.cos(i));const g="calc(var(--total-scale-factor) *",m=n.style;y(this,cs)===y(this,db)?(m.left=`${(100*h/y(this,dC)).toFixed(2)}%`,m.top=`${(100*p/y(this,uC)).toFixed(2)}%`):(m.left=`${g}${h.toFixed(2)}px)`,m.top=`${g}${p.toFixed(2)}px)`),m.fontSize=`${g}${(y(Zr,Mh)*c).toFixed(2)}px)`,m.fontFamily=a,r.fontSize=c,n.setAttribute("role","presentation"),n.textContent=e.str,n.dir=e.dir,y(this,cC)&&(n.dataset.fontName=s.fontSubstitutionLoadedName||e.fontName),i!==0&&(r.angle=i*(180/Math.PI));let v=!1;if(e.str.length>1)v=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const C=Math.abs(e.transform[0]),x=Math.abs(e.transform[3]);C!==x&&Math.max(C,x)/Math.min(C,x)>1.5&&(v=!0)}if(v&&(r.canvasWidth=s.vertical?e.height:e.width),y(this,fC).set(n,r),y(this,Du).div=n,y(this,Du).properties=r,J(this,wd,ZO).call(this,y(this,Du)),r.hasText&&y(this,cs).append(n),r.hasEOL){const C=document.createElement("br");C.setAttribute("role","presentation"),y(this,cs).append(C)}},ZO=function(e){var a;const{div:n,properties:r,ctx:o}=e,{style:i}=n;let s="";if(y(Zr,Mh)>1&&(s=`scale(${1/y(Zr,Mh)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:c}=i,{canvasWidth:d,fontSize:h}=r;J(a=Zr,na,JO).call(a,o,h*y(this,Ph),c);const{width:p}=o.measureText(n.textContent);p>0&&(s=`scaleX(${d*y(this,Ph)/p}) ${s}`)}r.angle!==0&&(s=`rotate(${r.angle}deg) ${s}`),s.length>0&&(i.transform=s)},na=new WeakSet,y_=function(e=null){let n=y(this,eg).get(e||(e=""));if(!n){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),n=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),y(this,eg).set(e,n),y(this,gC).set(n,{size:0,family:""})}return n},JO=function(e,n,r){const o=y(this,gC).get(e);n===o.size&&r===o.family||(e.font=`${n}px ${r}`,o.size=n,o.family=r)},q8=function(){if(y(this,Mh)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),G(this,Mh,e.getBoundingClientRect().height),e.remove()},K8=function(e,n,r){const o=y(this,gb).get(e);if(o)return o;const i=J(this,na,y_).call(this,r);i.canvas.width=i.canvas.height=d4,J(this,na,JO).call(this,i,d4,e);const s=i.measureText(""),a=s.fontBoundingBoxAscent,c=Math.abs(s.fontBoundingBoxDescent);i.canvas.width=i.canvas.height=0;let d=.8;return a?d=a/(a+c):(ei.platform.isFirefox&&Xt("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),n.ascent?d=n.ascent:n.descent&&(d=1+n.descent)),y(this,gb).set(e,d),d},Q(Zr,na),Q(Zr,gb,new Map),Q(Zr,eg,new Map),Q(Zr,gC,new WeakMap),Q(Zr,Mh,null),Q(Zr,mb,new Set),Zr);class bS{static textContent(e){const n=[],r={items:n,styles:Object.create(null)};function o(i){var c;if(!i)return;let s=null;const a=i.name;if(a==="#text")s=i.value;else if(bS.shouldBuildText(a))(c=i==null?void 0:i.attributes)!=null&&c.textContent?s=i.attributes.textContent:i.value&&(s=i.value);else return;if(s!==null&&n.push({str:s}),!!i.children)for(const d of i.children)o(d)}return o(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const Ave=100;function uN(t={}){typeof t=="string"||t instanceof URL?t={url:t}:(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t={data:t});const e=new eD,{docId:n}=e,r=t.url?Fbe(t.url):null,o=t.data?$be(t.data):null,i=t.httpHeaders||null,s=t.withCredentials===!0,a=t.password??null,c=t.range instanceof dN?t.range:null,d=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:2**16;let h=t.worker instanceof dv?t.worker:null;const p=t.verbosity,g=typeof t.docBaseUrl=="string"&&!kE(t.docBaseUrl)?t.docBaseUrl:null,m=P1(t.cMapUrl),v=t.cMapPacked!==!1,S=t.CMapReaderFactory||(Ki?Gbe:Jj),C=P1(t.iccUrl),x=P1(t.standardFontDataUrl),O=t.StandardFontDataFactory||(Ki?Wbe:e4),M=P1(t.wasmUrl),P=t.WasmFactory||(Ki?qbe:t4),k=t.stopAtErrors!==!0,$=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,D=t.isEvalSupported!==!1,I=typeof t.isOffscreenCanvasSupported=="boolean"?t.isOffscreenCanvasSupported:!Ki,A=typeof t.isImageDecoderSupported=="boolean"?t.isImageDecoderSupported:!Ki&&(ei.platform.isFirefox||!globalThis.chrome),N=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,F=typeof t.disableFontFace=="boolean"?t.disableFontFace:Ki,R=t.fontExtraProperties===!0,V=t.enableXfa===!0,q=t.ownerDocument||globalThis.document,K=t.disableRange===!0,z=t.disableStream===!0,H=t.disableAutoFetch===!0,Z=t.pdfBug===!0,re=t.CanvasFactory||(Ki?Ube:Bbe),j=t.FilterFactory||(Ki?jbe:Hbe),X=t.enableHWA===!0,ne=t.useWasm!==!1,ie=c?c.length:t.length??NaN,se=typeof t.useSystemFonts=="boolean"?t.useSystemFonts:!Ki&&!F,ce=typeof t.useWorkerFetch=="boolean"?t.useWorkerFetch:!!(S===Jj&&O===e4&&P===t4&&m&&x&&M&&u0(m,document.baseURI)&&u0(x,document.baseURI)&&u0(M,document.baseURI)),ae=null;vbe(p);const ge={canvasFactory:new re({ownerDocument:q,enableHWA:X}),filterFactory:new j({docId:n,ownerDocument:q}),cMapReaderFactory:ce?null:new S({baseUrl:m,isCompressed:v}),standardFontDataFactory:ce?null:new O({baseUrl:x}),wasmFactory:ce?null:new P({baseUrl:M})};h||(h=dv.create({verbosity:p,port:Fa.workerPort}),e._worker=h);const Ee={docId:n,apiVersion:"5.3.93",data:o,password:a,disableAutoFetch:H,rangeChunkSize:d,length:ie,docBaseUrl:g,enableXfa:V,evaluatorOptions:{maxImageSize:$,disableFontFace:F,ignoreErrors:k,isEvalSupported:D,isOffscreenCanvasSupported:I,isImageDecoderSupported:A,canvasMaxAreaInBytes:N,fontExtraProperties:R,useSystemFonts:se,useWasm:ne,useWorkerFetch:ce,cMapUrl:m,iccUrl:C,standardFontDataUrl:x,wasmUrl:M}},Te={ownerDocument:q,pdfBug:Z,styleElement:ae,loadingParams:{disableAutoFetch:H,enableXfa:V}};return h.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const le=h.messageHandler.sendWithPromise("GetDocRequest",Ee,o?[o.buffer]:null);let pe;if(c)pe=new cve(c,{disableRange:K,disableStream:z});else if(!o){if(!r)throw new Error("getDocument - no `url` parameter provided.");const ye=u0(r)?fve:Ki?Eve:bve;pe=new ye({url:r,length:ie,httpHeaders:i,withCredentials:s,rangeChunkSize:d,disableRange:K,disableStream:z})}return le.then(ye=>{if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const xe=new g0(n,ye,h.port),Ce=new Pve(xe,e,pe,Te,ge);e._transport=Ce,xe.send("Ready",null)})}).catch(e._capability.reject),e}var aA;const lA=class lA{constructor(){je(this,"_capability",Promise.withResolvers());je(this,"_transport",null);je(this,"_worker",null);je(this,"docId",`d${Bi(lA,aA)._++}`);je(this,"destroyed",!1);je(this,"onPassword",null);je(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,n,r,o;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((n=this._transport)==null?void 0:n.destroy())}catch(i){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,i}this._transport=null,(o=this._worker)==null||o.destroy(),this._worker=null}async getData(){return this._transport.getData()}};aA=new WeakMap,Q(lA,aA,0);let eD=lA;var tg,mC,yC,bC,vC,eU;let dN=(eU=class{constructor(e,n,r=!1,o=null){Q(this,tg,Promise.withResolvers());Q(this,mC,[]);Q(this,yC,[]);Q(this,bC,[]);Q(this,vC,[]);this.length=e,this.initialData=n,this.progressiveDone=r,this.contentDispositionFilename=o}addRangeListener(e){y(this,vC).push(e)}addProgressListener(e){y(this,bC).push(e)}addProgressiveReadListener(e){y(this,yC).push(e)}addProgressiveDoneListener(e){y(this,mC).push(e)}onDataRange(e,n){for(const r of y(this,vC))r(e,n)}onDataProgress(e,n){y(this,tg).promise.then(()=>{for(const r of y(this,bC))r(e,n)})}onDataProgressiveRead(e){y(this,tg).promise.then(()=>{for(const n of y(this,yC))n(e)})}onDataProgressiveDone(){y(this,tg).promise.then(()=>{for(const e of y(this,mC))e()})}transportReady(){y(this,tg).resolve()}requestDataRange(e,n){cr("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},tg=new WeakMap,mC=new WeakMap,yC=new WeakMap,bC=new WeakMap,vC=new WeakMap,eU);class Ive{constructor(e,n){this._pdfInfo=e,this._transport=n}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return pn(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(n)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Lu,ng,w0;class Rve{constructor(e,n,r,o=!1){Q(this,ng);Q(this,Lu,!1);this._pageIndex=e,this._pageInfo=n,this._transport=r,this._stats=o?new Xj:null,this._pdfBug=o,this.commonObjs=r.commonObjs,this.objs=new U8,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:n=this.rotate,offsetX:r=0,offsetY:o=0,dontFlip:i=!1}={}){return new ME({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:n,offsetX:r,offsetY:o,dontFlip:i})}getAnnotations({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,n)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return pn(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:n,intent:r="display",annotationMode:o=xc.ENABLE,transform:i=null,background:s=null,optionalContentConfigPromise:a=null,annotationCanvasMap:c=null,pageColors:d=null,printAnnotationStorage:h=null,isEditing:p=!1}){var P,k;(P=this._stats)==null||P.time("Overall");const g=this._transport.getRenderingIntent(r,o,h,p),{renderingIntent:m,cacheKey:v}=g;G(this,Lu,!1),a||(a=this._transport.getOptionalContentConfig(m));let S=this._intentStates.get(v);S||(S=Object.create(null),this._intentStates.set(v,S)),S.streamReaderCancelTimeout&&(clearTimeout(S.streamReaderCancelTimeout),S.streamReaderCancelTimeout=null);const C=!!(m&Ws.PRINT);S.displayReadyCapability||(S.displayReadyCapability=Promise.withResolvers(),S.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(k=this._stats)==null||k.time("Page Request"),this._pumpOperatorList(g));const x=$=>{var D;S.renderTasks.delete(O),C&&G(this,Lu,!0),J(this,ng,w0).call(this),$?(O.capability.reject($),this._abortOperatorList({intentState:S,reason:$ instanceof Error?$:new Error($)})):O.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(D=globalThis.Stats)!=null&&D.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},O=new tD({callback:x,params:{canvasContext:e,viewport:n,transform:i,background:s},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:S.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!C,pdfBug:this._pdfBug,pageColors:d});(S.renderTasks||(S.renderTasks=new Set)).add(O);const M=O.task;return Promise.all([S.displayReadyCapability.promise,a]).then(([$,D])=>{var I;if(this.destroyed){x();return}if((I=this._stats)==null||I.time("Rendering"),!(D.renderingIntent&m))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");O.initializeGraphics({transparency:$,optionalContentConfig:D}),O.operatorListChanged()}).catch(x),M}getOperatorList({intent:e="display",annotationMode:n=xc.ENABLE,printAnnotationStorage:r=null,isEditing:o=!1}={}){var d;function i(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(c))}const s=this._transport.getRenderingIntent(e,n,r,o,!0);let a=this._intentStates.get(s.cacheKey);a||(a=Object.create(null),this._intentStates.set(s.cacheKey,a));let c;return a.opListReadCapability||(c=Object.create(null),c.operatorListChanged=i,a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||(a.renderTasks=new Set)).add(c),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(d=this._stats)==null||d.time("Page Request"),this._pumpOperatorList(s)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:n=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:n===!0},{highWaterMark:100,size(o){return o.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>bS.textContent(r));const n=this.streamTextContent(e);return new Promise(function(r,o){function i(){s.read().then(function({value:c,done:d}){if(d){r(a);return}a.lang??(a.lang=c.lang),Object.assign(a.styles,c.styles),a.items.push(...c.items),i()},o)}const s=n.getReader(),a={items:[],styles:Object.create(null),lang:null};i()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const n of this._intentStates.values())if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),!n.opListReadCapability)for(const r of n.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),G(this,Lu,!1),Promise.all(e)}cleanup(e=!1){G(this,Lu,!0);const n=J(this,ng,w0).call(this);return e&&n&&this._stats&&(this._stats=new Xj),n}_startRenderPage(e,n){var o,i;const r=this._intentStates.get(n);r&&((o=this._stats)==null||o.timeEnd("Page Request"),(i=r.displayReadyCapability)==null||i.resolve(e))}_renderPageChunk(e,n){for(let r=0,o=e.length;r<o;r++)n.operatorList.fnArray.push(e.fnArray[r]),n.operatorList.argsArray.push(e.argsArray[r]);n.operatorList.lastChunk=e.lastChunk,n.operatorList.separateAnnots=e.separateAnnots;for(const r of n.renderTasks)r.operatorListChanged();e.lastChunk&&J(this,ng,w0).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:n,annotationStorageSerializable:r,modifiedIds:o}){const{map:i,transfer:s}=r,c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:n,annotationStorage:i,modifiedIds:o},s).getReader(),d=this._intentStates.get(n);d.streamReader=c;const h=()=>{c.read().then(({value:p,done:g})=>{if(g){d.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(p,d),h())},p=>{if(d.streamReader=null,!this._transport.destroyed){if(d.operatorList){d.operatorList.lastChunk=!0;for(const g of d.renderTasks)g.operatorListChanged();J(this,ng,w0).call(this)}if(d.displayReadyCapability)d.displayReadyCapability.reject(p);else if(d.opListReadCapability)d.opListReadCapability.reject(p);else throw p}})};h()}_abortOperatorList({intentState:e,reason:n,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(n instanceof bI){let o=Ave;n.extraDelay>0&&n.extraDelay<1e3&&(o+=n.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:n,force:!0})},o);return}}if(e.streamReader.cancel(new bd(n.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[o,i]of this._intentStates)if(i===e){this._intentStates.delete(o);break}this.cleanup()}}}get stats(){return this._stats}}Lu=new WeakMap,ng=new WeakSet,w0=function(){if(!y(this,Lu)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:n}of this._intentStates.values())if(e.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),G(this,Lu,!1),!0};var kh,fl,Nu,rg,cA,og,ig,Zi,b_,Y8,X8,S0,yb,v_;const Rr=class Rr{constructor({name:e=null,port:n=null,verbosity:r=wbe()}={}){Q(this,Zi);Q(this,kh,Promise.withResolvers());Q(this,fl,null);Q(this,Nu,null);Q(this,rg,null);if(this.name=e,this.destroyed=!1,this.verbosity=r,n){if(y(Rr,ig).has(n))throw new Error("Cannot use more than one PDFWorker per port.");y(Rr,ig).set(n,this),J(this,Zi,Y8).call(this,n)}else J(this,Zi,X8).call(this)}get promise(){return y(this,kh).promise}get port(){return y(this,Nu)}get messageHandler(){return y(this,fl)}destroy(){var e,n;this.destroyed=!0,(e=y(this,rg))==null||e.terminate(),G(this,rg,null),y(Rr,ig).delete(y(this,Nu)),G(this,Nu,null),(n=y(this,fl))==null||n.destroy(),G(this,fl,null)}static create(e){const n=y(this,ig).get(e==null?void 0:e.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new Rr(e)}static get workerSrc(){if(Fa.workerSrc)return Fa.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return pn(this,"_setupFakeWorkerGlobal",(async()=>y(this,yb,v_)?y(this,yb,v_):(await import(this.workerSrc)).WorkerMessageHandler)())}};kh=new WeakMap,fl=new WeakMap,Nu=new WeakMap,rg=new WeakMap,cA=new WeakMap,og=new WeakMap,ig=new WeakMap,Zi=new WeakSet,b_=function(){y(this,kh).resolve(),y(this,fl).send("configure",{verbosity:this.verbosity})},Y8=function(e){G(this,Nu,e),G(this,fl,new g0("main","worker",e)),y(this,fl).on("ready",()=>{}),J(this,Zi,b_).call(this)},X8=function(){if(y(Rr,og)||y(Rr,yb,v_)){J(this,Zi,S0).call(this);return}let{workerSrc:e}=Rr;try{Rr._isSameOrigin(window.location,e)||(e=Rr._createCDNWrapper(new URL(e,window.location).href));const n=new Worker(e,{type:"module"}),r=new g0("main","worker",n),o=()=>{i.abort(),r.destroy(),n.terminate(),this.destroyed?y(this,kh).reject(new Error("Worker was destroyed")):J(this,Zi,S0).call(this)},i=new AbortController;n.addEventListener("error",()=>{y(this,rg)||o()},{signal:i.signal}),r.on("test",a=>{if(i.abort(),this.destroyed||!a){o();return}G(this,fl,r),G(this,Nu,n),G(this,rg,n),J(this,Zi,b_).call(this)}),r.on("ready",a=>{if(i.abort(),this.destroyed){o();return}try{s()}catch{J(this,Zi,S0).call(this)}});const s=()=>{const a=new Uint8Array;r.send("test",a,[a.buffer])};s();return}catch{yI("The worker has been disabled.")}J(this,Zi,S0).call(this)},S0=function(){y(Rr,og)||(Xt("Setting up fake worker."),G(Rr,og,!0)),Rr._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){y(this,kh).reject(new Error("Worker was destroyed"));return}const n=new zbe;G(this,Nu,n);const r=`fake${Bi(Rr,cA)._++}`,o=new g0(r+"_worker",r,n);e.setup(o,n),G(this,fl,new g0(r,r+"_worker",n)),J(this,Zi,b_).call(this)}).catch(e=>{y(this,kh).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},yb=new WeakSet,v_=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},Q(Rr,yb),Q(Rr,cA,0),Q(Rr,og,!1),Q(Rr,ig,new WeakMap),Ki&&(G(Rr,og,!0),Fa.workerSrc||(Fa.workerSrc="./pdf.worker.mjs")),Rr._isSameOrigin=(e,n)=>{const r=URL.parse(e);if(!(r!=null&&r.origin)||r.origin==="null")return!1;const o=new URL(n,r);return r.origin===o.origin},Rr._createCDNWrapper=e=>{const n=`await import("${e}");`;return URL.createObjectURL(new Blob([n],{type:"text/javascript"}))},Rr.fromPort=e=>{if(Rbe("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return Rr.create(e)};let dv=Rr;var Fu,fc,bb,vb,$u,sg,C0;class Pve{constructor(e,n,r,o,i){Q(this,sg);Q(this,Fu,new Map);Q(this,fc,new Map);Q(this,bb,new Map);Q(this,vb,new Map);Q(this,$u,null);this.messageHandler=e,this.loadingTask=n,this.commonObjs=new U8,this.fontLoader=new Lbe({ownerDocument:o.ownerDocument,styleElement:o.styleElement}),this.loadingParams=o.loadingParams,this._params=o,this.canvasFactory=i.canvasFactory,this.filterFactory=i.filterFactory,this.cMapReaderFactory=i.cMapReaderFactory,this.standardFontDataFactory=i.standardFontDataFactory,this.wasmFactory=i.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return pn(this,"annotationStorage",new aN)}getRenderingIntent(e,n=xc.ENABLE,r=null,o=!1,i=!1){let s=Ws.DISPLAY,a=BO;switch(e){case"any":s=Ws.ANY;break;case"display":break;case"print":s=Ws.PRINT;break;default:Xt(`getRenderingIntent - invalid intent: ${e}`)}const c=s&Ws.PRINT&&r instanceof A8?r:this.annotationStorage;switch(n){case xc.DISABLE:s+=Ws.ANNOTATIONS_DISABLE;break;case xc.ENABLE:break;case xc.ENABLE_FORMS:s+=Ws.ANNOTATIONS_FORMS;break;case xc.ENABLE_STORAGE:s+=Ws.ANNOTATIONS_STORAGE,a=c.serializable;break;default:Xt(`getRenderingIntent - invalid annotationMode: ${n}`)}o&&(s+=Ws.IS_EDITING),i&&(s+=Ws.OPLIST);const{ids:d,hash:h}=c.modifiedIds,p=[s,a.hash,h];return{renderingIntent:s,cacheKey:p.join("_"),annotationStorageSerializable:a,modifiedIds:d}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=y(this,$u))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const o of y(this,fc).values())e.push(o._destroy());y(this,fc).clear(),y(this,bb).clear(),y(this,vb).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return e.push(n),Promise.all(e).then(()=>{var o,i;this.commonObjs.clear(),this.fontLoader.clear(),y(this,Fu).clear(),this.filterFactory.destroy(),yS.cleanup(),(o=this._networkStream)==null||o.cancelAllRequests(new bd("Worker was terminated.")),(i=this.messageHandler)==null||i.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:n}=this;e.on("GetReader",(r,o)=>{bo(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=i=>{this._lastProgress={loaded:i.loaded,total:i.total}},o.onPull=()=>{this._fullReader.read().then(function({value:i,done:s}){if(s){o.close();return}bo(i instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),o.enqueue(new Uint8Array(i),1,[i])}).catch(i=>{o.error(i)})},o.onCancel=i=>{this._fullReader.cancel(i),o.ready.catch(s=>{if(!this.destroyed)throw s})}}),e.on("ReaderHeadersReady",async r=>{var a;await this._fullReader.headersReady;const{isStreamingSupported:o,isRangeSupported:i,contentLength:s}=this._fullReader;return(!o||!i)&&(this._lastProgress&&((a=n.onProgress)==null||a.call(n,this._lastProgress)),this._fullReader.onProgress=c=>{var d;(d=n.onProgress)==null||d.call(n,{loaded:c.loaded,total:c.total})}),{isStreamingSupported:o,isRangeSupported:i,contentLength:s}}),e.on("GetRangeReader",(r,o)=>{bo(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const i=this._networkStream.getRangeReader(r.begin,r.end);if(!i){o.close();return}o.onPull=()=>{i.read().then(function({value:s,done:a}){if(a){o.close();return}bo(s instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),o.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{o.error(s)})},o.onCancel=s=>{i.cancel(s),o.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,n._capability.resolve(new Ive(r,this))}),e.on("DocException",r=>{n._capability.reject(ss(r))}),e.on("PasswordRequest",r=>{G(this,$u,Promise.withResolvers());try{if(!n.onPassword)throw ss(r);const o=i=>{i instanceof Error?y(this,$u).reject(i):y(this,$u).resolve({password:i})};n.onPassword(o,r.code)}catch(o){y(this,$u).reject(o)}return y(this,$u).promise}),e.on("DataLoaded",r=>{var o;(o=n.onProgress)==null||o.call(n,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;y(this,fc).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,o,i])=>{var s;if(this.destroyed||this.commonObjs.has(r))return null;switch(o){case"Font":if("error"in i){const h=i.error;Xt(`Error during font loading: ${h}`),this.commonObjs.resolve(r,h);break}const a=this._params.pdfBug&&((s=globalThis.FontInspector)!=null&&s.enabled)?(h,p)=>globalThis.FontInspector.fontAdded(h,p):null,c=new Nbe(i,a);this.fontLoader.bind(c).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!c.fontExtraProperties&&c.data&&(c.data=null),this.commonObjs.resolve(r,c)});break;case"CopyLocalImage":const{imageRef:d}=i;bo(d,"The imageRef must be defined.");for(const h of y(this,fc).values())for(const[,p]of h.objs)if((p==null?void 0:p.ref)===d)return p.dataLen?(this.commonObjs.resolve(r,structuredClone(p)),p.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,i);break;default:throw new Error(`Got unknown common object type ${o}`)}return null}),e.on("obj",([r,o,i,s])=>{var c;if(this.destroyed)return;const a=y(this,fc).get(o);if(!a.objs.has(r)){if(a._intentStates.size===0){(c=s==null?void 0:s.bitmap)==null||c.close();return}switch(i){case"Image":case"Pattern":a.objs.resolve(r,s);break;default:throw new Error(`Got unknown object type ${i}`)}}}),e.on("DocProgress",r=>{var o;this.destroyed||(o=n.onProgress)==null||o.call(n,{loaded:r.loaded,total:r.total})}),e.on("FetchBinaryData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");const o=this[r.type];if(!o)throw new Error(`${r.type} not initialized, see the \`useWorkerFetch\` parameter.`);return o.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&Xt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},n).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const n=e-1,r=y(this,bb).get(n);if(r)return r;const o=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(i=>{if(this.destroyed)throw new Error("Transport destroyed");i.refStr&&y(this,vb).set(i.refStr,e);const s=new Rve(n,i,this,this._params.pdfBug);return y(this,fc).set(n,s),s});return y(this,bb).set(n,o),o}getPageIndex(e){return HO(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,n){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:n})}getFieldObjects(){return J(this,sg,C0).call(this,"GetFieldObjects")}hasJSActions(){return J(this,sg,C0).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return J(this,sg,C0).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return J(this,sg,C0).call(this,"GetOptionalContentConfig").then(n=>new lve(n,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",n=y(this,Fu).get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,null).then(o=>{var i,s;return{info:o[0],metadata:o[1]?new sve(o[1]):null,contentDispositionFilename:((i=this._fullReader)==null?void 0:i.filename)??null,contentLength:((s=this._fullReader)==null?void 0:s.contentLength)??null}});return y(this,Fu).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const n of y(this,fc).values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),y(this,Fu).clear(),this.filterFactory.destroy(!0),yS.cleanup()}}cachedPageNumber(e){if(!HO(e))return null;const n=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return y(this,vb).get(n)??null}}Fu=new WeakMap,fc=new WeakMap,bb=new WeakMap,vb=new WeakMap,$u=new WeakMap,sg=new WeakSet,C0=function(e,n=null){const r=y(this,Fu).get(e);if(r)return r;const o=this.messageHandler.sendWithPromise(e,n);return y(this,Fu).set(e,o),o};var Oh;class Mve{constructor(e){Q(this,Oh,null);je(this,"onContinue",null);je(this,"onError",null);G(this,Oh,e)}get promise(){return y(this,Oh).capability.promise}cancel(e=0){y(this,Oh).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=y(this,Oh).operatorList;if(!e)return!1;const{annotationCanvasMap:n}=y(this,Oh);return e.form||e.canvas&&(n==null?void 0:n.size)>0}}Oh=new WeakMap;var Dh,ag;const vp=class vp{constructor({callback:e,params:n,objs:r,commonObjs:o,annotationCanvasMap:i,operatorList:s,pageIndex:a,canvasFactory:c,filterFactory:d,useRequestAnimationFrame:h=!1,pdfBug:p=!1,pageColors:g=null}){Q(this,Dh,null);this.callback=e,this.params=n,this.objs=r,this.commonObjs=o,this.annotationCanvasMap=i,this.operatorListIdx=null,this.operatorList=s,this._pageIndex=a,this.canvasFactory=c,this.filterFactory=d,this._pdfBug=p,this.pageColors=g,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=h===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Mve(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:n}){var a,c;if(this.cancelled)return;if(this._canvas){if(y(vp,ag).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");y(vp,ag).add(this._canvas)}this._pdfBug&&((a=globalThis.StepperManager)!=null&&a.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:o,transform:i,background:s}=this.params;this.gfx=new Ny(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:i,viewport:o,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,(c=this.graphicsReadyCallback)==null||c.call(this)}cancel(e=null,n=0){var r,o,i;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),y(this,Dh)&&(window.cancelAnimationFrame(y(this,Dh)),G(this,Dh,null)),y(vp,ag).delete(this._canvas),e||(e=new bI(`Rendering cancelled, page ${this._pageIndex+1}`,n)),this.callback(e),(i=(o=this.task).onError)==null||i.call(o,e)}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?G(this,Dh,window.requestAnimationFrame(()=>{G(this,Dh,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),y(vp,ag).delete(this._canvas),this.callback())))}};Dh=new WeakMap,ag=new WeakMap,Q(vp,ag,new WeakSet);let tD=vp;const Q8="5.3.93",Z8="cbeef3233";function h4(t){return Math.floor(Math.max(0,Math.min(1,t))*255).toString(16).padStart(2,"0")}function Ww(t){return Math.max(0,Math.min(255,255*t))}class f4{static CMYK_G([e,n,r,o]){return["G",1-Math.min(1,.3*e+.59*r+.11*n+o)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Ww(e),[e,e,e]}static G_HTML([e]){const n=h4(e);return`#${n}${n}${n}`}static RGB_G([e,n,r]){return["G",.3*e+.59*n+.11*r]}static RGB_rgb(e){return e.map(Ww)}static RGB_HTML(e){return`#${e.map(h4).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,n,r,o]){return["RGB",1-Math.min(1,e+o),1-Math.min(1,r+o),1-Math.min(1,n+o)]}static CMYK_rgb([e,n,r,o]){return[Ww(1-Math.min(1,e+o)),Ww(1-Math.min(1,r+o)),Ww(1-Math.min(1,n+o))]}static CMYK_HTML(e){const n=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(n)}static RGB_CMYK([e,n,r]){const o=1-e,i=1-n,s=1-r,a=Math.min(o,i,s);return["CMYK",o,i,s,a]}}class kve{create(e,n,r=!1){if(e<=0||n<=0)throw new Error("Invalid SVG dimensions");const o=this._createSVG("svg:svg");return o.setAttribute("version","1.1"),r||(o.setAttribute("width",`${e}px`),o.setAttribute("height",`${n}px`)),o.setAttribute("preserveAspectRatio","none"),o.setAttribute("viewBox",`0 0 ${e} ${n}`),o}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){cr("Abstract method `_createSVG` called.")}}class vS extends kve{_createSVG(e){return document.createElementNS(mu,e)}}class hN{static setupStorage(e,n,r,o,i){const s=o.getValue(n,{value:null});switch(r.name){case"textarea":if(s.value!==null&&(e.textContent=s.value),i==="print")break;e.addEventListener("input",a=>{o.setValue(n,{value:a.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(s.value===r.attributes.xfaOn?e.setAttribute("checked",!0):s.value===r.attributes.xfaOff&&e.removeAttribute("checked"),i==="print")break;e.addEventListener("change",a=>{o.setValue(n,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(s.value!==null&&e.setAttribute("value",s.value),i==="print")break;e.addEventListener("input",a=>{o.setValue(n,{value:a.target.value})})}break;case"select":if(s.value!==null){e.setAttribute("value",s.value);for(const a of r.children)a.attributes.value===s.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{const c=a.target.options,d=c.selectedIndex===-1?"":c[c.selectedIndex].value;o.setValue(n,{value:d})});break}}static setAttributes({html:e,element:n,storage:r=null,intent:o,linkService:i}){const{attributes:s}=n,a=e instanceof HTMLAnchorElement;s.type==="radio"&&(s.name=`${s.name}-${o}`);for(const[c,d]of Object.entries(s))if(d!=null)switch(c){case"class":d.length&&e.setAttribute(c,d.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",d);break;case"style":Object.assign(e.style,d);break;case"textContent":e.textContent=d;break;default:(!a||c!=="href"&&c!=="newWindow")&&e.setAttribute(c,d)}a&&i.addLinkAttributes(e,s.href,s.newWindow),r&&s.dataId&&this.setupStorage(e,s.dataId,n,r)}static render(e){var p,g;const n=e.annotationStorage,r=e.linkService,o=e.xfaHtml,i=e.intent||"display",s=document.createElement(o.name);o.attributes&&this.setAttributes({html:s,element:o,intent:i,linkService:r});const a=i!=="richText",c=e.div;if(c.append(s),e.viewport){const m=`matrix(${e.viewport.transform.join(",")})`;c.style.transform=m}a&&c.setAttribute("class","xfaLayer xfaFont");const d=[];if(o.children.length===0){if(o.value){const m=document.createTextNode(o.value);s.append(m),a&&bS.shouldBuildText(o.name)&&d.push(m)}return{textDivs:d}}const h=[[o,-1,s]];for(;h.length>0;){const[m,v,S]=h.at(-1);if(v+1===m.children.length){h.pop();continue}const C=m.children[++h.at(-1)[1]];if(C===null)continue;const{name:x}=C;if(x==="#text"){const M=document.createTextNode(C.value);d.push(M),S.append(M);continue}const O=(p=C==null?void 0:C.attributes)!=null&&p.xmlns?document.createElementNS(C.attributes.xmlns,x):document.createElement(x);if(S.append(O),C.attributes&&this.setAttributes({html:O,element:C,storage:n,intent:i,linkService:r}),((g=C.children)==null?void 0:g.length)>0)h.push([C,-1,O]);else if(C.value){const M=document.createTextNode(C.value);a&&bS.shouldBuildText(x)&&d.push(M),O.append(M)}}for(const m of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))m.setAttribute("readOnly",!0);return{textDivs:d}}static update(e){const n=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=n,e.div.hidden=!1}}const Ove=9,em=new WeakSet;class p4{static create(e){switch(e.data.annotationType){case ro.LINK:return new J8(e);case ro.TEXT:return new Dve(e);case ro.WIDGET:switch(e.data.fieldType){case"Tx":return new Lve(e);case"Btn":return e.data.radioButton?new n7(e):e.data.checkBox?new Fve(e):new $ve(e);case"Ch":return new Vve(e);case"Sig":return new Nve(e)}return new hm(e);case ro.POPUP:return new rD(e);case ro.FREETEXT:return new a7(e);case ro.LINE:return new Bve(e);case ro.SQUARE:return new Hve(e);case ro.CIRCLE:return new jve(e);case ro.POLYLINE:return new l7(e);case ro.CARET:return new Gve(e);case ro.INK:return new fN(e);case ro.POLYGON:return new Uve(e);case ro.HIGHLIGHT:return new c7(e);case ro.UNDERLINE:return new Wve(e);case ro.SQUIGGLY:return new qve(e);case ro.STRIKEOUT:return new Kve(e);case ro.STAMP:return new u7(e);case ro.FILEATTACHMENT:return new Yve(e);default:return new co(e)}}}var lg,wb,Sb,wC,nD;const JN=class JN{constructor(e,{isRenderable:n=!1,ignoreBorder:r=!1,createQuadrilaterals:o=!1}={}){Q(this,wC);Q(this,lg,null);Q(this,wb,!1);Q(this,Sb,null);this.isRenderable=n,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,n&&(this.container=this._createContainer(r)),o&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:n}){return!!(e!=null&&e.str||n!=null&&n.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return JN._hasPopupData(this.data)}updateEdited(e){var r;if(!this.container)return;y(this,lg)||G(this,lg,{rect:this.data.rect.slice(0)});const{rect:n}=e;n&&J(this,wC,nD).call(this,n),(r=y(this,Sb))==null||r.popup.updateEdited(e)}resetEdited(){var e;y(this,lg)&&(J(this,wC,nD).call(this,y(this,lg).rect),(e=y(this,Sb))==null||e.popup.resetEdited(),G(this,lg,null))}_createContainer(e){const{data:n,parent:{page:r,viewport:o}}=this,i=document.createElement("section");i.setAttribute("data-annotation-id",n.id),this instanceof hm||(i.tabIndex=0);const{style:s}=i;if(s.zIndex=this.parent.zIndex++,n.alternativeText&&(i.title=n.alternativeText),n.noRotate&&i.classList.add("norotate"),!n.rect||this instanceof rD){const{rotation:S}=n;return!n.hasOwnCanvas&&S!==0&&this.setRotation(S,i),i}const{width:a,height:c}=this;if(!e&&n.borderStyle.width>0){s.borderWidth=`${n.borderStyle.width}px`;const S=n.borderStyle.horizontalCornerRadius,C=n.borderStyle.verticalCornerRadius;if(S>0||C>0){const O=`calc(${S}px * var(--total-scale-factor)) / calc(${C}px * var(--total-scale-factor))`;s.borderRadius=O}else if(this instanceof n7){const O=`calc(${a}px * var(--total-scale-factor)) / calc(${c}px * var(--total-scale-factor))`;s.borderRadius=O}switch(n.borderStyle.style){case my.SOLID:s.borderStyle="solid";break;case my.DASHED:s.borderStyle="dashed";break;case my.BEVELED:Xt("Unimplemented border style: beveled");break;case my.INSET:Xt("Unimplemented border style: inset");break;case my.UNDERLINE:s.borderBottomStyle="solid";break}const x=n.borderColor||null;x?(G(this,wb,!0),s.borderColor=Rt.makeHexColor(x[0]|0,x[1]|0,x[2]|0)):s.borderWidth=0}const d=Rt.normalizeRect([n.rect[0],r.view[3]-n.rect[1]+r.view[1],n.rect[2],r.view[3]-n.rect[3]+r.view[1]]),{pageWidth:h,pageHeight:p,pageX:g,pageY:m}=o.rawDims;s.left=`${100*(d[0]-g)/h}%`,s.top=`${100*(d[1]-m)/p}%`;const{rotation:v}=n;return n.hasOwnCanvas||v===0?(s.width=`${100*a/h}%`,s.height=`${100*c/p}%`):this.setRotation(v,i),i}setRotation(e,n=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:o}=this.parent.viewport.rawDims;let{width:i,height:s}=this;e%180!==0&&([i,s]=[s,i]),n.style.width=`${100*i/r}%`,n.style.height=`${100*s/o}%`,n.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(n,r,o)=>{const i=o.detail[n],s=i[0],a=i.slice(1);o.target.style[r]=f4[`${s}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[r]:f4[`${s}_rgb`](a)})};return pn(this,"_commonActions",{display:n=>{const{display:r}=n.detail,o=r%2===1;this.container.style.visibility=o?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:o,noPrint:r===1||r===2})},print:n=>{this.annotationStorage.setValue(this.data.id,{noPrint:!n.detail.print})},hidden:n=>{const{hidden:r}=n.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:n=>{setTimeout(()=>n.target.focus({preventScroll:!1}),0)},userName:n=>{n.target.title=n.detail.userName},readonly:n=>{n.target.disabled=n.detail.readonly},required:n=>{this._setRequired(n.target,n.detail.required)},bgColor:n=>{e("bgColor","backgroundColor",n)},fillColor:n=>{e("fillColor","backgroundColor",n)},fgColor:n=>{e("fgColor","color",n)},textColor:n=>{e("textColor","color",n)},borderColor:n=>{e("borderColor","borderColor",n)},strokeColor:n=>{e("strokeColor","borderColor",n)},rotation:n=>{const r=n.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,n){const r=this._commonActions;for(const o of Object.keys(n.detail)){const i=e[o]||r[o];i==null||i(n)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const n=this.annotationStorage.getRawValue(this.data.id);if(!n)return;const r=this._commonActions;for(const[o,i]of Object.entries(n)){const s=r[o];if(s){const a={detail:{[o]:i},target:e};s(a),delete n[o]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[n,r,o,i]=this.data.rect.map(S=>Math.fround(S));if(e.length===8){const[S,C,x,O]=e.subarray(2,6);if(o===S&&i===C&&n===x&&r===O)return}const{style:s}=this.container;let a;if(y(this,wb)){const{borderColor:S,borderWidth:C}=s;s.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${S}" stroke-width="${C}">`],this.container.classList.add("hasBorder")}const c=o-n,d=i-r,{svgFactory:h}=this,p=h.createElement("svg");p.classList.add("quadrilateralsContainer"),p.setAttribute("width",0),p.setAttribute("height",0),p.role="none";const g=h.createElement("defs");p.append(g);const m=h.createElement("clipPath"),v=`clippath_${this.data.id}`;m.setAttribute("id",v),m.setAttribute("clipPathUnits","objectBoundingBox"),g.append(m);for(let S=2,C=e.length;S<C;S+=8){const x=e[S],O=e[S+1],M=e[S+2],P=e[S+3],k=h.createElement("rect"),$=(M-n)/c,D=(i-O)/d,I=(x-M)/c,A=(O-P)/d;k.setAttribute("x",$),k.setAttribute("y",D),k.setAttribute("width",I),k.setAttribute("height",A),m.append(k),a==null||a.push(`<rect vector-effect="non-scaling-stroke" x="${$}" y="${D}" width="${I}" height="${A}"/>`)}y(this,wb)&&(a.push("</g></svg>')"),s.backgroundImage=a.join("")),this.container.append(p),this.container.style.clipPath=`url(#${v})`}_createPopup(){const{data:e}=this,n=G(this,Sb,new rD({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation,noRotate:!0},parent:this.parent,elements:[this]}));this.parent.div.append(n.render())}render(){cr("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,n=null){const r=[];if(this._fieldObjects){const o=this._fieldObjects[e];if(o)for(const{page:i,id:s,exportValues:a}of o){if(i===-1||s===n)continue;const c=typeof a=="string"?a:null,d=document.querySelector(`[data-element-id="${s}"]`);if(d&&!em.has(d)){Xt(`_getElementsByName - element not allowed: ${s}`);continue}r.push({id:s,exportValue:c,domElement:d})}return r}for(const o of document.getElementsByName(e)){const{exportValue:i}=o,s=o.getAttribute("data-element-id");s!==n&&em.has(o)&&r.push({id:s,exportValue:i,domElement:o})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const n of e)n.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:n}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:n,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};lg=new WeakMap,wb=new WeakMap,Sb=new WeakMap,wC=new WeakSet,nD=function(e){const{container:{style:n},data:{rect:r,rotation:o},parent:{viewport:{rawDims:{pageWidth:i,pageHeight:s,pageX:a,pageY:c}}}}=this;r==null||r.splice(0,4,...e),n.left=`${100*(e[0]-a)/i}%`,n.top=`${100*(s-e[3]+c)/s}%`,o===0?(n.width=`${100*(e[2]-e[0])/i}%`,n.height=`${100*(e[3]-e[1])/s}%`):this.setRotation(o)};let co=JN;var Ys,gp,e7,t7;class J8 extends co{constructor(n,r=null){super(n,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});Q(this,Ys);this.isTooltipOnly=n.data.isTooltipOnly}render(){const{data:n,linkService:r}=this,o=document.createElement("a");o.setAttribute("data-element-id",n.id);let i=!1;return n.url?(r.addLinkAttributes(o,n.url,n.newWindow),i=!0):n.action?(this._bindNamedAction(o,n.action),i=!0):n.attachment?(J(this,Ys,e7).call(this,o,n.attachment,n.attachmentDest),i=!0):n.setOCGState?(J(this,Ys,t7).call(this,o,n.setOCGState),i=!0):n.dest?(this._bindLink(o,n.dest),i=!0):(n.actions&&(n.actions.Action||n.actions["Mouse Up"]||n.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(o,n),i=!0),n.resetForm?(this._bindResetFormAction(o,n.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(o,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&this.container.append(o),this.container}_bindLink(n,r){n.href=this.linkService.getDestinationHash(r),n.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&J(this,Ys,gp).call(this)}_bindNamedAction(n,r){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeNamedAction(r),!1),J(this,Ys,gp).call(this)}_bindJSAction(n,r){n.href=this.linkService.getAnchorUrl("");const o=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(r.actions)){const s=o.get(i);s&&(n[s]=()=>{var a;return(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:i}}),!1})}n.onclick||(n.onclick=()=>!1),J(this,Ys,gp).call(this)}_bindResetFormAction(n,r){const o=n.onclick;if(o||(n.href=this.linkService.getAnchorUrl("")),J(this,Ys,gp).call(this),!this._fieldObjects){Xt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),o||(n.onclick=()=>!1);return}n.onclick=()=>{var p;o==null||o();const{fields:i,refs:s,include:a}=r,c=[];if(i.length!==0||s.length!==0){const g=new Set(s);for(const m of i){const v=this._fieldObjects[m]||[];for(const{id:S}of v)g.add(S)}for(const m of Object.values(this._fieldObjects))for(const v of m)g.has(v.id)===a&&c.push(v)}else for(const g of Object.values(this._fieldObjects))c.push(...g);const d=this.annotationStorage,h=[];for(const g of c){const{id:m}=g;switch(h.push(m),g.type){case"text":{const S=g.defaultValue||"";d.setValue(m,{value:S});break}case"checkbox":case"radiobutton":{const S=g.defaultValue===g.exportValues;d.setValue(m,{value:S});break}case"combobox":case"listbox":{const S=g.defaultValue||"";d.setValue(m,{value:S});break}default:continue}const v=document.querySelector(`[data-element-id="${m}"]`);if(v){if(!em.has(v)){Xt(`_bindResetFormAction - element not allowed: ${m}`);continue}}else continue;v.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:h,name:"ResetForm"}})),!1}}}Ys=new WeakSet,gp=function(){this.container.setAttribute("data-internal-link","")},e7=function(n,r,o=null){n.href=this.linkService.getAnchorUrl(""),r.description&&(n.title=r.description),n.onclick=()=>{var i;return(i=this.downloadManager)==null||i.openOrDownloadData(r.content,r.filename,o),!1},J(this,Ys,gp).call(this)},t7=function(n,r){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeSetOCGState(r),!1),J(this,Ys,gp).call(this)};class Dve extends co{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class hm extends co{render(){return this.container}showElementAndHideCanvas(e){var n;this.data.hasOwnCanvas&&(((n=e.previousSibling)==null?void 0:n.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return ei.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,n,r,o,i){r.includes("mouse")?e.addEventListener(r,s=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:o,value:i(s),shift:s.shiftKey,modifier:this._getKeyModifier(s)}})}):e.addEventListener(r,s=>{var a;if(r==="blur"){if(!n.focused||!s.relatedTarget)return;n.focused=!1}else if(r==="focus"){if(n.focused)return;n.focused=!0}i&&((a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:o,value:i(s)}}))})}_setEventListeners(e,n,r,o){var i,s,a;for(const[c,d]of r)(d==="Action"||(i=this.data.actions)!=null&&i[d])&&((d==="Focus"||d==="Blur")&&(n||(n={focused:!1})),this._setEventListener(e,n,c,d,o),d==="Focus"&&!((s=this.data.actions)!=null&&s.Blur)?this._setEventListener(e,n,"blur","Blur",null):d==="Blur"&&!((a=this.data.actions)!=null&&a.Focus)&&this._setEventListener(e,n,"focus","Focus",null))}_setBackgroundColor(e){const n=this.data.backgroundColor||null;e.style.backgroundColor=n===null?"transparent":Rt.makeHexColor(n[0],n[1],n[2])}_setTextStyle(e){const n=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,o=this.data.defaultAppearanceData.fontSize||Ove,i=e.style;let s;const a=2,c=d=>Math.round(10*d)/10;if(this.data.multiLine){const d=Math.abs(this.data.rect[3]-this.data.rect[1]-a),h=Math.round(d/(DM*o))||1,p=d/h;s=Math.min(o,c(p/DM))}else{const d=Math.abs(this.data.rect[3]-this.data.rect[1]-a);s=Math.min(o,c(d/DM))}i.fontSize=`calc(${s}px * var(--total-scale-factor))`,i.color=Rt.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(i.textAlign=n[this.data.textAlignment])}_setRequired(e,n){n?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",n)}}class Lve extends hm{constructor(e){const n=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:n})}setPropertyOnSiblings(e,n,r,o){const i=this.annotationStorage;for(const s of this._getElementsByName(e.name,e.id))s.domElement&&(s.domElement[n]=r),i.setValue(s.id,{[o]:r})}render(){var o,i;const e=this.annotationStorage,n=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const s=e.getValue(n,{value:this.data.fieldValue});let a=s.value||"";const c=e.getValue(n,{charLimit:this.data.maxLen}).charLimit;c&&a.length>c&&(a=a.slice(0,c));let d=s.formattedValue||((o=this.data.textContent)==null?void 0:o.join(`
`))||null;d&&this.data.comb&&(d=d.replaceAll(/\s+/g,""));const h={userValue:a,formattedValue:d,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=d??a,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type=this.data.password?"password":"text",r.setAttribute("value",d??a),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),em.add(r),r.setAttribute("data-element-id",n),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=0;const p=this.data.dateFormat||this.data.timeFormat;p&&(r.title=p),this._setRequired(r,this.data.required),c&&(r.maxLength=c),r.addEventListener("input",m=>{e.setValue(n,{value:m.target.value}),this.setPropertyOnSiblings(r,"value",m.target.value,"value"),h.formattedValue=null}),r.addEventListener("resetform",m=>{const v=this.data.defaultFieldValue??"";r.value=h.userValue=v,h.formattedValue=null});let g=m=>{const{formattedValue:v}=h;v!=null&&(m.target.value=v),m.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",v=>{var C;if(h.focused)return;const{target:S}=v;h.userValue&&(S.value=h.userValue),h.lastCommittedValue=S.value,h.commitKey=1,(C=this.data.actions)!=null&&C.Focus||(h.focused=!0)}),r.addEventListener("updatefromsandbox",v=>{this.showElementAndHideCanvas(v.target);const S={value(C){h.userValue=C.detail.value??"",e.setValue(n,{value:h.userValue.toString()}),C.target.value=h.userValue},formattedValue(C){const{formattedValue:x}=C.detail;h.formattedValue=x,x!=null&&C.target!==document.activeElement&&(C.target.value=x),e.setValue(n,{formattedValue:x})},selRange(C){C.target.setSelectionRange(...C.detail.selRange)},charLimit:C=>{var P;const{charLimit:x}=C.detail,{target:O}=C;if(x===0){O.removeAttribute("maxLength");return}O.setAttribute("maxLength",x);let M=h.userValue;!M||M.length<=x||(M=M.slice(0,x),O.value=h.userValue=M,e.setValue(n,{value:M}),(P=this.linkService.eventBus)==null||P.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:M,willCommit:!0,commitKey:1,selStart:O.selectionStart,selEnd:O.selectionEnd}}))}};this._dispatchEventFromSandbox(S,v)}),r.addEventListener("keydown",v=>{var x;h.commitKey=1;let S=-1;if(v.key==="Escape"?S=0:v.key==="Enter"&&!this.data.multiLine?S=2:v.key==="Tab"&&(h.commitKey=3),S===-1)return;const{value:C}=v.target;h.lastCommittedValue!==C&&(h.lastCommittedValue=C,h.userValue=C,(x=this.linkService.eventBus)==null||x.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:C,willCommit:!0,commitKey:S,selStart:v.target.selectionStart,selEnd:v.target.selectionEnd}}))});const m=g;g=null,r.addEventListener("blur",v=>{var C,x;if(!h.focused||!v.relatedTarget)return;(C=this.data.actions)!=null&&C.Blur||(h.focused=!1);const{value:S}=v.target;h.userValue=S,h.lastCommittedValue!==S&&((x=this.linkService.eventBus)==null||x.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:S,willCommit:!0,commitKey:h.commitKey,selStart:v.target.selectionStart,selEnd:v.target.selectionEnd}})),m(v)}),(i=this.data.actions)!=null&&i.Keystroke&&r.addEventListener("beforeinput",v=>{var $;h.lastCommittedValue=null;const{data:S,target:C}=v,{value:x,selectionStart:O,selectionEnd:M}=C;let P=O,k=M;switch(v.inputType){case"deleteWordBackward":{const D=x.substring(0,O).match(/\w*[^\w]*$/);D&&(P-=D[0].length);break}case"deleteWordForward":{const D=x.substring(O).match(/^[^\w]*\w*/);D&&(k+=D[0].length);break}case"deleteContentBackward":O===M&&(P-=1);break;case"deleteContentForward":O===M&&(k+=1);break}v.preventDefault(),($=this.linkService.eventBus)==null||$.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:x,change:S||"",willCommit:!1,selStart:P,selEnd:k}})}),this._setEventListeners(r,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],v=>v.target.value)}if(g&&r.addEventListener("blur",g),this.data.comb){const v=(this.data.rect[2]-this.data.rect[0])/c;r.classList.add("comb"),r.style.letterSpacing=`calc(${v}px * var(--total-scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Nve extends hm{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class Fve extends hm{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,n=this.data,r=n.id;let o=e.getValue(r,{value:n.exportValue===n.fieldValue}).value;typeof o=="string"&&(o=o!=="Off",e.setValue(r,{value:o})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const i=document.createElement("input");return em.add(i),i.setAttribute("data-element-id",r),i.disabled=n.readOnly,this._setRequired(i,this.data.required),i.type="checkbox",i.name=n.fieldName,o&&i.setAttribute("checked",!0),i.setAttribute("exportValue",n.exportValue),i.tabIndex=0,i.addEventListener("change",s=>{const{name:a,checked:c}=s.target;for(const d of this._getElementsByName(a,r)){const h=c&&d.exportValue===n.exportValue;d.domElement&&(d.domElement.checked=h),e.setValue(d.id,{value:h})}e.setValue(r,{value:c})}),i.addEventListener("resetform",s=>{const a=n.defaultFieldValue||"Off";s.target.checked=a===n.exportValue}),this.enableScripting&&this.hasJSActions&&(i.addEventListener("updatefromsandbox",s=>{const a={value(c){c.target.checked=c.detail.value!=="Off",e.setValue(r,{value:c.target.checked})}};this._dispatchEventFromSandbox(a,s)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],s=>s.target.checked)),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class n7 extends hm{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,n=this.data,r=n.id;let o=e.getValue(r,{value:n.fieldValue===n.buttonValue}).value;if(typeof o=="string"&&(o=o!==n.buttonValue,e.setValue(r,{value:o})),o)for(const s of this._getElementsByName(n.fieldName,r))e.setValue(s.id,{value:!1});const i=document.createElement("input");if(em.add(i),i.setAttribute("data-element-id",r),i.disabled=n.readOnly,this._setRequired(i,this.data.required),i.type="radio",i.name=n.fieldName,o&&i.setAttribute("checked",!0),i.tabIndex=0,i.addEventListener("change",s=>{const{name:a,checked:c}=s.target;for(const d of this._getElementsByName(a,r))e.setValue(d.id,{value:!1});e.setValue(r,{value:c})}),i.addEventListener("resetform",s=>{const a=n.defaultFieldValue;s.target.checked=a!=null&&a===n.buttonValue}),this.enableScripting&&this.hasJSActions){const s=n.buttonValue;i.addEventListener("updatefromsandbox",a=>{const c={value:d=>{const h=s===d.detail.value;for(const p of this._getElementsByName(d.target.name)){const g=h&&p.id===r;p.domElement&&(p.domElement.checked=g),e.setValue(p.id,{value:g})}}};this._dispatchEventFromSandbox(c,a)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class $ve extends J8{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const n=e.lastChild;return this.enableScripting&&this.hasJSActions&&n&&(this._setDefaultPropertiesFromJS(n),n.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class Vve extends hm{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,n=this.data.id,r=e.getValue(n,{value:this.data.fieldValue}),o=document.createElement("select");em.add(o),o.setAttribute("data-element-id",n),o.disabled=this.data.readOnly,this._setRequired(o,this.data.required),o.name=this.data.fieldName,o.tabIndex=0;let i=this.data.combo&&this.data.options.length>0;this.data.combo||(o.size=this.data.options.length,this.data.multiSelect&&(o.multiple=!0)),o.addEventListener("resetform",h=>{const p=this.data.defaultFieldValue;for(const g of o.options)g.selected=g.value===p});for(const h of this.data.options){const p=document.createElement("option");p.textContent=h.displayValue,p.value=h.exportValue,r.value.includes(h.exportValue)&&(p.setAttribute("selected",!0),i=!1),o.append(p)}let s=null;if(i){const h=document.createElement("option");h.value=" ",h.setAttribute("hidden",!0),h.setAttribute("selected",!0),o.prepend(h),s=()=>{h.remove(),o.removeEventListener("input",s),s=null},o.addEventListener("input",s)}const a=h=>{const p=h?"value":"textContent",{options:g,multiple:m}=o;return m?Array.prototype.filter.call(g,v=>v.selected).map(v=>v[p]):g.selectedIndex===-1?null:g[g.selectedIndex][p]};let c=a(!1);const d=h=>{const p=h.target.options;return Array.prototype.map.call(p,g=>({displayValue:g.textContent,exportValue:g.value}))};return this.enableScripting&&this.hasJSActions?(o.addEventListener("updatefromsandbox",h=>{const p={value(g){s==null||s();const m=g.detail.value,v=new Set(Array.isArray(m)?m:[m]);for(const S of o.options)S.selected=v.has(S.value);e.setValue(n,{value:a(!0)}),c=a(!1)},multipleSelection(g){o.multiple=!0},remove(g){const m=o.options,v=g.detail.remove;m[v].selected=!1,o.remove(v),m.length>0&&Array.prototype.findIndex.call(m,C=>C.selected)===-1&&(m[0].selected=!0),e.setValue(n,{value:a(!0),items:d(g)}),c=a(!1)},clear(g){for(;o.length!==0;)o.remove(0);e.setValue(n,{value:null,items:[]}),c=a(!1)},insert(g){const{index:m,displayValue:v,exportValue:S}=g.detail.insert,C=o.children[m],x=document.createElement("option");x.textContent=v,x.value=S,C?C.before(x):o.append(x),e.setValue(n,{value:a(!0),items:d(g)}),c=a(!1)},items(g){const{items:m}=g.detail;for(;o.length!==0;)o.remove(0);for(const v of m){const{displayValue:S,exportValue:C}=v,x=document.createElement("option");x.textContent=S,x.value=C,o.append(x)}o.options.length>0&&(o.options[0].selected=!0),e.setValue(n,{value:a(!0),items:d(g)}),c=a(!1)},indices(g){const m=new Set(g.detail.indices);for(const v of g.target.options)v.selected=m.has(v.index);e.setValue(n,{value:a(!0)}),c=a(!1)},editable(g){g.target.disabled=!g.detail.editable}};this._dispatchEventFromSandbox(p,h)}),o.addEventListener("input",h=>{var m;const p=a(!0),g=a(!1);e.setValue(n,{value:p}),h.preventDefault(),(m=this.linkService.eventBus)==null||m.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:c,change:g,changeEx:p,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(o,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],h=>h.target.value)):o.addEventListener("input",function(h){e.setValue(n,{value:a(!0)})}),this.data.combo&&this._setTextStyle(o),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class rD extends co{constructor(e){const{data:n,elements:r}=e;super(e,{isRenderable:co._hasPopupData(n)}),this.elements=r,this.popup=null}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const n=this.popup=new zve({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),r=[];for(const o of this.elements)o.popup=n,o.container.ariaHasPopup="dialog",r.push(o.data.id),o.addHighlightArea();return this.container.setAttribute("aria-controls",r.map(o=>`${iN}${o}`).join(",")),this.container}}var Cb,uA,dA,Eb,xb,Xr,Vu,cg,SC,CC,_b,zu,pl,Bu,EC,Hu,xC,ug,dg,ur,w_,oD,r7,o7,i7,s7,S_,C_,iD;class zve{constructor({container:e,color:n,elements:r,titleObj:o,modificationDate:i,contentsObj:s,richText:a,parent:c,rect:d,parentRect:h,open:p}){Q(this,ur);Q(this,Cb,J(this,ur,i7).bind(this));Q(this,uA,J(this,ur,iD).bind(this));Q(this,dA,J(this,ur,C_).bind(this));Q(this,Eb,J(this,ur,S_).bind(this));Q(this,xb,null);Q(this,Xr,null);Q(this,Vu,null);Q(this,cg,null);Q(this,SC,null);Q(this,CC,null);Q(this,_b,null);Q(this,zu,!1);Q(this,pl,null);Q(this,Bu,null);Q(this,EC,null);Q(this,Hu,null);Q(this,xC,null);Q(this,ug,null);Q(this,dg,!1);var g;G(this,Xr,e),G(this,xC,o),G(this,Vu,s),G(this,Hu,a),G(this,CC,c),G(this,xb,n),G(this,EC,d),G(this,_b,h),G(this,SC,r),G(this,cg,wI.toDateObject(i)),this.trigger=r.flatMap(m=>m.getElementsToTriggerPopup());for(const m of this.trigger)m.addEventListener("click",y(this,Eb)),m.addEventListener("mouseenter",y(this,dA)),m.addEventListener("mouseleave",y(this,uA)),m.classList.add("popupTriggerArea");for(const m of r)(g=m.container)==null||g.addEventListener("keydown",y(this,Cb));y(this,Xr).hidden=!0,p&&J(this,ur,S_).call(this)}render(){if(y(this,pl))return;const e=G(this,pl,document.createElement("div"));if(e.className="popup",y(this,xb)){const i=e.style.outlineColor=Rt.makeHexColor(...y(this,xb));e.style.backgroundColor=`color-mix(in srgb, ${i} 30%, white)`}const n=document.createElement("span");n.className="header";const r=document.createElement("h1");if(n.append(r),{dir:r.dir,str:r.textContent}=y(this,xC),e.append(n),y(this,cg)){const i=document.createElement("time");i.classList.add("popupDate"),i.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),i.setAttribute("data-l10n-args",JSON.stringify({dateObj:y(this,cg).valueOf()})),i.dateTime=y(this,cg).toISOString(),n.append(i)}const o=y(this,ur,w_);if(o)hN.render({xfaHtml:o,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const i=this._formatContents(y(this,Vu));e.append(i)}y(this,Xr).append(e)}_formatContents({str:e,dir:n}){const r=document.createElement("p");r.classList.add("popupContent"),r.dir=n;const o=e.split(/(?:\r\n?|\n)/);for(let i=0,s=o.length;i<s;++i){const a=o[i];r.append(document.createTextNode(a)),i<s-1&&r.append(document.createElement("br"))}return r}updateEdited({rect:e,popupContent:n}){var r;y(this,ug)||G(this,ug,{contentsObj:y(this,Vu),richText:y(this,Hu)}),e&&G(this,Bu,null),n&&(G(this,Hu,J(this,ur,o7).call(this,n)),G(this,Vu,null)),(r=y(this,pl))==null||r.remove(),G(this,pl,null)}resetEdited(){var e;y(this,ug)&&({contentsObj:Bi(this,Vu)._,richText:Bi(this,Hu)._}=y(this,ug),G(this,ug,null),(e=y(this,pl))==null||e.remove(),G(this,pl,null),G(this,Bu,null))}forceHide(){G(this,dg,this.isVisible),y(this,dg)&&(y(this,Xr).hidden=!0)}maybeShow(){y(this,dg)&&(y(this,pl)||J(this,ur,C_).call(this),G(this,dg,!1),y(this,Xr).hidden=!1)}get isVisible(){return y(this,Xr).hidden===!1}}Cb=new WeakMap,uA=new WeakMap,dA=new WeakMap,Eb=new WeakMap,xb=new WeakMap,Xr=new WeakMap,Vu=new WeakMap,cg=new WeakMap,SC=new WeakMap,CC=new WeakMap,_b=new WeakMap,zu=new WeakMap,pl=new WeakMap,Bu=new WeakMap,EC=new WeakMap,Hu=new WeakMap,xC=new WeakMap,ug=new WeakMap,dg=new WeakMap,ur=new WeakSet,w_=function(){const e=y(this,Hu),n=y(this,Vu);return e!=null&&e.str&&(!(n!=null&&n.str)||n.str===e.str)&&y(this,Hu).html||null},oD=function(){var e,n,r;return((r=(n=(e=y(this,ur,w_))==null?void 0:e.attributes)==null?void 0:n.style)==null?void 0:r.fontSize)||0},r7=function(){var e,n,r;return((r=(n=(e=y(this,ur,w_))==null?void 0:e.attributes)==null?void 0:n.style)==null?void 0:r.color)||null},o7=function(e){const n=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:n}]}},o={style:{color:y(this,ur,r7),fontSize:y(this,ur,oD)?`calc(${y(this,ur,oD)}px * var(--total-scale-factor))`:""}};for(const i of e.split(`
`))n.push({name:"span",value:i,attributes:o});return r},i7=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&y(this,zu))&&J(this,ur,S_).call(this)},s7=function(){if(y(this,Bu)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:r,pageX:o,pageY:i}}}=y(this,CC);let s=!!y(this,_b),a=s?y(this,_b):y(this,EC);for(const v of y(this,SC))if(!a||Rt.intersect(v.data.rect,a)!==null){a=v.data.rect,s=!0;break}const c=Rt.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),h=s?a[2]-a[0]+5:0,p=c[0]+h,g=c[1];G(this,Bu,[100*(p-o)/n,100*(g-i)/r]);const{style:m}=y(this,Xr);m.left=`${y(this,Bu)[0]}%`,m.top=`${y(this,Bu)[1]}%`},S_=function(){G(this,zu,!y(this,zu)),y(this,zu)?(J(this,ur,C_).call(this),y(this,Xr).addEventListener("click",y(this,Eb)),y(this,Xr).addEventListener("keydown",y(this,Cb))):(J(this,ur,iD).call(this),y(this,Xr).removeEventListener("click",y(this,Eb)),y(this,Xr).removeEventListener("keydown",y(this,Cb)))},C_=function(){y(this,pl)||this.render(),this.isVisible?y(this,zu)&&y(this,Xr).classList.add("focused"):(J(this,ur,s7).call(this),y(this,Xr).hidden=!1,y(this,Xr).style.zIndex=parseInt(y(this,Xr).style.zIndex)+1e3)},iD=function(){y(this,Xr).classList.remove("focused"),!(y(this,zu)||!this.isVisible)&&(y(this,Xr).hidden=!0,y(this,Xr).style.zIndex=parseInt(y(this,Xr).style.zIndex)-1e3)};class a7 extends co{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=qt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const n of this.textContent){const r=document.createElement("span");r.textContent=n,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var _C;class Bve extends co{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});Q(this,_C,null)}render(){this.container.classList.add("lineAnnotation");const{data:n,width:r,height:o}=this,i=this.svgFactory.create(r,o,!0),s=G(this,_C,this.svgFactory.createElement("svg:line"));return s.setAttribute("x1",n.rect[2]-n.lineCoordinates[0]),s.setAttribute("y1",n.rect[3]-n.lineCoordinates[1]),s.setAttribute("x2",n.rect[2]-n.lineCoordinates[2]),s.setAttribute("y2",n.rect[3]-n.lineCoordinates[3]),s.setAttribute("stroke-width",n.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),i.append(s),this.container.append(i),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return y(this,_C)}addHighlightArea(){this.container.classList.add("highlightArea")}}_C=new WeakMap;var TC;class Hve extends co{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});Q(this,TC,null)}render(){this.container.classList.add("squareAnnotation");const{data:n,width:r,height:o}=this,i=this.svgFactory.create(r,o,!0),s=n.borderStyle.width,a=G(this,TC,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",s/2),a.setAttribute("y",s/2),a.setAttribute("width",r-s),a.setAttribute("height",o-s),a.setAttribute("stroke-width",s||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return y(this,TC)}addHighlightArea(){this.container.classList.add("highlightArea")}}TC=new WeakMap;var AC;class jve extends co{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});Q(this,AC,null)}render(){this.container.classList.add("circleAnnotation");const{data:n,width:r,height:o}=this,i=this.svgFactory.create(r,o,!0),s=n.borderStyle.width,a=G(this,AC,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",r/2),a.setAttribute("cy",o/2),a.setAttribute("rx",r/2-s/2),a.setAttribute("ry",o/2-s/2),a.setAttribute("stroke-width",s||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return y(this,AC)}addHighlightArea(){this.container.classList.add("highlightArea")}}AC=new WeakMap;var IC;class l7 extends co{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});Q(this,IC,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,vertices:r,borderStyle:o,popupRef:i},width:s,height:a}=this;if(!r)return this.container;const c=this.svgFactory.create(s,a,!0);let d=[];for(let p=0,g=r.length;p<g;p+=2){const m=r[p]-n[0],v=n[3]-r[p+1];d.push(`${m},${v}`)}d=d.join(" ");const h=G(this,IC,this.svgFactory.createElement(this.svgElementName));return h.setAttribute("points",d),h.setAttribute("stroke-width",o.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),c.append(h),this.container.append(c),!i&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return y(this,IC)}addHighlightArea(){this.container.classList.add("highlightArea")}}IC=new WeakMap;class Uve extends l7{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Gve extends co{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var RC,hg,PC,sD;class fN extends co{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});Q(this,PC);Q(this,RC,null);Q(this,hg,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?qt.HIGHLIGHT:qt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,rotation:r,inkLists:o,borderStyle:i,popupRef:s}}=this,{transform:a,width:c,height:d}=J(this,PC,sD).call(this,r,n),h=this.svgFactory.create(c,d,!0),p=G(this,RC,this.svgFactory.createElement("svg:g"));h.append(p),p.setAttribute("stroke-width",i.width||1),p.setAttribute("stroke-linecap","round"),p.setAttribute("stroke-linejoin","round"),p.setAttribute("stroke-miterlimit",10),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),p.setAttribute("transform",a);for(let g=0,m=o.length;g<m;g++){const v=this.svgFactory.createElement(this.svgElementName);y(this,hg).push(v),v.setAttribute("points",o[g].join(",")),p.append(v)}return!s&&this.hasPopupData&&this._createPopup(),this.container.append(h),this._editOnDoubleClick(),this.container}updateEdited(n){super.updateEdited(n);const{thickness:r,points:o,rect:i}=n,s=y(this,RC);if(r>=0&&s.setAttribute("stroke-width",r||1),o)for(let a=0,c=y(this,hg).length;a<c;a++)y(this,hg)[a].setAttribute("points",o[a].join(","));if(i){const{transform:a,width:c,height:d}=J(this,PC,sD).call(this,this.data.rotation,i);s.parentElement.setAttribute("viewBox",`0 0 ${c} ${d}`),s.setAttribute("transform",a)}}getElementsToTriggerPopup(){return y(this,hg)}addHighlightArea(){this.container.classList.add("highlightArea")}}RC=new WeakMap,hg=new WeakMap,PC=new WeakSet,sD=function(n,r){switch(n){case 90:return{transform:`rotate(90) translate(${-r[0]},${r[1]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};case 180:return{transform:`rotate(180) translate(${-r[2]},${r[1]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]};case 270:return{transform:`rotate(270) translate(${-r[2]},${r[3]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};default:return{transform:`translate(${-r[0]},${r[3]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]}}};class c7 extends co{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=qt.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const r=document.createElement("mark");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class Wve extends co{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class qve extends co{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class Kve extends co{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const r=document.createElement("s");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class u7 extends co{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=qt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var MC,kC,aD;class Yve extends co{constructor(n){var o;super(n,{isRenderable:!0});Q(this,kC);Q(this,MC,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(o=this.linkService.eventBus)==null||o.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:n,data:r}=this;let o;r.hasAppearance||r.fillAlpha===0?o=document.createElement("div"):(o=document.createElement("img"),o.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(o.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),o.addEventListener("dblclick",J(this,kC,aD).bind(this)),G(this,MC,o);const{isMac:i}=ei.platform;return n.addEventListener("keydown",s=>{s.key==="Enter"&&(i?s.metaKey:s.ctrlKey)&&J(this,kC,aD).call(this)}),!r.popupRef&&this.hasPopupData?this._createPopup():o.classList.add("popupTriggerArea"),n.append(o),n}getElementsToTriggerPopup(){return y(this,MC)}addHighlightArea(){this.container.classList.add("highlightArea")}}MC=new WeakMap,kC=new WeakSet,aD=function(){var n;(n=this.downloadManager)==null||n.openOrDownloadData(this.content,this.filename)};var OC,fg,Lh,DC,Ef,lD,cD,Tb;let pN=(Tb=class{constructor({div:e,accessibilityManager:n,annotationCanvasMap:r,annotationEditorUIManager:o,page:i,viewport:s,structTreeLayer:a}){Q(this,Ef);Q(this,OC,null);Q(this,fg,null);Q(this,Lh,new Map);Q(this,DC,null);this.div=e,G(this,OC,n),G(this,fg,r),G(this,DC,a||null),this.page=i,this.viewport=s,this.zIndex=0,this._annotationEditorUIManager=o}hasEditableAnnotations(){return y(this,Lh).size>0}async render(e){var s;const{annotations:n}=e,r=this.div;bf(r,this.viewport);const o=new Map,i={data:null,layer:r,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new vS,annotationStorage:e.annotationStorage||new aN,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const a of n){if(a.noHTML)continue;const c=a.annotationType===ro.POPUP;if(c){const p=o.get(a.id);if(!p)continue;i.elements=p}else if(a.rect[2]===a.rect[0]||a.rect[3]===a.rect[1])continue;i.data=a;const d=p4.create(i);if(!d.isRenderable)continue;if(!c&&a.popupRef){const p=o.get(a.popupRef);p?p.push(d):o.set(a.popupRef,[d])}const h=d.render();a.hidden&&(h.style.visibility="hidden"),await J(this,Ef,lD).call(this,h,a.id,i.elements),d._isEditable&&(y(this,Lh).set(d.data.id,d),(s=this._annotationEditorUIManager)==null||s.renderAnnotationElement(d))}J(this,Ef,cD).call(this)}async addLinkAnnotations(e,n){const r={data:null,layer:this.div,linkService:n,svgFactory:new vS,parent:this};for(const o of e){o.borderStyle||(o.borderStyle=Tb._defaultBorderStyle),r.data=o;const i=p4.create(r);if(!i.isRenderable)continue;const s=i.render();await J(this,Ef,lD).call(this,s,o.id,null)}}update({viewport:e}){const n=this.div;this.viewport=e,bf(n,{rotation:e.rotation}),J(this,Ef,cD).call(this),n.hidden=!1}getEditableAnnotations(){return Array.from(y(this,Lh).values())}getEditableAnnotation(e){return y(this,Lh).get(e)}static get _defaultBorderStyle(){return pn(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:my.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}},OC=new WeakMap,fg=new WeakMap,Lh=new WeakMap,DC=new WeakMap,Ef=new WeakSet,lD=async function(e,n,r){var a,c;const o=e.firstChild||e,i=o.id=`${iN}${n}`,s=await((a=y(this,DC))==null?void 0:a.getAriaAttributes(i));if(s)for(const[d,h]of s)o.setAttribute(d,h);r?r.at(-1).container.after(e):(this.div.append(e),(c=y(this,OC))==null||c.moveElementInDOM(this.div,e,o,!1))},cD=function(){var n;if(!y(this,fg))return;const e=this.div;for(const[r,o]of y(this,fg)){const i=e.querySelector(`[data-annotation-id="${r}"]`);if(!i)continue;o.className="annotationContent";const{firstChild:s}=i;s?s.nodeName==="CANVAS"?s.replaceWith(o):s.classList.contains("annotationContent")?s.after(o):s.before(o):i.append(o);const a=y(this,Lh).get(r);a&&(a._hasNoCanvas?((n=this._annotationEditorUIManager)==null||n.setMissingCanvas(r,i.id,o),a._hasNoCanvas=!1):a.canvas=o)}y(this,fg).clear()},Tb);const D1=/\r\n?|\n/g;var gl,Ns,LC,pg,Fs,wo,d7,h7,f7,E_,ld,x_,__,p7,dD,g7;const br=class br extends wr{constructor(n){super({...n,name:"freeTextEditor"});Q(this,wo);Q(this,gl);Q(this,Ns,"");Q(this,LC,`${this.id}-editor`);Q(this,pg,null);Q(this,Fs);G(this,gl,n.color||br._defaultColor||wr._defaultLineColor),G(this,Fs,n.fontSize||br._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static get _keyboardManager(){const n=br.prototype,r=s=>s.isEmpty(),o=vf.TRANSLATE_SMALL,i=vf.TRANSLATE_BIG;return pn(this,"_keyboardManager",new OE([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],n.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],n.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],n._translateEmpty,{args:[-o,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],n._translateEmpty,{args:[-i,0],checker:r}],[["ArrowRight","mac+ArrowRight"],n._translateEmpty,{args:[o,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],n._translateEmpty,{args:[i,0],checker:r}],[["ArrowUp","mac+ArrowUp"],n._translateEmpty,{args:[0,-o],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],n._translateEmpty,{args:[0,-i],checker:r}],[["ArrowDown","mac+ArrowDown"],n._translateEmpty,{args:[0,o],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],n._translateEmpty,{args:[0,i],checker:r}]]))}static initialize(n,r){wr.initialize(n,r);const o=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(o.getPropertyValue("--freetext-padding"))}static updateDefaultParams(n,r){switch(n){case bn.FREETEXT_SIZE:br._defaultFontSize=r;break;case bn.FREETEXT_COLOR:br._defaultColor=r;break}}updateParams(n,r){switch(n){case bn.FREETEXT_SIZE:J(this,wo,d7).call(this,r);break;case bn.FREETEXT_COLOR:J(this,wo,h7).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[bn.FREETEXT_SIZE,br._defaultFontSize],[bn.FREETEXT_COLOR,br._defaultColor||wr._defaultLineColor]]}get propertiesToUpdate(){return[[bn.FREETEXT_SIZE,y(this,Fs)],[bn.FREETEXT_COLOR,y(this,gl)]]}_translateEmpty(n,r){this._uiManager.translateSelectedEditors(n,r,!0)}getInitialTranslation(){const n=this.parentScale;return[-br._internalPadding*n,-(br._internalPadding+y(this,Fs))*n]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),G(this,pg,new AbortController);const n=this._uiManager.combinedSignal(y(this,pg));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:n}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:n}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:n}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:n}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:n}),!0}disableEditMode(){var n;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",y(this,LC)),this._isDraggable=!0,(n=y(this,pg))==null||n.abort(),G(this,pg,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(n){this._focusEventsAllowed&&(super.focusin(n),n.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(n){var r;this.width||(this.enableEditMode(),n&&this.editorDiv.focus(),(r=this._initialOptions)!=null&&r.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const n=y(this,Ns),r=G(this,Ns,J(this,wo,f7).call(this).trimEnd());if(n===r)return;const o=i=>{if(G(this,Ns,i),!i){this.remove();return}J(this,wo,__).call(this),this._uiManager.rebuild(this),J(this,wo,E_).call(this)};this.addCommands({cmd:()=>{o(r)},undo:()=>{o(n)},mustExec:!1}),J(this,wo,E_).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(n){n.target===this.div&&n.key==="Enter"&&(this.enterInEditMode(),n.preventDefault())}editorDivKeydown(n){br._keyboardManager.exec(this,n)}editorDivFocus(n){this.isEditing=!0}editorDivBlur(n){this.isEditing=!1}editorDivInput(n){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let n,r;(this._isCopy||this.annotationElementId)&&(n=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",y(this,LC)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:o}=this.editorDiv;if(o.fontSize=`calc(${y(this,Fs)}px * var(--total-scale-factor))`,o.color=y(this,gl),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[i,s]=this.parentDimensions;if(this.annotationElementId){const{position:a}=this._initialData;let[c,d]=this.getInitialTranslation();[c,d]=this.pageTranslationToScreen(c,d);const[h,p]=this.pageDimensions,[g,m]=this.pageTranslation;let v,S;switch(this.rotation){case 0:v=n+(a[0]-g)/h,S=r+this.height-(a[1]-m)/p;break;case 90:v=n+(a[0]-g)/h,S=r-(a[1]-m)/p,[c,d]=[d,-c];break;case 180:v=n-this.width+(a[0]-g)/h,S=r-(a[1]-m)/p,[c,d]=[-c,-d];break;case 270:v=n+(a[0]-g-this.height*p)/h,S=r+(a[1]-m-this.width*h)/p,[c,d]=[-d,c];break}this.setAt(v*i,S*s,c,d)}else this._moveAfterPaste(n,r);J(this,wo,__).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(n){var v,S,C;const r=n.clipboardData||window.clipboardData,{types:o}=r;if(o.length===1&&o[0]==="text/plain")return;n.preventDefault();const i=J(v=br,ld,dD).call(v,r.getData("text")||"").replaceAll(D1,`
`);if(!i)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const a=s.getRangeAt(0);if(!i.includes(`
`)){a.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),s.collapseToStart();return}const{startContainer:c,startOffset:d}=a,h=[],p=[];if(c.nodeType===Node.TEXT_NODE){const x=c.parentElement;if(p.push(c.nodeValue.slice(d).replaceAll(D1,"")),x!==this.editorDiv){let O=h;for(const M of this.editorDiv.childNodes){if(M===x){O=p;continue}O.push(J(S=br,ld,x_).call(S,M))}}h.push(c.nodeValue.slice(0,d).replaceAll(D1,""))}else if(c===this.editorDiv){let x=h,O=0;for(const M of this.editorDiv.childNodes)O++===d&&(x=p),x.push(J(C=br,ld,x_).call(C,M))}G(this,Ns,`${h.join(`
`)}${i}${p.join(`
`)}`),J(this,wo,__).call(this);const g=new Range;let m=Math.sumPrecise(h.map(x=>x.length));for(const{firstChild:x}of this.editorDiv.childNodes)if(x.nodeType===Node.TEXT_NODE){const O=x.nodeValue.length;if(m<=O){g.setStart(x,m),g.setEnd(x,m);break}m-=O}s.removeAllRanges(),s.addRange(g)}get contentDiv(){return this.editorDiv}static async deserialize(n,r,o){var a;let i=null;if(n instanceof a7){const{data:{defaultAppearanceData:{fontSize:c,fontColor:d},rect:h,rotation:p,id:g,popupRef:m},textContent:v,textPosition:S,parent:{page:{pageNumber:C}}}=n;if(!v||v.length===0)return null;i=n={annotationType:qt.FREETEXT,color:Array.from(d),fontSize:c,value:v.join(`
`),position:S,pageIndex:C-1,rect:h.slice(0),rotation:p,annotationElementId:g,id:g,deleted:!1,popupRef:m}}const s=await super.deserialize(n,r,o);return G(s,Fs,n.fontSize),G(s,gl,Rt.makeHexColor(...n.color)),G(s,Ns,J(a=br,ld,dD).call(a,n.value)),s._initialData=i,s}serialize(n=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=br._internalPadding*this.parentScale,o=this.getRect(r,r),i=wr._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:y(this,gl)),s={annotationType:qt.FREETEXT,color:i,fontSize:y(this,Fs),value:J(this,wo,p7).call(this),pageIndex:this.pageIndex,rect:o,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return n?(s.isCopy=!0,s):this.annotationElementId&&!J(this,wo,g7).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(n){const r=super.renderAnnotationElement(n);if(this.deleted)return r;const{style:o}=r;o.fontSize=`calc(${y(this,Fs)}px * var(--total-scale-factor))`,o.color=y(this,gl),r.replaceChildren();for(const s of y(this,Ns).split(`
`)){const a=document.createElement("div");a.append(s?document.createTextNode(s):document.createElement("br")),r.append(a)}const i=br._internalPadding*this.parentScale;return n.updateEdited({rect:this.getRect(i,i),popupContent:y(this,Ns)}),r}resetAnnotationElement(n){super.resetAnnotationElement(n),n.resetEdited()}};gl=new WeakMap,Ns=new WeakMap,LC=new WeakMap,pg=new WeakMap,Fs=new WeakMap,wo=new WeakSet,d7=function(n){const r=i=>{this.editorDiv.style.fontSize=`calc(${i}px * var(--total-scale-factor))`,this.translate(0,-(i-y(this,Fs))*this.parentScale),G(this,Fs,i),J(this,wo,E_).call(this)},o=y(this,Fs);this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:bn.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},h7=function(n){const r=i=>{G(this,gl,this.editorDiv.style.color=i)},o=y(this,gl);this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:bn.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},f7=function(){var o;const n=[];this.editorDiv.normalize();let r=null;for(const i of this.editorDiv.childNodes)(r==null?void 0:r.nodeType)===Node.TEXT_NODE&&i.nodeName==="BR"||(n.push(J(o=br,ld,x_).call(o,i)),r=i);return n.join(`
`)},E_=function(){const[n,r]=this.parentDimensions;let o;if(this.isAttachedToDOM)o=this.div.getBoundingClientRect();else{const{currentLayer:i,div:s}=this,a=s.style.display,c=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",i.div.append(this.div),o=s.getBoundingClientRect(),s.remove(),s.style.display=a,s.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=o.width/n,this.height=o.height/r):(this.width=o.height/n,this.height=o.width/r),this.fixAndSetPosition()},ld=new WeakSet,x_=function(n){return(n.nodeType===Node.TEXT_NODE?n.nodeValue:n.innerText).replaceAll(D1,"")},__=function(){if(this.editorDiv.replaceChildren(),!!y(this,Ns))for(const n of y(this,Ns).split(`
`)){const r=document.createElement("div");r.append(n?document.createTextNode(n):document.createElement("br")),this.editorDiv.append(r)}},p7=function(){return y(this,Ns).replaceAll(""," ")},dD=function(n){return n.replaceAll(" ","")},g7=function(n){const{value:r,fontSize:o,color:i,pageIndex:s}=this._initialData;return this._hasBeenMoved||n.value!==r||n.fontSize!==o||n.color.some((a,c)=>a!==i[c])||n.pageIndex!==s},Q(br,ld),je(br,"_freeTextDefaultContent",""),je(br,"_internalPadding",0),je(br,"_defaultColor",null),je(br,"_defaultFontSize",10),je(br,"_type","freetext"),je(br,"_editorType",qt.FREETEXT);let uD=br;class yt{toSVGPath(){cr("Abstract method `toSVGPath` must be implemented.")}get box(){cr("Abstract getter `box` must be implemented.")}serialize(e,n){cr("Abstract method `serialize` must be implemented.")}static _rescale(e,n,r,o,i,s){s||(s=new Float32Array(e.length));for(let a=0,c=e.length;a<c;a+=2)s[a]=n+e[a]*o,s[a+1]=r+e[a+1]*i;return s}static _rescaleAndSwap(e,n,r,o,i,s){s||(s=new Float32Array(e.length));for(let a=0,c=e.length;a<c;a+=2)s[a]=n+e[a+1]*o,s[a+1]=r+e[a]*i;return s}static _translate(e,n,r,o){o||(o=new Float32Array(e.length));for(let i=0,s=e.length;i<s;i+=2)o[i]=n+e[i],o[i+1]=r+e[i+1];return o}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,n,r,o,i){switch(i){case 90:return[1-n/r,e/o];case 180:return[1-e/r,1-n/o];case 270:return[n/r,1-e/o];default:return[e/r,n/o]}}static _normalizePagePoint(e,n,r){switch(r){case 90:return[1-n,e];case 180:return[1-e,1-n];case 270:return[n,1-e];default:return[e,n]}}static createBezierPoints(e,n,r,o,i,s){return[(e+5*r)/6,(n+5*o)/6,(5*r+i)/6,(5*o+s)/6,(r+i)/2,(o+s)/2]}}je(yt,"PRECISION",1e-4);var $s,ml,Ab,Ib,pc,cn,gg,mg,NC,FC,Rb,Pb,Nh,$C,hA,fA,Oo,E0,m7,y7,b7,v7,w7,S7;const Su=class Su{constructor({x:e,y:n},r,o,i,s,a=0){Q(this,Oo);Q(this,$s);Q(this,ml,[]);Q(this,Ab);Q(this,Ib);Q(this,pc,[]);Q(this,cn,new Float32Array(18));Q(this,gg);Q(this,mg);Q(this,NC);Q(this,FC);Q(this,Rb);Q(this,Pb);Q(this,Nh,[]);G(this,$s,r),G(this,Pb,i*o),G(this,Ib,s),y(this,cn).set([NaN,NaN,NaN,NaN,e,n],6),G(this,Ab,a),G(this,FC,y(Su,$C)*o),G(this,NC,y(Su,fA)*o),G(this,Rb,o),y(this,Nh).push(e,n)}isEmpty(){return isNaN(y(this,cn)[8])}add({x:e,y:n}){var A;G(this,gg,e),G(this,mg,n);const[r,o,i,s]=y(this,$s);let[a,c,d,h]=y(this,cn).subarray(8,12);const p=e-d,g=n-h,m=Math.hypot(p,g);if(m<y(this,NC))return!1;const v=m-y(this,FC),S=v/m,C=S*p,x=S*g;let O=a,M=c;a=d,c=h,d+=C,h+=x,(A=y(this,Nh))==null||A.push(e,n);const P=-x/v,k=C/v,$=P*y(this,Pb),D=k*y(this,Pb);return y(this,cn).set(y(this,cn).subarray(2,8),0),y(this,cn).set([d+$,h+D],4),y(this,cn).set(y(this,cn).subarray(14,18),12),y(this,cn).set([d-$,h-D],16),isNaN(y(this,cn)[6])?(y(this,pc).length===0&&(y(this,cn).set([a+$,c+D],2),y(this,pc).push(NaN,NaN,NaN,NaN,(a+$-r)/i,(c+D-o)/s),y(this,cn).set([a-$,c-D],14),y(this,ml).push(NaN,NaN,NaN,NaN,(a-$-r)/i,(c-D-o)/s)),y(this,cn).set([O,M,a,c,d,h],6),!this.isEmpty()):(y(this,cn).set([O,M,a,c,d,h],6),Math.abs(Math.atan2(M-c,O-a)-Math.atan2(x,C))<Math.PI/2?([a,c,d,h]=y(this,cn).subarray(2,6),y(this,pc).push(NaN,NaN,NaN,NaN,((a+d)/2-r)/i,((c+h)/2-o)/s),[a,c,O,M]=y(this,cn).subarray(14,18),y(this,ml).push(NaN,NaN,NaN,NaN,((O+a)/2-r)/i,((M+c)/2-o)/s),!0):([O,M,a,c,d,h]=y(this,cn).subarray(0,6),y(this,pc).push(((O+5*a)/6-r)/i,((M+5*c)/6-o)/s,((5*a+d)/6-r)/i,((5*c+h)/6-o)/s,((a+d)/2-r)/i,((c+h)/2-o)/s),[d,h,a,c,O,M]=y(this,cn).subarray(12,18),y(this,ml).push(((O+5*a)/6-r)/i,((M+5*c)/6-o)/s,((5*a+d)/6-r)/i,((5*c+h)/6-o)/s,((a+d)/2-r)/i,((c+h)/2-o)/s),!0))}toSVGPath(){if(this.isEmpty())return"";const e=y(this,pc),n=y(this,ml);if(isNaN(y(this,cn)[6])&&!this.isEmpty())return J(this,Oo,m7).call(this);const r=[];r.push(`M${e[4]} ${e[5]}`);for(let o=6;o<e.length;o+=6)isNaN(e[o])?r.push(`L${e[o+4]} ${e[o+5]}`):r.push(`C${e[o]} ${e[o+1]} ${e[o+2]} ${e[o+3]} ${e[o+4]} ${e[o+5]}`);J(this,Oo,b7).call(this,r);for(let o=n.length-6;o>=6;o-=6)isNaN(n[o])?r.push(`L${n[o+4]} ${n[o+5]}`):r.push(`C${n[o]} ${n[o+1]} ${n[o+2]} ${n[o+3]} ${n[o+4]} ${n[o+5]}`);return J(this,Oo,y7).call(this,r),r.join(" ")}newFreeDrawOutline(e,n,r,o,i,s){return new C7(e,n,r,o,i,s)}getOutlines(){var p;const e=y(this,pc),n=y(this,ml),r=y(this,cn),[o,i,s,a]=y(this,$s),c=new Float32Array((((p=y(this,Nh))==null?void 0:p.length)??0)+2);for(let g=0,m=c.length-2;g<m;g+=2)c[g]=(y(this,Nh)[g]-o)/s,c[g+1]=(y(this,Nh)[g+1]-i)/a;if(c[c.length-2]=(y(this,gg)-o)/s,c[c.length-1]=(y(this,mg)-i)/a,isNaN(r[6])&&!this.isEmpty())return J(this,Oo,v7).call(this,c);const d=new Float32Array(y(this,pc).length+24+y(this,ml).length);let h=e.length;for(let g=0;g<h;g+=2){if(isNaN(e[g])){d[g]=d[g+1]=NaN;continue}d[g]=e[g],d[g+1]=e[g+1]}h=J(this,Oo,S7).call(this,d,h);for(let g=n.length-6;g>=6;g-=6)for(let m=0;m<6;m+=2){if(isNaN(n[g+m])){d[h]=d[h+1]=NaN,h+=2;continue}d[h]=n[g+m],d[h+1]=n[g+m+1],h+=2}return J(this,Oo,w7).call(this,d,h),this.newFreeDrawOutline(d,c,y(this,$s),y(this,Rb),y(this,Ab),y(this,Ib))}};$s=new WeakMap,ml=new WeakMap,Ab=new WeakMap,Ib=new WeakMap,pc=new WeakMap,cn=new WeakMap,gg=new WeakMap,mg=new WeakMap,NC=new WeakMap,FC=new WeakMap,Rb=new WeakMap,Pb=new WeakMap,Nh=new WeakMap,$C=new WeakMap,hA=new WeakMap,fA=new WeakMap,Oo=new WeakSet,E0=function(){const e=y(this,cn).subarray(4,6),n=y(this,cn).subarray(16,18),[r,o,i,s]=y(this,$s);return[(y(this,gg)+(e[0]-n[0])/2-r)/i,(y(this,mg)+(e[1]-n[1])/2-o)/s,(y(this,gg)+(n[0]-e[0])/2-r)/i,(y(this,mg)+(n[1]-e[1])/2-o)/s]},m7=function(){const[e,n,r,o]=y(this,$s),[i,s,a,c]=J(this,Oo,E0).call(this);return`M${(y(this,cn)[2]-e)/r} ${(y(this,cn)[3]-n)/o} L${(y(this,cn)[4]-e)/r} ${(y(this,cn)[5]-n)/o} L${i} ${s} L${a} ${c} L${(y(this,cn)[16]-e)/r} ${(y(this,cn)[17]-n)/o} L${(y(this,cn)[14]-e)/r} ${(y(this,cn)[15]-n)/o} Z`},y7=function(e){const n=y(this,ml);e.push(`L${n[4]} ${n[5]} Z`)},b7=function(e){const[n,r,o,i]=y(this,$s),s=y(this,cn).subarray(4,6),a=y(this,cn).subarray(16,18),[c,d,h,p]=J(this,Oo,E0).call(this);e.push(`L${(s[0]-n)/o} ${(s[1]-r)/i} L${c} ${d} L${h} ${p} L${(a[0]-n)/o} ${(a[1]-r)/i}`)},v7=function(e){const n=y(this,cn),[r,o,i,s]=y(this,$s),[a,c,d,h]=J(this,Oo,E0).call(this),p=new Float32Array(36);return p.set([NaN,NaN,NaN,NaN,(n[2]-r)/i,(n[3]-o)/s,NaN,NaN,NaN,NaN,(n[4]-r)/i,(n[5]-o)/s,NaN,NaN,NaN,NaN,a,c,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,(n[16]-r)/i,(n[17]-o)/s,NaN,NaN,NaN,NaN,(n[14]-r)/i,(n[15]-o)/s],0),this.newFreeDrawOutline(p,e,y(this,$s),y(this,Rb),y(this,Ab),y(this,Ib))},w7=function(e,n){const r=y(this,ml);return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],n),n+=6},S7=function(e,n){const r=y(this,cn).subarray(4,6),o=y(this,cn).subarray(16,18),[i,s,a,c]=y(this,$s),[d,h,p,g]=J(this,Oo,E0).call(this);return e.set([NaN,NaN,NaN,NaN,(r[0]-i)/a,(r[1]-s)/c,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(o[0]-i)/a,(o[1]-s)/c],n),n+=24},Q(Su,$C,8),Q(Su,hA,2),Q(Su,fA,y(Su,$C)+y(Su,hA));let LT=Su;var Mb,yg,ju,VC,Vs,zC,io,pA,E7;class C7 extends yt{constructor(n,r,o,i,s,a){super();Q(this,pA);Q(this,Mb);Q(this,yg,new Float32Array(4));Q(this,ju);Q(this,VC);Q(this,Vs);Q(this,zC);Q(this,io);G(this,io,n),G(this,Vs,r),G(this,Mb,o),G(this,zC,i),G(this,ju,s),G(this,VC,a),this.lastPoint=[NaN,NaN],J(this,pA,E7).call(this,a);const[c,d,h,p]=y(this,yg);for(let g=0,m=n.length;g<m;g+=2)n[g]=(n[g]-c)/h,n[g+1]=(n[g+1]-d)/p;for(let g=0,m=r.length;g<m;g+=2)r[g]=(r[g]-c)/h,r[g+1]=(r[g+1]-d)/p}toSVGPath(){const n=[`M${y(this,io)[4]} ${y(this,io)[5]}`];for(let r=6,o=y(this,io).length;r<o;r+=6){if(isNaN(y(this,io)[r])){n.push(`L${y(this,io)[r+4]} ${y(this,io)[r+5]}`);continue}n.push(`C${y(this,io)[r]} ${y(this,io)[r+1]} ${y(this,io)[r+2]} ${y(this,io)[r+3]} ${y(this,io)[r+4]} ${y(this,io)[r+5]}`)}return n.push("Z"),n.join(" ")}serialize([n,r,o,i],s){const a=o-n,c=i-r;let d,h;switch(s){case 0:d=yt._rescale(y(this,io),n,i,a,-c),h=yt._rescale(y(this,Vs),n,i,a,-c);break;case 90:d=yt._rescaleAndSwap(y(this,io),n,r,a,c),h=yt._rescaleAndSwap(y(this,Vs),n,r,a,c);break;case 180:d=yt._rescale(y(this,io),o,r,-a,c),h=yt._rescale(y(this,Vs),o,r,-a,c);break;case 270:d=yt._rescaleAndSwap(y(this,io),o,i,-a,-c),h=yt._rescaleAndSwap(y(this,Vs),o,i,-a,-c);break}return{outline:Array.from(d),points:[Array.from(h)]}}get box(){return y(this,yg)}newOutliner(n,r,o,i,s,a=0){return new LT(n,r,o,i,s,a)}getNewOutline(n,r){const[o,i,s,a]=y(this,yg),[c,d,h,p]=y(this,Mb),g=s*h,m=a*p,v=o*h+c,S=i*p+d,C=this.newOutliner({x:y(this,Vs)[0]*g+v,y:y(this,Vs)[1]*m+S},y(this,Mb),y(this,zC),n,y(this,VC),r??y(this,ju));for(let x=2;x<y(this,Vs).length;x+=2)C.add({x:y(this,Vs)[x]*g+v,y:y(this,Vs)[x+1]*m+S});return C.getOutlines()}}Mb=new WeakMap,yg=new WeakMap,ju=new WeakMap,VC=new WeakMap,Vs=new WeakMap,zC=new WeakMap,io=new WeakMap,pA=new WeakSet,E7=function(n){const r=y(this,io);let o=r[4],i=r[5];const s=[o,i,o,i];let a=o,c=i;const d=n?Math.max:Math.min;for(let p=6,g=r.length;p<g;p+=6){const m=r[p+4],v=r[p+5];if(isNaN(r[p]))Rt.pointBoundingBox(m,v,s),c<v?(a=m,c=v):c===v&&(a=d(a,m));else{const S=[1/0,1/0,-1/0,-1/0];Rt.bezierBoundingBox(o,i,...r.slice(p,p+6),S),Rt.rectBoundingBox(...S,s),c<S[3]?(a=S[2],c=S[3]):c===S[3]&&(a=d(a,S[2]))}o=m,i=v}const h=y(this,yg);h[0]=s[0]-y(this,ju),h[1]=s[1]-y(this,ju),h[2]=s[2]-s[0]+2*y(this,ju),h[3]=s[3]-s[1]+2*y(this,ju),this.lastPoint=[a,c]};var BC,HC,Fh,yl,Ji,x7,T_,_7,T7,fD;class hD{constructor(e,n=0,r=0,o=!0){Q(this,Ji);Q(this,BC);Q(this,HC);Q(this,Fh,[]);Q(this,yl,[]);const i=[1/0,1/0,-1/0,-1/0],s=10**-4;for(const{x:m,y:v,width:S,height:C}of e){const x=Math.floor((m-n)/s)*s,O=Math.ceil((m+S+n)/s)*s,M=Math.floor((v-n)/s)*s,P=Math.ceil((v+C+n)/s)*s,k=[x,M,P,!0],$=[O,M,P,!1];y(this,Fh).push(k,$),Rt.rectBoundingBox(x,M,O,P,i)}const a=i[2]-i[0]+2*r,c=i[3]-i[1]+2*r,d=i[0]-r,h=i[1]-r,p=y(this,Fh).at(o?-1:-2),g=[p[0],p[2]];for(const m of y(this,Fh)){const[v,S,C]=m;m[0]=(v-d)/a,m[1]=(S-h)/c,m[2]=(C-h)/c}G(this,BC,new Float32Array([d,h,a,c])),G(this,HC,g)}getOutlines(){y(this,Fh).sort((n,r)=>n[0]-r[0]||n[1]-r[1]||n[2]-r[2]);const e=[];for(const n of y(this,Fh))n[3]?(e.push(...J(this,Ji,fD).call(this,n)),J(this,Ji,_7).call(this,n)):(J(this,Ji,T7).call(this,n),e.push(...J(this,Ji,fD).call(this,n)));return J(this,Ji,x7).call(this,e)}}BC=new WeakMap,HC=new WeakMap,Fh=new WeakMap,yl=new WeakMap,Ji=new WeakSet,x7=function(e){const n=[],r=new Set;for(const s of e){const[a,c,d]=s;n.push([a,c,s],[a,d,s])}n.sort((s,a)=>s[1]-a[1]||s[0]-a[0]);for(let s=0,a=n.length;s<a;s+=2){const c=n[s][2],d=n[s+1][2];c.push(d),d.push(c),r.add(c),r.add(d)}const o=[];let i;for(;r.size>0;){const s=r.values().next().value;let[a,c,d,h,p]=s;r.delete(s);let g=a,m=c;for(i=[a,d],o.push(i);;){let v;if(r.has(h))v=h;else if(r.has(p))v=p;else break;r.delete(v),[a,c,d,h,p]=v,g!==a&&(i.push(g,m,a,m===c?c:d),g=a),m=m===c?d:c}i.push(g,m)}return new Xve(o,y(this,BC),y(this,HC))},T_=function(e){const n=y(this,yl);let r=0,o=n.length-1;for(;r<=o;){const i=r+o>>1,s=n[i][0];if(s===e)return i;s<e?r=i+1:o=i-1}return o+1},_7=function([,e,n]){const r=J(this,Ji,T_).call(this,e);y(this,yl).splice(r,0,[e,n])},T7=function([,e,n]){const r=J(this,Ji,T_).call(this,e);for(let o=r;o<y(this,yl).length;o++){const[i,s]=y(this,yl)[o];if(i!==e)break;if(i===e&&s===n){y(this,yl).splice(o,1);return}}for(let o=r-1;o>=0;o--){const[i,s]=y(this,yl)[o];if(i!==e)break;if(i===e&&s===n){y(this,yl).splice(o,1);return}}},fD=function(e){const[n,r,o]=e,i=[[n,r,o]],s=J(this,Ji,T_).call(this,o);for(let a=0;a<s;a++){const[c,d]=y(this,yl)[a];for(let h=0,p=i.length;h<p;h++){const[,g,m]=i[h];if(!(d<=g||m<=c)){if(g>=c){if(m>d)i[h][1]=d;else{if(p===1)return[];i.splice(h,1),h--,p--}continue}i[h][2]=c,m>d&&i.push([n,d,m])}}}return i};var jC,kb;class Xve extends yt{constructor(n,r,o){super();Q(this,jC);Q(this,kb);G(this,kb,n),G(this,jC,r),this.lastPoint=o}toSVGPath(){const n=[];for(const r of y(this,kb)){let[o,i]=r;n.push(`M${o} ${i}`);for(let s=2;s<r.length;s+=2){const a=r[s],c=r[s+1];a===o?(n.push(`V${c}`),i=c):c===i&&(n.push(`H${a}`),o=a)}n.push("Z")}return n.join(" ")}serialize([n,r,o,i],s){const a=[],c=o-n,d=i-r;for(const h of y(this,kb)){const p=new Array(h.length);for(let g=0;g<h.length;g+=2)p[g]=n+h[g]*c,p[g+1]=i-h[g+1]*d;a.push(p)}return a}get box(){return y(this,jC)}get classNamesForOutlining(){return["highlightOutline"]}}jC=new WeakMap,kb=new WeakMap;class pD extends LT{newFreeDrawOutline(e,n,r,o,i,s){return new Qve(e,n,r,o,i,s)}}class Qve extends C7{newOutliner(e,n,r,o,i,s=0){return new pD(e,n,r,o,i,s)}}var zs,bg,Ob,Ro,UC,Db,Uu,GC,$h,bl,Lb,WC,lr,gD,mD,yD,mp,A7,th;const as=class as{constructor({editor:e=null,uiManager:n=null}){Q(this,lr);Q(this,zs,null);Q(this,bg,null);Q(this,Ob);Q(this,Ro,null);Q(this,UC,!1);Q(this,Db,!1);Q(this,Uu,null);Q(this,GC);Q(this,$h,null);Q(this,bl,null);Q(this,Lb);var r,o;e?(G(this,Db,!1),G(this,Lb,bn.HIGHLIGHT_COLOR),G(this,Uu,e)):(G(this,Db,!0),G(this,Lb,bn.HIGHLIGHT_DEFAULT_COLOR)),G(this,bl,(e==null?void 0:e._uiManager)||n),G(this,GC,y(this,bl)._eventBus),G(this,Ob,((r=e==null?void 0:e.color)==null?void 0:r.toUpperCase())||((o=y(this,bl))==null?void 0:o.highlightColors.values().next().value)||"#FFFF98"),y(as,WC)||G(as,WC,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return pn(this,"_keyboardManager",new OE([[["Escape","mac+Escape"],as.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],as.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],as.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],as.prototype._moveToPrevious],[["Home","mac+Home"],as.prototype._moveToBeginning],[["End","mac+End"],as.prototype._moveToEnd]]))}renderButton(){const e=G(this,zs,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",y(this,Uu)&&(e.ariaControls=`${y(this,Uu).id}_colorpicker_dropdown`);const n=y(this,bl)._signal;e.addEventListener("click",J(this,lr,mp).bind(this),{signal:n}),e.addEventListener("keydown",J(this,lr,yD).bind(this),{signal:n});const r=G(this,bg,document.createElement("span"));return r.className="swatch",r.ariaHidden="true",r.style.backgroundColor=y(this,Ob),e.append(r),e}renderMainDropdown(){const e=G(this,Ro,J(this,lr,gD).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===y(this,zs)){J(this,lr,mp).call(this,e);return}const n=e.target.getAttribute("data-color");n&&J(this,lr,mD).call(this,n,e)}_moveToNext(e){var n,r;if(!y(this,lr,th)){J(this,lr,mp).call(this,e);return}if(e.target===y(this,zs)){(n=y(this,Ro).firstChild)==null||n.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var n,r;if(e.target===((n=y(this,Ro))==null?void 0:n.firstChild)||e.target===y(this,zs)){y(this,lr,th)&&this._hideDropdownFromKeyboard();return}y(this,lr,th)||J(this,lr,mp).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var n;if(!y(this,lr,th)){J(this,lr,mp).call(this,e);return}(n=y(this,Ro).firstChild)==null||n.focus()}_moveToEnd(e){var n;if(!y(this,lr,th)){J(this,lr,mp).call(this,e);return}(n=y(this,Ro).lastChild)==null||n.focus()}hideDropdown(){var e,n;(e=y(this,Ro))==null||e.classList.add("hidden"),y(this,zs).ariaExpanded="false",(n=y(this,$h))==null||n.abort(),G(this,$h,null)}_hideDropdownFromKeyboard(){var e;if(!y(this,Db)){if(!y(this,lr,th)){(e=y(this,Uu))==null||e.unselect();return}this.hideDropdown(),y(this,zs).focus({preventScroll:!0,focusVisible:y(this,UC)})}}updateColor(e){if(y(this,bg)&&(y(this,bg).style.backgroundColor=e),!y(this,Ro))return;const n=y(this,bl).highlightColors.values();for(const r of y(this,Ro).children)r.ariaSelected=n.next().value===e.toUpperCase()}destroy(){var e,n;(e=y(this,zs))==null||e.remove(),G(this,zs,null),G(this,bg,null),(n=y(this,Ro))==null||n.remove(),G(this,Ro,null)}};zs=new WeakMap,bg=new WeakMap,Ob=new WeakMap,Ro=new WeakMap,UC=new WeakMap,Db=new WeakMap,Uu=new WeakMap,GC=new WeakMap,$h=new WeakMap,bl=new WeakMap,Lb=new WeakMap,WC=new WeakMap,lr=new WeakSet,gD=function(){const e=document.createElement("div"),n=y(this,bl)._signal;e.addEventListener("contextmenu",Xa,{signal:n}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),y(this,Uu)&&(e.id=`${y(this,Uu).id}_colorpicker_dropdown`);for(const[r,o]of y(this,bl).highlightColors){const i=document.createElement("button");i.tabIndex="0",i.role="option",i.setAttribute("data-color",o),i.title=r,i.setAttribute("data-l10n-id",y(as,WC)[r]);const s=document.createElement("span");i.append(s),s.className="swatch",s.style.backgroundColor=o,i.ariaSelected=o===y(this,Ob),i.addEventListener("click",J(this,lr,mD).bind(this,o),{signal:n}),e.append(i)}return e.addEventListener("keydown",J(this,lr,yD).bind(this),{signal:n}),e},mD=function(e,n){n.stopPropagation(),y(this,GC).dispatch("switchannotationeditorparams",{source:this,type:y(this,Lb),value:e})},yD=function(e){as._keyboardManager.exec(this,e)},mp=function(e){if(y(this,lr,th)){this.hideDropdown();return}if(G(this,UC,e.detail===0),y(this,$h)||(G(this,$h,new AbortController),window.addEventListener("pointerdown",J(this,lr,A7).bind(this),{signal:y(this,bl).combinedSignal(y(this,$h))})),y(this,zs).ariaExpanded="true",y(this,Ro)){y(this,Ro).classList.remove("hidden");return}const n=G(this,Ro,J(this,lr,gD).call(this));y(this,zs).append(n)},A7=function(e){var n;(n=y(this,Ro))!=null&&n.contains(e.target)||this.hideDropdown()},th=function(){return y(this,Ro)&&!y(this,Ro).classList.contains("hidden")},Q(as,WC,null);let wS=as;var Nb,qC,Gu,vg,KC,us,YC,XC,wg,Ra,Bs,ci,Fb,Wu,Ri,$b,Pa,QC,Jt,bD,A_,I7,R7,P7,vD,yp,$a,Sy,M7,I_,x0,k7,O7,D7,L7,N7;const Dn=class Dn extends wr{constructor(n){super({...n,name:"highlightEditor"});Q(this,Jt);Q(this,Nb,null);Q(this,qC,0);Q(this,Gu);Q(this,vg,null);Q(this,KC,null);Q(this,us,null);Q(this,YC,null);Q(this,XC,0);Q(this,wg,null);Q(this,Ra,null);Q(this,Bs,null);Q(this,ci,!1);Q(this,Fb,null);Q(this,Wu);Q(this,Ri,null);Q(this,$b,"");Q(this,Pa);Q(this,QC,"");this.color=n.color||Dn._defaultColor,G(this,Pa,n.thickness||Dn._defaultThickness),G(this,Wu,n.opacity||Dn._defaultOpacity),G(this,Gu,n.boxes||null),G(this,QC,n.methodOfCreation||""),G(this,$b,n.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",n.highlightId>-1?(G(this,ci,!0),J(this,Jt,A_).call(this,n),J(this,Jt,yp).call(this)):y(this,Gu)&&(G(this,Nb,n.anchorNode),G(this,qC,n.anchorOffset),G(this,YC,n.focusNode),G(this,XC,n.focusOffset),J(this,Jt,bD).call(this),J(this,Jt,yp).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const n=Dn.prototype;return pn(this,"_keyboardManager",new OE([[["ArrowLeft","mac+ArrowLeft"],n._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],n._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],n._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],n._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:y(this,ci)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:y(this,Pa),methodOfCreation:y(this,QC)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(n){return{numberOfColors:n.get("color").size}}static initialize(n,r){var o;wr.initialize(n,r),Dn._defaultColor||(Dn._defaultColor=((o=r.highlightColors)==null?void 0:o.values().next().value)||"#fff066")}static updateDefaultParams(n,r){switch(n){case bn.HIGHLIGHT_DEFAULT_COLOR:Dn._defaultColor=r;break;case bn.HIGHLIGHT_THICKNESS:Dn._defaultThickness=r;break}}translateInPage(n,r){}get toolbarPosition(){return y(this,Fb)}updateParams(n,r){switch(n){case bn.HIGHLIGHT_COLOR:J(this,Jt,I7).call(this,r);break;case bn.HIGHLIGHT_THICKNESS:J(this,Jt,R7).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[bn.HIGHLIGHT_DEFAULT_COLOR,Dn._defaultColor],[bn.HIGHLIGHT_THICKNESS,Dn._defaultThickness]]}get propertiesToUpdate(){return[[bn.HIGHLIGHT_COLOR,this.color||Dn._defaultColor],[bn.HIGHLIGHT_THICKNESS,y(this,Pa)||Dn._defaultThickness],[bn.HIGHLIGHT_FREE,y(this,ci)]]}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",G(this,KC,new wS({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(J(this,Jt,x0).call(this))}getBaseTranslation(){return[0,0]}getRect(n,r){return super.getRect(n,r,J(this,Jt,x0).call(this))}onceAdded(n){this.annotationElementId||this.parent.addUndoableEditor(this),n&&this.div.focus()}remove(){J(this,Jt,vD).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(J(this,Jt,yp).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(n){var o;let r=!1;this.parent&&!n?J(this,Jt,vD).call(this):n&&(J(this,Jt,yp).call(this,n),r=!this.parent&&((o=this.div)==null?void 0:o.classList.contains("selectedEditor"))),super.setParent(n),this.show(this._isVisible),r&&this.select()}rotate(n){var i,s,a;const{drawLayer:r}=this.parent;let o;y(this,ci)?(n=(n-this.rotation+360)%360,o=J(i=Dn,$a,Sy).call(i,y(this,Ra).box,n)):o=J(s=Dn,$a,Sy).call(s,[this.x,this.y,this.width,this.height],n),r.updateProperties(y(this,Bs),{bbox:o,root:{"data-main-rotation":n}}),r.updateProperties(y(this,Ri),{bbox:J(a=Dn,$a,Sy).call(a,y(this,us).box,n),root:{"data-main-rotation":n}})}render(){if(this.div)return this.div;const n=super.render();y(this,$b)&&(n.setAttribute("aria-label",y(this,$b)),n.setAttribute("role","mark")),y(this,ci)?n.classList.add("free"):this.div.addEventListener("keydown",J(this,Jt,M7).bind(this),{signal:this._uiManager._signal});const r=G(this,wg,document.createElement("div"));n.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=y(this,vg);const[o,i]=this.parentDimensions;return this.setDims(this.width*o,this.height*i),t8(this,y(this,wg),["pointerover","pointerleave"]),this.enableEditing(),n}pointerover(){var n;this.isSelected||(n=this.parent)==null||n.drawLayer.updateProperties(y(this,Ri),{rootClass:{hovered:!0}})}pointerleave(){var n;this.isSelected||(n=this.parent)==null||n.drawLayer.updateProperties(y(this,Ri),{rootClass:{hovered:!1}})}_moveCaret(n){switch(this.parent.unselect(this),n){case 0:case 2:J(this,Jt,I_).call(this,!0);break;case 1:case 3:J(this,Jt,I_).call(this,!1);break}}select(){var n;super.select(),y(this,Ri)&&((n=this.parent)==null||n.drawLayer.updateProperties(y(this,Ri),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var n;super.unselect(),y(this,Ri)&&((n=this.parent)==null||n.drawLayer.updateProperties(y(this,Ri),{rootClass:{selected:!1}}),y(this,ci)||J(this,Jt,I_).call(this,!1))}get _mustFixPosition(){return!y(this,ci)}show(n=this._isVisible){super.show(n),this.parent&&(this.parent.drawLayer.updateProperties(y(this,Bs),{rootClass:{hidden:!n}}),this.parent.drawLayer.updateProperties(y(this,Ri),{rootClass:{hidden:!n}}))}static startHighlighting(n,r,{target:o,x:i,y:s}){const{x:a,y:c,width:d,height:h}=o.getBoundingClientRect(),p=new AbortController,g=n.combinedSignal(p),m=v=>{p.abort(),J(this,$a,L7).call(this,n,v)};window.addEventListener("blur",m,{signal:g}),window.addEventListener("pointerup",m,{signal:g}),window.addEventListener("pointerdown",ao,{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",Xa,{signal:g}),o.addEventListener("pointermove",J(this,$a,D7).bind(this,n),{signal:g}),this._freeHighlight=new pD({x:i,y:s},[a,c,d,h],n.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(n,r,o){var S,C,x,O;let i=null;if(n instanceof c7){const{data:{quadPoints:M,rect:P,rotation:k,id:$,color:D,opacity:I,popupRef:A},parent:{page:{pageNumber:N}}}=n;i=n={annotationType:qt.HIGHLIGHT,color:Array.from(D),opacity:I,quadPoints:M,boxes:null,pageIndex:N-1,rect:P.slice(0),rotation:k,annotationElementId:$,id:$,deleted:!1,popupRef:A}}else if(n instanceof fN){const{data:{inkLists:M,rect:P,rotation:k,id:$,color:D,borderStyle:{rawWidth:I},popupRef:A},parent:{page:{pageNumber:N}}}=n;i=n={annotationType:qt.HIGHLIGHT,color:Array.from(D),thickness:I,inkLists:M,boxes:null,pageIndex:N-1,rect:P.slice(0),rotation:k,annotationElementId:$,id:$,deleted:!1,popupRef:A}}const{color:s,quadPoints:a,inkLists:c,opacity:d}=n,h=await super.deserialize(n,r,o);h.color=Rt.makeHexColor(...s),G(h,Wu,d||1),c&&G(h,Pa,n.thickness),h._initialData=i;const[p,g]=h.pageDimensions,[m,v]=h.pageTranslation;if(a){const M=G(h,Gu,[]);for(let P=0;P<a.length;P+=8)M.push({x:(a[P]-m)/p,y:1-(a[P+1]-v)/g,width:(a[P+2]-a[P])/p,height:(a[P+1]-a[P+5])/g});J(S=h,Jt,bD).call(S),J(C=h,Jt,yp).call(C),h.rotate(h.rotation)}else if(c){G(h,ci,!0);const M=c[0],P={x:M[0]-m,y:g-(M[1]-v)},k=new pD(P,[0,0,p,g],1,y(h,Pa)/2,!0,.001);for(let I=0,A=M.length;I<A;I+=2)P.x=M[I]-m,P.y=g-(M[I+1]-v),k.add(P);const{id:$,clipPathId:D}=r.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:h.color,"fill-opacity":h._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:k.toSVGPath()}},!0,!0);J(x=h,Jt,A_).call(x,{highlightOutlines:k.getOutlines(),highlightId:$,clipPathId:D}),J(O=h,Jt,yp).call(O),h.rotate(h.parentRotation)}return h}serialize(n=!1){if(this.isEmpty()||n)return null;if(this.deleted)return this.serializeDeleted();const r=this.getRect(0,0),o=wr._colorManager.convert(this.color),i={annotationType:qt.HIGHLIGHT,color:o,opacity:y(this,Wu),thickness:y(this,Pa),quadPoints:J(this,Jt,k7).call(this),outlines:J(this,Jt,O7).call(this,r),pageIndex:this.pageIndex,rect:r,rotation:J(this,Jt,x0).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!J(this,Jt,N7).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(n){return n.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Nb=new WeakMap,qC=new WeakMap,Gu=new WeakMap,vg=new WeakMap,KC=new WeakMap,us=new WeakMap,YC=new WeakMap,XC=new WeakMap,wg=new WeakMap,Ra=new WeakMap,Bs=new WeakMap,ci=new WeakMap,Fb=new WeakMap,Wu=new WeakMap,Ri=new WeakMap,$b=new WeakMap,Pa=new WeakMap,QC=new WeakMap,Jt=new WeakSet,bD=function(){const n=new hD(y(this,Gu),.001);G(this,Ra,n.getOutlines()),[this.x,this.y,this.width,this.height]=y(this,Ra).box;const r=new hD(y(this,Gu),.0025,.001,this._uiManager.direction==="ltr");G(this,us,r.getOutlines());const{lastPoint:o}=y(this,us);G(this,Fb,[(o[0]-this.x)/this.width,(o[1]-this.y)/this.height])},A_=function({highlightOutlines:n,highlightId:r,clipPathId:o}){var p,g;if(G(this,Ra,n),G(this,us,n.getNewOutline(y(this,Pa)/2+1.5,.0025)),r>=0)G(this,Bs,r),G(this,vg,o),this.parent.drawLayer.finalizeDraw(r,{bbox:n.box,path:{d:n.toSVGPath()}}),G(this,Ri,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:y(this,us).box,path:{d:y(this,us).toSVGPath()}},!0));else if(this.parent){const m=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(y(this,Bs),{bbox:J(p=Dn,$a,Sy).call(p,y(this,Ra).box,(m-this.rotation+360)%360),path:{d:n.toSVGPath()}}),this.parent.drawLayer.updateProperties(y(this,Ri),{bbox:J(g=Dn,$a,Sy).call(g,y(this,us).box,m),path:{d:y(this,us).toSVGPath()}})}const[s,a,c,d]=n.box;switch(this.rotation){case 0:this.x=s,this.y=a,this.width=c,this.height=d;break;case 90:{const[m,v]=this.parentDimensions;this.x=a,this.y=1-s,this.width=c*v/m,this.height=d*m/v;break}case 180:this.x=1-s,this.y=1-a,this.width=c,this.height=d;break;case 270:{const[m,v]=this.parentDimensions;this.x=1-a,this.y=s,this.width=c*v/m,this.height=d*m/v;break}}const{lastPoint:h}=y(this,us);G(this,Fb,[(h[0]-s)/c,(h[1]-a)/d])},I7=function(n){const r=(s,a)=>{var c,d;this.color=s,G(this,Wu,a),(c=this.parent)==null||c.drawLayer.updateProperties(y(this,Bs),{root:{fill:s,"fill-opacity":a}}),(d=y(this,KC))==null||d.updateColor(s)},o=this.color,i=y(this,Wu);this.addCommands({cmd:r.bind(this,n,Dn._defaultOpacity),undo:r.bind(this,o,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:bn.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(n)},!0)},R7=function(n){const r=y(this,Pa),o=i=>{G(this,Pa,i),J(this,Jt,P7).call(this,i)};this.addCommands({cmd:o.bind(this,n),undo:o.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:bn.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:n},!0)},P7=function(n){if(!y(this,ci))return;J(this,Jt,A_).call(this,{highlightOutlines:y(this,Ra).getNewOutline(n/2)}),this.fixAndSetPosition();const[r,o]=this.parentDimensions;this.setDims(this.width*r,this.height*o)},vD=function(){y(this,Bs)===null||!this.parent||(this.parent.drawLayer.remove(y(this,Bs)),G(this,Bs,null),this.parent.drawLayer.remove(y(this,Ri)),G(this,Ri,null))},yp=function(n=this.parent){y(this,Bs)===null&&({id:Bi(this,Bs)._,clipPathId:Bi(this,vg)._}=n.drawLayer.draw({bbox:y(this,Ra).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":y(this,Wu)},rootClass:{highlight:!0,free:y(this,ci)},path:{d:y(this,Ra).toSVGPath()}},!1,!0),G(this,Ri,n.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:y(this,ci)},bbox:y(this,us).box,path:{d:y(this,us).toSVGPath()}},y(this,ci))),y(this,wg)&&(y(this,wg).style.clipPath=y(this,vg)))},$a=new WeakSet,Sy=function([n,r,o,i],s){switch(s){case 90:return[1-r-i,n,i,o];case 180:return[1-n-o,1-r-i,o,i];case 270:return[r,1-n-o,i,o]}return[n,r,o,i]},M7=function(n){Dn._keyboardManager.exec(this,n)},I_=function(n){if(!y(this,Nb))return;const r=window.getSelection();n?r.setPosition(y(this,Nb),y(this,qC)):r.setPosition(y(this,YC),y(this,XC))},x0=function(){return y(this,ci)?this.rotation:0},k7=function(){if(y(this,ci))return null;const[n,r]=this.pageDimensions,[o,i]=this.pageTranslation,s=y(this,Gu),a=new Float32Array(s.length*8);let c=0;for(const{x:d,y:h,width:p,height:g}of s){const m=d*n+o,v=(1-h)*r+i;a[c]=a[c+4]=m,a[c+1]=a[c+3]=v,a[c+2]=a[c+6]=m+p*n,a[c+5]=a[c+7]=v-g*r,c+=8}return a},O7=function(n){return y(this,Ra).serialize(n,J(this,Jt,x0).call(this))},D7=function(n,r){this._freeHighlight.add(r)&&n.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},L7=function(n,r){this._freeHighlight.isEmpty()?n.drawLayer.remove(this._freeHighlightId):n.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},N7=function(n){const{color:r}=this._initialData;return n.color.some((o,i)=>o!==r[i])},Q(Dn,$a),je(Dn,"_defaultColor",null),je(Dn,"_defaultOpacity",1),je(Dn,"_defaultThickness",12),je(Dn,"_type","highlight"),je(Dn,"_editorType",qt.HIGHLIGHT),je(Dn,"_freeHighlightId",-1),je(Dn,"_freeHighlight",null),je(Dn,"_freeHighlightClipId","");let NT=Dn;var Sg;class F7{constructor(){Q(this,Sg,Object.create(null))}updateProperty(e,n){this[e]=n,this.updateSVGProperty(e,n)}updateProperties(e){if(e)for(const[n,r]of Object.entries(e))n.startsWith("_")||this.updateProperty(n,r)}updateSVGProperty(e,n){y(this,Sg)[e]=n}toSVGProperties(){const e=y(this,Sg);return G(this,Sg,Object.create(null)),{root:e}}reset(){G(this,Sg,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){cr("Not implemented")}}Sg=new WeakMap;var Hs,Vb,Go,Cg,Eg,Vh,zh,Bh,xg,Rn,wD,SD,CD,_0,$7,R_,T0,Cy;const bt=class bt extends wr{constructor(n){super(n);Q(this,Rn);Q(this,Hs,null);Q(this,Vb);je(this,"_drawId",null);G(this,Vb,n.mustBeCommitted||!1),this._addOutlines(n)}_addOutlines(n){n.drawOutlines&&(J(this,Rn,wD).call(this,n),J(this,Rn,_0).call(this))}static _mergeSVGProperties(n,r){const o=new Set(Object.keys(n));for(const[i,s]of Object.entries(r))o.has(i)?Object.assign(n[i],s):n[i]=s;return n}static getDefaultDrawingOptions(n){cr("Not implemented")}static get typesMap(){cr("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(n,r){const o=this.typesMap.get(n);o&&this._defaultDrawingOptions.updateProperty(o,r),this._currentParent&&(y(bt,Go).updateProperty(o,r),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(n,r){const o=this.constructor.typesMap.get(n);o&&this._updateProperty(n,o,r)}static get defaultPropertiesToUpdate(){const n=[],r=this._defaultDrawingOptions;for(const[o,i]of this.typesMap)n.push([o,r[i]]);return n}get propertiesToUpdate(){const n=[],{_drawingOptions:r}=this;for(const[o,i]of this.constructor.typesMap)n.push([o,r[i]]);return n}_updateProperty(n,r,o){const i=this._drawingOptions,s=i[r],a=c=>{var h;i.updateProperty(r,c);const d=y(this,Hs).updateProperty(r,c);d&&J(this,Rn,T0).call(this,d),(h=this.parent)==null||h.drawLayer.updateProperties(this._drawId,i.toSVGProperties())};this.addCommands({cmd:a.bind(this,o),undo:a.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:n,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,bt._mergeSVGProperties(y(this,Hs).getPathResizingSVGProperties(J(this,Rn,R_).call(this)),{bbox:J(this,Rn,Cy).call(this)}))}_onResized(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,bt._mergeSVGProperties(y(this,Hs).getPathResizedSVGProperties(J(this,Rn,R_).call(this)),{bbox:J(this,Rn,Cy).call(this)}))}_onTranslating(n,r){var o;(o=this.parent)==null||o.drawLayer.updateProperties(this._drawId,{bbox:J(this,Rn,Cy).call(this)})}_onTranslated(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,bt._mergeSVGProperties(y(this,Hs).getPathTranslatedSVGProperties(J(this,Rn,R_).call(this),this.parentDimensions),{bbox:J(this,Rn,Cy).call(this)}))}_onStartDragging(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(n){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,y(this,Vb)&&(G(this,Vb,!1),this.commit(),this.parent.setSelected(this),n&&this.isOnScreen&&this.div.focus())}remove(){J(this,Rn,CD).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(J(this,Rn,_0).call(this),J(this,Rn,T0).call(this,y(this,Hs).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(n){var o;let r=!1;this.parent&&!n?(this._uiManager.removeShouldRescale(this),J(this,Rn,CD).call(this)):n&&(this._uiManager.addShouldRescale(this),J(this,Rn,_0).call(this,n),r=!this.parent&&((o=this.div)==null?void 0:o.classList.contains("selectedEditor"))),super.setParent(n),r&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,bt._mergeSVGProperties({bbox:J(this,Rn,Cy).call(this)},y(this,Hs).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&J(this,Rn,T0).call(this,y(this,Hs).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let n,r;this._isCopy&&(n=this.x,r=this.y);const o=super.render();o.classList.add("draw");const i=document.createElement("div");o.append(i),i.setAttribute("aria-hidden","true"),i.className="internal";const[s,a]=this.parentDimensions;return this.setDims(this.width*s,this.height*a),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(n,r),o}static createDrawerInstance(n,r,o,i,s){cr("Not implemented")}static startDrawing(n,r,o,i){var C;const{target:s,offsetX:a,offsetY:c,pointerId:d,pointerType:h}=i;if(y(bt,zh)&&y(bt,zh)!==h)return;const{viewport:{rotation:p}}=n,{width:g,height:m}=s.getBoundingClientRect(),v=G(bt,Cg,new AbortController),S=n.combinedSignal(v);if(y(bt,Vh)||G(bt,Vh,d),y(bt,zh)??G(bt,zh,h),window.addEventListener("pointerup",x=>{var O;y(bt,Vh)===x.pointerId?this._endDraw(x):(O=y(bt,Bh))==null||O.delete(x.pointerId)},{signal:S}),window.addEventListener("pointercancel",x=>{var O;y(bt,Vh)===x.pointerId?this._currentParent.endDrawingSession():(O=y(bt,Bh))==null||O.delete(x.pointerId)},{signal:S}),window.addEventListener("pointerdown",x=>{y(bt,zh)===x.pointerType&&((y(bt,Bh)||G(bt,Bh,new Set)).add(x.pointerId),y(bt,Go).isCancellable()&&(y(bt,Go).removeLastElement(),y(bt,Go).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:S}),window.addEventListener("contextmenu",Xa,{signal:S}),s.addEventListener("pointermove",this._drawMove.bind(this),{signal:S}),s.addEventListener("touchmove",x=>{x.timeStamp===y(bt,xg)&&ao(x)},{signal:S}),n.toggleDrawing(),(C=r._editorUndoBar)==null||C.hide(),y(bt,Go)){n.drawLayer.updateProperties(this._currentDrawId,y(bt,Go).startNew(a,c,g,m,p));return}r.updateUIForDefaultProperties(this),G(bt,Go,this.createDrawerInstance(a,c,g,m,p)),G(bt,Eg,this.getDefaultDrawingOptions()),this._currentParent=n,{id:this._currentDrawId}=n.drawLayer.draw(this._mergeSVGProperties(y(bt,Eg).toSVGProperties(),y(bt,Go).defaultSVGProperties),!0,!1)}static _drawMove(n){var s;if(G(bt,xg,-1),!y(bt,Go))return;const{offsetX:r,offsetY:o,pointerId:i}=n;if(y(bt,Vh)===i){if(((s=y(bt,Bh))==null?void 0:s.size)>=1){this._endDraw(n);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,y(bt,Go).add(r,o)),G(bt,xg,n.timeStamp),ao(n)}}static _cleanup(n){n&&(this._currentDrawId=-1,this._currentParent=null,G(bt,Go,null),G(bt,Eg,null),G(bt,zh,null),G(bt,xg,NaN)),y(bt,Cg)&&(y(bt,Cg).abort(),G(bt,Cg,null),G(bt,Vh,NaN),G(bt,Bh,null))}static _endDraw(n){const r=this._currentParent;if(r){if(r.toggleDrawing(!0),this._cleanup(!1),(n==null?void 0:n.target)===r.div&&r.drawLayer.updateProperties(this._currentDrawId,y(bt,Go).end(n.offsetX,n.offsetY)),this.supportMultipleDrawings){const o=y(bt,Go),i=this._currentDrawId,s=o.getLastElement();r.addCommands({cmd:()=>{r.drawLayer.updateProperties(i,o.setLastElement(s))},undo:()=>{r.drawLayer.updateProperties(i,o.removeLastElement())},mustExec:!1,type:bn.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(n){const r=this._currentParent;if(!r)return null;if(r.toggleDrawing(!0),r.cleanUndoStack(bn.DRAW_STEP),!y(bt,Go).isEmpty()){const{pageDimensions:[o,i],scale:s}=r,a=r.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:y(bt,Go).getOutlines(o*s,i*s,s,this._INNER_MARGIN),drawingOptions:y(bt,Eg),mustBeCommitted:!n});return this._cleanup(!0),a}return r.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(n){}static deserializeDraw(n,r,o,i,s,a){cr("Not implemented")}static async deserialize(n,r,o){var p,g;const{rawDims:{pageWidth:i,pageHeight:s,pageX:a,pageY:c}}=r.viewport,d=this.deserializeDraw(a,c,i,s,this._INNER_MARGIN,n),h=await super.deserialize(n,r,o);return h.createDrawingOptions(n),J(p=h,Rn,wD).call(p,{drawOutlines:d}),J(g=h,Rn,_0).call(g),h.onScaleChanging(),h.rotate(),h}serializeDraw(n){const[r,o]=this.pageTranslation,[i,s]=this.pageDimensions;return y(this,Hs).serialize([r,o,i,s],n)}renderAnnotationElement(n){return n.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Hs=new WeakMap,Vb=new WeakMap,Go=new WeakMap,Cg=new WeakMap,Eg=new WeakMap,Vh=new WeakMap,zh=new WeakMap,Bh=new WeakMap,xg=new WeakMap,Rn=new WeakSet,wD=function({drawOutlines:n,drawId:r,drawingOptions:o}){G(this,Hs,n),this._drawingOptions||(this._drawingOptions=o),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),r>=0?(this._drawId=r,this.parent.drawLayer.finalizeDraw(r,n.defaultProperties)):this._drawId=J(this,Rn,SD).call(this,n,this.parent),J(this,Rn,T0).call(this,n.box)},SD=function(n,r){const{id:o}=r.drawLayer.draw(bt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),n.defaultSVGProperties),!1,!1);return o},CD=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},_0=function(n=this.parent){if(!(this._drawId!==null&&this.parent===n)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,n.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=J(this,Rn,SD).call(this,y(this,Hs),n)}},$7=function([n,r,o,i]){const{parentDimensions:[s,a],rotation:c}=this;switch(c){case 90:return[r,1-n,o*(a/s),i*(s/a)];case 180:return[1-n,1-r,o,i];case 270:return[1-r,n,o*(a/s),i*(s/a)];default:return[n,r,o,i]}},R_=function(){const{x:n,y:r,width:o,height:i,parentDimensions:[s,a],rotation:c}=this;switch(c){case 90:return[1-r,n,o*(s/a),i*(a/s)];case 180:return[1-n,1-r,o,i];case 270:return[r,1-n,o*(s/a),i*(a/s)];default:return[n,r,o,i]}},T0=function(n){if([this.x,this.y,this.width,this.height]=J(this,Rn,$7).call(this,n),this.div){this.fixAndSetPosition();const[r,o]=this.parentDimensions;this.setDims(this.width*r,this.height*o)}this._onResized()},Cy=function(){const{x:n,y:r,width:o,height:i,rotation:s,parentRotation:a,parentDimensions:[c,d]}=this;switch((s*4+a)/90){case 1:return[1-r-i,n,i,o];case 2:return[1-n-o,1-r-i,o,i];case 3:return[r,1-n-o,i,o];case 4:return[n,r-o*(c/d),i*(d/c),o*(c/d)];case 5:return[1-r,n,o*(c/d),i*(d/c)];case 6:return[1-n-i*(d/c),1-r,i*(d/c),o*(c/d)];case 7:return[r-o*(c/d),1-n-i*(d/c),o*(c/d),i*(d/c)];case 8:return[n-o,r-i,o,i];case 9:return[1-r,n-o,i,o];case 10:return[1-n,1-r,o,i];case 11:return[r-i,1-n,i,o];case 12:return[n-i*(d/c),r,i*(d/c),o*(c/d)];case 13:return[1-r-o*(c/d),n-i*(d/c),o*(c/d),i*(d/c)];case 14:return[1-n,1-r-o*(c/d),i*(d/c),o*(c/d)];case 15:return[r,1-n,o*(c/d),i*(d/c)];default:return[n,r,o,i]}},je(bt,"_currentDrawId",-1),je(bt,"_currentParent",null),Q(bt,Go,null),Q(bt,Cg,null),Q(bt,Eg,null),Q(bt,Vh,NaN),Q(bt,zh,null),Q(bt,Bh,null),Q(bt,xg,NaN),je(bt,"_INNER_MARGIN",3);let FT=bt;var gc,Wo,qo,_g,zb,Gi,ui,Ma,Tg,Ag,Ig,Bb,P_;class Zve{constructor(e,n,r,o,i,s){Q(this,Bb);Q(this,gc,new Float64Array(6));Q(this,Wo);Q(this,qo);Q(this,_g);Q(this,zb);Q(this,Gi);Q(this,ui,"");Q(this,Ma,0);Q(this,Tg,new LE);Q(this,Ag);Q(this,Ig);G(this,Ag,r),G(this,Ig,o),G(this,_g,i),G(this,zb,s),[e,n]=J(this,Bb,P_).call(this,e,n);const a=G(this,Wo,[NaN,NaN,NaN,NaN,e,n]);G(this,Gi,[e,n]),G(this,qo,[{line:a,points:y(this,Gi)}]),y(this,gc).set(a,0)}updateProperty(e,n){e==="stroke-width"&&G(this,zb,n)}isEmpty(){return!y(this,qo)||y(this,qo).length===0}isCancellable(){return y(this,Gi).length<=10}add(e,n){[e,n]=J(this,Bb,P_).call(this,e,n);const[r,o,i,s]=y(this,gc).subarray(2,6),a=e-i,c=n-s;return Math.hypot(y(this,Ag)*a,y(this,Ig)*c)<=2?null:(y(this,Gi).push(e,n),isNaN(r)?(y(this,gc).set([i,s,e,n],2),y(this,Wo).push(NaN,NaN,NaN,NaN,e,n),{path:{d:this.toSVGPath()}}):(isNaN(y(this,gc)[0])&&y(this,Wo).splice(6,6),y(this,gc).set([r,o,i,s,e,n],0),y(this,Wo).push(...yt.createBezierPoints(r,o,i,s,e,n)),{path:{d:this.toSVGPath()}}))}end(e,n){const r=this.add(e,n);return r||(y(this,Gi).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,n,r,o,i){G(this,Ag,r),G(this,Ig,o),G(this,_g,i),[e,n]=J(this,Bb,P_).call(this,e,n);const s=G(this,Wo,[NaN,NaN,NaN,NaN,e,n]);G(this,Gi,[e,n]);const a=y(this,qo).at(-1);return a&&(a.line=new Float32Array(a.line),a.points=new Float32Array(a.points)),y(this,qo).push({line:s,points:y(this,Gi)}),y(this,gc).set(s,0),G(this,Ma,0),this.toSVGPath(),null}getLastElement(){return y(this,qo).at(-1)}setLastElement(e){return y(this,qo)?(y(this,qo).push(e),G(this,Wo,e.line),G(this,Gi,e.points),G(this,Ma,0),{path:{d:this.toSVGPath()}}):y(this,Tg).setLastElement(e)}removeLastElement(){if(!y(this,qo))return y(this,Tg).removeLastElement();y(this,qo).pop(),G(this,ui,"");for(let e=0,n=y(this,qo).length;e<n;e++){const{line:r,points:o}=y(this,qo)[e];G(this,Wo,r),G(this,Gi,o),G(this,Ma,0),this.toSVGPath()}return{path:{d:y(this,ui)}}}toSVGPath(){const e=yt.svgRound(y(this,Wo)[4]),n=yt.svgRound(y(this,Wo)[5]);if(y(this,Gi).length===2)return G(this,ui,`${y(this,ui)} M ${e} ${n} Z`),y(this,ui);if(y(this,Gi).length<=6){const o=y(this,ui).lastIndexOf("M");G(this,ui,`${y(this,ui).slice(0,o)} M ${e} ${n}`),G(this,Ma,6)}if(y(this,Gi).length===4){const o=yt.svgRound(y(this,Wo)[10]),i=yt.svgRound(y(this,Wo)[11]);return G(this,ui,`${y(this,ui)} L ${o} ${i}`),G(this,Ma,12),y(this,ui)}const r=[];y(this,Ma)===0&&(r.push(`M ${e} ${n}`),G(this,Ma,6));for(let o=y(this,Ma),i=y(this,Wo).length;o<i;o+=6){const[s,a,c,d,h,p]=y(this,Wo).slice(o,o+6).map(yt.svgRound);r.push(`C${s} ${a} ${c} ${d} ${h} ${p}`)}return G(this,ui,y(this,ui)+r.join(" ")),G(this,Ma,y(this,Wo).length),y(this,ui)}getOutlines(e,n,r,o){const i=y(this,qo).at(-1);return i.line=new Float32Array(i.line),i.points=new Float32Array(i.points),y(this,Tg).build(y(this,qo),e,n,r,y(this,_g),y(this,zb),o),G(this,gc,null),G(this,Wo,null),G(this,qo,null),G(this,ui,null),y(this,Tg)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}gc=new WeakMap,Wo=new WeakMap,qo=new WeakMap,_g=new WeakMap,zb=new WeakMap,Gi=new WeakMap,ui=new WeakMap,Ma=new WeakMap,Tg=new WeakMap,Ag=new WeakMap,Ig=new WeakMap,Bb=new WeakSet,P_=function(e,n){return yt._normalizePoint(e,n,y(this,Ag),y(this,Ig),y(this,_g))};var Wi,ZC,JC,js,mc,yc,Hb,jb,Rg,pi,bu,V7,z7,B7;class LE extends yt{constructor(){super(...arguments);Q(this,pi);Q(this,Wi);Q(this,ZC,0);Q(this,JC);Q(this,js);Q(this,mc);Q(this,yc);Q(this,Hb);Q(this,jb);Q(this,Rg)}build(n,r,o,i,s,a,c){G(this,mc,r),G(this,yc,o),G(this,Hb,i),G(this,jb,s),G(this,Rg,a),G(this,JC,c??0),G(this,js,n),J(this,pi,z7).call(this)}get thickness(){return y(this,Rg)}setLastElement(n){return y(this,js).push(n),{path:{d:this.toSVGPath()}}}removeLastElement(){return y(this,js).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const n=[];for(const{line:r}of y(this,js)){if(n.push(`M${yt.svgRound(r[4])} ${yt.svgRound(r[5])}`),r.length===6){n.push("Z");continue}if(r.length===12&&isNaN(r[6])){n.push(`L${yt.svgRound(r[10])} ${yt.svgRound(r[11])}`);continue}for(let o=6,i=r.length;o<i;o+=6){const[s,a,c,d,h,p]=r.subarray(o,o+6).map(yt.svgRound);n.push(`C${s} ${a} ${c} ${d} ${h} ${p}`)}}return n.join("")}serialize([n,r,o,i],s){const a=[],c=[],[d,h,p,g]=J(this,pi,V7).call(this);let m,v,S,C,x,O,M,P,k;switch(y(this,jb)){case 0:k=yt._rescale,m=n,v=r+i,S=o,C=-i,x=n+d*o,O=r+(1-h-g)*i,M=n+(d+p)*o,P=r+(1-h)*i;break;case 90:k=yt._rescaleAndSwap,m=n,v=r,S=o,C=i,x=n+h*o,O=r+d*i,M=n+(h+g)*o,P=r+(d+p)*i;break;case 180:k=yt._rescale,m=n+o,v=r,S=-o,C=i,x=n+(1-d-p)*o,O=r+h*i,M=n+(1-d)*o,P=r+(h+g)*i;break;case 270:k=yt._rescaleAndSwap,m=n+o,v=r+i,S=-o,C=-i,x=n+(1-h-g)*o,O=r+(1-d-p)*i,M=n+(1-h)*o,P=r+(1-d)*i;break}for(const{line:$,points:D}of y(this,js))a.push(k($,m,v,S,C,s?new Array($.length):null)),c.push(k(D,m,v,S,C,s?new Array(D.length):null));return{lines:a,points:c,rect:[x,O,M,P]}}static deserialize(n,r,o,i,s,{paths:{lines:a,points:c},rotation:d,thickness:h}){const p=[];let g,m,v,S,C;switch(d){case 0:C=yt._rescale,g=-n/o,m=r/i+1,v=1/o,S=-1/i;break;case 90:C=yt._rescaleAndSwap,g=-r/i,m=-n/o,v=1/i,S=1/o;break;case 180:C=yt._rescale,g=n/o+1,m=-r/i,v=-1/o,S=1/i;break;case 270:C=yt._rescaleAndSwap,g=r/i+1,m=n/o+1,v=-1/i,S=-1/o;break}if(!a){a=[];for(const O of c){const M=O.length;if(M===2){a.push(new Float32Array([NaN,NaN,NaN,NaN,O[0],O[1]]));continue}if(M===4){a.push(new Float32Array([NaN,NaN,NaN,NaN,O[0],O[1],NaN,NaN,NaN,NaN,O[2],O[3]]));continue}const P=new Float32Array(3*(M-2));a.push(P);let[k,$,D,I]=O.subarray(0,4);P.set([NaN,NaN,NaN,NaN,k,$],0);for(let A=4;A<M;A+=2){const N=O[A],F=O[A+1];P.set(yt.createBezierPoints(k,$,D,I,N,F),(A-2)*3),[k,$,D,I]=[D,I,N,F]}}}for(let O=0,M=a.length;O<M;O++)p.push({line:C(a[O].map(P=>P??NaN),g,m,v,S),points:C(c[O].map(P=>P??NaN),g,m,v,S)});const x=new this.prototype.constructor;return x.build(p,o,i,1,d,h,s),x}get box(){return y(this,Wi)}updateProperty(n,r){return n==="stroke-width"?J(this,pi,B7).call(this,r):null}updateParentDimensions([n,r],o){const[i,s]=J(this,pi,bu).call(this);G(this,mc,n),G(this,yc,r),G(this,Hb,o);const[a,c]=J(this,pi,bu).call(this),d=a-i,h=c-s,p=y(this,Wi);return p[0]-=d,p[1]-=h,p[2]+=2*d,p[3]+=2*h,p}updateRotation(n){return G(this,ZC,n),{path:{transform:this.rotationTransform}}}get viewBox(){return y(this,Wi).map(yt.svgRound).join(" ")}get defaultProperties(){const[n,r]=y(this,Wi);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${yt.svgRound(n)} ${yt.svgRound(r)}`}}}get rotationTransform(){const[,,n,r]=y(this,Wi);let o=0,i=0,s=0,a=0,c=0,d=0;switch(y(this,ZC)){case 90:i=r/n,s=-n/r,c=n;break;case 180:o=-1,a=-1,c=n,d=r;break;case 270:i=-r/n,s=n/r,d=r;break;default:return""}return`matrix(${o} ${i} ${s} ${a} ${yt.svgRound(c)} ${yt.svgRound(d)})`}getPathResizingSVGProperties([n,r,o,i]){const[s,a]=J(this,pi,bu).call(this),[c,d,h,p]=y(this,Wi);if(Math.abs(h-s)<=yt.PRECISION||Math.abs(p-a)<=yt.PRECISION){const C=n+o/2-(c+h/2),x=r+i/2-(d+p/2);return{path:{"transform-origin":`${yt.svgRound(n)} ${yt.svgRound(r)}`,transform:`${this.rotationTransform} translate(${C} ${x})`}}}const g=(o-2*s)/(h-2*s),m=(i-2*a)/(p-2*a),v=h/o,S=p/i;return{path:{"transform-origin":`${yt.svgRound(c)} ${yt.svgRound(d)}`,transform:`${this.rotationTransform} scale(${v} ${S}) translate(${yt.svgRound(s)} ${yt.svgRound(a)}) scale(${g} ${m}) translate(${yt.svgRound(-s)} ${yt.svgRound(-a)})`}}}getPathResizedSVGProperties([n,r,o,i]){const[s,a]=J(this,pi,bu).call(this),c=y(this,Wi),[d,h,p,g]=c;if(c[0]=n,c[1]=r,c[2]=o,c[3]=i,Math.abs(p-s)<=yt.PRECISION||Math.abs(g-a)<=yt.PRECISION){const x=n+o/2-(d+p/2),O=r+i/2-(h+g/2);for(const{line:M,points:P}of y(this,js))yt._translate(M,x,O,M),yt._translate(P,x,O,P);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${yt.svgRound(n)} ${yt.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const m=(o-2*s)/(p-2*s),v=(i-2*a)/(g-2*a),S=-m*(d+s)+n+s,C=-v*(h+a)+r+a;if(m!==1||v!==1||S!==0||C!==0)for(const{line:x,points:O}of y(this,js))yt._rescale(x,S,C,m,v,x),yt._rescale(O,S,C,m,v,O);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${yt.svgRound(n)} ${yt.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([n,r],o){const[i,s]=o,a=y(this,Wi),c=n-a[0],d=r-a[1];if(y(this,mc)===i&&y(this,yc)===s)for(const{line:h,points:p}of y(this,js))yt._translate(h,c,d,h),yt._translate(p,c,d,p);else{const h=y(this,mc)/i,p=y(this,yc)/s;G(this,mc,i),G(this,yc,s);for(const{line:g,points:m}of y(this,js))yt._rescale(g,c,d,h,p,g),yt._rescale(m,c,d,h,p,m);a[2]*=h,a[3]*=p}return a[0]=n,a[1]=r,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${yt.svgRound(n)} ${yt.svgRound(r)}`}}}get defaultSVGProperties(){const n=y(this,Wi);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${yt.svgRound(n[0])} ${yt.svgRound(n[1])}`,transform:this.rotationTransform||null},bbox:n}}}Wi=new WeakMap,ZC=new WeakMap,JC=new WeakMap,js=new WeakMap,mc=new WeakMap,yc=new WeakMap,Hb=new WeakMap,jb=new WeakMap,Rg=new WeakMap,pi=new WeakSet,bu=function(n=y(this,Rg)){const r=y(this,JC)+n/2*y(this,Hb);return y(this,jb)%180===0?[r/y(this,mc),r/y(this,yc)]:[r/y(this,yc),r/y(this,mc)]},V7=function(){const[n,r,o,i]=y(this,Wi),[s,a]=J(this,pi,bu).call(this,0);return[n+s,r+a,o-2*s,i-2*a]},z7=function(){const n=G(this,Wi,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:i}of y(this,js)){if(i.length<=12){for(let c=4,d=i.length;c<d;c+=6)Rt.pointBoundingBox(i[c],i[c+1],n);continue}let s=i[4],a=i[5];for(let c=6,d=i.length;c<d;c+=6){const[h,p,g,m,v,S]=i.subarray(c,c+6);Rt.bezierBoundingBox(s,a,h,p,g,m,v,S,n),s=v,a=S}}const[r,o]=J(this,pi,bu).call(this);n[0]=Mi(n[0]-r,0,1),n[1]=Mi(n[1]-o,0,1),n[2]=Mi(n[2]+r,0,1),n[3]=Mi(n[3]+o,0,1),n[2]-=n[0],n[3]-=n[1]},B7=function(n){const[r,o]=J(this,pi,bu).call(this);G(this,Rg,n);const[i,s]=J(this,pi,bu).call(this),[a,c]=[i-r,s-o],d=y(this,Wi);return d[0]-=a,d[1]-=c,d[2]+=2*a,d[3]+=2*c,d};class CI extends F7{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:wr._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,n){e==="stroke-width"&&(n??(n=this["stroke-width"]),n*=this._viewParameters.realScale),super.updateSVGProperty(e,n)}clone(){const e=new CI(this._viewParameters);return e.updateAll(this),e}}var gA,H7;const Ry=class Ry extends FT{constructor(n){super({...n,name:"inkEditor"});Q(this,gA);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(n,r){wr.initialize(n,r),this._defaultDrawingOptions=new CI(r.viewParameters)}static getDefaultDrawingOptions(n){const r=this._defaultDrawingOptions.clone();return r.updateProperties(n),r}static get supportMultipleDrawings(){return!0}static get typesMap(){return pn(this,"typesMap",new Map([[bn.INK_THICKNESS,"stroke-width"],[bn.INK_COLOR,"stroke"],[bn.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(n,r,o,i,s){return new Zve(n,r,o,i,s,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(n,r,o,i,s,a){return LE.deserialize(n,r,o,i,s,a)}static async deserialize(n,r,o){let i=null;if(n instanceof fN){const{data:{inkLists:a,rect:c,rotation:d,id:h,color:p,opacity:g,borderStyle:{rawWidth:m},popupRef:v},parent:{page:{pageNumber:S}}}=n;i=n={annotationType:qt.INK,color:Array.from(p),thickness:m,opacity:g,paths:{points:a},boxes:null,pageIndex:S-1,rect:c.slice(0),rotation:d,annotationElementId:h,id:h,deleted:!1,popupRef:v}}const s=await super.deserialize(n,r,o);return s._initialData=i,s}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:n,_drawingOptions:r,parent:o}=this;r.updateSVGProperty("stroke-width"),o.drawLayer.updateProperties(n,r.toSVGProperties())}static onScaleChangingWhenDrawing(){const n=this._currentParent;n&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:n,thickness:r,opacity:o}){this._drawingOptions=Ry.getDefaultDrawingOptions({stroke:Rt.makeHexColor(...n),"stroke-width":r,"stroke-opacity":o})}serialize(n=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:r,points:o,rect:i}=this.serializeDraw(n),{_drawingOptions:{stroke:s,"stroke-opacity":a,"stroke-width":c}}=this,d={annotationType:qt.INK,color:wr._colorManager.convert(s),opacity:a,thickness:c,paths:{lines:r,points:o},pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return n?(d.isCopy=!0,d):this.annotationElementId&&!J(this,gA,H7).call(this,d)?null:(d.id=this.annotationElementId,d)}renderAnnotationElement(n){const{points:r,rect:o}=this.serializeDraw(!1);return n.updateEdited({rect:o,thickness:this._drawingOptions["stroke-width"],points:r}),null}};gA=new WeakSet,H7=function(n){const{color:r,thickness:o,opacity:i,pageIndex:s}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||n.color.some((a,c)=>a!==r[c])||n.thickness!==o||n.opacity!==i||n.pageIndex!==s},je(Ry,"_type","ink"),je(Ry,"_editorType",qt.INK),je(Ry,"_defaultDrawingOptions",null);let ED=Ry;class xD extends LE{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const L1=8,qw=3;var Pg,jn,_D,vl,j7,U7,TD,M_,G7,W7,q7,AD,ID,K7;class _c{static extractContoursFromText(e,{fontFamily:n,fontStyle:r,fontWeight:o},i,s,a,c){let d=new OffscreenCanvas(1,1),h=d.getContext("2d",{alpha:!1});const p=200,g=h.font=`${r} ${o} ${p}px ${n}`,{actualBoundingBoxLeft:m,actualBoundingBoxRight:v,actualBoundingBoxAscent:S,actualBoundingBoxDescent:C,fontBoundingBoxAscent:x,fontBoundingBoxDescent:O,width:M}=h.measureText(e),P=1.5,k=Math.ceil(Math.max(Math.abs(m)+Math.abs(v)||0,M)*P),$=Math.ceil(Math.max(Math.abs(S)+Math.abs(C)||p,Math.abs(x)+Math.abs(O)||p)*P);d=new OffscreenCanvas(k,$),h=d.getContext("2d",{alpha:!0,willReadFrequently:!0}),h.font=g,h.filter="grayscale(1)",h.fillStyle="white",h.fillRect(0,0,k,$),h.fillStyle="black",h.fillText(e,k*(P-1)/2,$*(3-P)/2);const D=J(this,jn,AD).call(this,h.getImageData(0,0,k,$).data),I=J(this,jn,q7).call(this,D),A=J(this,jn,ID).call(this,I),N=J(this,jn,TD).call(this,D,k,$,A);return this.processDrawnLines({lines:{curves:N,width:k,height:$},pageWidth:i,pageHeight:s,rotation:a,innerMargin:c,mustSmooth:!0,areContours:!0})}static process(e,n,r,o,i){const[s,a,c]=J(this,jn,K7).call(this,e),[d,h]=J(this,jn,W7).call(this,s,a,c,Math.hypot(a,c)*y(this,Pg).sigmaSFactor,y(this,Pg).sigmaR,y(this,Pg).kernelSize),p=J(this,jn,ID).call(this,h),g=J(this,jn,TD).call(this,d,a,c,p);return this.processDrawnLines({lines:{curves:g,width:a,height:c},pageWidth:n,pageHeight:r,rotation:o,innerMargin:i,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:n,pageHeight:r,rotation:o,innerMargin:i,mustSmooth:s,areContours:a}){o%180!==0&&([n,r]=[r,n]);const{curves:c,width:d,height:h}=e,p=e.thickness??0,g=[],m=Math.min(n/d,r/h),v=m/n,S=m/r,C=[];for(const{points:O}of c){const M=s?J(this,jn,G7).call(this,O):O;if(!M)continue;C.push(M);const P=M.length,k=new Float32Array(P),$=new Float32Array(3*(P===2?2:P-2));if(g.push({line:$,points:k}),P===2){k[0]=M[0]*v,k[1]=M[1]*S,$.set([NaN,NaN,NaN,NaN,k[0],k[1]],0);continue}let[D,I,A,N]=M;D*=v,I*=S,A*=v,N*=S,k.set([D,I,A,N],0),$.set([NaN,NaN,NaN,NaN,D,I],0);for(let F=4;F<P;F+=2){const R=k[F]=M[F]*v,V=k[F+1]=M[F+1]*S;$.set(yt.createBezierPoints(D,I,A,N,R,V),(F-2)*3),[D,I,A,N]=[A,N,R,V]}}if(g.length===0)return null;const x=a?new xD:new LE;return x.build(g,n,r,1,o,a?0:p,i),{outline:x,newCurves:C,areContours:a,thickness:p,width:d,height:h}}static async compressSignature({outlines:e,areContours:n,thickness:r,width:o,height:i}){let s=1/0,a=-1/0,c=0;for(const M of e){c+=M.length;for(let P=2,k=M.length;P<k;P++){const $=M[P]-M[P-2];s=Math.min(s,$),a=Math.max(a,$)}}let d;s>=-128&&a<=127?d=Int8Array:s>=-32768&&a<=32767?d=Int16Array:d=Int32Array;const h=e.length,p=L1+qw*h,g=new Uint32Array(p);let m=0;g[m++]=p*Uint32Array.BYTES_PER_ELEMENT+(c-2*h)*d.BYTES_PER_ELEMENT,g[m++]=0,g[m++]=o,g[m++]=i,g[m++]=n?0:1,g[m++]=Math.max(0,Math.floor(r??0)),g[m++]=h,g[m++]=d.BYTES_PER_ELEMENT;for(const M of e)g[m++]=M.length-2,g[m++]=M[0],g[m++]=M[1];const v=new CompressionStream("deflate-raw"),S=v.writable.getWriter();await S.ready,S.write(g);const C=d.prototype.constructor;for(const M of e){const P=new C(M.length-2);for(let k=2,$=M.length;k<$;k++)P[k-2]=M[k]-M[k-2];S.write(P)}S.close();const x=await new Response(v.readable).arrayBuffer(),O=new Uint8Array(x);return G9(O)}static async decompressSignature(e){try{const n=Ibe(e),{readable:r,writable:o}=new DecompressionStream("deflate-raw"),i=o.getWriter();await i.ready,i.write(n).then(async()=>{await i.ready,await i.close()}).catch(()=>{});let s=null,a=0;for await(const M of r)s||(s=new Uint8Array(new Uint32Array(M.buffer,0,4)[0])),s.set(M,a),a+=M.length;const c=new Uint32Array(s.buffer,0,s.length>>2),d=c[1];if(d!==0)throw new Error(`Invalid version: ${d}`);const h=c[2],p=c[3],g=c[4]===0,m=c[5],v=c[6],S=c[7],C=[],x=(L1+qw*v)*Uint32Array.BYTES_PER_ELEMENT;let O;switch(S){case Int8Array.BYTES_PER_ELEMENT:O=new Int8Array(s.buffer,x);break;case Int16Array.BYTES_PER_ELEMENT:O=new Int16Array(s.buffer,x);break;case Int32Array.BYTES_PER_ELEMENT:O=new Int32Array(s.buffer,x);break}a=0;for(let M=0;M<v;M++){const P=c[qw*M+L1],k=new Float32Array(P+2);C.push(k);for(let $=0;$<qw-1;$++)k[$]=c[qw*M+L1+$+1];for(let $=0;$<P;$++)k[$+2]=k[$]+O[a++]}return{areContours:g,thickness:m,outlines:C,width:h,height:p}}catch(n){return Xt(`decompressSignature: ${n}`),null}}}Pg=new WeakMap,jn=new WeakSet,_D=function(e,n,r,o){return r-=e,o-=n,r===0?o>0?0:4:r===1?o+6:2-o},vl=new WeakMap,j7=function(e,n,r,o,i,s,a){const c=J(this,jn,_D).call(this,r,o,i,s);for(let d=0;d<8;d++){const h=(-d+c-a+16)%8,p=y(this,vl)[2*h],g=y(this,vl)[2*h+1];if(e[(r+p)*n+(o+g)]!==0)return h}return-1},U7=function(e,n,r,o,i,s,a){const c=J(this,jn,_D).call(this,r,o,i,s);for(let d=0;d<8;d++){const h=(d+c+a+16)%8,p=y(this,vl)[2*h],g=y(this,vl)[2*h+1];if(e[(r+p)*n+(o+g)]!==0)return h}return-1},TD=function(e,n,r,o){const i=e.length,s=new Int32Array(i);for(let h=0;h<i;h++)s[h]=e[h]<=o?1:0;for(let h=1;h<r-1;h++)s[h*n]=s[h*n+n-1]=0;for(let h=0;h<n;h++)s[h]=s[n*r-1-h]=0;let a=1,c;const d=[];for(let h=1;h<r-1;h++){c=1;for(let p=1;p<n-1;p++){const g=h*n+p,m=s[g];if(m===0)continue;let v=h,S=p;if(m===1&&s[g-1]===0)a+=1,S-=1;else if(m>=1&&s[g+1]===0)a+=1,S+=1,m>1&&(c=m);else{m!==1&&(c=Math.abs(m));continue}const C=[p,h],x=S===p+1,O={isHole:x,points:C,id:a,parent:0};d.push(O);let M;for(const F of d)if(F.id===c){M=F;break}M?M.isHole?O.parent=x?M.parent:c:O.parent=x?c:M.parent:O.parent=x?c:0;const P=J(this,jn,j7).call(this,s,n,h,p,v,S,0);if(P===-1){s[g]=-a,s[g]!==1&&(c=Math.abs(s[g]));continue}let k=y(this,vl)[2*P],$=y(this,vl)[2*P+1];const D=h+k,I=p+$;v=D,S=I;let A=h,N=p;for(;;){const F=J(this,jn,U7).call(this,s,n,A,N,v,S,1);k=y(this,vl)[2*F],$=y(this,vl)[2*F+1];const R=A+k,V=N+$;C.push(V,R);const q=A*n+N;if(s[q+1]===0?s[q]=-a:s[q]===1&&(s[q]=a),R===h&&V===p&&A===D&&N===I){s[g]!==1&&(c=Math.abs(s[g]));break}else v=A,S=N,A=R,N=V}}}return d},M_=function(e,n,r,o){if(r-n<=4){for(let D=n;D<r-2;D+=2)o.push(e[D],e[D+1]);return}const i=e[n],s=e[n+1],a=e[r-4]-i,c=e[r-3]-s,d=Math.hypot(a,c),h=a/d,p=c/d,g=h*s-p*i,m=c/a,v=1/d,S=Math.atan(m),C=Math.cos(S),x=Math.sin(S),O=v*(Math.abs(C)+Math.abs(x)),M=v*(1-O+O**2),P=Math.max(Math.atan(Math.abs(x+C)*M),Math.atan(Math.abs(x-C)*M));let k=0,$=n;for(let D=n+2;D<r-2;D+=2){const I=Math.abs(g-h*e[D+1]+p*e[D]);I>k&&($=D,k=I)}k>(d*P)**2?(J(this,jn,M_).call(this,e,n,$+2,o),J(this,jn,M_).call(this,e,$,r,o)):o.push(i,s)},G7=function(e){const n=[],r=e.length;return J(this,jn,M_).call(this,e,0,r,n),n.push(e[r-2],e[r-1]),n.length<=4?null:n},W7=function(e,n,r,o,i,s){const a=new Float32Array(s**2),c=-2*o**2,d=s>>1;for(let S=0;S<s;S++){const C=(S-d)**2;for(let x=0;x<s;x++)a[S*s+x]=Math.exp((C+(x-d)**2)/c)}const h=new Float32Array(256),p=-2*i**2;for(let S=0;S<256;S++)h[S]=Math.exp(S**2/p);const g=e.length,m=new Uint8Array(g),v=new Uint32Array(256);for(let S=0;S<r;S++)for(let C=0;C<n;C++){const x=S*n+C,O=e[x];let M=0,P=0;for(let $=0;$<s;$++){const D=S+$-d;if(!(D<0||D>=r))for(let I=0;I<s;I++){const A=C+I-d;if(A<0||A>=n)continue;const N=e[D*n+A],F=a[$*s+I]*h[Math.abs(N-O)];M+=N*F,P+=F}}const k=m[x]=Math.round(M/P);v[k]++}return[m,v]},q7=function(e){const n=new Uint32Array(256);for(const r of e)n[r]++;return n},AD=function(e){const n=e.length,r=new Uint8ClampedArray(n>>2);let o=-1/0,i=1/0;for(let a=0,c=r.length;a<c;a++){if(e[(a<<2)+3]===0){o=r[a]=255;continue}const h=r[a]=e[a<<2];h>o&&(o=h),h<i&&(i=h)}const s=255/(o-i);for(let a=0;a<n;a++)r[a]=(r[a]-i)*s;return r},ID=function(e){let n,r=-1/0,o=-1/0;const i=e.findIndex(c=>c!==0);let s=i,a=i;for(n=i;n<256;n++){const c=e[n];c>r&&(n-s>o&&(o=n-s,a=n-1),r=c,s=n)}for(n=a-1;n>=0&&!(e[n]>e[n+1]);n--);return n},K7=function(e){const n=e,{width:r,height:o}=e,{maxDim:i}=y(this,Pg);let s=r,a=o;if(r>i||o>i){let g=r,m=o,v=Math.log2(Math.max(r,o)/i);const S=Math.floor(v);v=v===S?S-1:S;for(let x=0;x<v;x++){s=Math.ceil(g/2),a=Math.ceil(m/2);const O=new OffscreenCanvas(s,a);O.getContext("2d").drawImage(e,0,0,g,m,0,0,s,a),g=s,m=a,e!==n&&e.close(),e=O.transferToImageBitmap()}const C=Math.min(i/s,i/a);s=Math.round(s*C),a=Math.round(a*C)}const d=new OffscreenCanvas(s,a).getContext("2d",{willReadFrequently:!0});d.filter="grayscale(1)",d.drawImage(e,0,0,e.width,e.height,0,0,s,a);const h=d.getImageData(0,0,s,a).data;return[J(this,jn,AD).call(this,h),s,a]},Q(_c,jn),Q(_c,Pg,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),Q(_c,vl,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class gN extends F7{constructor(){super(),super.updateProperties({fill:wr._defaultLineColor,"stroke-width":0})}clone(){const e=new gN;return e.updateAll(this),e}}class mN extends CI{constructor(e){super(e),super.updateProperties({stroke:wr._defaultLineColor,"stroke-width":1})}clone(){const e=new mN(this._viewParameters);return e.updateAll(this),e}}var Hh,bc,jh,Mg;const Ms=class Ms extends FT{constructor(n){super({...n,mustBeCommitted:!0,name:"signatureEditor"});Q(this,Hh,!1);Q(this,bc,null);Q(this,jh,null);Q(this,Mg,null);this._willKeepAspectRatio=!0,G(this,jh,n.signatureData||null),G(this,bc,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(n,r){wr.initialize(n,r),this._defaultDrawingOptions=new gN,this._defaultDrawnSignatureOptions=new mN(r.viewParameters)}static getDefaultDrawingOptions(n){const r=this._defaultDrawingOptions.clone();return r.updateProperties(n),r}static get supportMultipleDrawings(){return!1}static get typesMap(){return pn(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!y(this,bc)}}static computeTelemetryFinalData(n){const r=n.get("hasDescription");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let n,r;const{_isCopy:o}=this;if(o&&(this._isCopy=!1,n=this.x,r=this.y),super.render(),this._drawId===null)if(y(this,jh)){const{lines:i,mustSmooth:s,areContours:a,description:c,uuid:d,heightInPage:h}=y(this,jh),{rawDims:{pageWidth:p,pageHeight:g},rotation:m}=this.parent.viewport,v=_c.processDrawnLines({lines:i,pageWidth:p,pageHeight:g,rotation:m,innerMargin:Ms._INNER_MARGIN,mustSmooth:s,areContours:a});this.addSignature(v,h,c,d)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return o&&(this._isCopy=!0,this._moveAfterPaste(n,r)),this.div}setUuid(n){G(this,Mg,n),this.addEditToolbar()}getUuid(){return y(this,Mg)}get description(){return y(this,bc)}set description(n){G(this,bc,n),super.addEditToolbar().then(r=>{r==null||r.updateEditSignatureButton(n)})}getSignaturePreview(){const{newCurves:n,areContours:r,thickness:o,width:i,height:s}=y(this,jh),a=Math.max(i,s),c=_c.processDrawnLines({lines:{curves:n.map(d=>({points:d})),thickness:o,width:i,height:s},pageWidth:a,pageHeight:a,rotation:0,innerMargin:0,mustSmooth:!1,areContours:r});return{areContours:r,outline:c.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(n,r,o,i){const{x:s,y:a}=this,{outline:c}=G(this,jh,n);G(this,Hh,c instanceof xD),this.description=o,this.div.setAttribute("data-l10n-args",JSON.stringify({description:o}));let d;y(this,Hh)?d=Ms.getDefaultDrawingOptions():(d=Ms._defaultDrawnSignatureOptions.clone(),d.updateProperties({"stroke-width":c.thickness})),this._addOutlines({drawOutlines:c,drawingOptions:d});const[h,p]=this.parentDimensions,[,g]=this.pageDimensions;let m=r/g;m=m>=1?.5:m,this.width*=m/this.height,this.width>=1&&(m*=.9/this.width,this.width=.9),this.height=m,this.setDims(h*this.width,p*this.height),this.x=s,this.y=a,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(i),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!i,hasDescription:!!o}}),this.div.hidden=!1}getFromImage(n){const{rawDims:{pageWidth:r,pageHeight:o},rotation:i}=this.parent.viewport;return _c.process(n,r,o,i,Ms._INNER_MARGIN)}getFromText(n,r){const{rawDims:{pageWidth:o,pageHeight:i},rotation:s}=this.parent.viewport;return _c.extractContoursFromText(n,r,o,i,s,Ms._INNER_MARGIN)}getDrawnSignature(n){const{rawDims:{pageWidth:r,pageHeight:o},rotation:i}=this.parent.viewport;return _c.processDrawnLines({lines:n,pageWidth:r,pageHeight:o,rotation:i,innerMargin:Ms._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:n,thickness:r}){n?this._drawingOptions=Ms.getDefaultDrawingOptions():(this._drawingOptions=Ms._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":r}))}serialize(n=!1){if(this.isEmpty())return null;const{lines:r,points:o,rect:i}=this.serializeDraw(n),{_drawingOptions:{"stroke-width":s}}=this,a={annotationType:qt.SIGNATURE,isSignature:!0,areContours:y(this,Hh),color:[0,0,0],thickness:y(this,Hh)?0:s,pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return n?(a.paths={lines:r,points:o},a.uuid=y(this,Mg),a.isCopy=!0):a.lines=r,y(this,bc)&&(a.accessibilityData={type:"Figure",alt:y(this,bc)}),a}static deserializeDraw(n,r,o,i,s,a){return a.areContours?xD.deserialize(n,r,o,i,s,a):LE.deserialize(n,r,o,i,s,a)}static async deserialize(n,r,o){var s;const i=await super.deserialize(n,r,o);return G(i,Hh,n.areContours),G(i,bc,((s=n.accessibilityData)==null?void 0:s.alt)||""),G(i,Mg,n.uuid),i}};Hh=new WeakMap,bc=new WeakMap,jh=new WeakMap,Mg=new WeakMap,je(Ms,"_type","signature"),je(Ms,"_editorType",qt.SIGNATURE),je(Ms,"_defaultDrawingOptions",null);let RD=Ms;var Mr,Ko,Uh,qu,Gh,Ub,Ku,kg,vc,Us,Gb,Pn,A0,I0,k_,O_,D_,MD,L_,Y7;class PD extends wr{constructor(n){super({...n,name:"stampEditor"});Q(this,Pn);Q(this,Mr,null);Q(this,Ko,null);Q(this,Uh,null);Q(this,qu,null);Q(this,Gh,null);Q(this,Ub,"");Q(this,Ku,null);Q(this,kg,!1);Q(this,vc,null);Q(this,Us,!1);Q(this,Gb,!1);G(this,qu,n.bitmapUrl),G(this,Gh,n.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(n,r){wr.initialize(n,r)}static isHandlingMimeForPasting(n){return OT.includes(n)}static paste(n,r){r.pasteEditor({mode:qt.STAMP},{bitmapFile:n.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var n;return{type:"stamp",hasAltText:!!((n=this.altTextData)!=null&&n.altText)}}static computeTelemetryFinalData(n){const r=n.get("hasAltText");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}async mlGuessAltText(n=null,r=!0){if(this.hasAltTextData())return null;const{mlManager:o}=this._uiManager;if(!o)throw new Error("No ML.");if(!await o.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:i,width:s,height:a}=n||this.copyCanvas(null,null,!0).imageData,c=await o.guess({name:"altText",request:{data:i,width:s,height:a,channels:i.length/(s*a)}});if(!c)throw new Error("No response from the AI service.");if(c.error)throw new Error("Error from the AI service.");if(c.cancel)return null;if(!c.output)throw new Error("No valid response from the AI service.");const d=c.output;return await this.setGuessedAltText(d),r&&!this.hasAltTextData()&&(this.altTextData={alt:d,decorative:!1}),d}remove(){var n;y(this,Ko)&&(G(this,Mr,null),this._uiManager.imageManager.deleteId(y(this,Ko)),(n=y(this,Ku))==null||n.remove(),G(this,Ku,null),y(this,vc)&&(clearTimeout(y(this,vc)),G(this,vc,null))),super.remove()}rebuild(){if(!this.parent){y(this,Ko)&&J(this,Pn,k_).call(this);return}super.rebuild(),this.div!==null&&(y(this,Ko)&&y(this,Ku)===null&&J(this,Pn,k_).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(n){this._isDraggable=!0,n&&this.div.focus()}isEmpty(){return!(y(this,Uh)||y(this,Mr)||y(this,qu)||y(this,Gh)||y(this,Ko)||y(this,kg))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let n,r;return this._isCopy&&(n=this.x,r=this.y),super.render(),this.div.hidden=!0,this.createAltText(),y(this,kg)||(y(this,Mr)?J(this,Pn,O_).call(this):J(this,Pn,k_).call(this)),this._isCopy&&this._moveAfterPaste(n,r),this._uiManager.addShouldRescale(this),this.div}setCanvas(n,r){const{id:o,bitmap:i}=this._uiManager.imageManager.getFromCanvas(n,r);r.remove(),o&&this._uiManager.imageManager.isValidId(o)&&(G(this,Ko,o),i&&G(this,Mr,i),G(this,kg,!1),J(this,Pn,O_).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;y(this,vc)!==null&&clearTimeout(y(this,vc)),G(this,vc,setTimeout(()=>{G(this,vc,null),J(this,Pn,MD).call(this)},200))}copyCanvas(n,r,o=!1){var m;n||(n=224);const{width:i,height:s}=y(this,Mr),a=new Dl;let c=y(this,Mr),d=i,h=s,p=null;if(r){if(i>r||s>r){const I=Math.min(r/i,r/s);d=Math.floor(i*I),h=Math.floor(s*I)}p=document.createElement("canvas");const v=p.width=Math.ceil(d*a.sx),S=p.height=Math.ceil(h*a.sy);y(this,Us)||(c=J(this,Pn,D_).call(this,v,S));const C=p.getContext("2d");C.filter=this._uiManager.hcmFilter;let x="white",O="#cfcfd8";this._uiManager.hcmFilter!=="none"?O="black":(m=window.matchMedia)!=null&&m.call(window,"(prefers-color-scheme: dark)").matches&&(x="#8f8f9d",O="#42414d");const M=15,P=M*a.sx,k=M*a.sy,$=new OffscreenCanvas(P*2,k*2),D=$.getContext("2d");D.fillStyle=x,D.fillRect(0,0,P*2,k*2),D.fillStyle=O,D.fillRect(0,0,P,k),D.fillRect(P,k,P,k),C.fillStyle=C.createPattern($,"repeat"),C.fillRect(0,0,v,S),C.drawImage(c,0,0,c.width,c.height,0,0,v,S)}let g=null;if(o){let v,S;if(a.symmetric&&c.width<n&&c.height<n)v=c.width,S=c.height;else if(c=y(this,Mr),i>n||s>n){const O=Math.min(n/i,n/s);v=Math.floor(i*O),S=Math.floor(s*O),y(this,Us)||(c=J(this,Pn,D_).call(this,v,S))}const x=new OffscreenCanvas(v,S).getContext("2d",{willReadFrequently:!0});x.drawImage(c,0,0,c.width,c.height,0,0,v,S),g={width:v,height:S,data:x.getImageData(0,0,v,S).data}}return{canvas:p,width:d,height:h,imageData:g}}static async deserialize(n,r,o){var C;let i=null,s=!1;if(n instanceof u7){const{data:{rect:x,rotation:O,id:M,structParent:P,popupRef:k},container:$,parent:{page:{pageNumber:D}},canvas:I}=n;let A,N;I?(delete n.canvas,{id:A,bitmap:N}=o.imageManager.getFromCanvas($.id,I),I.remove()):(s=!0,n._hasNoCanvas=!0);const F=((C=await r._structTree.getAriaAttributes(`${iN}${M}`))==null?void 0:C.get("aria-label"))||"";i=n={annotationType:qt.STAMP,bitmapId:A,bitmap:N,pageIndex:D-1,rect:x.slice(0),rotation:O,annotationElementId:M,id:M,deleted:!1,accessibilityData:{decorative:!1,altText:F},isSvg:!1,structParent:P,popupRef:k}}const a=await super.deserialize(n,r,o),{rect:c,bitmap:d,bitmapUrl:h,bitmapId:p,isSvg:g,accessibilityData:m}=n;s?(o.addMissingCanvas(n.id,a),G(a,kg,!0)):p&&o.imageManager.isValidId(p)?(G(a,Ko,p),d&&G(a,Mr,d)):G(a,qu,h),G(a,Us,g);const[v,S]=a.pageDimensions;return a.width=(c[2]-c[0])/v,a.height=(c[3]-c[1])/S,m&&(a.altTextData=m),a._initialData=i,G(a,Gb,!!i),a}serialize(n=!1,r=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const o={annotationType:qt.STAMP,bitmapId:y(this,Ko),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:y(this,Us),structTreeParentId:this._structTreeParentId};if(n)return o.bitmapUrl=J(this,Pn,L_).call(this,!0),o.accessibilityData=this.serializeAltText(!0),o.isCopy=!0,o;const{decorative:i,altText:s}=this.serializeAltText(!1);if(!i&&s&&(o.accessibilityData={type:"Figure",alt:s}),this.annotationElementId){const c=J(this,Pn,Y7).call(this,o);if(c.isSame)return null;c.isSameAltText?delete o.accessibilityData:o.accessibilityData.structParent=this._initialData.structParent??-1}if(o.id=this.annotationElementId,r===null)return o;r.stamps||(r.stamps=new Map);const a=y(this,Us)?(o.rect[2]-o.rect[0])*(o.rect[3]-o.rect[1]):null;if(!r.stamps.has(y(this,Ko)))r.stamps.set(y(this,Ko),{area:a,serialized:o}),o.bitmap=J(this,Pn,L_).call(this,!1);else if(y(this,Us)){const c=r.stamps.get(y(this,Ko));a>c.area&&(c.area=a,c.serialized.bitmap.close(),c.serialized.bitmap=J(this,Pn,L_).call(this,!1))}return o}renderAnnotationElement(n){return n.updateEdited({rect:this.getRect(0,0)}),null}}Mr=new WeakMap,Ko=new WeakMap,Uh=new WeakMap,qu=new WeakMap,Gh=new WeakMap,Ub=new WeakMap,Ku=new WeakMap,kg=new WeakMap,vc=new WeakMap,Us=new WeakMap,Gb=new WeakMap,Pn=new WeakSet,A0=function(n,r=!1){if(!n){this.remove();return}G(this,Mr,n.bitmap),r||(G(this,Ko,n.id),G(this,Us,n.isSvg)),n.file&&G(this,Ub,n.file.name),J(this,Pn,O_).call(this)},I0=function(){if(G(this,Uh,null),this._uiManager.enableWaiting(!1),!!y(this,Ku)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&y(this,Mr)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&y(this,Mr)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},k_=function(){if(y(this,Ko)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(y(this,Ko)).then(o=>J(this,Pn,A0).call(this,o,!0)).finally(()=>J(this,Pn,I0).call(this));return}if(y(this,qu)){const o=y(this,qu);G(this,qu,null),this._uiManager.enableWaiting(!0),G(this,Uh,this._uiManager.imageManager.getFromUrl(o).then(i=>J(this,Pn,A0).call(this,i)).finally(()=>J(this,Pn,I0).call(this)));return}if(y(this,Gh)){const o=y(this,Gh);G(this,Gh,null),this._uiManager.enableWaiting(!0),G(this,Uh,this._uiManager.imageManager.getFromFile(o).then(i=>J(this,Pn,A0).call(this,i)).finally(()=>J(this,Pn,I0).call(this)));return}const n=document.createElement("input");n.type="file",n.accept=OT.join(",");const r=this._uiManager._signal;G(this,Uh,new Promise(o=>{n.addEventListener("change",async()=>{if(!n.files||n.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const i=await this._uiManager.imageManager.getFromFile(n.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),J(this,Pn,A0).call(this,i)}o()},{signal:r}),n.addEventListener("cancel",()=>{this.remove(),o()},{signal:r})}).finally(()=>J(this,Pn,I0).call(this))),n.click()},O_=function(){var p;const{div:n}=this;let{width:r,height:o}=y(this,Mr);const[i,s]=this.pageDimensions,a=.75;if(this.width)r=this.width*i,o=this.height*s;else if(r>a*i||o>a*s){const g=Math.min(a*i/r,a*s/o);r*=g,o*=g}const[c,d]=this.parentDimensions;this.setDims(r*c/i,o*d/s),this._uiManager.enableWaiting(!1);const h=G(this,Ku,document.createElement("canvas"));h.setAttribute("role","img"),this.addContainer(h),this.width=r/i,this.height=o/s,(p=this._initialOptions)!=null&&p.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(n.hidden=!1),J(this,Pn,MD).call(this),y(this,Gb)||(this.parent.addUndoableEditor(this),G(this,Gb,!0)),this._reportTelemetry({action:"inserted_image"}),y(this,Ub)&&this.div.setAttribute("aria-description",y(this,Ub)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},D_=function(n,r){const{width:o,height:i}=y(this,Mr);let s=o,a=i,c=y(this,Mr);for(;s>2*n||a>2*r;){const d=s,h=a;s>2*n&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),a>2*r&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const p=new OffscreenCanvas(s,a);p.getContext("2d").drawImage(c,0,0,d,h,0,0,s,a),c=p.transferToImageBitmap()}return c},MD=function(){const[n,r]=this.parentDimensions,{width:o,height:i}=this,s=new Dl,a=Math.ceil(o*n*s.sx),c=Math.ceil(i*r*s.sy),d=y(this,Ku);if(!d||d.width===a&&d.height===c)return;d.width=a,d.height=c;const h=y(this,Us)?y(this,Mr):J(this,Pn,D_).call(this,a,c),p=d.getContext("2d");p.filter=this._uiManager.hcmFilter,p.drawImage(h,0,0,h.width,h.height,0,0,a,c)},L_=function(n){if(n){if(y(this,Us)){const i=this._uiManager.imageManager.getSvgUrl(y(this,Ko));if(i)return i}const r=document.createElement("canvas");return{width:r.width,height:r.height}=y(this,Mr),r.getContext("2d").drawImage(y(this,Mr),0,0),r.toDataURL()}if(y(this,Us)){const[r,o]=this.pageDimensions,i=Math.round(this.width*r*vd.PDF_TO_CSS_UNITS),s=Math.round(this.height*o*vd.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(i,s);return a.getContext("2d").drawImage(y(this,Mr),0,0,y(this,Mr).width,y(this,Mr).height,0,0,i,s),a.transferToImageBitmap()}return structuredClone(y(this,Mr))},Y7=function(n){var a;const{pageIndex:r,accessibilityData:{altText:o}}=this._initialData,i=n.pageIndex===r,s=(((a=n.accessibilityData)==null?void 0:a.alt)||"")===o;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&i&&s,isSameAltText:s}},je(PD,"_type","stamp"),je(PD,"_editorType",qt.STAMP);var Og,Wb,wc,Wh,Yu,Gs,qh,qb,Dg,wl,Xu,Yo,Qu,Kh,Kb,_t,Yh,kr,X7,ec,kD,OD,N_;const ll=class ll{constructor({uiManager:e,pageIndex:n,div:r,structTreeLayer:o,accessibilityManager:i,annotationLayer:s,drawLayer:a,textLayer:c,viewport:d,l10n:h}){Q(this,kr);Q(this,Og);Q(this,Wb,!1);Q(this,wc,null);Q(this,Wh,null);Q(this,Yu,null);Q(this,Gs,new Map);Q(this,qh,!1);Q(this,qb,!1);Q(this,Dg,!1);Q(this,wl,null);Q(this,Xu,null);Q(this,Yo,null);Q(this,Qu,null);Q(this,Kh,null);Q(this,Kb,-1);Q(this,_t);const p=[...y(ll,Yh).values()];if(!ll._initialized){ll._initialized=!0;for(const g of p)g.initialize(h,e)}e.registerEditorTypes(p),G(this,_t,e),this.pageIndex=n,this.div=r,G(this,Og,i),G(this,wc,s),this.viewport=d,G(this,Yo,c),this.drawLayer=a,this._structTree=o,y(this,_t).addLayer(this)}get isEmpty(){return y(this,Gs).size===0}get isInvisible(){return this.isEmpty&&y(this,_t).getMode()===qt.NONE}updateToolbar(e){y(this,_t).updateToolbar(e)}updateMode(e=y(this,_t).getMode()){switch(J(this,kr,N_).call(this),e){case qt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case qt.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case qt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:n}=this.div;for(const r of y(ll,Yh).values())n.toggle(`${r._type}Editing`,e===r._editorType);this.div.hidden=!1}hasTextLayer(e){var n;return e===((n=y(this,Yo))==null?void 0:n.div)}setEditingState(e){y(this,_t).setEditingState(e)}addCommands(e){y(this,_t).addCommands(e)}cleanUndoStack(e){y(this,_t).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var n;(n=y(this,wc))==null||n.div.classList.toggle("disabled",!e)}async enable(){var r;G(this,Dg,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),(r=y(this,Kh))==null||r.abort(),G(this,Kh,null);const e=new Set;for(const o of y(this,Gs).values())o.enableEditing(),o.show(!0),o.annotationElementId&&(y(this,_t).removeChangedExistingAnnotation(o),e.add(o.annotationElementId));if(!y(this,wc)){G(this,Dg,!1);return}const n=y(this,wc).getEditableAnnotations();for(const o of n){if(o.hide(),y(this,_t).isDeletedAnnotationElement(o.data.id)||e.has(o.data.id))continue;const i=await this.deserialize(o);i&&(this.addOrRebuild(i),i.enableEditing())}G(this,Dg,!1)}disable(){var o;if(G(this,qb,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),y(this,Yo)&&!y(this,Kh)){G(this,Kh,new AbortController);const i=y(this,_t).combinedSignal(y(this,Kh));y(this,Yo).div.addEventListener("pointerdown",s=>{const{clientX:c,clientY:d,timeStamp:h}=s,p=y(this,Kb);if(h-p>500){G(this,Kb,h);return}G(this,Kb,-1);const{classList:g}=this.div;g.toggle("getElements",!0);const m=document.elementsFromPoint(c,d);if(g.toggle("getElements",!1),!this.div.contains(m[0]))return;let v;const S=new RegExp(`^${z9}[0-9]+$`);for(const x of m)if(S.test(x.id)){v=x.id;break}if(!v)return;const C=y(this,Gs).get(v);(C==null?void 0:C.annotationElementId)===null&&(s.stopPropagation(),s.preventDefault(),C.dblclick())},{signal:i,capture:!0})}const e=new Map,n=new Map;for(const i of y(this,Gs).values())if(i.disableEditing(),!!i.annotationElementId){if(i.serialize()!==null){e.set(i.annotationElementId,i);continue}else n.set(i.annotationElementId,i);(o=this.getEditableAnnotation(i.annotationElementId))==null||o.show(),i.remove()}if(y(this,wc)){const i=y(this,wc).getEditableAnnotations();for(const s of i){const{id:a}=s.data;if(y(this,_t).isDeletedAnnotationElement(a))continue;let c=n.get(a);if(c){c.resetAnnotationElement(s),c.show(!1),s.show();continue}c=e.get(a),c&&(y(this,_t).addChangedExistingAnnotation(c),c.renderAnnotationElement(s)&&c.show(!1)),s.show()}}J(this,kr,N_).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const i of y(ll,Yh).values())r.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),G(this,qb,!1)}getEditableAnnotation(e){var n;return((n=y(this,wc))==null?void 0:n.getEditableAnnotation(e))||null}setActiveEditor(e){y(this,_t).getActive()!==e&&y(this,_t).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=y(this,Yo))!=null&&e.div&&!y(this,Qu)){G(this,Qu,new AbortController);const n=y(this,_t).combinedSignal(y(this,Qu));y(this,Yo).div.addEventListener("pointerdown",J(this,kr,X7).bind(this),{signal:n}),y(this,Yo).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=y(this,Yo))!=null&&e.div&&y(this,Qu)&&(y(this,Qu).abort(),G(this,Qu,null),y(this,Yo).div.classList.remove("highlighting"))}enableClick(){if(y(this,Wh))return;G(this,Wh,new AbortController);const e=y(this,_t).combinedSignal(y(this,Wh));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const n=this.pointerup.bind(this);this.div.addEventListener("pointerup",n,{signal:e}),this.div.addEventListener("pointercancel",n,{signal:e})}disableClick(){var e;(e=y(this,Wh))==null||e.abort(),G(this,Wh,null)}attach(e){y(this,Gs).set(e.id,e);const{annotationElementId:n}=e;n&&y(this,_t).isDeletedAnnotationElement(n)&&y(this,_t).removeDeletedAnnotationElement(e)}detach(e){var n;y(this,Gs).delete(e.id),(n=y(this,Og))==null||n.removePointerInTextLayer(e.contentDiv),!y(this,qb)&&e.annotationElementId&&y(this,_t).addDeletedAnnotationElement(e)}remove(e){this.detach(e),y(this,_t).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var n;e.parent!==this&&(e.parent&&e.annotationElementId&&(y(this,_t).addDeletedAnnotationElement(e.annotationElementId),wr.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(n=e.parent)==null||n.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),y(this,_t).addEditor(e),this.attach(e),!e.isAttachedToDOM){const n=e.render();this.div.append(n),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!y(this,Dg)),y(this,_t).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:n}=document;e.div.contains(n)&&!y(this,Yu)&&(e._focusEventsAllowed=!1,G(this,Yu,setTimeout(()=>{G(this,Yu,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:y(this,_t)._signal}),n.focus())},0))),e._structTreeParentId=(r=y(this,Og))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const n=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:n,undo:r,mustExec:!1})}getNextId(){return y(this,_t).getId()}combinedSignal(e){return y(this,_t).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=y(this,kr,ec))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,n){this.updateToolbar(e),await y(this,_t).updateMode(e.mode);const{offsetX:r,offsetY:o}=J(this,kr,OD).call(this),i=this.getNextId(),s=J(this,kr,kD).call(this,{parent:this,id:i,x:r,y:o,uiManager:y(this,_t),isCentered:!0,...n});s&&this.add(s)}async deserialize(e){var n;return await((n=y(ll,Yh).get(e.annotationType??e.annotationEditorType))==null?void 0:n.deserialize(e,this,y(this,_t)))||null}createAndAddNewEditor(e,n,r={}){const o=this.getNextId(),i=J(this,kr,kD).call(this,{parent:this,id:o,x:e.offsetX,y:e.offsetY,uiManager:y(this,_t),isCentered:n,...r});return i&&this.add(i),i}addNewEditor(e={}){this.createAndAddNewEditor(J(this,kr,OD).call(this),!0,e)}setSelected(e){y(this,_t).setSelected(e)}toggleSelected(e){y(this,_t).toggleSelected(e)}unselect(e){y(this,_t).unselect(e)}pointerup(e){var o;const{isMac:n}=ei.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div||!y(this,qh)||(G(this,qh,!1),(o=y(this,kr,ec))!=null&&o.isDrawer&&y(this,kr,ec).supportMultipleDrawings))return;if(!y(this,Wb)){G(this,Wb,!0);return}const r=y(this,_t).getMode();if(r===qt.STAMP||r===qt.SIGNATURE){y(this,_t).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var o;if(y(this,_t).getMode()===qt.HIGHLIGHT&&this.enableTextSelection(),y(this,qh)){G(this,qh,!1);return}const{isMac:n}=ei.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div)return;if(G(this,qh,!0),(o=y(this,kr,ec))!=null&&o.isDrawer){this.startDrawingSession(e);return}const r=y(this,_t).getActive();G(this,Wb,!r||r.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),y(this,wl)){y(this,kr,ec).startDrawing(this,y(this,_t),!1,e);return}y(this,_t).setCurrentDrawingSession(this),G(this,wl,new AbortController);const n=y(this,_t).combinedSignal(y(this,wl));this.div.addEventListener("blur",({relatedTarget:r})=>{r&&!this.div.contains(r)&&(G(this,Xu,null),this.commitOrRemove())},{signal:n}),y(this,kr,ec).startDrawing(this,y(this,_t),!1,e)}pause(e){if(e){const{activeElement:n}=document;this.div.contains(n)&&G(this,Xu,n);return}y(this,Xu)&&setTimeout(()=>{var n;(n=y(this,Xu))==null||n.focus(),G(this,Xu,null)},0)}endDrawingSession(e=!1){return y(this,wl)?(y(this,_t).setCurrentDrawingSession(null),y(this,wl).abort(),G(this,wl,null),G(this,Xu,null),y(this,kr,ec).endDrawing(e)):null}findNewParent(e,n,r){const o=y(this,_t).findParent(n,r);return o===null||o===this?!1:(o.changeParent(e),!0)}commitOrRemove(){return y(this,wl)?(this.endDrawingSession(),!0):!1}onScaleChanging(){y(this,wl)&&y(this,kr,ec).onScaleChangingWhenDrawing(this)}destroy(){var e,n;this.commitOrRemove(),((e=y(this,_t).getActive())==null?void 0:e.parent)===this&&(y(this,_t).commitOrRemove(),y(this,_t).setActiveEditor(null)),y(this,Yu)&&(clearTimeout(y(this,Yu)),G(this,Yu,null));for(const r of y(this,Gs).values())(n=y(this,Og))==null||n.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,y(this,Gs).clear(),y(this,_t).removeLayer(this)}render({viewport:e}){this.viewport=e,bf(this.div,e);for(const n of y(this,_t).getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update({viewport:e}){y(this,_t).commitOrRemove(),J(this,kr,N_).call(this);const n=this.viewport.rotation,r=e.rotation;if(this.viewport=e,bf(this.div,{rotation:r}),n!==r)for(const o of y(this,Gs).values())o.rotate(r)}get pageDimensions(){const{pageWidth:e,pageHeight:n}=this.viewport.rawDims;return[e,n]}get scale(){return y(this,_t).viewParameters.realScale}};Og=new WeakMap,Wb=new WeakMap,wc=new WeakMap,Wh=new WeakMap,Yu=new WeakMap,Gs=new WeakMap,qh=new WeakMap,qb=new WeakMap,Dg=new WeakMap,wl=new WeakMap,Xu=new WeakMap,Yo=new WeakMap,Qu=new WeakMap,Kh=new WeakMap,Kb=new WeakMap,_t=new WeakMap,Yh=new WeakMap,kr=new WeakSet,X7=function(e){y(this,_t).unselectAll();const{target:n}=e;if(n===y(this,Yo).div||(n.getAttribute("role")==="img"||n.classList.contains("endOfContent"))&&y(this,Yo).div.contains(n)){const{isMac:r}=ei.platform;if(e.button!==0||e.ctrlKey&&r)return;y(this,_t).showAllEditors("highlight",!0,!0),y(this,Yo).div.classList.add("free"),this.toggleDrawing(),NT.startHighlighting(this,y(this,_t).direction==="ltr",{target:y(this,Yo).div,x:e.x,y:e.y}),y(this,Yo).div.addEventListener("pointerup",()=>{y(this,Yo).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:y(this,_t)._signal}),e.preventDefault()}},ec=function(){return y(ll,Yh).get(y(this,_t).getMode())},kD=function(e){const n=y(this,kr,ec);return n?new n.prototype.constructor(e):null},OD=function(){const{x:e,y:n,width:r,height:o}=this.div.getBoundingClientRect(),i=Math.max(0,e),s=Math.max(0,n),a=Math.min(window.innerWidth,e+r),c=Math.min(window.innerHeight,n+o),d=(i+a)/2-e,h=(s+c)/2-n,[p,g]=this.viewport.rotation%180===0?[d,h]:[h,d];return{offsetX:p,offsetY:g}},N_=function(){for(const e of y(this,Gs).values())e.isEmpty()&&e.remove()},je(ll,"_initialized",!1),Q(ll,Yh,new Map([uD,ED,PD,NT,RD].map(e=>[e._editorType,e])));let $T=ll;var Sl,qi,Lg,eE,mA,Q7,Hc,DD,Z7,LD;const Ao=class Ao{constructor({pageIndex:e}){Q(this,Hc);Q(this,Sl,null);Q(this,qi,new Map);Q(this,Lg,new Map);this.pageIndex=e}setParent(e){if(!y(this,Sl)){G(this,Sl,e);return}if(y(this,Sl)!==e){if(y(this,qi).size>0)for(const n of y(this,qi).values())n.remove(),e.append(n);G(this,Sl,e)}}static get _svgFactory(){return pn(this,"_svgFactory",new vS)}draw(e,n=!1,r=!1){const o=Bi(Ao,eE)._++,i=J(this,Hc,DD).call(this),s=Ao._svgFactory.createElement("defs");i.append(s);const a=Ao._svgFactory.createElement("path");s.append(a);const c=`path_p${this.pageIndex}_${o}`;a.setAttribute("id",c),a.setAttribute("vector-effect","non-scaling-stroke"),n&&y(this,Lg).set(o,a);const d=r?J(this,Hc,Z7).call(this,s,c):null,h=Ao._svgFactory.createElement("use");return i.append(h),h.setAttribute("href",`#${c}`),this.updateProperties(i,e),y(this,qi).set(o,i),{id:o,clipPathId:`url(#${d})`}}drawOutline(e,n){const r=Bi(Ao,eE)._++,o=J(this,Hc,DD).call(this),i=Ao._svgFactory.createElement("defs");o.append(i);const s=Ao._svgFactory.createElement("path");i.append(s);const a=`path_p${this.pageIndex}_${r}`;s.setAttribute("id",a),s.setAttribute("vector-effect","non-scaling-stroke");let c;if(n){const p=Ao._svgFactory.createElement("mask");i.append(p),c=`mask_p${this.pageIndex}_${r}`,p.setAttribute("id",c),p.setAttribute("maskUnits","objectBoundingBox");const g=Ao._svgFactory.createElement("rect");p.append(g),g.setAttribute("width","1"),g.setAttribute("height","1"),g.setAttribute("fill","white");const m=Ao._svgFactory.createElement("use");p.append(m),m.setAttribute("href",`#${a}`),m.setAttribute("stroke","none"),m.setAttribute("fill","black"),m.setAttribute("fill-rule","nonzero"),m.classList.add("mask")}const d=Ao._svgFactory.createElement("use");o.append(d),d.setAttribute("href",`#${a}`),c&&d.setAttribute("mask",`url(#${c})`);const h=d.cloneNode();return o.append(h),d.classList.add("mainOutline"),h.classList.add("secondaryOutline"),this.updateProperties(o,e),y(this,qi).set(r,o),r}finalizeDraw(e,n){y(this,Lg).delete(e),this.updateProperties(e,n)}updateProperties(e,n){var c;if(!n)return;const{root:r,bbox:o,rootClass:i,path:s}=n,a=typeof e=="number"?y(this,qi).get(e):e;if(a){if(r&&J(this,Hc,LD).call(this,a,r),o&&J(c=Ao,mA,Q7).call(c,a,o),i){const{classList:d}=a;for(const[h,p]of Object.entries(i))d.toggle(h,p)}if(s){const h=a.firstChild.firstChild;J(this,Hc,LD).call(this,h,s)}}}updateParent(e,n){if(n===this)return;const r=y(this,qi).get(e);r&&(y(n,Sl).append(r),y(this,qi).delete(e),y(n,qi).set(e,r))}remove(e){y(this,Lg).delete(e),y(this,Sl)!==null&&(y(this,qi).get(e).remove(),y(this,qi).delete(e))}destroy(){G(this,Sl,null);for(const e of y(this,qi).values())e.remove();y(this,qi).clear(),y(this,Lg).clear()}};Sl=new WeakMap,qi=new WeakMap,Lg=new WeakMap,eE=new WeakMap,mA=new WeakSet,Q7=function(e,[n,r,o,i]){const{style:s}=e;s.top=`${100*r}%`,s.left=`${100*n}%`,s.width=`${100*o}%`,s.height=`${100*i}%`},Hc=new WeakSet,DD=function(){const e=Ao._svgFactory.create(1,1,!0);return y(this,Sl).append(e),e.setAttribute("aria-hidden",!0),e},Z7=function(e,n){const r=Ao._svgFactory.createElement("clipPath");e.append(r);const o=`clip_${n}`;r.setAttribute("id",o),r.setAttribute("clipPathUnits","objectBoundingBox");const i=Ao._svgFactory.createElement("use");return r.append(i),i.setAttribute("href",`#${n}`),i.classList.add("clip"),o},LD=function(e,n){for(const[r,o]of Object.entries(n))o===null?e.removeAttribute(r):e.setAttribute(r,o)},Q(Ao,mA),Q(Ao,eE,0);let VT=Ao;globalThis._pdfjsTestingUtils={HighlightOutliner:hD};globalThis.pdfjsLib={AbortException:bd,AnnotationEditorLayer:$T,AnnotationEditorParamsType:bn,AnnotationEditorType:qt,AnnotationEditorUIManager:vf,AnnotationLayer:pN,AnnotationMode:xc,AnnotationType:ro,build:Z8,ColorPicker:wS,createValidAbsoluteUrl:nN,DOMSVGFactory:vS,DrawLayer:VT,FeatureTest:ei,fetchData:Rv,getDocument:uN,getFilenameFromUrl:W9,getPdfFilenameFromUrl:q9,getUuid:oN,getXfaPageViewport:K9,GlobalWorkerOptions:Fa,ImageKind:H0,InvalidPDFException:kT,isDataScheme:kE,isPdfFile:vI,isValidExplicitDest:I8,MathClamp:Mi,noContextMenu:Xa,normalizeUnicode:U9,OPS:pS,OutputScale:Dl,PasswordResponses:H9,PDFDataRangeTransport:dN,PDFDateString:wI,PDFWorker:dv,PermissionFlag:B9,PixelsPerInch:vd,RenderingCancelledException:bI,ResponseException:gS,setLayerDimensions:bf,shadow:pn,SignatureExtractor:_c,stopEvent:ao,SupportedImageMimeTypes:OT,TextLayer:yS,TouchManager:mS,updateUrlHash:rN,Util:Rt,VerbosityLevel:RE,version:Q8,XfaLayer:hN};const Jve=Object.freeze(Object.defineProperty({__proto__:null,AbortException:bd,AnnotationEditorLayer:$T,AnnotationEditorParamsType:bn,AnnotationEditorType:qt,AnnotationEditorUIManager:vf,AnnotationLayer:pN,AnnotationMode:xc,AnnotationType:ro,ColorPicker:wS,DOMSVGFactory:vS,DrawLayer:VT,FeatureTest:ei,GlobalWorkerOptions:Fa,ImageKind:H0,InvalidPDFException:kT,MathClamp:Mi,OPS:pS,OutputScale:Dl,PDFDataRangeTransport:dN,PDFDateString:wI,PDFWorker:dv,PasswordResponses:H9,PermissionFlag:B9,PixelsPerInch:vd,RenderingCancelledException:bI,ResponseException:gS,SignatureExtractor:_c,SupportedImageMimeTypes:OT,TextLayer:yS,TouchManager:mS,Util:Rt,VerbosityLevel:RE,XfaLayer:hN,build:Z8,createValidAbsoluteUrl:nN,fetchData:Rv,getDocument:uN,getFilenameFromUrl:W9,getPdfFilenameFromUrl:q9,getUuid:oN,getXfaPageViewport:K9,isDataScheme:kE,isPdfFile:vI,isValidExplicitDest:I8,noContextMenu:Xa,normalizeUnicode:U9,setLayerDimensions:bf,shadow:pn,stopEvent:ao,updateUrlHash:rN,version:Q8},Symbol.toStringTag,{value:"Module"}));var g4=Object.prototype.hasOwnProperty;function m4(t,e,n){for(n of t.keys())if(Fy(n,e))return n}function Fy(t,e){var n,r,o;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&Fy(t[r],e[r]););return r===-1}if(n===Set){if(t.size!==e.size)return!1;for(r of t)if(o=r,o&&typeof o=="object"&&(o=m4(e,o),!o)||!e.has(o))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(r of t)if(o=r[0],o&&typeof o=="object"&&(o=m4(e,o),!o)||!Fy(r[1],e.get(o)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((r=t.byteLength)===e.byteLength)for(;r--&&t.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===e.byteLength)for(;r--&&t[r]===e[r];);return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(g4.call(t,n)&&++r&&!g4.call(e,n)||!(n in e)||!Fy(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}function NE(t){let e=!1;return{promise:new Promise((r,o)=>{t.then(i=>!e&&r(i)).catch(i=>!e&&o(i))}),cancel(){e=!0}}}const ewe=["onCopy","onCut","onPaste"],twe=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],nwe=["onFocus","onBlur"],rwe=["onInput","onInvalid","onReset","onSubmit"],owe=["onLoad","onError"],iwe=["onKeyDown","onKeyPress","onKeyUp"],swe=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],awe=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],lwe=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],cwe=["onSelect"],uwe=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],dwe=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],hwe=["onScroll"],fwe=["onWheel"],pwe=["onAnimationStart","onAnimationEnd","onAnimationIteration"],gwe=["onTransitionEnd"],mwe=["onToggle"],ywe=["onChange"],bwe=[...ewe,...twe,...nwe,...rwe,...owe,...iwe,...swe,...awe,...lwe,...cwe,...uwe,...dwe,...hwe,...fwe,...pwe,...gwe,...ywe,...mwe];function J7(t,e){const n={};for(const r of bwe){const o=t[r];o&&(e?n[r]=i=>o(i,e(r)):n[r]=o)}return n}var vwe="Invariant failed";function fr(t,e){if(!t)throw new Error(vwe)}var HM,y4;function wwe(){if(y4)return HM;y4=1;var t=function(){};return HM=t,HM}var Swe=wwe();const Di=tE(Swe),eW=w.createContext(null),Cwe="noopener noreferrer nofollow";class Ewe{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return fr(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){fr(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(n=>{fr(this.pdfDocument),fr(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(n):Array.isArray(e)?n(e):e.then(n)}).then(n=>{fr(Array.isArray(n));const r=n[0];new Promise(o=>{fr(this.pdfDocument),r instanceof Object?this.pdfDocument.getPageIndex(r).then(i=>{o(i)}).catch(()=>{fr(!1)}):typeof r=="number"?o(r):fr(!1)}).then(o=>{const i=o+1;fr(this.pdfViewer),fr(i>=1&&i<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:n,pageIndex:o,pageNumber:i})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const n=e-1;fr(this.pdfViewer),fr(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:n,pageNumber:e})}addLinkAttributes(e,n,r){e.href=n,e.rel=this.externalLinkRel||Cwe,e.target=r?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}function $y({children:t,type:e}){return T.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:t})}const b4={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function xwe(t,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return t}}function hv(){return w.useReducer(xwe,{value:void 0,error:void 0})}const EI=typeof window<"u",tW=EI&&window.location.protocol==="file:";function _we(t){return typeof t<"u"}function cp(t){return _we(t)&&t!==null}function Twe(t){return typeof t=="string"}function Awe(t){return t instanceof ArrayBuffer}function Iwe(t){return fr(EI),t instanceof Blob}function ND(t){return Twe(t)&&/^data:/.test(t)}function v4(t){fr(ND(t));const[e="",n=""]=t.split(",");return e.split(";").indexOf("base64")!==-1?atob(n):unescape(n)}function Rwe(){return EI&&window.devicePixelRatio||1}const nW="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function w4(){Di(!tW,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${nW}`)}function Pwe(){Di(!tW,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${nW}`)}function tm(t){t!=null&&t.cancel&&t.cancel()}function FD(t,e){return Object.defineProperty(t,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(t,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(t,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(t,"originalHeight",{get(){return this.view[3]},configurable:!0}),t}function Mwe(t){return t.name==="RenderingCancelledException"}function kwe(t){return new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{if(!r.result)return n(new Error("Error while reading a file."));e(r.result)},r.onerror=o=>{if(!o.target)return n(new Error("Error while reading a file."));const{error:i}=o.target;if(!i)return n(new Error("Error while reading a file."));switch(i.code){case i.NOT_FOUND_ERR:return n(new Error("Error while reading a file: File not found."));case i.SECURITY_ERR:return n(new Error("Error while reading a file: Security error."));case i.ABORT_ERR:return n(new Error("Error while reading a file: Aborted."));default:return n(new Error("Error while reading a file."))}},r.readAsArrayBuffer(t)})}const{PDFDataRangeTransport:Owe}=Jve,Dwe=(t,e)=>{switch(e){case b4.NEED_PASSWORD:{const n=prompt("Enter the password to open this PDF file.");t(n);break}case b4.INCORRECT_PASSWORD:{const n=prompt("Invalid password. Please try again.");t(n);break}}};function S4(t){return typeof t=="object"&&t!==null&&("data"in t||"range"in t||"url"in t)}const Lwe=w.forwardRef(function({children:e,className:n,error:r="Failed to load PDF file.",externalLinkRel:o,externalLinkTarget:i,file:s,inputRef:a,imageResourcesPath:c,loading:d="Loading PDF",noData:h="No PDF file specified.",onItemClick:p,onLoadError:g,onLoadProgress:m,onLoadSuccess:v,onPassword:S=Dwe,onSourceError:C,onSourceSuccess:x,options:O,renderMode:M,rotate:P,scale:k,...$},D){const[I,A]=hv(),{value:N,error:F}=I,[R,V]=hv(),{value:q,error:K}=R,z=w.useRef(new Ewe),H=w.useRef([]),Z=w.useRef(void 0),re=w.useRef(void 0);s&&s!==Z.current&&S4(s)&&(Di(!Fy(s,Z.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),Z.current=s),O&&O!==re.current&&(Di(!Fy(O,re.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),re.current=O);const j=w.useRef({scrollPageIntoView:xe=>{const{dest:Ce,pageNumber:Pe,pageIndex:ze=Pe-1}=xe;if(p){p({dest:Ce,pageIndex:ze,pageNumber:Pe});return}const Ke=H.current[ze];if(Ke){Ke.scrollIntoView();return}Di(!1,`An internal link leading to page ${Pe} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});w.useImperativeHandle(D,()=>({linkService:z,pages:H,viewer:j}),[]);function X(){x&&x()}function ne(){F&&(Di(!1,F.toString()),C&&C(F))}function ie(){A({type:"RESET"})}w.useEffect(ie,[s,A]);const se=w.useCallback(async()=>{if(!s)return null;if(typeof s=="string")return ND(s)?{data:v4(s)}:(w4(),{url:s});if(s instanceof Owe)return{range:s};if(Awe(s))return{data:s};if(EI&&Iwe(s))return{data:await kwe(s)};if(fr(typeof s=="object"),fr(S4(s)),"url"in s&&typeof s.url=="string"){if(ND(s.url)){const{url:xe,...Ce}=s;return{data:v4(xe),...Ce}}w4()}return s},[s]);w.useEffect(()=>{const xe=NE(se());return xe.promise.then(Ce=>{A({type:"RESOLVE",value:Ce})}).catch(Ce=>{A({type:"REJECT",error:Ce})}),()=>{tm(xe)}},[se,A]),w.useEffect(()=>{if(!(typeof N>"u")){if(N===!1){ne();return}X()}},[N]);function ce(){q&&(v&&v(q),H.current=new Array(q.numPages),z.current.setDocument(q))}function ae(){K&&(Di(!1,K.toString()),g&&g(K))}w.useEffect(function(){V({type:"RESET"})},[V,N]),w.useEffect(function(){if(!N)return;const Ce=O?{...N,...O}:N,Pe=uN(Ce);m&&(Pe.onProgress=m),S&&(Pe.onPassword=S);const ze=Pe,Ke=ze.promise.then(ke=>{V({type:"RESOLVE",value:ke})}).catch(ke=>{ze.destroyed||V({type:"REJECT",error:ke})});return()=>{Ke.finally(()=>ze.destroy())}},[O,V,N]),w.useEffect(()=>{if(!(typeof q>"u")){if(q===!1){ae();return}ce()}},[q]),w.useEffect(function(){z.current.setViewer(j.current),z.current.setExternalLinkRel(o),z.current.setExternalLinkTarget(i)},[o,i]);const ge=w.useCallback((xe,Ce)=>{H.current[xe]=Ce},[]),Ee=w.useCallback(xe=>{delete H.current[xe]},[]),Te=w.useMemo(()=>({imageResourcesPath:c,linkService:z.current,onItemClick:p,pdf:q,registerPage:ge,renderMode:M,rotate:P,scale:k,unregisterPage:Ee}),[c,p,q,ge,M,P,k,Ee]),le=w.useMemo(()=>J7($,()=>q),[$,q]);function pe(){function xe(Pe){return!!(Pe!=null&&Pe.pdf)}if(!xe(Te))throw new Error("pdf is undefined");const Ce=typeof e=="function"?e(Te):e;return T.jsx(eW.Provider,{value:Te,children:Ce})}function ye(){return s?q==null?T.jsx($y,{type:"loading",children:typeof d=="function"?d():d}):q===!1?T.jsx($y,{type:"error",children:typeof r=="function"?r():r}):pe():T.jsx($y,{type:"no-data",children:typeof h=="function"?h():h})}return T.jsx("div",{className:Ne("react-pdf__Document",n),ref:a,...le,children:ye()})});function rW(){return w.useContext(eW)}function oW(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.filter(Boolean);if(n.length<=1){var r=n[0];return r||null}return function(i){for(var s=0,a=n;s<a.length;s++){var c=a[s];typeof c=="function"?c(i):c&&(c.current=i)}}}const iW=w.createContext(null);function xI(){return w.useContext(iW)}function Nwe(){const t=rW(),e=xI();fr(e);const n={...t,...e},{imageResourcesPath:r,linkService:o,onGetAnnotationsError:i,onGetAnnotationsSuccess:s,onRenderAnnotationLayerError:a,onRenderAnnotationLayerSuccess:c,page:d,pdf:h,renderForms:p,rotate:g,scale:m=1}=n;fr(h),fr(d),fr(o);const[v,S]=hv(),{value:C,error:x}=v,O=w.useRef(null);Di(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function M(){C&&s&&s(C)}function P(){x&&(Di(!1,x.toString()),i&&i(x))}w.useEffect(function(){S({type:"RESET"})},[S,d]),w.useEffect(function(){if(!d)return;const A=NE(d.getAnnotations()),N=A;return A.promise.then(F=>{S({type:"RESOLVE",value:F})}).catch(F=>{S({type:"REJECT",error:F})}),()=>{tm(N)}},[S,d]),w.useEffect(()=>{if(C!==void 0){if(C===!1){P();return}M()}},[C]);function k(){c&&c()}function $(I){Di(!1,`${I}`),a&&a(I)}const D=w.useMemo(()=>d.getViewport({scale:m,rotation:g}),[d,g,m]);return w.useEffect(function(){if(!h||!d||!o||!C)return;const{current:A}=O;if(!A)return;const N=D.clone({dontFlip:!0}),F={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:A,l10n:null,page:d,structTreeLayer:null,viewport:N},R={annotations:C,annotationStorage:h.annotationStorage,div:A,imageResourcesPath:r,linkService:o,page:d,renderForms:p,viewport:N};A.innerHTML="";try{new pN(F).render(R),k()}catch(V){$(V)}return()=>{}},[C,r,o,d,h,p,D]),T.jsx("div",{className:Ne("react-pdf__Page__annotations","annotationLayer"),ref:O})}const sW={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},Fwe=/^H(\d+)$/;function $we(t){return t in sW}function _I(t){return"children"in t}function aW(t){return _I(t)?t.children.length===1&&0 in t.children&&"id"in t.children[0]:!1}function Vwe(t){const e={};if(_I(t)){const{role:n}=t,r=n.match(Fwe);if(r)e.role="heading",e["aria-level"]=Number(r[1]);else if($we(n)){const o=sW[n];o&&(e.role=o)}}return e}function lW(t){const e={};if(_I(t)){if(t.alt!==void 0&&(e["aria-label"]=t.alt),t.lang!==void 0&&(e.lang=t.lang),aW(t)){const[n]=t.children;if(n){const r=lW(n);return{...e,...r}}}}else"id"in t&&(e["aria-owns"]=t.id);return e}function zwe(t){return t?{...Vwe(t),...lW(t)}:null}function cW({className:t,node:e}){const n=w.useMemo(()=>zwe(e),[e]),r=w.useMemo(()=>!_I(e)||aW(e)?null:e.children.map((o,i)=>T.jsx(cW,{node:o},i)),[e]);return T.jsx("span",{className:t,...n,children:r})}function Bwe(){const t=xI();fr(t);const{onGetStructTreeError:e,onGetStructTreeSuccess:n}=t,[r,o]=hv(),{value:i,error:s}=r,{customTextRenderer:a,page:c}=t;function d(){i&&n&&n(i)}function h(){s&&(Di(!1,s.toString()),e&&e(s))}return w.useEffect(function(){o({type:"RESET"})},[o,c]),w.useEffect(function(){if(a||!c)return;const g=NE(c.getStructTree()),m=g;return g.promise.then(v=>{o({type:"RESOLVE",value:v})}).catch(v=>{o({type:"REJECT",error:v})}),()=>tm(m)},[a,c,o]),w.useEffect(()=>{if(i!==void 0){if(i===!1){h();return}d()}},[i]),i?T.jsx(cW,{className:"react-pdf__Page__structTree structTree",node:i}):null}const C4=xc;function Hwe(t){const e=xI();fr(e);const n={...e,...t},{_className:r,canvasBackground:o,devicePixelRatio:i=Rwe(),onRenderError:s,onRenderSuccess:a,page:c,renderForms:d,renderTextLayer:h,rotate:p,scale:g}=n,{canvasRef:m}=t;fr(c);const v=w.useRef(null);function S(){c&&a&&a(FD(c,g))}function C(P){Mwe(P)||(Di(!1,P.toString()),s&&s(P))}const x=w.useMemo(()=>c.getViewport({scale:g*i,rotation:p}),[i,c,p,g]),O=w.useMemo(()=>c.getViewport({scale:g,rotation:p}),[c,p,g]);w.useEffect(function(){if(!c)return;c.cleanup();const{current:k}=v;if(!k)return;k.width=x.width,k.height=x.height,k.style.width=`${Math.floor(O.width)}px`,k.style.height=`${Math.floor(O.height)}px`,k.style.visibility="hidden";const $={annotationMode:d?C4.ENABLE_FORMS:C4.ENABLE,canvasContext:k.getContext("2d",{alpha:!1}),viewport:x};o&&($.background=o);const D=c.render($),I=D;return D.promise.then(()=>{k.style.visibility="",S()}).catch(C),()=>tm(I)},[o,c,d,x,O]);const M=w.useCallback(()=>{const{current:P}=v;P&&(P.width=0,P.height=0)},[]);return w.useEffect(()=>M,[M]),T.jsx("canvas",{className:`${r}__canvas`,dir:"ltr",ref:oW(m,v),style:{display:"block",userSelect:"none"},children:h?T.jsx(Bwe,{}):null})}function jwe(t){return"str"in t}function Uwe(){const t=xI();fr(t);const{customTextRenderer:e,onGetTextError:n,onGetTextSuccess:r,onRenderTextLayerError:o,onRenderTextLayerSuccess:i,page:s,pageIndex:a,pageNumber:c,rotate:d,scale:h}=t;fr(s);const[p,g]=hv(),{value:m,error:v}=p,S=w.useRef(null);Di(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function C(){m&&r&&r(m)}function x(){v&&(Di(!1,v.toString()),n&&n(v))}w.useEffect(function(){g({type:"RESET"})},[s,g]),w.useEffect(function(){if(!s)return;const I=NE(s.getTextContent()),A=I;return I.promise.then(N=>{g({type:"RESOLVE",value:N})}).catch(N=>{g({type:"REJECT",error:N})}),()=>tm(A)},[s,g]),w.useEffect(()=>{if(m!==void 0){if(m===!1){x();return}C()}},[m]);const O=w.useCallback(()=>{i&&i()},[i]),M=w.useCallback(D=>{Di(!1,D.toString()),o&&o(D)},[o]);function P(){const D=S.current;D&&D.classList.add("selecting")}function k(){const D=S.current;D&&D.classList.remove("selecting")}const $=w.useMemo(()=>s.getViewport({scale:h,rotation:d}),[s,d,h]);return w.useLayoutEffect(function(){if(!s||!m)return;const{current:I}=S;if(!I)return;I.innerHTML="";const A=s.streamTextContent({includeMarkedContent:!0}),N={container:I,textContentSource:A,viewport:$},F=new yS(N),R=F;return F.render().then(()=>{const V=document.createElement("div");V.className="endOfContent",I.append(V);const q=I.querySelectorAll('[role="presentation"]');if(e){let K=0;m.items.forEach((z,H)=>{if(!jwe(z))return;const Z=q[K];if(!Z)return;const re=e({pageIndex:a,pageNumber:c,itemIndex:H,...z});Z.innerHTML=re,K+=z.str&&z.hasEOL?2:1})}O()}).catch(M),()=>tm(R)},[e,M,O,s,a,c,m,$]),T.jsx("div",{className:Ne("react-pdf__Page__textContent","textLayer"),onMouseUp:k,onMouseDown:P,ref:S})}const E4=1;function Gwe(t){const n={...rW(),...t},{_className:r="react-pdf__Page",_enableRegisterUnregisterPage:o=!0,canvasBackground:i,canvasRef:s,children:a,className:c,customRenderer:d,customTextRenderer:h,devicePixelRatio:p,error:g="Failed to load the page.",height:m,inputRef:v,loading:S="Loading page",noData:C="No page specified.",onGetAnnotationsError:x,onGetAnnotationsSuccess:O,onGetStructTreeError:M,onGetStructTreeSuccess:P,onGetTextError:k,onGetTextSuccess:$,onLoadError:D,onLoadSuccess:I,onRenderAnnotationLayerError:A,onRenderAnnotationLayerSuccess:N,onRenderError:F,onRenderSuccess:R,onRenderTextLayerError:V,onRenderTextLayerSuccess:q,pageIndex:K,pageNumber:z,pdf:H,registerPage:Z,renderAnnotationLayer:re=!0,renderForms:j=!1,renderMode:X="canvas",renderTextLayer:ne=!0,rotate:ie,scale:se=E4,unregisterPage:ce,width:ae,...ge}=n,[Ee,Te]=hv(),{value:le,error:pe}=Ee,ye=w.useRef(null);fr(H);const xe=cp(z)?z-1:K??null,Ce=z??(cp(K)?K+1:null),Pe=ie??(le?le.rotate:null),ze=w.useMemo(()=>{if(!le)return null;let Qe=1;const dt=se??E4;if(ae||m){const ht=le.getViewport({scale:1,rotation:Pe});ae?Qe=ae/ht.width:m&&(Qe=m/ht.height)}return dt*Qe},[m,le,Pe,se,ae]);w.useEffect(function(){return()=>{cp(xe)&&o&&ce&&ce(xe)}},[o,H,xe,ce]);function Ke(){if(I){if(!le||!ze)return;I(FD(le,ze))}if(o&&Z){if(!cp(xe)||!ye.current)return;Z(xe,ye.current)}}function ke(){pe&&(Di(!1,pe.toString()),D&&D(pe))}w.useEffect(function(){Te({type:"RESET"})},[Te,H,xe]),w.useEffect(function(){if(!H||!Ce)return;const dt=NE(H.getPage(Ce)),ht=dt;return dt.promise.then(Ge=>{Te({type:"RESOLVE",value:Ge})}).catch(Ge=>{Te({type:"REJECT",error:Ge})}),()=>tm(ht)},[Te,H,Ce]),w.useEffect(()=>{if(le!==void 0){if(le===!1){ke();return}Ke()}},[le,ze]);const ot=w.useMemo(()=>cp(xe)&&Ce&&cp(Pe)&&cp(ze)?{_className:r,canvasBackground:i,customTextRenderer:h,devicePixelRatio:p,onGetAnnotationsError:x,onGetAnnotationsSuccess:O,onGetStructTreeError:M,onGetStructTreeSuccess:P,onGetTextError:k,onGetTextSuccess:$,onRenderAnnotationLayerError:A,onRenderAnnotationLayerSuccess:N,onRenderError:F,onRenderSuccess:R,onRenderTextLayerError:V,onRenderTextLayerSuccess:q,page:le,pageIndex:xe,pageNumber:Ce,renderForms:j,renderTextLayer:ne,rotate:Pe,scale:ze}:null,[r,i,h,p,x,O,M,P,k,$,A,N,F,R,V,q,le,xe,Ce,j,ne,Pe,ze]),Ye=w.useMemo(()=>J7(ge,()=>le&&(ze?FD(le,ze):void 0)),[ge,le,ze]),at=`${xe}@${ze}/${Pe}`;function he(){switch(X){case"custom":return fr(d),T.jsx(d,{},`${at}_custom`);case"none":return null;case"canvas":default:return T.jsx(Hwe,{canvasRef:s},`${at}_canvas`)}}function Ue(){return ne?T.jsx(Uwe,{},`${at}_text`):null}function qe(){return re?T.jsx(Nwe,{},`${at}_annotations`):null}function nt(){function Qe(ht){return!!(ht!=null&&ht.page)}if(!Qe(ot))throw new Error("page is undefined");const dt=typeof a=="function"?a(ot):a;return T.jsxs(iW.Provider,{value:ot,children:[he(),Ue(),qe(),dt]})}function Je(){return Ce?H===null||le===void 0||le===null?T.jsx($y,{type:"loading",children:typeof S=="function"?S():S}):H===!1||le===!1?T.jsx($y,{type:"error",children:typeof g=="function"?g():g}):nt():T.jsx($y,{type:"no-data",children:typeof C=="function"?C():C})}return T.jsx("div",{className:Ne(r,c),"data-page-number":Ce,ref:oW(v,ye),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${ze}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:i||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...Ye,children:Je()})}Pwe();Fa.workerSrc="pdf.worker.mjs";const Wwe="/react-redux-quiz-dent/assets/pdf.worker.min--PgD6g2g.mjs";Fa.workerSrc=Wwe;function qwe({open:t,title:e,src:n,images:r=[],onClose:o}){const[i,s]=w.useState(0),[a,c]=w.useState(Math.min(1e3,Math.floor(window.innerWidth*.85)));w.useEffect(()=>{const h=()=>c(Math.min(1e3,Math.floor(window.innerWidth*.85)));return window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[]);const d=r.length>0;return T.jsxs(Tpe,{open:t,onClose:o,fullWidth:!0,maxWidth:"lg",PaperProps:{sx:{borderRadius:3}},children:[T.jsxs(Er,{sx:{display:"flex",px:2,pt:1.5},children:[T.jsx(pr,{variant:"h6",fontWeight:800,sx:{flexGrow:1},children:e}),T.jsx(Va,{onClick:o,"aria-label":"Close",children:T.jsx(Qye,{size:18})})]}),T.jsx(Mpe,{dividers:!0,sx:{pt:1,pb:2,maxHeight:"85vh"},children:T.jsx(Er,{sx:{mx:"auto",width:"100%",maxWidth:a,display:"grid",gap:2},children:d?r.map((h,p)=>T.jsx(Er,{sx:{borderRadius:2,overflow:"hidden",bgcolor:"background.paper",border:"1px solid",borderColor:"divider"},children:T.jsx("img",{src:h,alt:`${e} ${p+1}/${r.length}`,loading:"lazy",style:{width:"100%",height:"auto",display:"block"}})},`${h}-${p}`)):n?T.jsx(Lwe,{file:n,onLoadSuccess:({numPages:h})=>s(h),loading:T.jsx(pr,{variant:"body2",children:" PDF"}),children:Array.from({length:i},(h,p)=>T.jsx(Er,{sx:{borderRadius:2,overflow:"hidden",bgcolor:"background.paper",border:"1px solid",borderColor:"divider"},children:T.jsx(Gwe,{pageNumber:p+1,width:a,renderAnnotationLayer:!1,renderTextLayer:!1,loading:""})},`page-${p+1}`))}):T.jsx(pr,{variant:"body2",color:"text.secondary",children:"   ."})})})]})}const Kwe=[{id:"lecture-1",title:" 1",subtitle:"  ",iconUrl:"./image/icon_1.svg",status:"done",pdfUrl:"./lectures/lecture-1.pdf"},{id:"lecture-2",title:" 2",subtitle:"",iconUrl:"./image/icon_2.svg",status:"done",pdfUrl:"./lectures/lecture-2.pdf"},{id:"lecture-3",title:" 3",subtitle:",  .   ",iconUrl:"./image/icon_3.svg",status:"done",pdfUrl:"./lectures/lecture-3.pdf"},{id:"lecture-4",title:" 4",subtitle:"-   ",iconUrl:"./image/icon_4.svg",status:"done",pdfUrl:"./lectures/lecture-4.pdf"},{id:"lecture-5",title:" 5",subtitle:", , ",iconUrl:"./image/icon_5.svg",status:"done",pdfUrl:"./lectures/lecture-5.pdf"},{id:"lecture-6",title:" 6",subtitle:"-   ",iconUrl:"./image/icon_6.svg",status:"done",pdfUrl:"./lectures/lecture-6.pdf"},{id:"lecture-7",title:" 7",subtitle:"",iconUrl:"./image/icon_7.svg",status:"done",pdfUrl:"./lectures/lecture-7.pdf"},{id:"lecture-8",title:" 8",subtitle:"  Cad/Cam",iconUrl:"./image/icon_8.svg",status:"done",pdfUrl:"./lectures/lecture-8.pdf"}],uW=[{id:"tooth-1.1-2",title:"  ",icon:"./image/tooth/icon_tooth_1.png",videoUrl:"https://www.youtube.com/watch?v=sNdkrBf7NPw",imagesUrl:["./image/tooth/tooth-1.1-B.png","./image/tooth/tooth-1.1-M.png","./image/tooth/tooth-1.1-P.png","./image/tooth/tooth-1.1-D.png","./image/tooth/tooth-1.1-I.png"]},{id:"tooth-3.1-2",title:"  ",icon:"./image/soon.png",videoUrl:"",imagesUrl:[]},{id:"tooth-3",title:"",icon:"./image/soon.png",videoUrl:"",imagesUrl:[]},{id:"tooth-1.4-5",title:"  ",icon:"./image/soon.png",videoUrl:"",imagesUrl:[]},{id:"tooth-3.4-5",title:"  ",icon:"./image/soon.png",videoUrl:"",imagesUrl:[]},{id:"tooth-1.6-8",title:"  ",icon:"./image/soon.png",videoUrl:"",imagesUrl:[]},{id:"tooth-3.6-8",title:"  ",icon:"./image/soon.png",videoUrl:"",imagesUrl:[]}],Ywe=()=>{const[t,e]=w.useState(!1),[n,r]=w.useState(null),o=s=>{r(s),e(!0)},i=()=>e(!1);return T.jsx("div",{className:"quiz-selection-container",children:T.jsxs(b9,{maxWidth:"lg",sx:{py:4},children:[T.jsx(pr,{variant:"h4",fontWeight:900,sx:{mb:3,textAlign:"center"},children:" "}),T.jsx("div",{className:"quiz-categories",children:Kwe.map(s=>T.jsx(bbe,{lecture:s,onOpen:o},s.id))}),n&&T.jsx(qwe,{open:t,onClose:i,title:n.title,src:n.pdfUrl})]})})},Xwe=Se(qL)(({theme:t})=>({height:260,width:280,margin:20,borderRadius:20,backgroundColor:t.palette.mode==="dark"?vr("#0f172a",.6):"#fff",border:`1px solid ${vr(t.palette.primary.main,.15)}`,boxShadow:t.palette.mode==="dark"?"0 16px 40px rgba(0,0,0,.35)":"0 10px 30px rgba(25,118,210,.12)",transition:"transform .18s ease, box-shadow .18s ease","&:hover":{transform:"translateY(-2px)",boxShadow:t.palette.mode==="dark"?"0 20px 50px rgba(0,0,0,.45)":"0 16px 40px rgba(25,118,210,.18)"}}));function Qwe({tooth:t,onClick:e}){return T.jsx(Xwe,{children:T.jsx(p9,{sx:{height:"100%",p:2.5,alignContent:"start"},onClick:()=>e(t.id),children:T.jsxs(Er,{sx:{display:"grid",gridTemplateColumns:"96px 1fr",gap:2},children:[T.jsx(Er,{sx:{width:96,height:96,borderRadius:"50%",display:"grid",placeItems:"center",bgcolor:"background.paper",border:"1px solid",borderColor:"divider",overflow:"hidden"},children:T.jsx("img",{src:t.icon,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}})}),T.jsx(g9,{sx:{p:0,display:"grid",alignContent:"start",gap:.5},children:T.jsx(pr,{variant:"h5",fontWeight:800,children:t.title})})]})})})}const Zwe=()=>{const t=Za(),e=n=>t(`/anatomy/${n}`);return T.jsx("div",{className:"quiz-selection-container",children:T.jsxs(b9,{maxWidth:"lg",sx:{py:4},children:[T.jsx(pr,{variant:"h4",fontWeight:900,sx:{mb:3,textAlign:"center"},children:" "}),T.jsx("div",{className:"quiz-categories",children:uW.map(n=>T.jsx(Qwe,{tooth:n,onClick:e},n.id))})]})})},Jwe=vs(T.jsx("path",{d:"M17.77 3.77 16 2 6 12l10 10 1.77-1.77L9.54 12z"})),e0e=vs(T.jsx("path",{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"})),t0e=Se("button")(({theme:t})=>({all:"unset",cursor:"pointer",borderRadius:10,overflow:"hidden",width:96,height:72,flex:"0 0 auto",border:`1px solid ${vr(t.palette.divider,.9)}`,background:t.palette.background.paper,display:"grid",placeItems:"center",transition:"transform .15s ease, box-shadow .15s ease, border-color .15s ease","&:hover":{transform:"translateY(-2px)",boxShadow:t.palette.mode==="dark"?"0 12px 30px rgba(0,0,0,.35)":"0 8px 20px rgba(25,118,210,.12)",borderColor:t.palette.primary.main}}));function n0e({images:t,alt:e="image",initialIndex:n=0}){const[r,o]=w.useState(n),i=w.useRef(null),s=t.length,a=()=>o(h=>(h-1+s)%s),c=()=>o(h=>(h+1)%s),d=h=>o(h);return w.useEffect(()=>{const h=p=>{p.key==="ArrowLeft"&&a(),p.key==="ArrowRight"&&c()};return window.addEventListener("keydown",h),()=>window.removeEventListener("keydown",h)},[s]),!t||s===0?null:T.jsxs(Er,{sx:{width:"100%",display:"grid",gap:1.5},children:[T.jsxs(Er,{ref:i,sx:{position:"relative",borderRadius:2,overflow:"hidden",bgcolor:"background.paper",border:"1px solid",borderColor:"divider",display:"grid",placeItems:"center"},children:[T.jsx("img",{src:t[r],alt:`${e} ${r+1}/${s}`}),s>1&&T.jsxs(T.Fragment,{children:[T.jsx(Va,{onClick:a,size:"small",sx:{position:"absolute",left:8,top:"50%",transform:"translateY(-50%)",bgcolor:"background.paper",border:"1px solid",borderColor:"divider","&:hover":{bgcolor:"background.paper"}},children:T.jsx(Jwe,{fontSize:"small"})}),T.jsx(Va,{onClick:c,size:"small",sx:{position:"absolute",right:8,top:"50%",transform:"translateY(-50%)",bgcolor:"background.paper",border:"1px solid",borderColor:"divider","&:hover":{bgcolor:"background.paper"}},children:T.jsx(e0e,{fontSize:"small"})})]})]}),s>1&&T.jsx(Er,{sx:{mt:.5,display:"flex",gap:1,overflowX:"auto",py:.5},children:t.map((h,p)=>p===r?null:T.jsx(t0e,{onClick:()=>d(p),"aria-label":`preview ${p+1}`,children:T.jsx("img",{src:h,alt:`${e} preview ${p+1}`,width:96,height:72,style:{width:"100%",height:"100%",objectFit:"cover",display:"block"}})},`${h}-${p}`))})]})}const r0e=()=>{const{id:t}=r2(),e=uW.find(i=>i.id===t);if(!e)return T.jsx("div",{children:"  !!!"});const n=!!e.videoUrl,r=e.imagesUrl??[],o=r.length>0;return T.jsxs("div",{children:[T.jsxs(Er,{sx:{display:"flex",gap:1,mt:.5},children:[n&&T.jsx(sf,{size:"small",color:"primary",label:"",onClick:()=>window.open(e.videoUrl,"_blank","noopener,noreferrer")}),o&&T.jsx(sf,{size:"small",variant:"outlined",label:`: ${r.length}`}),!n&&!o&&T.jsx(sf,{size:"small",variant:"outlined",label:" "})]}),o&&T.jsx(Er,{sx:{mt:2},children:T.jsx(n0e,{images:r,alt:e.title})})]})},o0e=parseInt(w.version,10),xt=t=>{if(o0e>=19){const e=n=>t(n,n.ref??null);return e.displayName=t.displayName??t.name,e}return w.forwardRef(t)},dr=vs,x4=dr(T.jsx("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"})),_4=dr(T.jsx("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"})),T4=dr(T.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"})),A4=dr(T.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"})),i0e=dr(T.jsx("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"})),I4=dr(T.jsx("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"})),s0e=dr(T.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}));dr(T.jsx("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}));dr(T.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}));const a0e=dr(T.jsx("path",{d:"M14.67 5v14H9.33V5zm1 14H21V5h-5.33zm-7.34 0V5H3v14z"})),l0e=dr(T.jsx("rect",{width:"1",height:"24",x:"11.5",rx:"0.5"})),c0e=dr(T.jsx("path",{d:"M4 15h16v-2H4v2zm0 4h16v-2H4v2zm0-8h16V9H4v2zm0-6v2h16V5H4z"})),u0e=dr(T.jsx("path",{d:"M21,8H3V4h18V8z M21,10H3v4h18V10z M21,16H3v4h18V16z"})),d0e=dr(T.jsx("path",{d:"M4 18h17v-6H4v6zM4 5v6h17V5H4z"})),h0e=dr(T.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})),R4=dr(T.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),P4=dr(T.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})),f0e=dr(T.jsx("path",{d:"M19 13H5v-2h14v2z"})),p0e=dr(T.jsx("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"})),M4=dr(T.jsx("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})),k4=dr(T.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})),g0e=dr(T.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})),m0e=dr(T.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"})),y0e=dr(T.jsx("g",{children:T.jsx("path",{d:"M14.67,5v14H9.33V5H14.67z M15.67,19H21V5h-5.33V19z M8.33,19V5H3v14H8.33z"})})),O4=dr(T.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}));dr(T.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}));const b0e=dr(T.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"})),v0e=dr(T.jsx("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"})),dW=w.createContext(void 0),et=()=>{const t=w.useContext(dW);if(!t)throw new Error("MUI X: useGridRootProps should only be used inside the DataGrid, DataGridPro or DataGridPremium component.");return t},w0e=["sortingOrder"],S0e=w.memo(function(e){const{sortingOrder:n}=e,r=Xe(e,w0e),o=et(),[i]=n,s=i==="asc"?o.slots.columnSortedAscendingIcon:o.slots.columnSortedDescendingIcon;return s?T.jsx(s,U({},r)):null}),hW=w.createContext(void 0);function Ft(){const t=w.useContext(hW);if(t===void 0)throw new Error(["MUI X: Could not find the Data Grid context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the Data Grid."].join(`
`));return t}const C0e=new TextEncoder;let F_=2*1024,j0=new ArrayBuffer(F_),jM=new Uint8Array(j0),up=new Int32Array(j0);const E0e=x0e;function x0e(t){const e=t.length*2;e>F_&&(F_=e+(4-e%4),j0=new ArrayBuffer(F_),jM=new Uint8Array(j0),up=new Int32Array(j0));const n=C0e.encodeInto(t,jM).written,r=0,o=n|0;let i=0,s=(r+o|0)+374761393|0;if(o<16)for(;(i+3|0)<o;i=i+4|0)s=Math.imul(il(s+Math.imul(up[i]|0,3266489917)|0,17)|0,668265263);else{let a=r+606290984|0,c=r+2246822519|0,d=r,h=r-2654435761|0;for(;(i+15|0)<o;i=i+16|0)a=Math.imul(il(a+Math.imul(up[i+0|0]|0,2246822519)|0,13)|0,2654435761),c=Math.imul(il(c+Math.imul(up[i+4|0]|0,2246822519)|0,13)|0,2654435761),d=Math.imul(il(d+Math.imul(up[i+8|0]|0,2246822519)|0,13)|0,2654435761),h=Math.imul(il(h+Math.imul(up[i+12|0]|0,2246822519)|0,13)|0,2654435761);for(s=(((il(a,1)|0+il(c,7)|0)+il(d,12)|0)+il(h,18)|0)+o|0;(i+3|0)<o;i=i+4|0)s=Math.imul(il(s+Math.imul(up[i]|0,3266489917)|0,17)|0,668265263)}for(;i<o;i=i+1|0)s=Math.imul(il(s+Math.imul(jM[i]|0,374761393)|0,11)|0,2654435761);return s=Math.imul(s^s>>>15,2246822519),s=Math.imul(s^s>>>13,3266489917),((s^s>>>16)>>>0).toString()}function il(t,e){return t<<e|t>>>32-e}function _0e(t){const e=new WeakSet;return JSON.stringify(t,(n,r)=>{if(typeof window<"u"&&r===window||typeof document<"u"&&r===document)return r.toString();if(r!==null&&typeof r=="object"){if(e.has(r))return null;e.add(r)}return r})}const fW={values:{xs:0,sm:600,md:900,lg:1200,xl:1536},up:t=>{const e=fW.values;return`@media (min-width:${typeof e[t]=="number"?e[t]:t}px)`}},pW={spacingUnit:"--DataGrid-t-spacing-unit",colors:{border:{base:"--DataGrid-t-color-border-base"},foreground:{base:"--DataGrid-t-color-foreground-base",muted:"--DataGrid-t-color-foreground-muted",accent:"--DataGrid-t-color-foreground-accent",disabled:"--DataGrid-t-color-foreground-disabled",error:"--DataGrid-t-color-foreground-error"},background:{base:"--DataGrid-t-color-background-base",overlay:"--DataGrid-t-color-background-overlay",backdrop:"--DataGrid-t-color-background-backdrop"},interactive:{hover:"--DataGrid-t-color-interactive-hover",hoverOpacity:"--DataGrid-t-color-interactive-hover-opacity",focus:"--DataGrid-t-color-interactive-focus",focusOpacity:"--DataGrid-t-color-interactive-focus-opacity",disabled:"--DataGrid-t-color-interactive-disabled",disabledOpacity:"--DataGrid-t-color-interactive-disabled-opacity",selected:"--DataGrid-t-color-interactive-selected",selectedOpacity:"--DataGrid-t-color-interactive-selected-opacity"}},header:{background:{base:"--DataGrid-t-header-background-base"}},cell:{background:{pinned:"--DataGrid-t-cell-background-pinned"}},radius:{base:"--DataGrid-t-radius-base"},typography:{font:{body:"--DataGrid-t-typography-font-body",small:"--DataGrid-t-typography-font-small",large:"--DataGrid-t-typography-font-large"},fontFamily:{base:"--DataGrid-t-typography-font-family-base"},fontWeight:{light:"--DataGrid-t-typography-font-weight-light",regular:"--DataGrid-t-typography-font-weight-regular",medium:"--DataGrid-t-typography-font-weight-medium",bold:"--DataGrid-t-typography-font-weight-bold"}},transitions:{easing:{easeIn:"--DataGrid-t-transition-easing-ease-in",easeOut:"--DataGrid-t-transition-easing-ease-out",easeInOut:"--DataGrid-t-transition-easing-ease-in-out"},duration:{short:"--DataGrid-t-transition-duration-short",base:"--DataGrid-t-transition-duration-base",long:"--DataGrid-t-transition-duration-long"}},shadows:{base:"--DataGrid-t-shadow-base",overlay:"--DataGrid-t-shadow-overlay"},zIndex:{panel:"--DataGrid-t-z-index-panel",menu:"--DataGrid-t-z-index-menu"}},T0e=gW(pW),tt=U({breakpoints:fW,spacing:A0e,transition:I0e,keys:pW},T0e);function A0e(t,e,n,r){return t===void 0?sl(1):e===void 0?sl(t):n===void 0?sl(t)+" "+sl(e):r===void 0?sl(t)+" "+sl(e)+" "+sl(n):sl(t)+" "+sl(e)+" "+sl(n)+" "+sl(r)}function sl(t){return t===0?"0":`calc(var(--DataGrid-t-spacing-unit) * ${t})`}function I0e(t,e){const{duration:n=tt.transitions.duration.base,easing:r=tt.transitions.easing.easeInOut,delay:o=0}=e??{};return t.map(i=>`${i} ${n} ${r} ${o}ms`).join(", ")}function gW(t){if(typeof t=="string")return`var(${t})`;const e={};for(const n in t)Object.hasOwn(t,n)&&(e[n]=gW(t[n]));return e}function R0e(){const t=Cd();return w.useMemo(()=>{const e=E0e(_0e(t)),n=P0e(t);return{id:e,variables:n}},[t])}function P0e(t){var v,S,C,x,O,M;const e=k0e(t),n=(t.vars||t).palette.DataGrid,r=(n==null?void 0:n.bg)??(t.vars||t).palette.background.default,o=(n==null?void 0:n.headerBg)??r,i=(n==null?void 0:n.pinnedBg)??r,s=t.vars?`rgba(${t.vars.palette.background.defaultChannel} / ${t.vars.palette.action.disabledOpacity})`:vr(t.palette.background.default,t.palette.action.disabledOpacity),a=t.palette.mode==="dark"?`color-mix(in srgb, ${(t.vars||t).palette.background.paper} 95%, #fff)`:(t.vars||t).palette.background.paper,c=t.vars?`rgb(${t.vars.palette.primary.mainChannel})`:t.palette.primary.main,d=M0e(t),h=((S=(v=t.vars)==null?void 0:v.font)==null?void 0:S.body2)??UM(t.typography.body2),p=((x=(C=t.vars)==null?void 0:C.font)==null?void 0:x.caption)??UM(t.typography.caption),g=((M=(O=t.vars)==null?void 0:O.font)==null?void 0:M.body1)??UM(t.typography.body1),m=tt.keys;return{[m.spacingUnit]:t.vars?t.vars.spacing??t.spacing(1):t.spacing(1),[m.colors.border.base]:e,[m.colors.background.base]:r,[m.colors.background.overlay]:a,[m.colors.background.backdrop]:s,[m.colors.foreground.base]:(t.vars||t).palette.text.primary,[m.colors.foreground.muted]:(t.vars||t).palette.text.secondary,[m.colors.foreground.accent]:(t.vars||t).palette.primary.dark,[m.colors.foreground.disabled]:(t.vars||t).palette.text.disabled,[m.colors.foreground.error]:(t.vars||t).palette.error.dark,[m.colors.interactive.hover]:(t.vars||t).palette.action.hover,[m.colors.interactive.hoverOpacity]:(t.vars||t).palette.action.hoverOpacity,[m.colors.interactive.focus]:D4((t.vars||t).palette.primary.main),[m.colors.interactive.focusOpacity]:(t.vars||t).palette.action.focusOpacity,[m.colors.interactive.disabled]:D4((t.vars||t).palette.action.disabled),[m.colors.interactive.disabledOpacity]:(t.vars||t).palette.action.disabledOpacity,[m.colors.interactive.selected]:c,[m.colors.interactive.selectedOpacity]:(t.vars||t).palette.action.selectedOpacity,[m.header.background.base]:o,[m.cell.background.pinned]:i,[m.radius.base]:d,[m.typography.fontFamily.base]:t.typography.fontFamily,[m.typography.fontWeight.light]:t.typography.fontWeightLight,[m.typography.fontWeight.regular]:t.typography.fontWeightRegular,[m.typography.fontWeight.medium]:t.typography.fontWeightMedium,[m.typography.fontWeight.bold]:t.typography.fontWeightBold,[m.typography.font.body]:h,[m.typography.font.small]:p,[m.typography.font.large]:g,[m.transitions.easing.easeIn]:t.transitions.easing.easeIn,[m.transitions.easing.easeOut]:t.transitions.easing.easeOut,[m.transitions.easing.easeInOut]:t.transitions.easing.easeInOut,[m.transitions.duration.short]:`${t.transitions.duration.shorter}ms`,[m.transitions.duration.base]:`${t.transitions.duration.short}ms`,[m.transitions.duration.long]:`${t.transitions.duration.standard}ms`,[m.shadows.base]:(t.vars||t).shadows[2],[m.shadows.overlay]:(t.vars||t).shadows[8],[m.zIndex.panel]:(t.vars||t).zIndex.modal,[m.zIndex.menu]:(t.vars||t).zIndex.modal}}function M0e(t){return t.vars?t.vars.shape.borderRadius:typeof t.shape.borderRadius=="number"?`${t.shape.borderRadius}px`:t.shape.borderRadius}function k0e(t){return t.vars?t.vars.palette.TableCell.border:t.palette.mode==="light"?xE(vr(t.palette.divider,1),.88):EE(vr(t.palette.divider,1),.68)}function O0e(t,e){return`rgba(from ${t} r g b / ${e})`}function D4(t){return O0e(t,1)}function UM(t){if(t)return`${t.fontWeight} ${t.fontSize} / ${t.lineHeight} ${t.fontFamily}`}const D0e=["id","label","labelId","material","disabled","slotProps","onChange","onKeyDown","onOpen","onClose","size","style","fullWidth"],L0e=["onRowsPerPageChange","material","disabled"],N0e=["material"],F0e=["autoFocus","label","fullWidth","slotProps","className","material"],$0e=["material"],V0e=["material"],z0e=["material"],B0e=["material"],H0e=["material"],j0e=["material"],U0e=["material"],G0e=["material"],W0e=["material","label","className"],q0e=["material"],K0e=["inert","iconStart","iconEnd","children","material"],Y0e=["slotProps","material"],X0e=["id","multiple","freeSolo","options","getOptionLabel","isOptionEqualToValue","value","onChange","label","placeholder","slotProps","material"],Q0e=["key"],Z0e=["inputProps","InputProps","InputLabelProps"],J0e=["slotProps","material"],eSe=["ref","open","children","className","clickAwayTouchEvent","clickAwayMouseEvent","flip","focusTrap","onExited","onClickAway","onDidShow","onDidHide","id","target","transition","placement","material"],tSe=["native"],L4=Se(gO)(({theme:t})=>({[`&.${pO.positionEnd} .${iO.sizeSmall}`]:{marginRight:t.spacing(-.75)}})),mW=Se(x9,{shouldForwardProp:t=>t!=="fullWidth"})(({theme:t})=>({gap:t.spacing(.5),margin:0,overflow:"hidden",[`& .${xy.label}`]:{fontSize:t.typography.pxToRem(14),overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},variants:[{props:{fullWidth:!0},style:{width:"100%"}}]})),N4=Se(y9,{shouldForwardProp:t=>t!=="density"})(({theme:t})=>({variants:[{props:{density:"compact"},style:{padding:t.spacing(.5)}}]})),nSe=Se(Hge)({[`& .${_p.primary}`]:{overflowX:"clip",textOverflow:"ellipsis",maxWidth:"300px"}}),rSe=xt(function(e,n){const{id:r,label:o,labelId:i,material:s,disabled:a,slotProps:c,onChange:d,onKeyDown:h,onOpen:p,onClose:g,size:m,style:v,fullWidth:S}=e,C=Xe(e,D0e),x={PaperProps:{onKeyDown:h}};return g&&(x.onClose=g),T.jsxs(Qh,{size:m,fullWidth:S,style:v,disabled:a,ref:n,children:[T.jsx(_9,{id:i,htmlFor:r,shrink:!0,variant:"outlined",children:o}),T.jsx(gI,U({id:r,labelId:i,label:o,displayEmpty:!0,onChange:d,variant:"outlined"},C,{notched:!0,inputProps:c==null?void 0:c.htmlInput,onOpen:p,MenuProps:x,size:m},s))]})}),oSe=Se(wye)(({theme:t})=>({[`& .${zg.selectLabel}`]:{display:"none",[t.breakpoints.up("sm")]:{display:"block"}},[`& .${zg.input}`]:{display:"none",[t.breakpoints.up("sm")]:{display:"inline-flex"}}})),iSe=xt(function(e,n){const{onRowsPerPageChange:r,material:o,disabled:i}=e,s=Xe(e,L0e),a=w.useMemo(()=>{if(i)return{backIconButtonProps:{disabled:!0},nextIconButtonProps:{disabled:!0}}},[i]),c=Ft(),d=et(),{estimatedRowCount:h}=d;return T.jsx(oSe,U({component:"div",onRowsPerPageChange:Mt(p=>{r==null||r(Number(p.target.value))}),labelRowsPerPage:c.current.getLocaleText("paginationRowsPerPage"),labelDisplayedRows:p=>c.current.getLocaleText("paginationDisplayedRows")(U({},p,{estimated:h})),getItemAriaLabel:c.current.getLocaleText("paginationItemAriaLabel")},a,s,o,{ref:n}))}),sSe=xt(function(e,n){const{material:r}=e,o=Xe(e,N0e);return T.jsx(pfe,U({},o,r,{ref:n}))}),aSe=xt(function(e,n){const{autoFocus:r,label:o,fullWidth:i,slotProps:s,className:a,material:c}=e,d=Xe(e,F0e),h=w.useRef(null),p=Tn(h,n),g=w.useRef(null);return w.useEffect(()=>{var m;if(r){const v=(m=h.current)==null?void 0:m.querySelector("input");v==null||v.focus({preventScroll:!0})}else r===!1&&g.current&&g.current.stop({})},[r]),o?T.jsx(mW,{className:a,control:T.jsx(N4,U({},d,c,{inputProps:s==null?void 0:s.htmlInput,ref:p,touchRippleRef:g})),label:o,fullWidth:i}):T.jsx(N4,U({},d,c,{className:Ne(a,c==null?void 0:c.className),inputProps:s==null?void 0:s.htmlInput,ref:p,touchRippleRef:g}))}),lSe=xt(function(e,n){const{material:r}=e,o=Xe(e,$0e);return T.jsx(lI,U({},o,r,{ref:n}))}),cSe=xt(function(e,n){const{material:r}=e,o=Xe(e,V0e);return T.jsx(dS,U({},o,r,{ref:n}))}),uSe=xt(function(e,n){const{material:r}=e,o=Xe(e,z0e);return T.jsx(Mge,U({},o,r,{ref:n}))}),dSe=xt(function(e,n){const{material:r}=e,o=Xe(e,B0e);return T.jsx(Iv,U({},o,r,{ref:n}))}),hSe=xt(function(e,n){const{material:r}=e,o=Xe(e,H0e);return T.jsx(sf,U({},o,r,{ref:n}))}),fSe=xt(function(e,n){const{material:r}=e,o=Xe(e,j0e);return T.jsx(Va,U({},o,r,{ref:n}))}),pSe=xt(function(e,n){const{material:r}=e,o=Xe(e,U0e);return T.jsx(k9,U({},o,r,{ref:n}))}),gSe=xt(function(e,n){const{material:r}=e,o=Xe(e,G0e);return T.jsx(Dme,U({},o,r,{ref:n}))}),mSe=xt(function(e,n){const{material:r,label:o,className:i}=e,s=Xe(e,W0e);return o?T.jsx(mW,{className:i,control:T.jsx(jj,U({},s,r,{ref:n})),label:o}):T.jsx(jj,U({},s,r,{className:i,ref:n}))}),ySe=xt(function(e,n){const{material:r}=e,o=Xe(e,q0e);return T.jsx(A9,U({},o,r,{ref:n}))});function bSe(t){const{inert:e,iconStart:n,iconEnd:r,children:o,material:i}=t,s=Xe(t,K0e);return e&&(s.disableRipple=!0),w.createElement(ZL,U({},s,i),[n&&T.jsx(Dj,{children:n},"1"),T.jsx(nSe,{children:o},"2"),r&&T.jsx(Dj,{children:r},"3")])}function vSe(t){const{slotProps:e,material:n}=t,r=Xe(t,Y0e);return T.jsx(Zh,U({variant:"outlined"},r,n,{inputProps:e==null?void 0:e.htmlInput,InputProps:yN(e==null?void 0:e.input),InputLabelProps:U({shrink:!0},e==null?void 0:e.inputLabel)}))}function wSe(t){const e=et(),{id:n,multiple:r,freeSolo:o,options:i,getOptionLabel:s,isOptionEqualToValue:a,value:c,onChange:d,label:h,placeholder:p,slotProps:g,material:m}=t,v=Xe(t,X0e);return T.jsx(Xhe,U({id:n,multiple:r,freeSolo:o,options:i,getOptionLabel:s,isOptionEqualToValue:a,value:c,onChange:d,renderTags:(S,C)=>S.map((x,O)=>{const M=C({index:O}),{key:P}=M,k=Xe(M,Q0e);return T.jsx(sf,U({variant:"outlined",size:"small",label:typeof x=="string"?x:s==null?void 0:s(x)},k),P)}),renderInput:S=>{var P;const{inputProps:C,InputProps:x,InputLabelProps:O}=S,M=Xe(S,Z0e);return T.jsx(Zh,U({},M,{label:h,placeholder:p,inputProps:C,InputProps:yN(x,!1),InputLabelProps:U({shrink:!0},O)},g==null?void 0:g.textField,(P=e.slotProps)==null?void 0:P.baseTextField))}},v,m))}function SSe(t){return T.jsx(IE,U({},yN(t)))}function yN(t,e=!0){if(!t)return;const{slotProps:n,material:r}=t,i=Xe(t,J0e);e&&(i.startAdornment&&(i.startAdornment=T.jsx(L4,{position:"start",children:i.startAdornment})),i.endAdornment&&(i.endAdornment=T.jsx(L4,{position:"end",children:i.endAdornment})));for(const s in r)Object.hasOwn(r,s)&&(i[s]=r[s]);return n!=null&&n.htmlInput&&(i.inputProps?i.inputProps=U({},i.inputProps,n==null?void 0:n.htmlInput):i.inputProps=n==null?void 0:n.htmlInput),i}const CSe={"bottom-start":"top left","bottom-end":"top right"};function ESe(t){const{open:e,children:n,className:r,flip:o,onExited:i,onDidShow:s,onDidHide:a,id:c,target:d,transition:h,placement:p,material:g}=t,m=Xe(t,eSe),v=w.useMemo(()=>{const C=[{name:"preventOverflow",options:{padding:8}}];return o&&C.push({name:"flip",enabled:!0,options:{rootBoundary:"document"}}),(s||a)&&C.push({name:"isPlaced",enabled:!0,phase:"main",fn:()=>{s==null||s()},effect:()=>()=>{a==null||a()}}),C},[o,s,a]);let S;if(!h)S=F4(t,n);else{const C=x=>O=>{x&&x(),i&&i(O)};S=x=>{var O;return F4(t,T.jsx(hS,U({},x.TransitionProps,{style:{transformOrigin:CSe[x.placement]},onExited:C((O=x.TransitionProps)==null?void 0:O.onExited),children:T.jsx(Pf,{children:n})})))}}return T.jsx(AE,U({id:c,className:r,open:e,anchorEl:d,transition:h,placement:p,modifiers:v},m,g,{children:S}))}function F4(t,e){return _Se(t,xSe(t,e))}function xSe(t,e){return t.onClickAway===void 0?e:T.jsx(Yfe,{onClickAway:t.onClickAway,touchEvent:t.clickAwayTouchEvent,mouseEvent:t.clickAwayMouseEvent,children:e})}function _Se(t,e){return t.focusTrap===void 0?e:T.jsx(S9,{open:!0,disableEnforceFocus:!0,disableAutoFocus:!0,children:T.jsx("div",{tabIndex:-1,children:e})})}function TSe(t){let{native:e}=t,n=Xe(t,tSe);return e?T.jsx("option",U({},n)):T.jsx(ZL,U({},n))}const ASe={booleanCellTrueIcon:k4,booleanCellFalseIcon:R4,columnMenuIcon:h0e,openFilterButtonIcon:i0e,filterPanelDeleteIcon:R4,columnFilteredIcon:I4,columnSelectorIcon:a0e,columnUnsortedIcon:S0e,columnSortedAscendingIcon:x4,columnSortedDescendingIcon:_4,columnResizeIcon:l0e,densityCompactIcon:c0e,densityStandardIcon:u0e,densityComfortableIcon:d0e,exportIcon:v0e,moreActionsIcon:g0e,treeDataCollapseIcon:A4,treeDataExpandIcon:T4,groupingCriteriaCollapseIcon:A4,groupingCriteriaExpandIcon:T4,detailPanelExpandIcon:P4,detailPanelCollapseIcon:f0e,rowReorderIcon:M4,quickFilterIcon:s0e,quickFilterClearIcon:O4,columnMenuHideIcon:m0e,columnMenuSortAscendingIcon:x4,columnMenuSortDescendingIcon:_4,columnMenuUnsortIcon:null,columnMenuFilterIcon:I4,columnMenuManageColumnsIcon:y0e,columnMenuClearIcon:O4,loadIcon:p0e,filterPanelAddIcon:P4,filterPanelRemoveAllIcon:b0e,columnReorderIcon:M4,menuItemCheckIcon:k4},ISe={baseAutocomplete:wSe,baseBadge:sSe,baseCheckbox:aSe,baseChip:hSe,baseCircularProgress:lSe,baseDivider:cSe,baseInput:SSe,baseLinearProgress:uSe,baseMenuList:ySe,baseMenuItem:bSe,baseTextField:vSe,baseButton:dSe,baseIconButton:fSe,baseTooltip:pSe,basePagination:iSe,basePopper:ESe,baseSelect:rSe,baseSelectOption:TSe,baseSkeleton:gSe,baseSwitch:mSe},RSe=U({},ISe,ASe),PSe=IU({memoize:m2,memoizeOptions:{maxSize:1,equalityCheck:Object.is}}),$_=(t,e,n,r,o,i,...s)=>{if(s.length>0)throw new Error("Unsupported number of selectors");let a;if(t&&e&&n&&r&&o&&i)a=(c,d,h,p)=>{const g=t(c,d,h,p),m=e(c,d,h,p),v=n(c,d,h,p),S=r(c,d,h,p),C=o(c,d,h,p);return i(g,m,v,S,C,d,h,p)};else if(t&&e&&n&&r&&o)a=(c,d,h,p)=>{const g=t(c,d,h,p),m=e(c,d,h,p),v=n(c,d,h,p),S=r(c,d,h,p);return o(g,m,v,S,d,h,p)};else if(t&&e&&n&&r)a=(c,d,h,p)=>{const g=t(c,d,h,p),m=e(c,d,h,p),v=n(c,d,h,p);return r(g,m,v,d,h,p)};else if(t&&e&&n)a=(c,d,h,p)=>{const g=t(c,d,h,p),m=e(c,d,h,p);return n(g,m,d,h,p)};else if(t&&e)a=(c,d,h,p)=>{const g=t(c,d,h,p);return e(g,d,h,p)};else if(t)a=t;else throw new Error("Missing arguments");return a},yW=(...t)=>{const e=new WeakMap;let n=1;const r=t[t.length-1],o=t.length-1||1,i=Math.max(r.length-o,0);if(i>3)throw new Error("Unsupported number of arguments");return(a,c,d,h)=>{let p=a.__cacheKey__;p||(p={id:n},a.__cacheKey__=p,n+=1);let g=e.get(p);if(!g){const m=t.length===1?[C=>C,r]:t;let v=t;const S=[void 0,void 0,void 0];switch(i){case 0:break;case 1:{v=[...m.slice(0,-1),()=>S[0],r];break}case 2:{v=[...m.slice(0,-1),()=>S[0],()=>S[1],r];break}case 3:{v=[...m.slice(0,-1),()=>S[0],()=>S[1],()=>S[2],r];break}default:throw new Error("Unsupported number of arguments")}g=PSe(...v),g.selectorArgs=S,e.set(p,g)}switch(i){case 3:g.selectorArgs[2]=h;case 2:g.selectorArgs[1]=d;case 1:g.selectorArgs[0]=c}switch(i){case 0:return g(a);case 1:return g(a,c);case 2:return g(a,c,d);case 3:return g(a,c,d,h);default:throw new Error("unreachable")}}};var GM={exports:{}},WM={},qM={exports:{}},KM={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $4;function MSe(){if($4)return KM;$4=1;var t=mv();function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,o=t.useEffect,i=t.useLayoutEffect,s=t.useDebugValue;function a(p,g){var m=g(),v=r({inst:{value:m,getSnapshot:g}}),S=v[0].inst,C=v[1];return i(function(){S.value=m,S.getSnapshot=g,c(S)&&C({inst:S})},[p,m,g]),o(function(){return c(S)&&C({inst:S}),p(function(){c(S)&&C({inst:S})})},[p]),s(m),m}function c(p){var g=p.getSnapshot;p=p.value;try{var m=g();return!n(p,m)}catch{return!0}}function d(p,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:a;return KM.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,KM}var V4;function bW(){return V4||(V4=1,qM.exports=MSe()),qM.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z4;function kSe(){if(z4)return WM;z4=1;var t=mv(),e=bW();function n(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:n,o=e.useSyncExternalStore,i=t.useRef,s=t.useEffect,a=t.useMemo,c=t.useDebugValue;return WM.useSyncExternalStoreWithSelector=function(d,h,p,g,m){var v=i(null);if(v.current===null){var S={hasValue:!1,value:null};v.current=S}else S=v.current;v=a(function(){function x($){if(!O){if(O=!0,M=$,$=g($),m!==void 0&&S.hasValue){var D=S.value;if(m(D,$))return P=D}return P=$}if(D=P,r(M,$))return D;var I=g($);return m!==void 0&&m(D,I)?(M=$,D):(M=$,P=I)}var O=!1,M,P,k=p===void 0?null:p;return[function(){return x(h())},k===null?void 0:function(){return x(k())}]},[h,p,g,m]);var C=o(d,v[0],v[1]);return s(function(){S.hasValue=!0,S.value=C},[C]),c(C),C},WM}var B4;function OSe(){return B4||(B4=1,GM.exports=kSe()),GM.exports}var DSe=OSe();function rc(t,e,n,r,o){const i=s=>e(s,n,r,o);return DSe.useSyncExternalStoreWithSelector(t.subscribe,t.getSnapshot,t.getSnapshot,i)}const LSe=()=>{};function zT(t,e,n){const r=sa(NSe,{store:t,selector:e}).current;r.effect=n,sI(r.onMount)}function NSe(t){const{store:e,selector:n}=t;let r=n(e.state);const o={effect:LSe,dispose:null,subscribe:()=>{o.dispose??(o.dispose=e.subscribe(i=>{const s=n(i);o.effect(r,s),r=s}))},onMount:()=>(o.subscribe(),()=>{var i;(i=o.dispose)==null||i.call(o),o.dispose=null})};return o.subscribe(),o}class TI{constructor(e){je(this,"subscribe",e=>(this.listeners.add(e),()=>{this.listeners.delete(e)}));je(this,"getSnapshot",()=>this.state);this.state=e,this.listeners=new Set,this.updateTick=0}static create(e){return new TI(e)}setState(e){this.state=e,this.updateTick+=1;const n=this.updateTick,r=this.listeners.values();let o;for(;o=r.next(),!o.done;){if(n!==this.updateTick)return;const i=o.value;i(e)}}update(e){for(const n in e)if(!Object.is(this.state[n],e[n])){this.setState(U({},this.state,e));return}}set(e,n){Object.is(this.state[e],n)||this.setState(U({},this.state,{[e]:n}))}}const ct=(...t)=>{const e=$_(...t);return(r,o,i,s)=>e(bN(r),o,i,s)},Sn=(...t)=>{const e=yW(...t);return(r,o,i,s)=>e(bN(r),o,i,s)},gr=t=>(e,n)=>t(bN(e),n);function bN(t){return"current"in t?t.current.state:t}const Lr=gr(t=>t.dimensions),vN=ct(Lr,t=>t.columnsTotalWidth),FSe=ct(Lr,t=>t.rowHeight);ct(Lr,t=>t.contentSize.height);const $Se=ct(Lr,t=>t.hasScrollX),VSe=ct(Lr,t=>t.hasScrollY),vW=ct(Lr,t=>t.columnsTotalWidth<t.viewportOuterSize.width),zSe=ct(Lr,t=>t.headerHeight),BSe=ct(Lr,t=>t.groupHeaderHeight);ct(Lr,t=>t.headerFilterHeight);const HSe=ct(Lr,t=>t.hasScrollX?t.scrollbarSize:0),wW=ct(Lr,t=>t.hasScrollY?t.scrollbarSize:0),jSe=ct(Lr,HSe,(t,e)=>{const n=t.viewportOuterSize.height-t.minimumSize.height>0;return!(e===0&&!n)}),wN=gr(t=>t.rowsMeta),$l=gr(t=>t.rows),Pv=ct($l,t=>t.totalRowCount),USe=ct($l,t=>t.loading),GSe=ct($l,t=>t.totalTopLevelRowCount),za=ct($l,t=>t.dataRowIdToModelLookup);ct(za,(t,e)=>t[e]);const Zo=ct($l,t=>t.tree),Lc=ct(Zo,(t,e)=>t[e]),WSe=ct($l,t=>t.groupsToFetch),qSe=ct($l,t=>t.groupingName),H4=ct($l,t=>t.treeDepths),FE=Sn($l,t=>{const e=Object.entries(t.treeDepths);return e.length===0?1:(e.filter(([,n])=>n>0).map(([n])=>Number(n)).sort((n,r)=>r-n)[0]??0)+1}),Tp=ct($l,t=>t.dataRowIds),KSe=Sn(Tp,za,(t,e)=>t.reduce((n,r)=>(e[r]&&n.push(e[r]),n),[])),YSe=ct($l,t=>t==null?void 0:t.additionalRowGroups),$E=Sn(YSe,t=>{var n,r;const e=t==null?void 0:t.pinnedRows;return{bottom:((n=e==null?void 0:e.bottom)==null?void 0:n.map(o=>({id:o.id,model:o.model??{}})))??[],top:((r=e==null?void 0:e.top)==null?void 0:r.map(o=>({id:o.id,model:o.model??{}})))??[]}}),SW=ct($E,t=>{var e,n;return(((e=t==null?void 0:t.top)==null?void 0:e.length)||0)+(((n=t==null?void 0:t.bottom)==null?void 0:n.length)||0)}),Lo="auto-generated-group-node-root",nm=Symbol("mui.id_autogenerated"),XSe=()=>({type:"group",id:Lo,depth:-1,groupingField:null,groupingKey:null,isAutoGenerated:!0,children:[],childrenFromPath:{},childrenExpanded:!0,parent:null});function QSe(t,e,n="A row was provided without id in the rows prop:"){if(t==null)throw new Error(["MUI X: The Data Grid component requires all rows to have a unique `id` property.","Alternatively, you can use the `getRowId` prop to specify a custom id for each row.",n,JSON.stringify(e)].join(`
`))}const AI=(t,e,n)=>{const r=e?e(t):t.id;return QSe(r,t,n),r},ZSe=(t,e,n)=>{const r=e.field;if(!e||!e.valueGetter)return t[r];const o=t[e.field];return e.valueGetter(o,t,e,n)},V_=({rows:t,getRowId:e,loading:n,rowCount:r})=>{const o={type:"full",rows:[]},i={};for(let s=0;s<t.length;s+=1){const a=t[s],c=AI(a,e);i[c]=a,o.rows.push(c)}return{rowsBeforePartialUpdates:t,loadingPropBeforePartialUpdates:n,rowCountPropBeforePartialUpdates:r,updates:o,dataRowIdToModelLookup:i}},CW=({tree:t,rowCountProp:e=0})=>{const n=t[Lo];return Math.max(e,n.children.length+(n.footerId==null?0:1))},EW=({apiRef:t,rowCountProp:e=0,loadingProp:n,previousTree:r,previousTreeDepths:o,previousGroupsToFetch:i})=>{const s=t.current.caches.rows,{tree:a,treeDepths:c,dataRowIds:d,groupingName:h,groupsToFetch:p=[]}=t.current.applyStrategyProcessor("rowTreeCreation",{previousTree:r,previousTreeDepths:o,updates:s.updates,dataRowIdToModelLookup:s.dataRowIdToModelLookup,previousGroupsToFetch:i}),g=t.current.unstable_applyPipeProcessors("hydrateRows",{tree:a,treeDepths:c,dataRowIds:d,dataRowIdToModelLookup:s.dataRowIdToModelLookup});return t.current.caches.rows.updates={type:"partial",actions:{insert:[],modify:[],remove:[]},idToActionLookup:{}},U({},g,{totalRowCount:Math.max(e,g.dataRowIds.length),totalTopLevelRowCount:CW({tree:g.tree,rowCountProp:e}),groupingName:h,loading:n,groupsToFetch:p})},xW=t=>nm in t,fv=t=>t.type==="skeletonRow"||t.type==="footer"||t.type==="group"&&t.isAutoGenerated||t.type==="pinnedRow"&&t.isAutoGenerated,SN=(t,e,n,r)=>{const o=t[e];if(o.type!=="group")return[];const i=[];for(let s=0;s<o.children.length;s+=1){const a=o.children[s];if((!n||!fv(t[a]))&&i.push(a),r)continue;const c=SN(t,a,n,r);for(let d=0;d<c.length;d+=1)i.push(c[d])}return!n&&o.footerId!=null&&i.push(o.footerId),i},j4=({previousCache:t,getRowId:e,updates:n,groupKeys:r})=>{if(t.updates.type==="full")throw new Error("MUI X: Unable to prepare a partial update if a full update is not applied yet.");const o=new Map;n.forEach(d=>{const h=AI(d,e,"A row was provided without id when calling updateRows():");o.has(h)?o.set(h,U({},o.get(h),d)):o.set(h,d)});const i={type:"partial",actions:{insert:[...t.updates.actions.insert??[]],modify:[...t.updates.actions.modify??[]],remove:[...t.updates.actions.remove??[]]},idToActionLookup:U({},t.updates.idToActionLookup),groupKeys:r},s=U({},t.dataRowIdToModelLookup),a={insert:{},modify:{},remove:{}};o.forEach((d,h)=>{const p=i.idToActionLookup[h];if(d._action==="delete"){if(p==="remove"||!s[h])return;p!=null&&(a[p][h]=!0),i.actions.remove.push(h),delete s[h];return}const g=s[h];if(g){p==="remove"?(a.remove[h]=!0,i.actions.modify.push(h)):p==null&&i.actions.modify.push(h),s[h]=U({},g,d);return}p==="remove"?(a.remove[h]=!0,i.actions.insert.push(h)):p==null&&i.actions.insert.push(h),s[h]=d});const c=Object.keys(a);for(let d=0;d<c.length;d+=1){const h=c[d],p=a[h];Object.keys(p).length>0&&(i.actions[h]=i.actions[h].filter(g=>!p[g]))}return{dataRowIdToModelLookup:s,updates:i,rowsBeforePartialUpdates:t.rowsBeforePartialUpdates,loadingPropBeforePartialUpdates:t.loadingPropBeforePartialUpdates,rowCountPropBeforePartialUpdates:t.rowCountPropBeforePartialUpdates}},_W="var(--DataGrid-overlayHeight, calc(var(--height) * 2))";function U4(t,e,n){const r=[];return e.forEach(o=>{const i=AI(o,n,"A row was provided without id when calling updateRows():"),s=Lc(t,i);if((s==null?void 0:s.type)==="pinnedRow"){const a=t.current.caches.pinnedRows,c=a.idLookup[i];c&&(a.idLookup[i]=U({},c,o))}else r.push(o)}),r}const TW=(t,e,n)=>typeof t=="number"&&t>0?t:e,JSe=Object.is;function AW(t,e){if(t===e)return!0;if(!(t instanceof Object)||!(e instanceof Object))return!1;let n=0,r=0;for(const o in t)if(n+=1,!JSe(t[o],e[o])||!(o in e))return!1;for(const o in e)r+=1;return n===r}function xd(t){return w.memo(t,AW)}const eCe={noRowsLabel:"No rows",noResultsOverlayLabel:"No results found.",noColumnsOverlayLabel:"No columns",noColumnsOverlayManageColumns:"Manage columns",emptyPivotOverlayLabel:"Add fields to rows, columns, and values to create a pivot table",toolbarDensity:"Density",toolbarDensityLabel:"Density",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Comfortable",toolbarColumns:"Columns",toolbarColumnsLabel:"Select columns",toolbarFilters:"Filters",toolbarFiltersLabel:"Show filters",toolbarFiltersTooltipHide:"Hide filters",toolbarFiltersTooltipShow:"Show filters",toolbarFiltersTooltipActive:t=>t!==1?`${t} active filters`:`${t} active filter`,toolbarQuickFilterPlaceholder:"Search",toolbarQuickFilterLabel:"Search",toolbarQuickFilterDeleteIconLabel:"Clear",toolbarExport:"Export",toolbarExportLabel:"Export",toolbarExportCSV:"Download as CSV",toolbarExportPrint:"Print",toolbarExportExcel:"Download as Excel",toolbarPivot:"Pivot",toolbarAssistant:"AI Assistant",columnsManagementSearchTitle:"Search",columnsManagementNoColumns:"No columns",columnsManagementShowHideAllText:"Show/Hide All",columnsManagementReset:"Reset",columnsManagementDeleteIconLabel:"Clear",filterPanelAddFilter:"Add filter",filterPanelRemoveAll:"Remove all",filterPanelDeleteIconLabel:"Delete",filterPanelLogicOperator:"Logic operator",filterPanelOperator:"Operator",filterPanelOperatorAnd:"And",filterPanelOperatorOr:"Or",filterPanelColumns:"Columns",filterPanelInputLabel:"Value",filterPanelInputPlaceholder:"Filter value",filterOperatorContains:"contains",filterOperatorDoesNotContain:"does not contain",filterOperatorEquals:"equals",filterOperatorDoesNotEqual:"does not equal",filterOperatorStartsWith:"starts with",filterOperatorEndsWith:"ends with",filterOperatorIs:"is",filterOperatorNot:"is not",filterOperatorAfter:"is after",filterOperatorOnOrAfter:"is on or after",filterOperatorBefore:"is before",filterOperatorOnOrBefore:"is on or before",filterOperatorIsEmpty:"is empty",filterOperatorIsNotEmpty:"is not empty",filterOperatorIsAnyOf:"is any of","filterOperator=":"=","filterOperator!=":"!=","filterOperator>":">","filterOperator>=":">=","filterOperator<":"<","filterOperator<=":"<=",headerFilterOperatorContains:"Contains",headerFilterOperatorDoesNotContain:"Does not contain",headerFilterOperatorEquals:"Equals",headerFilterOperatorDoesNotEqual:"Does not equal",headerFilterOperatorStartsWith:"Starts with",headerFilterOperatorEndsWith:"Ends with",headerFilterOperatorIs:"Is",headerFilterOperatorNot:"Is not",headerFilterOperatorAfter:"Is after",headerFilterOperatorOnOrAfter:"Is on or after",headerFilterOperatorBefore:"Is before",headerFilterOperatorOnOrBefore:"Is on or before",headerFilterOperatorIsEmpty:"Is empty",headerFilterOperatorIsNotEmpty:"Is not empty",headerFilterOperatorIsAnyOf:"Is any of","headerFilterOperator=":"Equals","headerFilterOperator!=":"Not equals","headerFilterOperator>":"Greater than","headerFilterOperator>=":"Greater than or equal to","headerFilterOperator<":"Less than","headerFilterOperator<=":"Less than or equal to",headerFilterClear:"Clear filter",filterValueAny:"any",filterValueTrue:"true",filterValueFalse:"false",columnMenuLabel:"Menu",columnMenuAriaLabel:t=>`${t} column menu`,columnMenuShowColumns:"Show columns",columnMenuManageColumns:"Manage columns",columnMenuFilter:"Filter",columnMenuHideColumn:"Hide column",columnMenuUnsort:"Unsort",columnMenuSortAsc:"Sort by ASC",columnMenuSortDesc:"Sort by DESC",columnMenuManagePivot:"Manage pivot",columnHeaderFiltersTooltipActive:t=>t!==1?`${t} active filters`:`${t} active filter`,columnHeaderFiltersLabel:"Show filters",columnHeaderSortIconLabel:"Sort",footerRowSelected:t=>t!==1?`${t.toLocaleString()} rows selected`:`${t.toLocaleString()} row selected`,footerTotalRows:"Total Rows:",footerTotalVisibleRows:(t,e)=>`${t.toLocaleString()} of ${e.toLocaleString()}`,checkboxSelectionHeaderName:"Checkbox selection",checkboxSelectionSelectAllRows:"Select all rows",checkboxSelectionUnselectAllRows:"Unselect all rows",checkboxSelectionSelectRow:"Select row",checkboxSelectionUnselectRow:"Unselect row",booleanCellTrueLabel:"yes",booleanCellFalseLabel:"no",actionsCellMore:"more",pinToLeft:"Pin to left",pinToRight:"Pin to right",unpin:"Unpin",treeDataGroupingHeaderName:"Group",treeDataExpand:"see children",treeDataCollapse:"hide children",groupingColumnHeaderName:"Group",groupColumn:t=>`Group by ${t}`,unGroupColumn:t=>`Stop grouping by ${t}`,detailPanelToggle:"Detail panel toggle",expandDetailPanel:"Expand",collapseDetailPanel:"Collapse",paginationRowsPerPage:"Rows per page:",paginationDisplayedRows:({from:t,to:e,count:n,estimated:r})=>{if(!r)return`${t}${e} of ${n!==-1?n:`more than ${e}`}`;const o=r&&r>e?`around ${r}`:`more than ${e}`;return`${t}${e} of ${n!==-1?n:o}`},paginationItemAriaLabel:t=>t==="first"?"Go to first page":t==="last"?"Go to last page":t==="next"?"Go to next page":"Go to previous page",rowReorderingHeaderName:"Row reordering",aggregationMenuItemHeader:"Aggregation",aggregationFunctionLabelSum:"sum",aggregationFunctionLabelAvg:"avg",aggregationFunctionLabelMin:"min",aggregationFunctionLabelMax:"max",aggregationFunctionLabelSize:"size",pivotToggleLabel:"Pivot",pivotRows:"Rows",pivotColumns:"Columns",pivotValues:"Values",pivotCloseButton:"Close pivot settings",pivotSearchButton:"Search fields",pivotSearchControlPlaceholder:"Search fields",pivotSearchControlLabel:"Search fields",pivotSearchControlClear:"Clear search",pivotNoFields:"No fields",pivotMenuMoveUp:"Move up",pivotMenuMoveDown:"Move down",pivotMenuMoveToTop:"Move to top",pivotMenuMoveToBottom:"Move to bottom",pivotMenuRows:"Rows",pivotMenuColumns:"Columns",pivotMenuValues:"Values",pivotMenuOptions:"Field options",pivotMenuAddToRows:"Add to Rows",pivotMenuAddToColumns:"Add to Columns",pivotMenuAddToValues:"Add to Values",pivotMenuRemove:"Remove",pivotDragToRows:"Drag here to create rows",pivotDragToColumns:"Drag here to create columns",pivotDragToValues:"Drag here to create values",pivotYearColumnHeaderName:"(Year)",pivotQuarterColumnHeaderName:"(Quarter)",aiAssistantPanelTitle:"AI Assistant",aiAssistantPanelClose:"Close AI Assistant",aiAssistantPanelNewConversation:"New conversation",aiAssistantPanelConversationHistory:"Conversation history",aiAssistantPanelEmptyConversation:"No prompt history",aiAssistantSuggestions:"Suggestions",promptFieldLabel:"Prompt",promptFieldPlaceholder:"Type a prompt",promptFieldPlaceholderWithRecording:"Type or record a prompt",promptFieldPlaceholderListening:"Listening for prompt",promptFieldSpeechRecognitionNotSupported:"Speech recognition is not supported in this browser",promptFieldSend:"Send",promptFieldRecord:"Record",promptFieldStopRecording:"Stop recording",promptRerun:"Run again",promptProcessing:"Processing",promptAppliedChanges:"Applied changes",promptChangeGroupDescription:t=>`Group by ${t}`,promptChangeAggregationLabel:(t,e)=>`${t} (${e})`,promptChangeAggregationDescription:(t,e)=>`Aggregate ${t} (${e})`,promptChangeFilterLabel:(t,e,n)=>e==="is any of"?`${t} is any of: ${n}`:`${t} ${e} ${n}`,promptChangeFilterDescription:(t,e,n)=>e==="is any of"?`Filter where ${t} is any of: ${n}`:`Filter where ${t} ${e} ${n}`,promptChangeSortDescription:(t,e)=>`Sort by ${t} (${e})`,promptChangePivotEnableLabel:"Pivot",promptChangePivotEnableDescription:"Enable pivot",promptChangePivotColumnsLabel:t=>`Columns (${t})`,promptChangePivotColumnsDescription:(t,e)=>`${t}${e?` (${e})`:""}`,promptChangePivotRowsLabel:t=>`Rows (${t})`,promptChangePivotValuesLabel:t=>`Values (${t})`,promptChangePivotValuesDescription:(t,e)=>`${t} (${e})`};function en(t){return kt("MuiDataGrid",t)}const ee=Pt("MuiDataGrid",["aiAssistantPanel","aiAssistantPanelHeader","aiAssistantPanelTitleContainer","aiAssistantPanelTitle","aiAssistantPanelBody","aiAssistantPanelEmptyText","aiAssistantPanelFooter","aiAssistantPanelConversation","aiAssistantPanelConversationList","aiAssistantPanelConversationTitle","aiAssistantPanelSuggestions","aiAssistantPanelSuggestionsList","aiAssistantPanelSuggestionsItem","aiAssistantPanelSuggestionsLabel","actionsCell","aggregationColumnHeader","aggregationColumnHeader--alignLeft","aggregationColumnHeader--alignCenter","aggregationColumnHeader--alignRight","aggregationColumnHeaderLabel","aggregationRowOverlayWrapper","autoHeight","autosizing","mainContent","withSidePanel","booleanCell","cell--editable","cell--editing","cell--flex","cell--textCenter","cell--textLeft","cell--textRight","cell--rangeTop","cell--rangeBottom","cell--rangeLeft","cell--rangeRight","cell--pinnedLeft","cell--pinnedRight","cell--selectionMode","cell","cellCheckbox","cellEmpty","cellSkeleton","cellOffsetLeft","checkboxInput","collapsible","collapsibleTrigger","collapsibleIcon","collapsiblePanel","columnHeader","columnHeader--alignCenter","columnHeader--alignLeft","columnHeader--alignRight","columnHeader--dragging","columnHeader--moving","columnHeader--numeric","columnHeader--sortable","columnHeader--sorted","columnHeader--filtered","columnHeader--pinnedLeft","columnHeader--pinnedRight","columnHeader--last","columnHeader--lastUnpinned","columnHeader--siblingFocused","columnHeader--filter","columnHeaderFilterInput","columnHeaderFilterOperatorLabel","columnHeaderCheckbox","columnHeaderDraggableContainer","columnHeaderTitle","columnHeaderTitleContainer","columnHeaderTitleContainerContent","columnHeader--filledGroup","columnHeader--emptyGroup","columnHeaders","columnSeparator--resizable","columnSeparator--resizing","columnSeparator--sideLeft","columnSeparator--sideRight","columnSeparator","columnsManagement","columnsManagementRow","columnsManagementHeader","columnsManagementSearchInput","columnsManagementFooter","columnsManagementScrollArea","columnsManagementEmptyText","container--top","container--bottom","detailPanel","detailPanelToggleCell","detailPanelToggleCell--expanded","footerCell","panel","panelHeader","panelWrapper","panelContent","panelFooter","paper","editBooleanCell","editInputCell","filler","filler--borderBottom","filler--pinnedLeft","filler--pinnedRight","filterForm","filterFormDeleteIcon","filterFormLogicOperatorInput","filterFormColumnInput","filterFormOperatorInput","filterFormValueInput","filterIcon","footerContainer","headerFilterRow","iconButtonContainer","iconSeparator","main","main--hasPinnedRight","main--hiddenContent","menu","menuIcon","menuIconButton","menuOpen","menuList","overlay","overlayWrapper","overlayWrapperInner","root","root--densityStandard","root--densityComfortable","root--densityCompact","root--disableUserSelection","root--noToolbar","row","row--editable","row--editing","row--firstVisible","row--lastVisible","row--dragging","row--dropAbove","row--dropBelow","row--beingDragged","row--dynamicHeight","row--detailPanelExpanded","row--borderBottom","rowReorderCellPlaceholder","rowCount","rowReorderCellContainer","rowReorderCell","rowReorderCell--draggable","rowReorderIcon","rowSkeleton","scrollArea--left","scrollArea--right","scrollArea--up","scrollArea--down","scrollArea","scrollbar","scrollbar--vertical","scrollbar--horizontal","scrollbarFiller","scrollbarFiller--header","scrollbarFiller--borderTop","scrollbarFiller--borderBottom","scrollbarFiller--pinnedRight","selectedRowCount","sortButton","sortIcon","shadowScrollArea","sidebar","sidebarHeader","toolbarContainer","toolbar","toolbarLabel","toolbarDivider","toolbarFilterList","toolbarQuickFilter","toolbarQuickFilterTrigger","toolbarQuickFilterControl","virtualScroller","virtualScroller--hasScrollX","virtualScrollerContent","virtualScrollerContent--overflowed","virtualScrollerRenderZone","withVerticalBorder","withBorderColor","cell--withRightBorder","cell--withLeftBorder","columnHeader--withRightBorder","columnHeader--withLeftBorder","treeDataGroupingCell","treeDataGroupingCellToggle","treeDataGroupingCellLoadingContainer","groupingCriteriaCell","groupingCriteriaCellToggle","groupingCriteriaCellLoadingContainer","pinnedRows","pinnedRows--top","pinnedRows--bottom","pivotPanelAvailableFields","pivotPanelField","pivotPanelField--sorted","pivotPanelFieldActionContainer","pivotPanelFieldCheckbox","pivotPanelFieldDragIcon","pivotPanelFieldList","pivotPanelFieldName","pivotPanelHeader","pivotPanelPlaceholder","pivotPanelScrollArea","pivotPanelSearchContainer","pivotPanelSection","pivotPanelSectionTitle","pivotPanelSections","pivotPanelSwitch","pivotPanelSwitchLabel","prompt","promptContent","promptText","promptFeedback","promptChangeList","promptChangesToggle","promptChangesToggleIcon","promptIcon","promptIconContainer","promptError","promptAction"]);let Il=function(t){return t.DataGrid="DataGrid",t.DataGridPro="DataGridPro",t.DataGridPremium="DataGridPremium",t}({});const G4=1e3;class tCe{constructor(e=G4){je(this,"timeouts",new Map);je(this,"cleanupTimeout",G4);this.cleanupTimeout=e}register(e,n,r){this.timeouts||(this.timeouts=new Map);const o=setTimeout(()=>{typeof n=="function"&&n(),this.timeouts.delete(r.cleanupToken)},this.cleanupTimeout);this.timeouts.set(r.cleanupToken,o)}unregister(e){const n=this.timeouts.get(e.cleanupToken);n&&(this.timeouts.delete(e.cleanupToken),clearTimeout(n))}reset(){this.timeouts&&(this.timeouts.forEach((e,n)=>{this.unregister({cleanupToken:n})}),this.timeouts=void 0)}}class nCe{constructor(){je(this,"registry",new FinalizationRegistry(e=>{typeof e=="function"&&e()}))}register(e,n,r){this.registry.register(e,n,r)}unregister(e){this.registry.unregister(e)}reset(){}}class CN{static create(){return new CN}}const N1={current:oCe()};let W4=0;function st(t,e,n,r){const o=w.useState(CN.create)[0],i=w.useRef(null),s=w.useRef(null);s.current=n;const a=w.useRef(null);if(!i.current&&s.current){const c=(d,h,p)=>{var g;h.defaultMuiPrevented||(g=s.current)==null||g.call(s,d,h,p)};i.current=t.current.subscribeEvent(e,c,r),W4+=1,a.current={cleanupToken:W4},N1.current.register(o,()=>{var d;(d=i.current)==null||d.call(i),i.current=null,a.current=null},a.current)}else!s.current&&i.current&&(i.current(),i.current=null,a.current&&(N1.current.unregister(a.current),a.current=null));w.useEffect(()=>{if(!i.current&&s.current){const c=(d,h,p)=>{var g;h.defaultMuiPrevented||(g=s.current)==null||g.call(s,d,h,p)};i.current=t.current.subscribeEvent(e,c,r)}return a.current&&N1.current&&(N1.current.unregister(a.current),a.current=null),()=>{var c;(c=i.current)==null||c.call(i),i.current=null}},[t,e,r])}const rCe={isFirst:!0};function Bn(t,e,n){st(t,e,n,rCe)}function oCe(){return typeof FinalizationRegistry<"u"?new nCe:new tCe}var IW=bW();const iCe=Object.is,RW=AW,sCe=(t,e)=>t===e?!0:t.length===e.length&&t.every((n,r)=>n===e[r]),aCe=(t,e)=>{let n=Object.is;return e instanceof Array?n=sCe:e instanceof Object&&(n=RW),n(t,e)},lCe=()=>({state:null,equals:null,selector:null,args:void 0}),q4=[],cCe=()=>null;function $e(t,e,n=void 0,r=iCe){const o=sa(lCe),i=o.current.selector!==null,[s,a]=w.useState(i?null:e(t,n));o.current.state=s,o.current.equals=r,o.current.selector=e;const c=o.current.args;if(o.current.args=n,i&&!aCe(c,n)){const p=o.current.selector(t,o.current.args);o.current.equals(o.current.state,p)||(o.current.state=p,a(p))}const d=w.useCallback(()=>(o.current.subscription||(o.current.subscription=t.current.store.subscribe(()=>{const p=o.current.selector(t,o.current.args);o.current.equals(o.current.state,p)||(o.current.state=p,a(p))})),null),q4),h=w.useCallback(()=>(o.current.subscription||d(),()=>{o.current.subscription&&(o.current.subscription(),o.current.subscription=void 0)}),q4);return IW.useSyncExternalStore(h,d,cCe),s}const uCe=.7,dCe=1.3,hCe={compact:uCe,comfortable:dCe,standard:1},Ty=gr(t=>t.density),VE=ct(Ty,t=>hCe[t]);function Gc(t){throw new Error("Failed assertion: should not be rendered")}const fCe=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","isValidating","debounceMs","isProcessingProps","onValueChange","slotProps"],pCe=t=>{const{classes:e}=t;return Ze({root:["editInputCell"]},en,e)},gCe=Se(Gc,{name:"MuiDataGrid",slot:"EditInputCell"})({font:tt.typography.font.body,padding:"1px 0","& input":{padding:"0 16px",height:"100%"}}),mCe=xt((t,e)=>{const n=et(),{id:r,value:o,field:i,colDef:s,hasFocus:a,debounceMs:c=200,isProcessingProps:d,onValueChange:h,slotProps:p}=t,g=Xe(t,fCe),m=Ft(),v=w.useRef(null),[S,C]=w.useState(o),x=pCe(n),O=w.useCallback(async P=>{const k=P.target.value,$=m.current.getColumn(i);let D=k;$.valueParser&&(D=$.valueParser(k,m.current.getRow(r),$,m)),C(D),m.current.setEditCellValue({id:r,field:i,value:D,debounceMs:c,unstable_skipValueParser:!0},P),h&&await h(P,k)},[m,c,i,r,h]),M=m.current.unstable_getEditCellMeta(r,i);return w.useEffect(()=>{(M==null?void 0:M.changeReason)!=="debouncedSetEditCellValue"&&C(o)},[M,o]),Un(()=>{a&&v.current.focus()},[a]),T.jsx(gCe,U({as:n.slots.baseInput,inputRef:v,className:x.root,ownerState:n,fullWidth:!0,type:s.type==="number"?s.type:"text",value:S??"",onChange:O,endAdornment:d?T.jsx(n.slots.loadIcon,{fontSize:"small",color:"action"}):void 0},g,p==null?void 0:p.root,{ref:e}))}),yCe=t=>T.jsx(mCe,U({},t)),PW=(t,e)=>e&&t.length>1?[t[0]]:t,K4=(t,e)=>n=>U({},n,{sorting:U({},n.sorting,{sortModel:PW(t,e)})}),bCe=t=>t==="desc",vCe=(t,e)=>{const n=e.current.getColumn(t.field);if(!n||t.sort===null)return null;let r;return n.getSortComparator?r=n.getSortComparator(t.sort):r=bCe(t.sort)?(...i)=>-1*n.sortComparator(...i):n.sortComparator,r?{getSortCellParams:i=>({id:i,field:n.field,rowNode:Lc(e,i),value:e.current.getCellValue(i,n.field),api:e.current}),comparator:r}:null},wCe=(t,e,n)=>t.reduce((r,o,i)=>{if(r!==0)return r;const s=e.params[i],a=n.params[i];return r=o.comparator(s.value,a.value,s,a),r},0),SCe=(t,e)=>{const n=t.map(r=>vCe(r,e)).filter(r=>!!r);return n.length===0?null:r=>r.map(o=>({node:o,params:n.map(i=>i.getSortCellParams(o.id))})).sort((o,i)=>wCe(n,o,i)).map(o=>o.node.id)},Y4=(t,e)=>{const n=t.indexOf(e);return!e||n===-1||n+1===t.length?t[0]:t[n+1]},EN=(t,e)=>t==null&&e!=null?-1:e==null&&t!=null?1:t==null&&e==null?0:null,CCe=new Intl.Collator,ECe=(t,e)=>{const n=EN(t,e);return n!==null?n:typeof t=="string"?CCe.compare(t.toString(),e.toString()):t-e},MW=(t,e)=>{const n=EN(t,e);return n!==null?n:Number(t)-Number(e)},kW=(t,e)=>{const n=EN(t,e);return n!==null?n:t>e?1:t<e?-1:0},xCe=["item","applyValue","type","apiRef","focusElementRef","tabIndex","disabled","isFilterActive","slotProps","clearButton","headerFilterMenu"];function La(t){var k,$,D;const{item:e,applyValue:n,type:r,apiRef:o,focusElementRef:i,tabIndex:s,disabled:a,slotProps:c,clearButton:d,headerFilterMenu:h}=t,p=Xe(t,xCe),g=c==null?void 0:c.root,m=Js(),[v,S]=w.useState(YM(e.value)),[C,x]=w.useState(!1),O=sn(),M=et(),P=w.useCallback(I=>{const A=YM(I.target.value);S(A),x(!0),m.start(M.filterDebounceMs,()=>{const N=U({},e,{value:r==="number"&&!Number.isNaN(Number(A))?Number(A):A,fromInput:O});n(N),x(!1)})},[m,M.filterDebounceMs,e,r,O,n]);return w.useEffect(()=>{(e.fromInput!==O||e.value==null)&&S(YM(e.value))},[O,e]),T.jsxs(w.Fragment,{children:[T.jsx(M.slots.baseTextField,U({id:O,label:o.current.getLocaleText("filterPanelInputLabel"),placeholder:o.current.getLocaleText("filterPanelInputPlaceholder"),value:v??"",onChange:P,type:r||"text",disabled:a,slotProps:U({},g==null?void 0:g.slotProps,{input:U({endAdornment:C?T.jsx(M.slots.loadIcon,{fontSize:"small",color:"action"}):null},(k=g==null?void 0:g.slotProps)==null?void 0:k.input),htmlInput:U({tabIndex:s},($=g==null?void 0:g.slotProps)==null?void 0:$.htmlInput)}),inputRef:i},(D=M.slotProps)==null?void 0:D.baseTextField,p,g)),h,d]})}function YM(t){if(!(t==null||t===""))return String(t)}function _Ce(t){return typeof t=="number"&&!Number.isNaN(t)}function TCe(t){return typeof t=="function"}function xN(t){return typeof t=="object"&&t!==null}function ACe(){try{const t="__some_random_key_you_are_not_going_to_use__";return window.localStorage.setItem(t,t),window.localStorage.removeItem(t),!0}catch{return!1}}function BT(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}const Bg=(t,e,n)=>Math.max(e,Math.min(n,t));function ICe(t){return()=>{let e=t+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}}function RCe(t){const e=ICe(t);return(n,r)=>n+(r-n)*e()}function OW(t){return typeof structuredClone=="function"?structuredClone(t):JSON.parse(JSON.stringify(t))}const uh=(t,e)=>n=>{t&&e(n)};function DW(t){const{item:e,applyValue:n,type:r,apiRef:o,focusElementRef:i,slotProps:s}=t,a=sn(),[c,d]=w.useState([]),[h,p]=w.useState(e.value||[]),g=et();w.useEffect(()=>{const C=e.value??[];p(C.map(String))},[e.value]);const m=w.useCallback((C,x)=>{p(x.map(String)),n(U({},e,{value:[...x.map(O=>r==="number"?Number(O):O)]}))},[n,e,r]),v=w.useCallback((C,x)=>{d(x===""?[]:[x])},[d]),S=g.slots.baseAutocomplete;return T.jsx(S,U({multiple:!0,freeSolo:!0,options:c,id:a,value:h,onChange:m,onInputChange:v,label:o.current.getLocaleText("filterPanelInputLabel"),placeholder:o.current.getLocaleText("filterPanelInputPlaceholder"),slotProps:{textField:{type:r||"text",inputRef:i}}},s==null?void 0:s.root))}var Bc=function(t){return t.Cell="cell",t.Row="row",t}(Bc||{}),In=function(t){return t.Edit="edit",t.View="view",t}(In||{}),sr=function(t){return t.Edit="edit",t.View="view",t}(sr||{}),Yi=function(t){return t.And="and",t.Or="or",t}(Yi||{});class PCe{constructor(e){this.data=e.ids}has(e){return this.data.has(e)}select(e){this.data.add(e)}unselect(e){this.data.delete(e)}}class MCe{constructor(e){this.data=e.ids}has(e){return!this.data.has(e)}select(e){this.data.delete(e)}unselect(e){this.data.add(e)}}const dh=t=>t.type==="include"?new PCe(t):new MCe(t);var vu=function(t){return t.enterKeyDown="enterKeyDown",t.cellDoubleClick="cellDoubleClick",t.printableKeyDown="printableKeyDown",t.deleteKeyDown="deleteKeyDown",t.pasteKeyDown="pasteKeyDown",t}(vu||{}),cl=function(t){return t.cellFocusOut="cellFocusOut",t.escapeKeyDown="escapeKeyDown",t.enterKeyDown="enterKeyDown",t.tabKeyDown="tabKeyDown",t.shiftTabKeyDown="shiftTabKeyDown",t}(cl||{}),nh=function(t){return t.enterKeyDown="enterKeyDown",t.cellDoubleClick="cellDoubleClick",t.printableKeyDown="printableKeyDown",t.deleteKeyDown="deleteKeyDown",t}(nh||{}),tc=function(t){return t.rowFocusOut="rowFocusOut",t.escapeKeyDown="escapeKeyDown",t.enterKeyDown="enterKeyDown",t.tabKeyDown="tabKeyDown",t.shiftTabKeyDown="shiftTabKeyDown",t}(tc||{});function LW(t){return t.field!==void 0}const NW={filteredRowsLookup:{},filteredChildrenCountLookup:{},filteredDescendantCountLookup:{}},SS=()=>({items:[],logicOperator:Yi.And,quickFilterValues:[],quickFilterLogicOperator:Yi.And});function FW(t){return{current:t.current.getPublicApi()}}let rh=function(t){return t.LEFT="left",t.RIGHT="right",t}({});const HT={left:[],right:[]},$W=gr(t=>t.isRtl),VW=gr(t=>t.props.listView??!1),zW=gr(t=>t.listViewColumn),Rl=gr(t=>t.columns),Nc=ct(Rl,t=>t.orderedFields),_d=ct(Rl,t=>t.lookup),ja=Sn(Nc,_d,(t,e)=>t.map(n=>e[n])),Ba=ct(Rl,t=>t.columnVisibilityModel),kCe=ct(Rl,t=>t.initialColumnVisibilityModel),Or=Sn(ja,Ba,VW,zW,(t,e,n,r)=>n&&r?[r]:t.filter(o=>e[o.field]!==!1)),zE=Sn(Or,t=>t.map(e=>e.field)),BW=gr(t=>t.pinnedColumns);Sn(BW,Nc,$W,(t,e,n)=>HW(t,e,n));const II=Sn(Rl,BW,zE,$W,VW,(t,e,n,r,o)=>{if(o)return HT;const i=HW(e,n,r);return{left:i.left.map(a=>t.lookup[a]),right:i.right.map(a=>t.lookup[a])}});function HW(t,e,n){var a,c;if(!Array.isArray(t.left)&&!Array.isArray(t.right)||((a=t.left)==null?void 0:a.length)===0&&((c=t.right)==null?void 0:c.length)===0)return HT;const r=(d,h)=>Array.isArray(d)?d.filter(p=>h.includes(p)):[],o=r(t.left,e),i=e.filter(d=>!o.includes(d)),s=r(t.right,i);return n?{left:s,right:o}:{left:o,right:s}}const fm=Sn(Or,t=>{const e=[];let n=0;for(let r=0;r<t.length;r+=1)e.push(n),n+=t[r].computedWidth;return e}),jW=Sn(ja,t=>t.filter(e=>e.filterable)),OCe=Sn(ja,t=>t.reduce((e,n)=>(n.filterable&&(e[n.field]=n),e),{})),DCe=Sn(ja,t=>t.some(e=>e.colSpan!==void 0));let Kw;function LCe(){if(Kw!==void 0)return Kw;try{Kw=new Function("return true")()}catch{Kw=!1}return Kw}const $D=(t,e)=>{const n=U({},t);if(n.id==null&&(n.id=Math.round(Math.random()*1e5)),n.operator==null){const r=_d(e)[n.field];n.operator=r&&r.filterOperators[0].value}return n},_N=(t,e,n)=>{const r=t.items.length>1;let o;r&&e?o=[t.items[0]]:o=t.items;const i=r&&o.some(a=>a.id==null);return o.some(a=>a.operator==null)||i?U({},t,{items:o.map(a=>$D(a,n))}):t.items!==o?U({},t,{items:o}):t},X4=(t,e,n)=>r=>U({},r,{filterModel:_N(t,e,n)}),CS=t=>typeof t=="string"?t.normalize("NFD").replace(/[\u0300-\u036f]/g,""):t,UW=(t,e)=>{var h;if(!t.field||!t.operator)return null;const n=e.current.getColumn(t.field);if(!n)return null;let r;if(n.valueParser){const p=n.valueParser;r=Array.isArray(t.value)?(h=t.value)==null?void 0:h.map(g=>p(g,void 0,n,e)):p(t.value,void 0,n,e)}else r=t.value;const{ignoreDiacritics:o}=e.current.rootProps;o&&(r=CS(r));const i=U({},t,{value:r}),s=n.filterOperators;if(!(s!=null&&s.length))throw new Error(`MUI X: No filter operators found for column '${n.field}'.`);const a=s.find(p=>p.value===i.operator);if(!a)throw new Error(`MUI X: No filter operator found for column '${n.field}' and operator value '${i.operator}'.`);const c=FW(e),d=a.getApplyFilterFn(i,n);return typeof d!="function"?null:{item:i,fn:p=>{let g=e.current.getRowValue(p,n);return o&&(g=CS(g)),d(g,p,n,c)}}};let Q4=1;const NCe=(t,e,n)=>{const{items:r}=t,o=r.map(a=>UW(a,e)).filter(a=>!!a);if(o.length===0)return null;if(n||!LCe())return(a,c)=>{const d={};for(let h=0;h<o.length;h+=1){const p=o[h];(!c||c(p.item.field))&&(d[p.item.id]=p.fn(a))}return d};const i=new Function("appliers","row","shouldApplyFilter",`"use strict";
${o.map((a,c)=>`const shouldApply${c} = !shouldApplyFilter || shouldApplyFilter(${JSON.stringify(a.item.field)});`).join(`
`)}

const result$$ = {
${o.map((a,c)=>`  ${JSON.stringify(String(a.item.id))}: !shouldApply${c} ? false : appliers[${c}].fn(row),`).join(`
`)}
};

return result$$;`.replaceAll("$$",String(Q4)));return Q4+=1,(a,c)=>i(o,a,c)},GW=t=>t.quickFilterExcludeHiddenColumns??!0,FCe=(t,e)=>{var d;const n=((d=t.quickFilterValues)==null?void 0:d.filter(Boolean))??[];if(n.length===0)return null;const r=Nc(e),o=Ba(e);let i;GW(t)?i=r.filter(h=>o[h]!==!1):i=r;const s=[],{ignoreDiacritics:a}=e.current.rootProps,c=FW(e);return i.forEach(h=>{const p=e.current.getColumn(h),g=p==null?void 0:p.getApplyQuickFilterFn;g&&s.push({column:p,appliers:n.map(m=>{const v=a?CS(m):m;return{fn:g(v,p,c)}})})}),function(p,g){const m={};e:for(let v=0;v<n.length;v+=1){const S=n[v];for(let C=0;C<s.length;C+=1){const{column:x,appliers:O}=s[C],{field:M}=x;if(g&&!g(M))continue;const P=O[v];let k=e.current.getRowValue(p,x);if(P.fn===null)continue;if(a&&(k=CS(k)),P.fn(k,p,x,c)){m[S]=!0;continue e}}m[S]=!1}return m}},$Ce=(t,e,n)=>{const r=NCe(t,e,n),o=FCe(t,e);return function(s,a,c){c.passingFilterItems=(r==null?void 0:r(s,a))??null,c.passingQuickFilterValues=(o==null?void 0:o(s,a))??null}},Z4=t=>t!=null,VCe=(t,e,n)=>(t.cleanedFilterItems||(t.cleanedFilterItems=n.filter(r=>UW(r,e)!==null)),t.cleanedFilterItems),zCe=(t,e,n,r,o)=>{const i=VCe(o,r,n.items),s=t.filter(Z4),a=e.filter(Z4);if(s.length>0){const c=h=>s.some(p=>p[h.id]);if((n.logicOperator??SS().logicOperator)===Yi.And){if(!i.every(c))return!1}else if(!i.some(c))return!1}if(a.length>0&&n.quickFilterValues!=null){const c=h=>a.some(p=>p[h]);if((n.quickFilterLogicOperator??SS().quickFilterLogicOperator)===Yi.And){if(!n.quickFilterValues.every(c))return!1}else if(!n.quickFilterValues.some(c))return!1}return!0},BCe=t=>{if(!t)return null;const e=new RegExp(BT(t),"i");return(n,r,o,i)=>{let s=i.current.getRowFormattedValue(r,o);return i.current.ignoreDiacritics&&(s=CS(s)),s!=null?e.test(s.toString()):!1}},J4=(t,e)=>n=>{if(!n.value)return null;const r=t?n.value:n.value.trim(),o=new RegExp(BT(r),"i");return i=>{if(i==null)return e;const s=o.test(String(i));return e?!s:s}},e5=(t,e)=>n=>{if(!n.value)return null;const r=t?n.value:n.value.trim(),o=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return i=>{if(i==null)return e;const s=o.compare(r,i.toString())===0;return e?!s:s}},t5=t=>()=>e=>{const n=e===""||e==null;return t?!n:n},HCe=(t=!1)=>[{value:"contains",getApplyFilterFn:J4(t,!1),InputComponent:La},{value:"doesNotContain",getApplyFilterFn:J4(t,!0),InputComponent:La},{value:"equals",getApplyFilterFn:e5(t,!1),InputComponent:La},{value:"doesNotEqual",getApplyFilterFn:e5(t,!0),InputComponent:La},{value:"startsWith",getApplyFilterFn:e=>{if(!e.value)return null;const n=t?e.value:e.value.trim(),r=new RegExp(`^${BT(n)}.*$`,"i");return o=>o!=null?r.test(o.toString()):!1},InputComponent:La},{value:"endsWith",getApplyFilterFn:e=>{if(!e.value)return null;const n=t?e.value:e.value.trim(),r=new RegExp(`.*${BT(n)}$`,"i");return o=>o!=null?r.test(o.toString()):!1},InputComponent:La},{value:"isEmpty",getApplyFilterFn:t5(!1),requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:t5(!0),requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFn:e=>{if(!Array.isArray(e.value)||e.value.length===0)return null;const n=t?e.value:e.value.map(o=>o.trim()),r=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return o=>o!=null?n.some(i=>r.compare(i,o.toString()||"")===0):!1},InputComponent:DW}],Pl={width:100,minWidth:50,maxWidth:1/0,hideable:!0,sortable:!0,resizable:!0,filterable:!0,groupable:!0,pinnable:!0,aggregable:!0,editable:!1,sortComparator:ECe,type:"string",align:"left",filterOperators:HCe(),renderEditCell:yCe,getApplyQuickFilterFn:BCe};function WW(t){return t.key.length===1&&!t.ctrlKey&&!t.metaKey}const jT=t=>t.indexOf("Arrow")===0||t.indexOf("Page")===0||t===" "||t==="Home"||t==="End",jCe=t=>!!t.key,qW=t=>t==="Tab"||t==="Escape";function KW(t){return(t.ctrlKey||t.metaKey)&&String.fromCharCode(t.keyCode)==="V"&&!t.shiftKey&&!t.altKey}function UCe(t){return(t.ctrlKey||t.metaKey)&&String.fromCharCode(t.keyCode)==="C"&&!t.shiftKey&&!t.altKey}const YW=w.createContext(void 0),RI=()=>{const t=w.useContext(YW);if(t===void 0)throw new Error(["MUI X: Could not find the Data Grid configuration context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the Data Grid."].join(`
`));return t},GCe="MuiDataGridVariables",TN=w.createContext({className:"unset",tag:T.jsx("style",{href:"/unset"})});function XW(){return w.useContext(TN).className}function WCe(){return w.useContext(TN)}function qCe(t){const e=RI(),n=et(),r=e.hooks.useCSSVariables(),o=w.useMemo(()=>{const i=`${GCe}-${r.id}`,s=`.${i}{${KCe(r.variables)}}`,a=T.jsx("style",{href:`/${i}`,nonce:n.nonce,children:s});return{className:i,tag:a}},[n.nonce,r]);return T.jsx(TN.Provider,{value:o,children:t.children})}function KCe(t){let e="";for(const n in t)Object.hasOwn(t,n)&&t[n]!==void 0&&(e+=`${n}:${t[n]};`);return e}const YCe=["open","target","onClose","children","position","className","onExited"],XCe=t=>{const{classes:e}=t;return Ze({root:["menu"]},en,e)},QCe=Se(Gc,{name:"MuiDataGrid",slot:"Menu"})({zIndex:tt.zIndex.menu,[`& .${ee.menuList}`]:{outline:0}});function PI(t){var C;const{open:e,target:n,onClose:r,children:o,position:i,className:s,onExited:a}=t,c=Xe(t,YCe),d=Ft(),h=et(),p=XCe(h),g=XW(),m=w.useRef(null);Un(()=>{var x,O;e?m.current=document.activeElement instanceof HTMLElement?document.activeElement:null:((O=(x=m.current)==null?void 0:x.focus)==null||O.call(x),m.current=null)},[e]),w.useEffect(()=>{const x=e?"menuOpen":"menuClose";d.current.publishEvent(x,{target:n})},[d,e,n]);const v=x=>{x.target&&(n===x.target||n!=null&&n.contains(x.target))||r(x)},S=x=>{qW(x.key)&&r(x)};return T.jsx(QCe,U({as:h.slots.basePopper,className:Ne(p.root,s,g),ownerState:h,open:e,target:n,transition:!0,placement:i,onClickAway:v,onExited:a,clickAwayMouseEvent:"onMouseDown",onKeyDown:S},c,(C=h.slotProps)==null?void 0:C.basePopper,{children:o}))}const ZCe=["api","colDef","id","hasFocus","isEditable","field","value","formattedValue","row","rowNode","cellMode","tabIndex","position","focusElementRef"],JCe=t=>typeof t.getActions=="function";function eEe(t){var z;const{colDef:e,id:n,hasFocus:r,tabIndex:o,position:i="bottom-end",focusElementRef:s}=t,a=Xe(t,ZCe),[c,d]=w.useState(-1),[h,p]=w.useState(!1),g=Ft(),m=w.useRef(null),v=w.useRef(null),S=w.useRef(!1),C=w.useRef({}),x=Ni(),O=sn(),M=sn(),P=et();if(!JCe(e))throw new Error("MUI X: Missing the `getActions` property in the `GridColDef`.");const k=e.getActions(g.current.getRowParams(n)),$=k.filter(H=>!H.props.showInMenu),D=k.filter(H=>H.props.showInMenu),I=$.length+(D.length?1:0);w.useLayoutEffect(()=>{r||Object.entries(C.current).forEach(([H,Z])=>{Z==null||Z.stop({},()=>{delete C.current[H]})})},[r]),w.useEffect(()=>{if(c<0||!m.current||c>=m.current.children.length)return;m.current.children[c].focus({preventScroll:!0})},[c]),w.useEffect(()=>{r||(d(-1),S.current=!1)},[r]),w.useImperativeHandle(s,()=>({focus(){if(!S.current){const H=k.findIndex(Z=>!Z.props.disabled);d(H)}}}),[k]),w.useEffect(()=>{c>=I&&d(I-1)},[c,I]);const A=()=>{p(!0),d(I-1),S.current=!0},N=()=>{p(!1)},F=H=>{H.stopPropagation(),H.preventDefault(),h?N():A()},R=H=>Z=>{C.current[H]=Z},V=(H,Z)=>re=>{d(H),S.current=!0,Z&&Z(re)},q=H=>{if(I<=1)return;const Z=(j,X)=>{var se;if(j<0||j>k.length)return j;const ie=(X==="left"?-1:1)*(x?-1:1);return(se=k[j+ie])!=null&&se.props.disabled?Z(j+ie,X):j+ie};let re=c;H.key==="ArrowRight"?re=Z(c,"right"):H.key==="ArrowLeft"&&(re=Z(c,"left")),!(re<0||re>=I)&&re!==c&&(H.preventDefault(),H.stopPropagation(),d(re))},K=I>0?{role:"menu",onKeyDown:q}:void 0;return T.jsxs("div",U({ref:m,tabIndex:-1,className:ee.actionsCell},K,a,{children:[$.map((H,Z)=>w.cloneElement(H,{key:Z,touchRippleRef:R(Z),onClick:V(Z,H.props.onClick),tabIndex:c===Z?o:-1})),D.length>0&&M&&T.jsx(P.slots.baseIconButton,U({ref:v,id:M,"aria-label":g.current.getLocaleText("actionsCellMore"),"aria-haspopup":"menu","aria-expanded":h,"aria-controls":h?O:void 0,role:"menuitem",size:"small",onClick:F,touchRippleRef:R(M),tabIndex:c===$.length?o:-1},(z=P.slotProps)==null?void 0:z.baseIconButton,{children:T.jsx(P.slots.moreActionsIcon,{fontSize:"small"})})),D.length>0&&T.jsx(PI,{open:h,target:v.current,position:i,onClose:N,children:T.jsx(P.slots.baseMenuList,{id:O,className:ee.menuList,"aria-labelledby":M,autoFocusItem:!0,children:D.map((H,Z)=>w.cloneElement(H,{key:Z,closeMenu:N}))})})]}))}const tEe=t=>T.jsx(eEe,U({},t)),MI="actions",nEe=U({},Pl,{sortable:!1,filterable:!1,aggregable:!1,width:100,display:"flex",align:"center",headerAlign:"center",headerName:"",disableColumnMenu:!0,disableExport:!0,renderCell:tEe,getApplyQuickFilterFn:()=>null}),rEe="__tree_data_group__",QW="__row_group_by_columns_group__",AN="__detail_panel_toggle__";let nn=function(t){return t[t.NONE=0]="NONE",t[t.LEFT=1]="LEFT",t[t.RIGHT=2]="RIGHT",t[t.VIRTUAL=3]="VIRTUAL",t}({});const oEe=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","hasFocus","tabIndex","hideDescendantCount"],iEe=t=>{const{classes:e}=t;return Ze({root:["booleanCell"]},en,e)};function sEe(t){const{value:e,rowNode:n}=t,r=Xe(t,oEe),o=Ft(),i=et(),s={classes:i.classes},a=iEe(s),d=$e(o,FE)>0&&n.type==="group"&&i.treeData===!1,h=w.useMemo(()=>e?i.slots.booleanCellTrueIcon:i.slots.booleanCellFalseIcon,[i.slots.booleanCellFalseIcon,i.slots.booleanCellTrueIcon,e]);return d&&e===void 0?null:T.jsx(h,U({fontSize:"small",className:a.root,titleAccess:o.current.getLocaleText(e?"booleanCellTrueLabel":"booleanCellFalseLabel"),"data-value":!!e},r))}const aEe=w.memo(sEe),lEe=t=>t.field!==QW&&fv(t.rowNode)?"":T.jsx(aEe,U({},t)),cEe=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange"],uEe=t=>{const{classes:e}=t;return Ze({root:["editBooleanCell"]},en,e)};function dEe(t){var x;const{id:e,value:n,field:r,className:o,hasFocus:i,onValueChange:s}=t,a=Xe(t,cEe),c=Ft(),d=w.useRef(null),h=sn(),[p,g]=w.useState(n),m=et(),v={classes:m.classes},S=uEe(v),C=w.useCallback(async O=>{const M=O.target.checked;s&&await s(O,M),g(M),await c.current.setEditCellValue({id:e,field:r,value:M},O)},[c,r,e,s]);return w.useEffect(()=>{g(n)},[n]),Un(()=>{i&&d.current.focus()},[i]),T.jsx("label",U({htmlFor:h,className:Ne(S.root,o)},a,{children:T.jsx(m.slots.baseCheckbox,U({id:h,inputRef:d,checked:!!p,onChange:C,size:"small"},(x=m.slotProps)==null?void 0:x.baseCheckbox))}))}const hEe=t=>T.jsx(dEe,U({},t)),fEe=["item","applyValue","apiRef","focusElementRef","isFilterActive","headerFilterMenu","clearButton","tabIndex","slotProps"];function pEe(t){var k,$;const{item:e,applyValue:n,apiRef:r,focusElementRef:o,headerFilterMenu:i,clearButton:s,tabIndex:a,slotProps:c}=t,d=Xe(t,fEe),[h,p]=w.useState(z_(e.value)),g=et(),m=sn(),v=sn(),S=((k=g.slotProps)==null?void 0:k.baseSelect)||{},C=S.native??!1,x=(($=g.slotProps)==null?void 0:$.baseSelectOption)||{},O=w.useCallback(D=>{const I=z_(D.target.value);p(I),n(U({},e,{value:I}))},[n,e]);w.useEffect(()=>{p(z_(e.value))},[e.value]);const M=(c==null?void 0:c.root.label)??r.current.getLocaleText("filterPanelInputLabel"),P=c==null?void 0:c.root.slotProps;return T.jsxs(w.Fragment,{children:[T.jsxs(g.slots.baseSelect,U({fullWidth:!0,labelId:m,id:v,label:M,value:h===void 0?"":String(h),onChange:O,native:C,slotProps:{htmlInput:U({ref:o,tabIndex:a},P==null?void 0:P.htmlInput)}},S,d,c==null?void 0:c.root,{children:[T.jsx(g.slots.baseSelectOption,U({},x,{native:C,value:"",children:r.current.getLocaleText("filterValueAny")})),T.jsx(g.slots.baseSelectOption,U({},x,{native:C,value:"true",children:r.current.getLocaleText("filterValueTrue")})),T.jsx(g.slots.baseSelectOption,U({},x,{native:C,value:"false",children:r.current.getLocaleText("filterValueFalse")}))]})),i,s]})}function z_(t){if(String(t).toLowerCase()==="true")return!0;if(String(t).toLowerCase()==="false")return!1}const gEe=()=>[{value:"is",getApplyFilterFn:t=>{const e=z_(t.value);return e===void 0?null:n=>!!n===e},InputComponent:pEe}],mEe=(t,e,n,r)=>t?r.current.getLocaleText("booleanCellTrueLabel"):r.current.getLocaleText("booleanCellFalseLabel"),yEe=t=>{switch(t.toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case"null":case"undefined":return!1;default:return}},ZW=U({},Pl,{type:"boolean",display:"flex",align:"center",headerAlign:"center",renderCell:lEe,renderEditCell:hEe,sortComparator:MW,valueFormatter:mEe,filterOperators:gEe(),getApplyQuickFilterFn:()=>null,aggregable:!1,pastedValueParser:t=>yEe(t)});function kI(t){for(const e in t)return!1;return!0}const JW=gr(t=>t.sorting),BE=ct(JW,t=>t.sortedRows),IN=Sn(BE,za,Zo,(t,e,n)=>t.reduce((r,o)=>{const i=e[o];if(i)r.push({id:o,model:i});else{const s=n[o];s&&fv(s)&&r.push({id:o,model:{[nm]:o}})}return r},[])),ka=ct(JW,t=>t.sortModel),bEe=Sn(ka,t=>t.reduce((n,r,o)=>(n[r.field]={sortDirection:r.sort,sortIndex:t.length>1?o+1:void 0},n),{}));Sn(BE,t=>t.reduce((e,n,r)=>(e[n]=r,e),Object.create(null)));const OI=gr(t=>t.filter),Po=ct(OI,t=>t.filterModel),eq=ct(Po,t=>t.quickFilterValues),vEe=gr(t=>t.visibleRowsLookup),Mv=ct(OI,t=>t.filteredRowsLookup);ct(OI,t=>t.filteredChildrenCountLookup);ct(OI,t=>t.filteredDescendantCountLookup);const Of=Sn(vEe,IN,(t,e)=>kI(t)?e:e.filter(n=>t[n.id]!==!1)),Hg=Sn(Of,t=>t.map(e=>e.id)),tq=Sn(Mv,IN,(t,e)=>kI(t)?e:e.filter(n=>t[n.id]!==!1)),nq=Sn(tq,t=>t.map(e=>e.id));Sn(Hg,Zo,(t,e)=>{const n={};let r=0;return t.reduce((o,i)=>{const s=e[i];return n[s.depth]||(n[s.depth]=0),s.depth>r&&(n[s.depth]=0),r=s.depth,n[s.depth]+=1,o[i]=n[s.depth],o},{})});const rq=Sn(Of,Zo,FE,(t,e,n)=>n<2?t:t.filter(r=>{var o;return((o=e[r.id])==null?void 0:o.depth)===0})),RN=ct(Of,t=>t.length),PN=ct(rq,t=>t.length),oq=ct(tq,t=>t.length);ct(oq,PN,(t,e)=>t-e);const MN=Sn(Po,_d,(t,e)=>{var n;return(n=t.items)==null?void 0:n.filter(r=>{var s,a;if(!r.field)return!1;const o=e[r.field];if(!(o!=null&&o.filterOperators)||((s=o==null?void 0:o.filterOperators)==null?void 0:s.length)===0)return!1;const i=o.filterOperators.find(c=>c.value===r.operator);return i?!i.InputComponent||r.value!=null&&((a=r.value)==null?void 0:a.toString())!=="":!1})}),wEe=Sn(MN,t=>t.reduce((n,r)=>(n[r.field]?n[r.field].push(r):n[r.field]=[r],n),{}));Sn(Hg,t=>t.reduce((e,n,r)=>(e[n]=r,e),Object.create(null)));const Cl=gr(t=>t.rowSelection),HE=Sn(Cl,dh),DI=ct(Cl,oq,(t,e)=>t.type==="include"?t.ids.size:e-t.ids.size),iq=Sn(Cl,za,Tp,(t,e,n)=>{const r=new Map;if(t.type==="include")for(const o of t.ids)r.set(o,e[o]);else for(let o=0;o<n.length;o+=1){const i=n[o];t.ids.has(i)||r.set(i,e[i])}return r});function sq(t,e){var c;const n=Zo(t),r=BE(t),o=Mv(t),i=n[e];if(!i||i.type!=="group")return[];const s=[],a=r.findIndex(d=>d===e)+1;for(let d=a;d<r.length&&((c=n[r[d]])==null?void 0:c.depth)>i.depth;d+=1){const h=r[d];o[h]!==!1&&t.current.isRowSelectable(h)&&s.push(h)}return s}const SEe=ct(Zo,Mv,HE,(t,e,n,{groupId:r,autoSelectParents:o})=>{const i=t[r];if(!i||i.type!=="group"||n.has(r))return{isIndeterminate:!1,isChecked:n.has(r)};let s=!1,a=!1;const c=d=>{if(e[d]===!1||s&&a)return;const h=t[d];(h==null?void 0:h.type)==="group"&&h.children.forEach(c),n.has(d)?s=!0:a=!0};return c(r),{isIndeterminate:s&&a,isChecked:o?s&&!a:!1}});function kN(t){return t.signature===Il.DataGrid?t.checkboxSelection&&t.disableMultipleRowSelection!==!0:!t.disableMultipleRowSelection}const CEe=(t,e)=>{const n=[];let r=e;for(;r!=null&&r!==Lo;){const o=t[r];if(!o)return n;n.push(r),r=o.parent}return n},EEe=(t,e,n)=>{const r=t[n];if(!r)return[];const o=r.parent;return o==null?[]:t[o].children.filter(s=>s!==n&&e[s]!==!1)},Yw=(t,e,n,r,o,i,s=HE(t))=>{const a=Mv(t),c=new Set([]);if(!(!r&&!o||a[n]===!1)){if(r){const d=e[n];(d==null?void 0:d.type)==="group"&&sq(t,n).forEach(p=>{i(p),c.add(p)})}if(o){const d=g=>{if(!s.has(g)&&!c.has(g))return!1;const m=e[g];return m?m.type!=="group"?!0:m.children.every(d):!1},h=g=>{const m=EEe(e,a,g);if(m.length===0||m.every(d)){const v=e[g],S=v==null?void 0:v.parent;S!=null&&S!==Lo&&t.current.isRowSelectable(S)&&(i(S),c.add(S),h(S))}},p=e[n];if(!p||p.parent===Lo)return;h(n)}}},n5=(t,e,n,r,o,i)=>{const s=HE(t);if(!(!o&&!r)&&(o&&CEe(e,n).forEach(c=>{s.has(c)&&i(c)}),r)){const a=e[n];(a==null?void 0:a.type)==="group"&&sq(t,n).forEach(d=>{i(d)})}},xEe=["field","id","formattedValue","row","rowNode","colDef","isEditable","cellMode","hasFocus","tabIndex","api"],_Ee=t=>{const{classes:e}=t;return Ze({root:["checkboxInput"]},en,e)},TEe=xt(function(e,n){var O,M;const{field:r,id:o,rowNode:i,tabIndex:s}=e,a=Xe(e,xEe),c=Ft(),d=et(),h={classes:d.classes},p=_Ee(h),g=P=>{const k={value:P.target.checked,id:o};c.current.publishEvent("rowSelectionCheckboxChange",k,P)};w.useLayoutEffect(()=>{if(s===0){const P=c.current.getCellElement(o,r);P&&(P.tabIndex=-1)}},[c,s,o,r]);const m=w.useCallback(P=>{P.key===" "&&P.stopPropagation()},[]),v=c.current.isRowSelectable(o),{isIndeterminate:S,isChecked:C}=$e(c,SEe,{groupId:o,autoSelectParents:((O=d.rowSelectionPropagation)==null?void 0:O.parents)??!1});if(i.type==="footer"||i.type==="pinnedRow")return null;const x=c.current.getLocaleText(C&&!S?"checkboxSelectionUnselectRow":"checkboxSelectionSelectRow");return T.jsx(d.slots.baseCheckbox,U({tabIndex:s,checked:C&&!S,onChange:g,className:p.root,slotProps:{htmlInput:{"aria-label":x,name:"select_row"}},onKeyDown:m,indeterminate:S,disabled:!v},(M=d.slotProps)==null?void 0:M.baseCheckbox,a,{ref:n}))}),AEe=TEe,LI=gr(t=>t.focus),fs=ct(LI,t=>t.cell),IEe=ct(LI,t=>t.columnHeader);ct(LI,t=>t.columnHeaderFilter);const UT=ct(LI,t=>t.columnGroupHeader),NI=gr(t=>t.tabIndex),ON=ct(NI,t=>t.cell),aq=ct(NI,t=>t.columnHeader);ct(NI,t=>t.columnHeaderFilter);const REe=ct(NI,t=>t.columnGroupHeader),PEe=100,MEe=t=>t?0:100,lq=(t,e,n)=>e>0&&t>0?Math.ceil(t/e):t===-1?n+2:0,cq=t=>({page:0,pageSize:t?0:100}),kEe=(t,e=0)=>e===0?t:Math.max(Math.min(t,e-1),0),uq=(t,e)=>{if(e===Il.DataGrid&&t>PEe)throw new Error(["MUI X: `pageSize` cannot exceed 100 in the MIT version of the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`))},OEe=-1,kv=gr(t=>t.pagination),dq=ct(kv,t=>t.enabled&&t.paginationMode==="client"),Qo=ct(kv,t=>t.paginationModel),Ay=ct(kv,t=>t.rowCount),R0=ct(kv,t=>t.meta),DEe=ct(Qo,t=>t.page),hq=ct(Qo,t=>t.pageSize),fq=ct(Qo,Ay,(t,e)=>lq(e,t.pageSize,t.page)),DN=Sn(dq,Qo,Zo,FE,Of,rq,(t,e,n,r,o,i)=>{var v;if(!t)return null;const s=i.length,a=Math.min(e.pageSize*e.page,s-1),c=e.pageSize===OEe?s-1:Math.min(a+e.pageSize-1,s-1);if(a===-1||c===-1)return null;if(r<2)return{firstRowIndex:a,lastRowIndex:c};const d=i[a],h=c-a+1,p=o.findIndex(S=>S.id===d.id);let g=p,m=0;for(;g<o.length&&m<=h;){const S=o[g],C=(v=n[S.id])==null?void 0:v.depth;C===void 0?g+=1:((m<h||C>0)&&(g+=1),C===0&&(m+=1))}return{firstRowIndex:p,lastRowIndex:g-1}}),LEe=Sn(Of,DN,(t,e)=>e?t.slice(e.firstRowIndex,e.lastRowIndex+1):[]),pq=Sn(Hg,DN,(t,e)=>e?t.slice(e.firstRowIndex,e.lastRowIndex+1):[]),jE=Sn(dq,DN,LEe,Of,(t,e,n,r)=>t?{rows:n,range:e,rowIdToIndexMap:n.reduce((o,i,s)=>(o.set(i.id,s),o),new Map)}:{rows:r,range:r.length===0?null:{firstRowIndex:0,lastRowIndex:r.length-1},rowIdToIndexMap:r.reduce((o,i,s)=>(o.set(i.id,s),o),new Map)}),NEe=["field","colDef"],FEe=t=>{const{classes:e}=t;return Ze({root:["checkboxInput"]},en,e)},$Ee=xt(function(e,n){var D;const r=Xe(e,NEe),[,o]=w.useState(!1),i=Ft(),s=et(),a={classes:s.classes},c=FEe(a),d=$e(i,aq),h=$e(i,Cl),p=$e(i,Hg),g=$e(i,pq),m=w.useMemo(()=>{const I=s.isRowSelectable;if(typeof I!="function"||h.type==="exclude")return h;const A={type:"include",ids:new Set};for(const N of h.ids)s.keepNonExistentRowsSelected&&A.ids.add(N),i.current.getRow(N)&&I(i.current.getRowParams(N))&&A.ids.add(N);return A},[i,s.isRowSelectable,s.keepNonExistentRowsSelected,h]),v=w.useMemo(()=>{const I=!s.pagination||!s.checkboxSelectionVisibleOnly||s.paginationMode==="server"?p:g,A=new Set;for(let N=0;N<I.length;N+=1){const F=I[N];i.current.getRow(F)&&i.current.isRowSelectable(F)&&A.add(F)}return A},[i,s.pagination,s.paginationMode,s.checkboxSelectionVisibleOnly,g,p]),S=w.useMemo(()=>{const I=dh(m);let A=0;for(const N of v)I.has(N)&&(A+=1);return A},[m,v]),C=w.useMemo(()=>{if(m.ids.size===0)return!1;const I=dh(m);for(const A of v)if(!I.has(A))return!0;return!1},[m,v]),x=S>0,O=I=>{const A={value:I.target.checked};i.current.publishEvent("headerSelectionCheckboxChange",A)},M=d!==null&&d.field===e.field?0:-1;w.useLayoutEffect(()=>{const I=i.current.getColumnHeaderElement(e.field);M===0&&I&&(I.tabIndex=-1)},[M,i,e.field]);const P=w.useCallback(I=>{I.key===" "&&i.current.publishEvent("headerSelectionCheckboxChange",{value:!x})},[i,x]),k=w.useCallback(()=>{o(I=>!I)},[]);w.useEffect(()=>i.current.subscribeEvent("rowSelectionChange",k),[i,k]);const $=i.current.getLocaleText(x&&!C?"checkboxSelectionUnselectAllRows":"checkboxSelectionSelectAllRows");return T.jsx(s.slots.baseCheckbox,U({indeterminate:C,checked:x&&!C,onChange:O,className:c.root,slotProps:{htmlInput:{"aria-label":$,name:"select_all_rows"}},tabIndex:M,onKeyDown:P,disabled:!kN(s)},(D=s.slotProps)==null?void 0:D.baseCheckbox,r,{ref:n}))}),pv=gr((t,e)=>nm in e?e[nm]:t.props.getRowId?t.props.getRowId(e):e.id),al="__check__",Ov=U({},ZW,{type:"custom",field:al,width:50,resizable:!1,sortable:!1,filterable:!1,aggregable:!1,disableColumnMenu:!0,disableReorder:!0,disableExport:!0,getApplyQuickFilterFn:()=>null,display:"flex",valueGetter:(t,e,n,r)=>{const o=pv(r,e);return r.current.isRowSelected(o)},rowSpanValueGetter:(t,e,n,r)=>pv(r,e),renderHeader:t=>T.jsx($Ee,U({},t)),renderCell:t=>T.jsx(AEe,U({},t))}),VEe=["item","applyValue","type","apiRef","focusElementRef","slotProps","isFilterActive","headerFilterMenu","clearButton","tabIndex","disabled"];function r5(t,e){if(t==null)return"";const n=new Date(t);return Number.isNaN(n.getTime())?"":e==="date"?n.toISOString().substring(0,10):e==="datetime-local"?(n.setMinutes(n.getMinutes()-n.getTimezoneOffset()),n.toISOString().substring(0,19)):n.toISOString().substring(0,10)}function sy(t){var k;const{item:e,applyValue:n,type:r,apiRef:o,focusElementRef:i,slotProps:s,headerFilterMenu:a,clearButton:c,tabIndex:d,disabled:h}=t,p=Xe(t,VEe),g=s==null?void 0:s.root.slotProps,m=Js(),[v,S]=w.useState(()=>r5(e.value,r)),[C,x]=w.useState(!1),O=sn(),M=et(),P=w.useCallback($=>{m.clear();const D=$.target.value;S(D),x(!0),m.start(M.filterDebounceMs,()=>{const I=new Date(D);n(U({},e,{value:Number.isNaN(I.getTime())?void 0:I})),x(!1)})},[n,e,M.filterDebounceMs,m]);return w.useEffect(()=>{const $=r5(e.value,r);S($)},[e.value,r]),T.jsxs(w.Fragment,{children:[T.jsx(M.slots.baseTextField,U({fullWidth:!0,id:O,label:o.current.getLocaleText("filterPanelInputLabel"),placeholder:o.current.getLocaleText("filterPanelInputPlaceholder"),value:v,onChange:P,type:r||"text",disabled:h,inputRef:i,slotProps:U({},g,{input:U({endAdornment:C?T.jsx(M.slots.loadIcon,{fontSize:"small",color:"action"}):null},g==null?void 0:g.input),htmlInput:U({max:r==="datetime-local"?"9999-12-31T23:59":"9999-12-31",tabIndex:d},g==null?void 0:g.htmlInput)})},(k=M.slotProps)==null?void 0:k.baseTextField,p,s==null?void 0:s.root)),a,c]})}function ay(t,e,n,r){if(!t.value)return null;const o=new Date(t.value);n?o.setSeconds(0,0):(o.setMinutes(o.getMinutes()+o.getTimezoneOffset()),o.setHours(0,0,0,0));const i=o.getTime();return s=>{if(!s)return!1;if(r)return e(s.getTime(),i);const a=new Date(s);return n?a.setSeconds(0,0):a.setHours(0,0,0,0),e(a.getTime(),i)}}const gq=t=>[{value:"is",getApplyFilterFn:e=>ay(e,(n,r)=>n===r,t),InputComponent:sy,InputComponentProps:{type:t?"datetime-local":"date"}},{value:"not",getApplyFilterFn:e=>ay(e,(n,r)=>n!==r,t),InputComponent:sy,InputComponentProps:{type:t?"datetime-local":"date"}},{value:"after",getApplyFilterFn:e=>ay(e,(n,r)=>n>r,t),InputComponent:sy,InputComponentProps:{type:t?"datetime-local":"date"}},{value:"onOrAfter",getApplyFilterFn:e=>ay(e,(n,r)=>n>=r,t),InputComponent:sy,InputComponentProps:{type:t?"datetime-local":"date"}},{value:"before",getApplyFilterFn:e=>ay(e,(n,r)=>n<r,t,!t),InputComponent:sy,InputComponentProps:{type:t?"datetime-local":"date"}},{value:"onOrBefore",getApplyFilterFn:e=>ay(e,(n,r)=>n<=r,t),InputComponent:sy,InputComponentProps:{type:t?"datetime-local":"date"}},{value:"isEmpty",getApplyFilterFn:()=>e=>e==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>e=>e!=null,requiresFilterValue:!1}],zEe=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","inputProps","isValidating","isProcessingProps","onValueChange","slotProps"],BEe=Se(Gc)({fontSize:"inherit"}),HEe=t=>{const{classes:e}=t;return Ze({root:["editInputCell"]},en,e)};function jEe(t){var P,k;const{id:e,value:n,field:r,colDef:o,hasFocus:i,onValueChange:s,slotProps:a}=t,c=Xe(t,zEe),d=o.type==="dateTime",h=Ft(),p=w.useRef(null),g=w.useMemo(()=>{let $;n==null?$=null:n instanceof Date?$=n:$=new Date((n??"").toString());let D;return $==null||Number.isNaN($.getTime())?D="":D=new Date($.getTime()-$.getTimezoneOffset()*60*1e3).toISOString().substr(0,d?16:10),{parsed:$,formatted:D}},[n,d]),[m,v]=w.useState(g),S=et(),C={classes:S.classes},x=HEe(C),O=w.useCallback($=>{if($==="")return null;const[D,I]=$.split("T"),[A,N,F]=D.split("-"),R=new Date;if(R.setFullYear(Number(A),Number(N)-1,Number(F)),R.setHours(0,0,0,0),I){const[V,q]=I.split(":");R.setHours(Number(V),Number(q),0,0)}return R},[]),M=w.useCallback(async $=>{const D=$.target.value,I=O(D);s&&await s($,I),v({parsed:I,formatted:D}),h.current.setEditCellValue({id:e,field:r,value:I},$)},[h,r,e,s,O]);return w.useEffect(()=>{v($=>{var D,I;return g.parsed!==$.parsed&&((D=g.parsed)==null?void 0:D.getTime())!==((I=$.parsed)==null?void 0:I.getTime())?g:$})},[g]),Un(()=>{i&&p.current.focus()},[i]),T.jsx(BEe,U({as:S.slots.baseInput,inputRef:p,fullWidth:!0,className:x.root,type:d?"datetime-local":"date",value:m.formatted,onChange:M},c,a==null?void 0:a.root,{slotProps:{htmlInput:U({max:d?"9999-12-31T23:59":"9999-12-31"},(k=(P=a==null?void 0:a.root)==null?void 0:P.slotProps)==null?void 0:k.htmlInput)}}))}const mq=t=>T.jsx(jEe,U({},t));function yq({value:t,columnType:e,rowId:n,field:r}){if(!(t instanceof Date))throw new Error([`MUI X: \`${e}\` column type only accepts \`Date\` objects as values.`,"Use `valueGetter` to transform the value into a `Date` object.",`Row ID: ${n}, field: "${r}".`].join(`
`))}const UEe=(t,e,n,r)=>{if(!t)return"";const o=pv(r,e);return xW(e)&&!(t instanceof Date)?t:(yq({value:t,columnType:"date",rowId:o,field:n.field}),t.toLocaleDateString())},GEe=(t,e,n,r)=>{if(!t)return"";const o=pv(r,e);return xW(e)&&!(t instanceof Date)?t:(yq({value:t,columnType:"dateTime",rowId:o,field:n.field}),t.toLocaleString())},WEe=U({},Pl,{type:"date",sortComparator:kW,valueFormatter:UEe,filterOperators:gq(),renderEditCell:mq,pastedValueParser:t=>new Date(t)}),qEe=U({},Pl,{type:"dateTime",sortComparator:kW,valueFormatter:GEe,filterOperators:gq(!0),renderEditCell:mq,pastedValueParser:t=>new Date(t)}),oh=t=>t==null?null:Number(t),KEe=t=>t==null||Number.isNaN(t)||t===""?null:e=>oh(e)===oh(t),YEe=()=>[{value:"=",getApplyFilterFn:t=>t.value==null||Number.isNaN(t.value)?null:e=>oh(e)===t.value,InputComponent:La,InputComponentProps:{type:"number"}},{value:"!=",getApplyFilterFn:t=>t.value==null||Number.isNaN(t.value)?null:e=>oh(e)!==t.value,InputComponent:La,InputComponentProps:{type:"number"}},{value:">",getApplyFilterFn:t=>t.value==null||Number.isNaN(t.value)?null:e=>e==null?!1:oh(e)>t.value,InputComponent:La,InputComponentProps:{type:"number"}},{value:">=",getApplyFilterFn:t=>t.value==null||Number.isNaN(t.value)?null:e=>e==null?!1:oh(e)>=t.value,InputComponent:La,InputComponentProps:{type:"number"}},{value:"<",getApplyFilterFn:t=>t.value==null||Number.isNaN(t.value)?null:e=>e==null?!1:oh(e)<t.value,InputComponent:La,InputComponentProps:{type:"number"}},{value:"<=",getApplyFilterFn:t=>t.value==null||Number.isNaN(t.value)?null:e=>e==null?!1:oh(e)<=t.value,InputComponent:La,InputComponentProps:{type:"number"}},{value:"isEmpty",getApplyFilterFn:()=>t=>t==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>t=>t!=null,requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFn:t=>!Array.isArray(t.value)||t.value.length===0?null:e=>e!=null&&t.value.includes(Number(e)),InputComponent:DW,InputComponentProps:{type:"number"}}],XEe=U({},Pl,{type:"number",align:"right",headerAlign:"right",sortComparator:MW,valueParser:t=>t===""?null:Number(t),valueFormatter:t=>_Ce(t)?t.toLocaleString():t||"",filterOperators:YEe(),getApplyQuickFilterFn:KEe});function ES(t){return(t==null?void 0:t.type)==="singleSelect"}function rm(t,e){if(t)return typeof t.valueOptions=="function"?t.valueOptions(U({field:t.field},e)):t.valueOptions}function GT(t,e,n){if(e===void 0)return;const r=e.find(o=>{const i=n(o);return String(i)===String(t)});return n(r)}const QEe=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange","initialOpen","slotProps"];function ZEe(t){return"key"in t&&!!t.key}function JEe(t){var N,F;const e=et(),{id:n,value:r,field:o,row:i,colDef:s,hasFocus:a,error:c,onValueChange:d,initialOpen:h=e.editMode===Bc.Cell,slotProps:p}=t,g=Xe(t,QEe),m=Ft(),v=w.useRef(null),S=w.useRef(null),[C,x]=w.useState(h),M=(((N=e.slotProps)==null?void 0:N.baseSelect)||{}).native??!1;if(Un(()=>{var R;a&&((R=S.current)==null||R.focus())},[a]),!ES(s))return null;const P=rm(s,{id:n,row:i});if(!P)return null;const k=s.getOptionValue,$=s.getOptionLabel,D=async R=>{if(!ES(s)||!P)return;x(!1);const V=R.target,q=GT(V.value,P,k);d&&await d(R,q),await m.current.setEditCellValue({id:n,field:o,value:q},R)},I=(R,V)=>{if(e.editMode===Bc.Row){x(!1);return}if(V==="backdropClick"||R.key==="Escape"){const q=m.current.getCellParams(n,o);m.current.publishEvent("cellEditStop",U({},q,{reason:R.key==="Escape"?cl.escapeKeyDown:cl.cellFocusOut}))}},A=R=>{ZEe(R)&&R.key==="Enter"||x(!0)};return!P||!s?null:T.jsx(e.slots.baseSelect,U({ref:v,value:r,onChange:D,open:C,onOpen:A,onClose:I,error:c,native:M,fullWidth:!0,slotProps:{htmlInput:{ref:S}}},g,p==null?void 0:p.root,(F=e.slotProps)==null?void 0:F.baseSelect,{children:P.map(R=>{var q;const V=k(R);return w.createElement(e.slots.baseSelectOption,U({},((q=e.slotProps)==null?void 0:q.baseSelectOption)||{},{native:M,key:V,value:V}),$(R))})}))}const exe=t=>T.jsx(JEe,U({},t)),txe=["item","applyValue","type","apiRef","focusElementRef","tabIndex","isFilterActive","clearButton","headerFilterMenu","slotProps"],nxe=({column:t,OptionComponent:e,getOptionLabel:n,getOptionValue:r,isSelectNative:o,baseSelectOptionProps:i})=>["",...rm(t)||[]].map(a=>{const c=r(a);let d=n(a);return d===""&&(d=""),w.createElement(e,U({},i,{native:o,key:c,value:c}),d)});function o5(t){var $,D,I,A,N;const{item:e,applyValue:n,type:r,apiRef:o,focusElementRef:i,tabIndex:s,clearButton:a,headerFilterMenu:c,slotProps:d}=t,h=Xe(t,txe),p=e.value??"",g=sn(),m=sn(),v=et(),S=((D=($=v.slotProps)==null?void 0:$.baseSelect)==null?void 0:D.native)??!1,C=o.current.getColumn(e.field),x=C.getOptionValue,O=C.getOptionLabel,M=w.useMemo(()=>rm(C),[C]),P=w.useCallback(F=>{let R=F.target.value;R=GT(R,M,x),n(U({},e,{value:R}))},[M,x,n,e]);if(!C||!ES(C))return null;const k=(d==null?void 0:d.root.label)??o.current.getLocaleText("filterPanelInputLabel");return T.jsxs(w.Fragment,{children:[T.jsx(v.slots.baseSelect,U({fullWidth:!0,id:g,label:k,labelId:m,value:p,onChange:P,slotProps:{htmlInput:U({tabIndex:s,ref:i,type:r||"text",placeholder:(d==null?void 0:d.root.placeholder)??o.current.getLocaleText("filterPanelInputPlaceholder")},(I=d==null?void 0:d.root.slotProps)==null?void 0:I.htmlInput)},native:S},(A=v.slotProps)==null?void 0:A.baseSelect,h,d==null?void 0:d.root,{children:nxe({column:C,OptionComponent:v.slots.baseSelectOption,getOptionLabel:O,getOptionValue:x,isSelectNative:S,baseSelectOptionProps:(N=v.slotProps)==null?void 0:N.baseSelectOption})})),c,a]})}const rxe=["item","applyValue","type","apiRef","focusElementRef","slotProps"];function oxe(t){const{item:e,applyValue:n,type:r,apiRef:o,focusElementRef:i,slotProps:s}=t,a=Xe(t,rxe),c=sn(),d=et(),h=o.current.getColumn(e.field),p=h.getOptionValue,g=h.getOptionLabel,m=w.useCallback((O,M)=>p(O)===p(M),[p]),v=w.useMemo(()=>rm(h)||[],[h]),S=w.useMemo(()=>Array.isArray(e.value)?e.value.reduce((O,M)=>{const P=v.find(k=>p(k)===M);return P!=null&&O.push(P),O},[]):[],[p,e.value,v]),C=w.useCallback((O,M)=>{n(U({},e,{value:M.map(p)}))},[n,e,p]);if(!h||!ES(h))return null;const x=d.slots.baseAutocomplete;return T.jsx(x,U({multiple:!0,options:v,isOptionEqualToValue:m,id:c,value:S,onChange:C,getOptionLabel:g,label:o.current.getLocaleText("filterPanelInputLabel"),placeholder:o.current.getLocaleText("filterPanelInputPlaceholder"),slotProps:{textField:{type:r||"text",inputRef:i}}},a,s==null?void 0:s.root))}const ly=t=>t==null||!xN(t)?t:t.value,ixe=()=>[{value:"is",getApplyFilterFn:t=>t.value==null||t.value===""?null:e=>ly(e)===ly(t.value),InputComponent:o5},{value:"not",getApplyFilterFn:t=>t.value==null||t.value===""?null:e=>ly(e)!==ly(t.value),InputComponent:o5},{value:"isAnyOf",getApplyFilterFn:t=>{if(!Array.isArray(t.value)||t.value.length===0)return null;const e=t.value.map(ly);return n=>e.includes(ly(n))},InputComponent:oxe}],sxe=t=>typeof t[0]=="object",axe=t=>xN(t)?t.value:t,lxe=t=>xN(t)?t.label:String(t),cxe=U({},Pl,{type:"singleSelect",getOptionLabel:lxe,getOptionValue:axe,valueFormatter(t,e,n,r){const o=pv(r,e);if(!ES(n))return"";const i=rm(n,{id:o,row:e});if(t==null)return"";if(!i)return t;if(!sxe(i))return n.getOptionLabel(t);const s=i.find(a=>n.getOptionValue(a)===t);return s?n.getOptionLabel(s):""},renderEditCell:exe,filterOperators:ixe(),pastedValueParser:(t,e,n)=>{const r=n,o=rm(r)||[],i=r.getOptionValue;if(o.find(a=>i(a)===t))return t}}),uxe="string",dxe=()=>({string:Pl,number:XEe,date:WEe,dateTime:qEe,boolean:ZW,singleSelect:cxe,[MI]:nEe,custom:Pl}),LN=gr(t=>t.headerFiltering),hxe=ct(LN,t=>(t==null?void 0:t.enabled)??!1),fxe=ct(LN,t=>t.editing),pxe=ct(LN,t=>t.menuOpen),FI=gr(t=>t.columnGrouping),bq=Sn(FI,t=>(t==null?void 0:t.unwrappedGroupingModel)??{}),vq=Sn(FI,t=>(t==null?void 0:t.lookup)??{}),gxe=Sn(FI,t=>(t==null?void 0:t.headerStructure)??[]),UE=ct(FI,t=>(t==null?void 0:t.maxDepth)??0),wq=["maxWidth","minWidth","width","flex"],XM=dxe();function mxe({initialFreeSpace:t,totalFlexUnits:e,flexColumns:n}){const r=new Set(n.map(s=>s.field)),o={all:{},frozenFields:[],freeze:s=>{const a=o.all[s];a&&a.frozen!==!0&&(o.all[s].frozen=!0,o.frozenFields.push(s))}};function i(){if(o.frozenFields.length===r.size)return;const s={min:{},max:{}};let a=t,c=e,d=0;o.frozenFields.forEach(h=>{a-=o.all[h].computedWidth,c-=o.all[h].flex});for(let h=0;h<n.length;h+=1){const p=n[h];if(o.all[p.field]&&o.all[p.field].frozen===!0)continue;let m=a/c*p.flex;m<p.minWidth?(d+=p.minWidth-m,m=p.minWidth,s.min[p.field]=!0):m>p.maxWidth&&(d+=p.maxWidth-m,m=p.maxWidth,s.max[p.field]=!0),o.all[p.field]={frozen:!1,computedWidth:m,flex:p.flex}}d<0?Object.keys(s.max).forEach(h=>{o.freeze(h)}):d>0?Object.keys(s.min).forEach(h=>{o.freeze(h)}):n.forEach(({field:h})=>{o.freeze(h)}),i()}return i(),o.all}const VD=(t,e)=>{const n={};let r=0,o=0;const i=[];t.orderedFields.forEach(c=>{let d=t.lookup[c],h=0,p=!1;t.columnVisibilityModel[c]!==!1&&(d.flex&&d.flex>0?(r+=d.flex,p=!0):h=Bg(d.width||Pl.width,d.minWidth||Pl.minWidth,d.maxWidth||Pl.maxWidth),o+=h),d.computedWidth!==h&&(d=U({},d,{computedWidth:h})),p&&i.push(d),n[c]=d});const s=e===void 0?0:e.viewportOuterSize.width-(e.hasScrollY?e.scrollbarSize:0),a=Math.max(s-o,0);if(r>0&&s>0){const c=mxe({initialFreeSpace:a,totalFlexUnits:r,flexColumns:i});Object.keys(c).forEach(d=>{n[d]=U({},n[d],{computedWidth:c[d].computedWidth})})}return U({},t,{lookup:n})},yxe=(t,e)=>{if(!e)return t;const{orderedFields:n=[],dimensions:r={}}=e,o=Object.keys(r);if(o.length===0&&n.length===0)return t;const i={},s=[];for(let h=0;h<n.length;h+=1){const p=n[h];t.lookup[p]&&(i[p]=!0,s.push(p))}const a=s.length===0?t.orderedFields:[...s,...t.orderedFields.filter(h=>!i[h])],c=U({},t.lookup);for(let h=0;h<o.length;h+=1){const p=o[h],g=U({},c[p],{hasBeenResized:!0});Object.entries(r[p]).forEach(([m,v])=>{g[m]=v===-1?1/0:v}),c[p]=g}return U({},t,{orderedFields:a,lookup:c})};function QM(t){let e=XM[uxe];return t&&XM[t]&&(e=XM[t]),e}const Ey=({apiRef:t,columnsToUpsert:e,initialState:n,columnVisibilityModel:r=Ba(t),keepOnlyColumnsToUpsert:o=!1,updateInitialVisibilityModel:i=!1})=>{var p,g;const s=!t.current.state.columns;let a;if(s)a={orderedFields:[],lookup:{},columnVisibilityModel:r,initialColumnVisibilityModel:r};else{const m=Rl(t);a={orderedFields:o?[]:[...m.orderedFields],lookup:U({},m.lookup),columnVisibilityModel:r,initialColumnVisibilityModel:i?r:m.initialColumnVisibilityModel}}const c={};if(o&&!s)for(const m in a.lookup)Object.prototype.hasOwnProperty.call(a.lookup,m)&&(c[m]=!1);e.forEach(m=>{const{field:v}=m;c[v]=!0;let S=a.lookup[v];S==null?(S=U({},QM(m.type),{field:v,hasBeenResized:!1}),a.orderedFields.push(v)):o&&a.orderedFields.push(v),S&&S.type!==m.type&&(S=U({},QM(m.type),{field:v}));let C=S.hasBeenResized;wq.forEach(x=>{m[x]!==void 0&&(C=!0,m[x]===-1&&(m[x]=1/0))}),a.lookup[v]=iv(S,U({},QM(m.type),m,{hasBeenResized:C}))}),o&&!s&&Object.keys(a.lookup).forEach(m=>{c[m]||delete a.lookup[m]});const d=t.current.unstable_applyPipeProcessors("hydrateColumns",a),h=yxe(d,n);return VD(h,((g=(p=t.current).getRootDimensions)==null?void 0:g.call(p))??void 0)};function GE(t,e){if(e.listView)return 0;const n=VE(t),r=UE(t),o=hxe(t),i=Math.floor(e.columnHeaderHeight*n),s=Math.floor((e.columnGroupHeaderHeight??e.columnHeaderHeight)*n),a=o?Math.floor((e.headerFilterHeight??e.columnHeaderHeight)*n):0;return i+s*r+a}const WT=1,Sq=1.5,bxe=t=>{const{scrollDirection:e,classes:n}=t,r={root:["scrollArea",`scrollArea--${e}`]};return Ze(r,en,n)},vxe=gn("div",{name:"MuiDataGrid",slot:"ScrollArea",overridesResolver:(t,e)=>[{[`&.${ee["scrollArea--left"]}`]:e["scrollArea--left"]},{[`&.${ee["scrollArea--right"]}`]:e["scrollArea--right"]},{[`&.${ee["scrollArea--up"]}`]:e["scrollArea--up"]},{[`&.${ee["scrollArea--down"]}`]:e["scrollArea--down"]},e.scrollArea]})(()=>({position:"absolute",zIndex:101,[`&.${ee["scrollArea--left"]}`]:{top:0,left:0,width:20,bottom:0},[`&.${ee["scrollArea--right"]}`]:{top:0,right:0,width:20,bottom:0},[`&.${ee["scrollArea--up"]}`]:{top:0,left:0,right:0,height:20},[`&.${ee["scrollArea--down"]}`]:{bottom:0,left:0,right:0,height:20}})),wxe=ct(Lr,(t,e)=>e==="left"?t.leftPinnedWidth:e==="right"?t.rightPinnedWidth+(t.hasScrollX?t.scrollbarSize:0):0);function Sxe(t){const e=Ft(),[n,r]=w.useState("none");return st(e,"columnHeaderDragStart",()=>r("horizontal")),st(e,"columnHeaderDragEnd",()=>r("none")),st(e,"rowDragStart",()=>r("vertical")),st(e,"rowDragEnd",()=>r("none")),n==="none"?null:n==="horizontal"?T.jsx(Cxe,U({},t)):T.jsx(Exe,U({},t))}function Cxe(t){const{scrollDirection:e,scrollPosition:n}=t,r=w.useRef(null),o=Ft(),i=Js(),s=$e(o,VE),a=$e(o,vN),c=$e(o,wxe,e),d=()=>{const S=Lr(o);if(e==="left")return n.current.left>0;if(e==="right"){const C=a-S.viewportInnerSize.width;return n.current.left<C}return!1},h=et(),p=GE(o,h),g=Math.floor(h.columnHeaderHeight*s),m=U({height:g,top:p-g},e==="left"?{left:c}:{},e==="right"?{right:c}:{}),v=Mt(S=>{let C;if(S.preventDefault(),e==="left")C=S.clientX-r.current.getBoundingClientRect().right;else if(e==="right")C=Math.max(1,S.clientX-r.current.getBoundingClientRect().left);else throw new Error("MUI X: Wrong drag direction");C=(C-WT)*Sq+WT,i.start(0,()=>{o.current.scroll({left:n.current.left+C,top:n.current.top})})});return T.jsx(Cq,U({},t,{ref:r,getCanScrollMore:d,style:m,handleDragOver:v}))}function Exe(t){const{scrollDirection:e,scrollPosition:n}=t,r=w.useRef(null),o=Ft(),i=Js(),s=$e(o,wN),a=()=>{const g=Lr(o);if(e==="up")return n.current.top>0;if(e==="down"){const v=(s.currentPageTotalHeight||0)-g.viewportInnerSize.height-(g.hasScrollX?g.scrollbarSize:0);return n.current.top<v}return!1},c=et(),d=GE(o,c),h={top:e==="up"?d:void 0,bottom:e==="down"?0:void 0},p=Mt(g=>{let m;if(g.preventDefault(),e==="up")m=g.clientY-r.current.getBoundingClientRect().bottom;else if(e==="down")m=Math.max(1,g.clientY-r.current.getBoundingClientRect().top);else throw new Error("MUI X: Wrong drag direction");m=(m-WT)*Sq+WT,i.start(0,()=>{o.current.scroll({left:n.current.left,top:n.current.top+m})})});return T.jsx(Cq,U({},t,{ref:r,getCanScrollMore:a,style:h,handleDragOver:p}))}const Cq=xt(function(e,n){const{scrollDirection:r,getCanScrollMore:o,style:i,handleDragOver:s}=e,a=Ft(),[c,d]=w.useState(o),h=et(),p=U({},h,{scrollDirection:r}),g=bxe(p);return st(a,"scrollPositionChange",()=>{d(o)}),c?T.jsx(vxe,{ref:n,className:g.root,ownerState:p,onDragOver:s,style:i}):null}),F1=xd(Sxe),Eq=w.createContext(void 0);function aa(){const t=w.useContext(Eq);if(t===void 0)throw new Error(["MUI X: Could not find the Data Grid private context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the Data Grid."].join(`
`));return t}const xxe=()=>{},_xe=(t,e)=>{const n=w.useRef(!1);Un(()=>n.current||!t?xxe:(n.current=!0,e()),[n.current||t])};function Wt(t,e,n){const r=w.useRef(!0);Un(()=>{r.current=!1,t.current.register(n,e)},[t,n,e]),r.current&&t.current.register(n,e)}function ti(t,e){const n=w.useRef(null);if(n.current)return n.current;const r=t.current.getLogger(e);return n.current=r,r}const xq=(t,e,n,r,o)=>{const i=ti(t,"useNativeEventListener");Bn(t,"rootMount",()=>{const s=e();if(!(!s||!n))return i.debug(`Binding native ${n} event`),s.addEventListener(n,r,o),()=>{i.debug(`Clearing native ${n} event`),s.removeEventListener(n,r,o)}})};function pm(t){const e=w.useRef(!0);e.current&&(e.current=!1,t())}const Txe=gn("div",{name:"MuiDataGrid",slot:"OverlayWrapper",shouldForwardProp:t=>t!=="overlayType"&&t!=="loadingOverlayVariant"&&t!=="right"})(({overlayType:t,loadingOverlayVariant:e,right:n})=>e!=="skeleton"?{position:"sticky",top:"var(--DataGrid-headersTotalHeight)",left:0,right:`${n}px`,width:0,height:0,zIndex:t==="loadingOverlay"?5:4}:{}),Axe=gn("div",{name:"MuiDataGrid",slot:"OverlayWrapperInner",shouldForwardProp:t=>t!=="overlayType"&&t!=="loadingOverlayVariant"})({}),Ixe=t=>{const{classes:e}=t;return Ze({root:["overlayWrapper"],inner:["overlayWrapperInner"]},en,e)};function Rxe(t){const e=Ft(),n=et(),r=$e(e,Lr);let o=Math.max(r.viewportOuterSize.height-r.topContainerHeight-r.bottomContainerHeight-(r.hasScrollX?r.scrollbarSize:0),0);o===0&&(o=_W);const i=Ixe(U({},t,{classes:n.classes}));return T.jsx(Txe,U({className:i.root},t,{right:r.columnsTotalWidth-r.viewportOuterSize.width,children:T.jsx(Axe,U({className:i.inner,style:{height:o,width:r.viewportOuterSize.width}},t))}))}const _q=gr(t=>t.pivoting),om=ct(_q,t=>t==null?void 0:t.active),Pxe=new Map,Tq=ct(_q,t=>(t==null?void 0:t.initialColumns)||Pxe),Mxe=()=>{var x,O;const t=Ft(),e=et(),n=$e(t,Pv),r=$e(t,RN),o=$e(t,SW),i=$e(t,Or),s=n===0&&o===0,a=$e(t,USe),c=$e(t,om),d=!a&&s,h=!a&&n>0&&r===0,p=!a&&i.length===0,g=d&&c;let m=null,v=null;d&&(m="noRowsOverlay"),p&&(m="noColumnsOverlay"),g&&(m="emptyPivotOverlay"),h&&(m="noResultsOverlay"),a&&(m="loadingOverlay",v=((O=(x=e.slotProps)==null?void 0:x.loadingOverlay)==null?void 0:O[s?"noRowsVariant":"variant"])??(s?"skeleton":"linear-progress"));const S={overlayType:m,loadingOverlayVariant:v};return{getOverlay:()=>{var k,$;if(!m)return null;const M=(k=e.slots)==null?void 0:k[m],P=($=e.slotProps)==null?void 0:$[m];return T.jsx(Rxe,U({},S,{children:T.jsx(M,U({},P))}))},overlaysProps:S}},B_=gr(t=>t.columnMenu);function kxe(){var C;const t=aa(),e=et(),n=$e(t,Or),r=$e(t,wEe),o=$e(t,bEe),i=$e(t,aq),s=$e(t,()=>ON(t)===null),a=$e(t,REe),c=$e(t,IEe),d=$e(t,UT),h=$e(t,UE),p=$e(t,B_),g=$e(t,Ba),m=$e(t,gxe),v=!(a===null&&i===null&&s),S=t.current.columnHeadersContainerRef;return T.jsx(e.slots.columnHeaders,U({ref:S,visibleColumns:n,filterColumnLookup:r,sortColumnLookup:o,columnHeaderTabIndexState:i,columnGroupHeaderTabIndexState:a,columnHeaderFocus:c,columnGroupHeaderFocus:d,headerGroupingMaxDepth:h,columnMenuState:p,columnVisibility:g,columnGroupsHeaderStructure:m,hasOtherElementInTabSequence:v},(C=e.slotProps)==null?void 0:C.columnHeaders))}const Oxe=xd(kxe),Dxe=gn("div")({position:"absolute",top:"var(--DataGrid-headersTotalHeight)",left:0,width:"calc(100% - (var(--DataGrid-hasScrollY) * var(--DataGrid-scrollbarSize)))"}),Lxe=gn("div",{name:"MuiDataGrid",slot:"Main",overridesResolver:(t,e)=>{const{ownerState:n,loadingOverlayVariant:r,overlayType:o}=t,i=r==="skeleton"||o==="noColumnsOverlay";return[e.main,n.hasPinnedRight&&e["main--hasPinnedRight"],i&&e["main--hiddenContent"]]}})({flexGrow:1,position:"relative",overflow:"hidden",display:"flex",flexDirection:"column"}),Nxe=xt((t,e)=>{var s;const{ownerState:n}=t,r=et(),i=RI().hooks.useGridAriaAttributes();return T.jsxs(Lxe,U({ownerState:n,className:t.className,tabIndex:-1},i,(s=r.slotProps)==null?void 0:s.main,{ref:e,children:[T.jsx(Dxe,{role:"presentation","data-id":"gridPanelAnchor"}),t.children]}))}),Fxe=()=>Ze({root:["topContainer"]},en,{}),$xe=gn("div")({position:"sticky",zIndex:40,top:0});function Vxe(t){const e=Fxe();return T.jsx($xe,U({},t,{className:Ne(e.root,ee["container--top"]),role:"presentation"}))}const zxe=(t,e)=>{const{classes:n}=t;return Ze({root:["virtualScrollerContent",e&&"virtualScrollerContent--overflowed"]},en,n)},Bxe=gn("div",{name:"MuiDataGrid",slot:"VirtualScrollerContent",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.virtualScrollerContent,n.overflowedContent&&e["virtualScrollerContent--overflowed"]]}})({}),Hxe=xt(function(e,n){var a;const r=et(),o=!r.autoHeight&&((a=e.style)==null?void 0:a.minHeight)==="auto",i=zxe(r,o),s={classes:r.classes,overflowedContent:o};return T.jsx(Bxe,U({},e,{ownerState:s,className:Ne(i.root,e.className),ref:n}))}),jxe=gn("div")({display:"flex",flexDirection:"row",width:"var(--DataGrid-rowWidth)",boxSizing:"border-box"}),Aq=gn("div")({position:"sticky",height:"100%",boxSizing:"border-box",borderTop:"1px solid var(--rowBorderColor)",backgroundColor:tt.cell.background.pinned}),Uxe=gn(Aq)({left:0,borderRight:"1px solid var(--rowBorderColor)"}),Gxe=gn(Aq)({right:0,borderLeft:"1px solid var(--rowBorderColor)"}),Wxe=gn("div")({flexGrow:1,borderTop:"1px solid var(--rowBorderColor)"});function qxe({rowsLength:t}){const e=Ft(),{viewportOuterSize:n,minimumSize:r,hasScrollX:o,hasScrollY:i,scrollbarSize:s,leftPinnedWidth:a,rightPinnedWidth:c}=$e(e,Lr),d=o?s:0,h=n.height-r.height>0;return d===0&&!h?null:T.jsxs(jxe,{className:ee.filler,role:"presentation",style:{height:d,"--rowBorderColor":t===0?"transparent":"var(--DataGrid-rowBorderColor)"},children:[a>0&&T.jsx(Uxe,{className:ee["filler--pinnedLeft"],style:{width:a}}),T.jsx(Wxe,{}),c>0&&T.jsx(Gxe,{className:ee["filler--pinnedRight"],style:{width:c+(i?s:0)}})]})}const Kxe=xd(qxe),Yxe=["className"],Xxe=t=>{const{classes:e}=t;return Ze({root:["virtualScrollerRenderZone"]},en,e)},Qxe=gn("div",{name:"MuiDataGrid",slot:"VirtualScrollerRenderZone"})({position:"absolute",display:"flex",flexDirection:"column"}),Zxe=xt(function(e,n){const{className:r}=e,o=Xe(e,Yxe),i=aa(),s=et(),a=Xxe(s),c=i.current.virtualizer.api.useVirtualization().getters.getOffsetTop();return T.jsx(Qxe,U({className:Ne(a.root,r),ownerState:s,style:{transform:`translate3d(0, ${c}px, 0)`}},o,{ref:n}))}),Jxe={includeHeaders:!0,includeOutliers:!1,outliersFactor:1.5,expand:!1,disableColumnVirtualization:!0},Mo=gr(t=>t.editRows),Iq=ct(Mo,(t,{rowId:e,editMode:n})=>n===Bc.Row&&!!t[e]),e1e=ct(Mo,(t,{rowId:e,field:n})=>{var r;return((r=t[e])==null?void 0:r[n])??null}),im=gr(t=>t.preferencePanel),t1e=ct(im,(t,e)=>!!(t.open&&t.labelId===e));var Xi=function(t){return t.filters="filters",t.columns="columns",t.aiAssistant="aiAssistant",t}(Xi||{});const n1e={},r1e={initialize:o1e,use:i1e,selectors:n1e};function o1e(t){return{colspanMap:new Map}}function i1e(t,e,n){var a;const r=(a=e.colspan)==null?void 0:a.getColspan,o=()=>{t.state.colspanMap=new Map},i=(c,d)=>{var h;return(h=t.state.colspanMap.get(c))==null?void 0:h[d]},s=Mt(r?(c,d,h,p)=>{for(let g=d;g<h;g+=1){const m=s1e(t.state.colspanMap,g,c,d,h,p,r);m.colSpan>1&&(g+=m.colSpan-1)}}:()=>{});return n.calculateColSpan=s,{resetColSpan:o,getCellColSpanInfo:i,calculateColSpan:s}}function s1e(t,e,n,r,o,i,s){const a=i.length,c=i[e],d=s(n,c,e);if(!d||d===1)return ZM(t,n,e,{spannedByColSpan:!1,cellProps:{colSpan:1,width:c.computedWidth}}),{colSpan:1};let h=c.computedWidth;for(let p=1;p<d;p+=1){const g=e+p;if(g>=r&&g<o){const m=i[g];h+=m.computedWidth,ZM(t,n,e+p,{spannedByColSpan:!0,rightVisibleCellIndex:Math.min(e+d,a-1),leftVisibleCellIndex:e})}ZM(t,n,e,{spannedByColSpan:!1,cellProps:{colSpan:d,width:h}})}return{colSpan:d}}function ZM(t,e,n,r){let o=t.get(e);o||(o={},t.set(e,o)),o[n]=r}function a1e(t,e=166){let n,r;const o=()=>{n=void 0,t(...r)};function i(...s){r=s,n===void 0&&(n=setTimeout(o,e))}return i.clear=()=>{clearTimeout(n),n=void 0},i}function Ua(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;if(Array.isArray(t)){const o=t.length;if(o!==e.length)return!1;for(let i=0;i<o;i+=1)if(!Ua(t[i],e[i]))return!1;return!0}if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;const o=Array.from(t.entries());for(let i=0;i<o.length;i+=1)if(!e.has(o[i][0]))return!1;for(let i=0;i<o.length;i+=1){const s=o[i];if(!Ua(s[1],e.get(s[0])))return!1}return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;const o=Array.from(t.entries());for(let i=0;i<o.length;i+=1)if(!e.has(o[i][0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){const o=t.length;if(o!==e.length)return!1;for(let i=0;i<o;i+=1)if(t[i]!==e[i])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const n=Object.keys(t),r=n.length;if(r!==Object.keys(e).length)return!1;for(let o=0;o<r;o+=1)if(!Object.prototype.hasOwnProperty.call(e,n[o]))return!1;for(let o=0;o<r;o+=1){const i=n[o];if(!Ua(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function Ap(t,e){return Math.round(t*10**e)/10**e}const Ju={EMPTY:{width:0,height:0},equals:(t,e)=>t.width===e.width&&t.height===e.height},l1e={EMPTY:{top:[],bottom:[]}},c1e={EMPTY:{left:[],right:[]}};let zr=function(t){return t[t.NONE=0]="NONE",t[t.UP=1]="UP",t[t.DOWN=2]="DOWN",t[t.LEFT=3]="LEFT",t[t.RIGHT=4]="RIGHT",t}({});(function(t){function e(n,r){return n===0&&r===0?zr.NONE:Math.abs(r)>=Math.abs(n)?r>0?zr.DOWN:zr.UP:n>0?zr.RIGHT:zr.LEFT}t.forDelta=e})(zr||(zr={}));const u1e={isReady:!1,root:Ju.EMPTY,viewportOuterSize:Ju.EMPTY,viewportInnerSize:Ju.EMPTY,contentSize:Ju.EMPTY,minimumSize:Ju.EMPTY,hasScrollX:!1,hasScrollY:!1,scrollbarSize:0,rowWidth:0,rowHeight:0,columnsTotalWidth:0,leftPinnedWidth:0,rightPinnedWidth:0,topContainerHeight:0,bottomContainerHeight:0},Vy={rootSize:t=>t.rootSize,dimensions:t=>t.dimensions,rowHeight:t=>t.dimensions.rowHeight,contentHeight:t=>t.dimensions.contentSize.height,rowsMeta:t=>t.rowsMeta,columnPositions:yW((t,e)=>{const n=[];let r=0;for(let o=0;o<e.length;o+=1)n.push(r),r+=e[o].computedWidth;return n}),needsHorizontalScrollbar:t=>t.dimensions.viewportOuterSize.width>0&&t.dimensions.columnsTotalWidth>t.dimensions.viewportOuterSize.width},ps={initialize:d1e,use:h1e,selectors:Vy};function d1e(t){const e=U({},u1e,t.dimensions),{rowCount:n}=t,{rowHeight:r}=e,o={currentPageTotalHeight:n*r,positions:Array.from({length:n},(s,a)=>a*r),pinnedTopRowsTotalHeight:0,pinnedBottomRowsTotalHeight:0},i=new Map;return{rootSize:Ju.EMPTY,dimensions:e,rowsMeta:o,rowHeights:i}}function h1e(t,e,n){const r=w.useRef(!0),{refs:o,dimensions:{rowHeight:i,columnsTotalWidth:s,leftPinnedWidth:a,rightPinnedWidth:c,topPinnedHeight:d,bottomPinnedHeight:h},onResize:p}=e,g=o.container.current,m=w.useCallback(()=>{if(r.current)return;const M=Vy.rootSize(t.state),P=Vy.rowsMeta(t.state),k=g1e(g,e.dimensions.scrollbarSize),$=d+P.pinnedTopRowsTotalHeight,D=h+P.pinnedBottomRowsTotalHeight,I={width:s,height:Ap(P.currentPageTotalHeight,1)};let A,N,F=!1,R=!1;if(e.autoHeight)R=!1,F=Math.round(s)>Math.round(M.width),A={width:M.width,height:$+D+I.height},N={width:Math.max(0,A.width-(R?k:0)),height:Math.max(0,A.height-(F?k:0))};else{A={width:M.width,height:M.height},N={width:Math.max(0,A.width),height:Math.max(0,A.height-$-D)};const H=I,Z=N,re=H.width>Z.width,j=H.height>Z.height;(re||j)&&(R=j,F=H.width+(R?k:0)>Z.width,F&&(R=H.height+k>Z.height)),R&&(N.width-=k),F&&(N.height-=k)}const V=Math.max(A.width,s+(R?k:0)),q={width:s,height:$+I.height+D},K={isReady:!0,root:M,viewportOuterSize:A,viewportInnerSize:N,contentSize:I,minimumSize:q,hasScrollX:F,hasScrollY:R,scrollbarSize:k,rowWidth:V,rowHeight:i,columnsTotalWidth:s,leftPinnedWidth:a,rightPinnedWidth:c,topContainerHeight:$,bottomContainerHeight:D},z=t.state.dimensions;Ua(z,K)||(t.update({dimensions:K}),p==null||p(K.root))},[t,g,e.dimensions.scrollbarSize,e.autoHeight,p,i,s,a,c,d,h]),{resizeThrottleMs:v}=e,S=Mt(m),C=w.useMemo(()=>v>0?a1e(S,v):void 0,[v,S]);w.useEffect(()=>C==null?void 0:C.clear,[C]);const x=Mt(M=>{t.state.rootSize=M,r.current||!C?(r.current=!1,m()):C()});Un(()=>p1e(g,t,x),[g,t,x]),Un(m,[m]);const O=f1e(t,e,m);return{updateDimensions:m,debouncedUpdateDimensions:C,rowsMeta:O}}function f1e(t,e,n){const r=t.state.rowHeights,{rows:o,getRowHeight:i,getRowSpacing:s,getEstimatedRowHeight:a}=e,c=w.useRef(-1),d=w.useRef(!1),h=w.useRef(!1),p=e.pinnedRows,g=rc(t,Vy.rowHeight),m=Mt(N=>{let F=r.get(N);return F===void 0&&(F={content:t.state.dimensions.rowHeight,spacingTop:0,spacingBottom:0,detail:0,autoHeight:!1,needsFirstMeasurement:!0},r.set(N,F)),F}),{applyRowHeight:v}=e,S=w.useCallback(N=>{const F=Vy.dimensions(t.state),R=F.rowHeight,V=m(N.id);if(!i)V.content=R,V.needsFirstMeasurement=!1;else{const q=i(N);if(q==="auto"){if(V.needsFirstMeasurement){const K=a?a(N):R;V.content=K??R}d.current=!0,V.autoHeight=!0}else V.content=q??F.rowHeight,V.needsFirstMeasurement=!1,V.autoHeight=!1}if(s){const q=s(N);V.spacingTop=q.top??0,V.spacingBottom=q.bottom??0}else V.spacingTop=0,V.spacingBottom=0;return v==null||v(V,N),V},[t,i,m,a,g,s,v]),C=w.useCallback(()=>{d.current=!1;const N=(p==null?void 0:p.top.reduce((z,H)=>{const Z=S(H);return z+Z.content+Z.spacingTop+Z.spacingBottom+Z.detail},0))??0,F=(p==null?void 0:p.bottom.reduce((z,H)=>{const Z=S(H);return z+Z.content+Z.spacingTop+Z.spacingBottom+Z.detail},0))??0,R=[],V=o.reduce((z,H)=>{R.push(z);const Z=S(H),re=Z.content+Z.spacingTop+Z.spacingBottom+Z.detail;return z+re},0);d.current||(c.current=1/0);const q=N!==t.state.rowsMeta.pinnedTopRowsTotalHeight||F!==t.state.rowsMeta.pinnedBottomRowsTotalHeight||V!==t.state.rowsMeta.currentPageTotalHeight,K={currentPageTotalHeight:V,positions:R,pinnedTopRowsTotalHeight:N,pinnedBottomRowsTotalHeight:F};t.set("rowsMeta",K),q&&n(),h.current=!0},[t,p,o,S,n]),x=Mt(C),O=N=>{var F;return((F=r.get(N))==null?void 0:F.content)??Vy.rowHeight(t.state)},M=(N,F)=>{const R=m(N),V=R.content!==F;R.needsFirstMeasurement=!1,R.content=F,h.current&&(h.current=!V)},P=N=>{var F;return((F=r.get(N))==null?void 0:F.autoHeight)??!1},k=()=>c.current,$=N=>{d.current&&N>c.current&&(c.current=N)},D=()=>{r.clear(),C()},I=sa(()=>typeof ResizeObserver>"u"?void 0:new ResizeObserver(N=>{var F,R;for(let V=0;V<N.length;V+=1){const q=N[V],K=q.borderBoxSize&&q.borderBoxSize.length>0?q.borderBoxSize[0].blockSize:q.contentRect.height,z=q.target.__mui_id;if(((R=(F=e.focusedVirtualCell)==null?void 0:F.call(e))==null?void 0:R.id)===z&&K===0)return;M(z,K)}h.current||requestAnimationFrame(()=>{x()})})).current,A=(N,F)=>(N.__mui_id=F,I==null||I.observe(N),()=>I==null?void 0:I.unobserve(N));return Un(()=>{C()},[C]),{getRowHeight:O,setLastMeasuredRowIndex:$,storeRowHeightMeasurement:M,hydrateRowsMeta:C,observeRowHeight:A,rowHasAutoHeight:P,getRowHeightEntry:m,getLastMeasuredRowIndex:k,resetRowHeights:D}}function p1e(t,e,n){if(!t)return;const r=t.getBoundingClientRect(),o={width:Ap(r.width,1),height:Ap(r.height,1)};if((e.state.rootSize===Ju.EMPTY||!Ju.equals(o,e.state.rootSize))&&n(o),typeof ResizeObserver>"u")return;const i=new ResizeObserver(([s])=>{if(!s)return;const a={width:Ap(s.contentRect.width,1),height:Ap(s.contentRect.height,1)};Ju.equals(a,e.state.rootSize)||n(a)});return i.observe(t),()=>{i.disconnect()}}const i5=new WeakMap;function g1e(t,e){if(e!==void 0)return e;if(t===null)return 0;const n=i5.get(t);if(n!==void 0)return n;const o=Br(t).createElement("div");o.style.width="99px",o.style.height="99px",o.style.position="absolute",o.style.overflow="scroll",o.className="scrollDiv",t.appendChild(o);const i=o.offsetWidth-o.clientWidth;return t.removeChild(o),i5.set(t,i),i}const m1e=typeof navigator<"u"?navigator.userAgent.toLowerCase():"empty",y1e=m1e.includes("firefox"),JM=typeof window<"u"&&/jsdom|HappyDOM/.test(window.navigator.userAgent),zy=(t,e,n)=>Math.max(e,Math.min(n,t)),ek=50,s5={top:0,left:0},b1e=Object.freeze(new Map),qT={firstRowIndex:0,lastRowIndex:0,firstColumnIndex:0,lastColumnIndex:0},H_={renderContext:$_(t=>t.virtualization.renderContext),enabledForRows:$_(t=>t.virtualization.enabledForRows),enabledForColumns:$_(t=>t.virtualization.enabledForColumns)},Rq={initialize:v1e,use:w1e,selectors:H_};function v1e(t){var n;return{virtualization:U({enabled:!JM,enabledForRows:!JM,enabledForColumns:!JM,renderContext:qT},(n=t.initialState)==null?void 0:n.virtualization),getters:null}}function w1e(t,e,n){const{refs:r,dimensions:{rowHeight:o,columnsTotalWidth:i},virtualization:{isRtl:s=!1,rowBufferPx:a=150,columnBufferPx:c=150},colspan:d,initialState:h,rows:p,range:g,columns:m,pinnedRows:v=l1e.EMPTY,pinnedColumns:S=c1e.EMPTY,minimalContentHeight:C,autoHeight:x,onWheel:O,onTouchMove:M,onRenderContextChange:P,onScrollChange:k,scrollReset:$,renderRow:D,renderInfiniteLoadingTrigger:I}=e,A=rc(t,ps.selectors.needsHorizontalScrollbar),N=v.bottom.length>0,[F,R]=w.useState(b1e),[,V]=w.useState(0),q=w.useRef(!1),K=rc(t,H_.renderContext),z=rc(t,H_.enabledForRows),H=rc(t,H_.enabledForColumns),Z=rc(t,ps.selectors.rowsMeta),re=rc(t,ps.selectors.contentHeight),j=w.useRef((h==null?void 0:h.scroll)??s5),X=w.useRef(!1),ne=w.useRef(s5),ie=w.useRef(qT),se=Js(),ce=w.useRef(void 0),ae=sa(()=>E1e(s,a,c,o*15,ek*6)).current,ge=w.useCallback(he=>{u5(he,t.state.virtualization.renderContext)||t.set("virtualization",U({},t.state.virtualization,{renderContext:he}));const Ue=ps.selectors.dimensions(t.state).isReady,qe=he.firstRowIndex!==ie.current.firstRowIndex||he.lastRowIndex!==ie.current.lastRowIndex;Ue&&qe&&(ie.current=he,P==null||P(he)),ne.current=j.current},[t,P]),Ee=Mt(()=>{const he=r.scroller.current;if(!he)return;const Ue=ps.selectors.dimensions(t.state),qe=Math.ceil(Ue.minimumSize.height-Ue.viewportOuterSize.height),nt=Math.ceil(Ue.minimumSize.width-Ue.viewportInnerSize.width),Je={top:zy(he.scrollTop,0,qe),left:s?zy(he.scrollLeft,-nt,0):zy(he.scrollLeft,0,nt)},Qe=Je.left-j.current.left,dt=Je.top-j.current.top,ht=Qe!==0||dt!==0;j.current=Je;const Ge=ht?zr.forDelta(Qe,dt):zr.NONE,De=Math.abs(j.current.top-ne.current.top),it=Math.abs(j.current.left-ne.current.left),Et=De>=o||it>=ek,gt=ae.direction!==Ge;if(!(Et||gt))return K;if(gt)switch(Ge){case zr.NONE:case zr.LEFT:case zr.RIGHT:ce.current=void 0;break;default:ce.current=K;break}ae.direction=Ge,ae.buffer=Mq(s,Ge,a,c,o*15,ek*6);const Ut=a5(t,e,n,z,H),Ot=l5(Ut,j.current,ae);return u5(Ot,K)||(c2.flushSync(()=>{ge(Ot)}),se.start(1e3,Ee)),Ot}),Te=Mt(()=>{if(!ps.selectors.dimensions(t.state).isReady&&(z||H))return;const he=a5(t,e,n,z,H),Ue=l5(he,j.current,ae);ce.current=void 0,ge(Ue)}),le=Mt(()=>{if(X.current){X.current=!1;return}const he=Ee();he&&(k==null||k(j.current,he))}),pe=()=>Z.positions[K.firstRowIndex]??0,ye=(he={},Ue)=>{var Ut;if(!he.rows&&!g)return[];let qe=K;he.renderContext&&(qe=he.renderContext,qe.firstColumnIndex=K.firstColumnIndex,qe.lastColumnIndex=K.lastColumnIndex);const nt=!N&&he.position===void 0||N&&he.position==="bottom",Je=he.position!==void 0;let Qe;switch(he.position){case"top":Qe=0;break;case"bottom":Qe=v.top.length+p.length;break;case void 0:default:Qe=v.top.length;break}const dt=he.rows??p,ht=qe.firstRowIndex,Ge=Math.min(qe.lastRowIndex,dt.length),De=he.rows?d5(0,he.rows.length):d5(ht,Ge);let it=-1;const Et=(Ut=e.focusedVirtualCell)==null?void 0:Ut.call(e);!Je&&Et&&(Et.rowIndex<ht&&(De.unshift(Et.rowIndex),it=Et.rowIndex),Et.rowIndex>Ge&&(De.push(Et.rowIndex),it=Et.rowIndex));const gt=[],mt=ps.selectors.columnPositions(t.state,m);return De.forEach(Ot=>{const{id:mn,model:vt}=dt[Ot];if(Ue&&!Ue[mn])return;const Yt=((g==null?void 0:g.firstRowIndex)||0)+Qe+Ot;if(d!=null&&d.enabled){const Ur=S.left.length,la=m.length-S.right.length;n.calculateColSpan(mn,Ur,la,m),S.left.length>0&&n.calculateColSpan(mn,0,S.left.length,m),S.right.length>0&&n.calculateColSpan(mn,m.length-S.right.length,m.length,m)}const Zt=n.rowsMeta.rowHasAutoHeight(mn)?"auto":n.rowsMeta.getRowHeight(mn);let An=!1;he.position===void 0&&(An=Ot===0);let _r=!1;const Qn=Ot===dt.length-1;if(nt)if(Je)_r=Qn;else{const Ur=p.length-1;Ot===Ur&&(_r=!0)}let Tr=qe;ce.current&&Ot>=ce.current.firstRowIndex&&Ot<ce.current.lastRowIndex&&(Tr=ce.current);const jr=Ot===it,Nt=(Et==null?void 0:Et.rowIndex)===Yt,Nn=Pq(mt,Tr,S.left.length),ts=Qn&&he.position==="top",Fn=Tr.firstColumnIndex,Zn=Tr.lastColumnIndex;if(gt.push(D({id:mn,model:vt,rowIndex:Yt,offsetLeft:Nn,columnsTotalWidth:i,baseRowHeight:Zt,firstColumnIndex:Fn,lastColumnIndex:Zn,focusedColumnIndex:Nt?Et.columnIndex:void 0,isFirstVisible:An,isLastVisible:_r,isVirtualFocusRow:jr,showBottomBorder:ts})),jr)return;const $n=F.get(mn);$n&&gt.push($n),he.position===void 0&&Qn&&gt.push(I(mn))}),gt},xe=w.useMemo(()=>({overflowX:A?void 0:"hidden",overflowY:x?"hidden":void 0}),[A,x]),Ce=w.useMemo(()=>{const he={width:A?i:"auto",flexBasis:re,flexShrink:0};return he.flexBasis===0&&(he.flexBasis=C),he},[i,re,A,C]),Pe=w.useRef(null),ze=w.useCallback(he=>{var Ue;he&&((Ue=Pe.current)==null||Ue.call(Pe,i,re))},[i,re]);Un(()=>{q.current&&Te()},[H,z,Te]),Un(()=>{r.scroller.current&&(r.scroller.current.scrollLeft=0)},[r.scroller,$]),_xe(K!==qT,()=>{if(k==null||k(j.current,K),q.current=!0,h!=null&&h.scroll&&r.scroller.current){const he=r.scroller.current,{top:Ue,left:qe}=h.scroll,nt={top:!(Ue>0),left:!(qe>0)};!nt.left&&i&&(he.scrollLeft=qe,nt.left=!0,X.current=!0),!nt.top&&re&&(he.scrollTop=Ue,X.current=!0),(!nt.top||!nt.left)&&(Pe.current=(Je,Qe)=>{!nt.left&&Je&&(he.scrollLeft=qe,nt.left=!0,X.current=!0),!nt.top&&Qe&&(he.scrollTop=Ue,nt.top=!0,X.current=!0),nt.left&&nt.top&&(Pe.current=null)})}}),zT(t,ps.selectors.dimensions,Te);const Ke=he=>Ue=>{Ue&&r[he].current!==Ue&&(r[he].current=Ue,V(qe=>qe+1))},ke={setPanels:R,getOffsetTop:pe,getRows:ye,getContainerProps:()=>({ref:Ke("container")}),getScrollerProps:()=>({ref:Ke("scroller"),onScroll:le,onWheel:O,onTouchMove:M,style:xe,role:"presentation",tabIndex:y1e?-1:void 0}),getContentProps:()=>({ref:ze,style:Ce,role:"presentation"}),getScrollbarVerticalProps:()=>({ref:Ke("scrollbarVertical"),scrollPosition:j}),getScrollbarHorizontalProps:()=>({ref:Ke("scrollbarHorizontal"),scrollPosition:j}),getScrollAreaProps:()=>({scrollPosition:j})};return pm(()=>{t.state=U({},t.state,{getters:ke})}),w.useEffect(()=>{t.update({getters:ke})},Object.values(ke)),{getters:ke,useVirtualization:()=>rc(t,he=>he),setPanels:R,forceUpdateRenderContext:Te,getCellColSpanInfo:()=>{throw new Error("Unimplemented: colspan feature is required")},calculateColSpan:()=>{throw new Error("Unimplemented: colspan feature is required")},getHiddenCellsOrigin:()=>{throw new Error("Unimplemented: rowspan feature is required")}}}function a5(t,e,n,r,o){var g;const i=ps.selectors.dimensions(t.state),s=e.rows,a=e.range,c=e.columns,d=n.getHiddenCellsOrigin(),h=(g=e.rows.at(-1))==null?void 0:g.id,p=c.at(-1);return{api:n,enabledForRows:r,enabledForColumns:o,autoHeight:e.autoHeight,rowBufferPx:e.virtualization.rowBufferPx,columnBufferPx:e.virtualization.columnBufferPx,leftPinnedWidth:i.leftPinnedWidth,columnsTotalWidth:i.columnsTotalWidth,viewportInnerWidth:i.viewportInnerSize.width,viewportInnerHeight:i.viewportInnerSize.height,lastRowHeight:h!==void 0?n.rowsMeta.getRowHeight(h):0,lastColumnWidth:(p==null?void 0:p.computedWidth)??0,rowsMeta:ps.selectors.rowsMeta(t.state),columnPositions:ps.selectors.columnPositions(t.state,e.columns),rows:s,range:a,pinnedColumns:e.pinnedColumns,columns:c,hiddenCellsOriginMap:d,virtualizeColumnsWithAutoRowHeight:e.virtualizeColumnsWithAutoRowHeight}}function l5(t,e,n){const r={firstRowIndex:0,lastRowIndex:t.rows.length,firstColumnIndex:0,lastColumnIndex:t.columns.length},{top:o,left:i}=e,s=Math.abs(i)+t.leftPinnedWidth;if(t.enabledForRows){let c=Math.min(c5(t,o,{atStart:!0,lastPosition:t.rowsMeta.positions[t.rowsMeta.positions.length-1]+t.lastRowHeight}),t.rowsMeta.positions.length-1);const d=t.hiddenCellsOriginMap[c];if(d){const p=Math.min(...Object.values(d));c=Math.min(c,p)}const h=t.autoHeight?c+t.rows.length:c5(t,o+t.viewportInnerHeight);r.firstRowIndex=c,r.lastRowIndex=h}if(t.enabledForColumns){let c=0,d=t.columnPositions.length,h=!1;const[p,g]=zD({firstIndex:r.firstRowIndex,lastIndex:r.lastRowIndex,minFirstIndex:0,maxLastIndex:t.rows.length,bufferBefore:n.buffer.rowBefore,bufferAfter:n.buffer.rowAfter,positions:t.rowsMeta.positions,lastSize:t.lastRowHeight});if(!t.virtualizeColumnsWithAutoRowHeight)for(let m=p;m<g&&!h;m+=1){const v=t.rows[m];h=t.api.rowsMeta.rowHasAutoHeight(v.id)}(!h||t.virtualizeColumnsWithAutoRowHeight)&&(c=wf(s,t.columnPositions,{atStart:!0,lastPosition:t.columnsTotalWidth}),d=wf(s+t.viewportInnerWidth,t.columnPositions)),r.firstColumnIndex=c,r.lastColumnIndex=d}return S1e(t,r,n)}function c5(t,e,n){var s,a;const r=t.api.rowsMeta.getLastMeasuredRowIndex();let o=r===1/0;(s=t.range)!=null&&s.lastRowIndex&&!o&&(o=r>=t.range.lastRowIndex);const i=zy(r-(((a=t.range)==null?void 0:a.firstRowIndex)||0),0,t.rowsMeta.positions.length);return o||t.rowsMeta.positions[i]>=e?wf(e,t.rowsMeta.positions,n):C1e(e,t.rowsMeta.positions,i,n)}function S1e(t,e,n){var c,d;const[r,o]=zD({firstIndex:e.firstRowIndex,lastIndex:e.lastRowIndex,minFirstIndex:0,maxLastIndex:t.rows.length,bufferBefore:n.buffer.rowBefore,bufferAfter:n.buffer.rowAfter,positions:t.rowsMeta.positions,lastSize:t.lastRowHeight}),[i,s]=zD({firstIndex:e.firstColumnIndex,lastIndex:e.lastColumnIndex,minFirstIndex:((c=t.pinnedColumns)==null?void 0:c.left.length)??0,maxLastIndex:t.columns.length-(((d=t.pinnedColumns)==null?void 0:d.right.length)??0),bufferBefore:n.buffer.columnBefore,bufferAfter:n.buffer.columnAfter,positions:t.columnPositions,lastSize:t.lastColumnWidth}),a=x1e({api:t.api,firstColumnToRender:i,firstRowToRender:r,lastRowToRender:o,visibleRows:t.rows});return{firstRowIndex:r,lastRowIndex:o,firstColumnIndex:a,lastColumnIndex:s}}function wf(t,e,n=void 0,r=0,o=e.length){if(e.length<=0)return-1;if(r>=o)return r;const i=r+Math.floor((o-r)/2),s=e[i];let a;if(n!=null&&n.atStart){const c=(i===e.length-1?n.lastPosition:e[i+1])-s;a=t-c<s}else a=t<=s;return a?wf(t,e,n,r,i):wf(t,e,n,i+1,o)}function C1e(t,e,n,r=void 0){let o=1;for(;n<e.length&&Math.abs(e[n])<t;)n+=o,o*=2;return wf(t,e,r,Math.floor(n/2),Math.min(n,e.length))}function zD({firstIndex:t,lastIndex:e,bufferBefore:n,bufferAfter:r,minFirstIndex:o,maxLastIndex:i,positions:s,lastSize:a}){const c=s[t]-n,d=s[e]+r,h=wf(c,s,{atStart:!0,lastPosition:s[s.length-1]+a}),p=wf(d,s);return[zy(h,o,i),zy(p,o,i)]}function u5(t,e){return t===e?!0:t.firstRowIndex===e.firstRowIndex&&t.lastRowIndex===e.lastRowIndex&&t.firstColumnIndex===e.firstColumnIndex&&t.lastColumnIndex===e.lastColumnIndex}function Pq(t,e,n){const r=(t[e.firstColumnIndex]??0)-(t[n]??0);return Math.abs(r)}function Mq(t,e,n,r,o,i){if(t)switch(e){case zr.LEFT:e=zr.RIGHT;break;case zr.RIGHT:e=zr.LEFT;break}switch(e){case zr.NONE:return{rowAfter:n,rowBefore:n,columnAfter:r,columnBefore:r};case zr.LEFT:return{rowAfter:0,rowBefore:0,columnAfter:0,columnBefore:i};case zr.RIGHT:return{rowAfter:0,rowBefore:0,columnAfter:i,columnBefore:0};case zr.UP:return{rowAfter:0,rowBefore:o,columnAfter:0,columnBefore:0};case zr.DOWN:return{rowAfter:o,rowBefore:0,columnAfter:0,columnBefore:0};default:throw new Error("unreachable")}}function E1e(t,e,n,r,o){return{direction:zr.NONE,buffer:Mq(t,zr.NONE,e,n,r,o)}}function d5(t,e){return Array.from({length:e-t}).map((n,r)=>t+r)}function x1e({api:t,firstColumnToRender:e,firstRowToRender:n,lastRowToRender:r,visibleRows:o}){let i=e,s=!1;for(;!s&&i>=0;){s=!0;for(let a=n;a<r;a+=1)if(o[a]){const d=o[a].id,h=t.getCellColSpanInfo(d,i);if(h&&h.spannedByColSpan&&h.leftVisibleCellIndex<i){i=h.leftVisibleCellIndex,s=!1;break}}}return i}const _1e={},T1e={initialize:A1e,use:I1e,selectors:_1e};function A1e(t){return{}}function I1e(t,e,n){return{getViewportPageSize:()=>{const o=ps.selectors.dimensions(t.state);if(!o.isReady)return 0;if(e.getRowHeight){const s=Rq.selectors.renderContext(t.state),a=s.lastRowIndex-s.firstRowIndex;return Math.min(a-1,e.rows.length)}const i=Math.floor(o.viewportInnerSize.height/o.rowHeight);return Math.min(i,e.rows.length)}}}const R1e={firstRowIndex:0,lastRowIndex:0},P1e={spannedCells:{},hiddenCells:{},hiddenCellOriginMap:{}},kq={state:t=>t.rowSpanning,hiddenCells:t=>t.rowSpanning.caches.hiddenCells,spannedCells:t=>t.rowSpanning.caches.spannedCells,hiddenCellsOriginMap:t=>t.rowSpanning.caches.hiddenCellOriginMap},gv={initialize:M1e,use:k1e,selectors:kq};function M1e(t){var e;return{rowSpanning:((e=t.initialState)==null?void 0:e.rowSpanning)??{caches:P1e,processedRange:R1e}}}function k1e(t,e,n){return{getHiddenCellsOrigin:()=>kq.hiddenCellsOriginMap(t.state)}}const h5=[ps,Rq,r1e,gv,T1e],O1e=t=>{const e=sa(()=>new TI(h5.map(r=>r.initialize(t)).reduce((r,o)=>Object.assign(r,o),{}))).current,n={};for(const r of h5)Object.assign(n,r.use(e,t,n));return{store:e,api:n}},D1e=typeof window<"u"&&/jsdom|HappyDOM/.test(window.navigator.userAgent),U0=!D1e,L1e=(t,e)=>{const{disableVirtualization:n,autoHeight:r}=e;return U({},t,{virtualization:{enabled:!n&&U0,enabledForColumns:!n&&U0,enabledForRows:!n&&!r&&U0,renderContext:qT}})};function N1e(t,e){const{virtualizer:n}=t.current,{autoHeight:r,disableVirtualization:o}=e,i=d=>{d&&(d=U0),n.store.set("virtualization",U({},n.store.state.virtualization,{enabled:d,enabledForColumns:d,enabledForRows:d&&!r}))};Wt(t,{unstable_setVirtualization:i,unstable_setColumnVirtualization:d=>{d&&(d=U0),n.store.set("virtualization",U({},n.store.state.virtualization,{enabledForColumns:d}))}},"public");const c=n.api.forceUpdateRenderContext;t.current.register("private",{updateRenderContext:c}),Bn(t,"sortedRowsSet",c),Bn(t,"paginationModelChange",c),Bn(t,"columnsChange",c),w.useEffect(()=>{i(!e.disableVirtualization)},[o,r])}const $I=gr(t=>t.virtualization);ct($I,t=>t.enabled);const F1e=ct($I,t=>t.enabledForColumns);ct($I,t=>t.enabledForRows);const Oq=ct($I,t=>t.renderContext),$1e=gr(t=>t.virtualization.renderContext.firstColumnIndex),V1e=gr(t=>t.virtualization.renderContext.lastColumnIndex),z1e=Sn($1e,V1e,(t,e)=>({firstColumnIndex:t,lastColumnIndex:e}));function B1e(t){return JSON.stringify([t.filterModel,t.sortModel,t.start,t.end])}class H1e{constructor({ttl:e=3e5,getKey:n=B1e}){this.cache={},this.ttl=e,this.getKey=n}set(e,n){const r=this.getKey(e),o=Date.now()+this.ttl;this.cache[r]={value:n,expiry:o}}get(e){const n=this.getKey(e),r=this.cache[n];if(r){if(Date.now()>r.expiry){delete this.cache[n];return}return r.value}}clear(){this.cache={}}}class j1e extends Error{constructor(e){super(e.message),this.name="GridGetRowsError",this.params=e.params,this.cause=e.cause}}class U1e extends Error{constructor(e){super(e.message),this.name="GridUpdateRowError",this.params=e.params,this.cause=e.cause}}const G1e=(t,e)=>{const{classes:n}=t,r={root:["scrollbar",`scrollbar--${e}`],content:["scrollbarContent"]};return Ze(r,en,n)},Dq=gn("div")({position:"absolute",display:"inline-block",zIndex:60,"&:hover":{zIndex:70},"--size":"calc(max(var(--DataGrid-scrollbarSize), 14px))"}),W1e=gn(Dq)({width:"var(--size)",height:"calc(var(--DataGrid-hasScrollY) * (100% - var(--DataGrid-topContainerHeight) - var(--DataGrid-bottomContainerHeight) - var(--DataGrid-hasScrollX) * var(--DataGrid-scrollbarSize)))",overflowY:"auto",overflowX:"hidden",outline:0,"& > div":{width:"var(--size)"},top:"var(--DataGrid-topContainerHeight)",right:"0px"}),q1e=gn(Dq)({width:"100%",height:"var(--size)",overflowY:"hidden",overflowX:"auto",outline:0,"& > div":{height:"var(--size)"},bottom:"0px"}),f5=xt(function(e,n){const r=aa(),o=et(),i=w.useRef(!1),s=w.useRef(0),a=w.useRef(null),c=w.useRef(null),d=G1e(o,e.position),h=$e(r,Lr),p=e.position==="vertical"?"height":"width",g=e.position==="vertical"?"scrollTop":"scrollLeft",m=e.position==="vertical"?"top":"left",v=e.position==="vertical"?h.hasScrollX:h.hasScrollY,S=h.minimumSize[p]+(v?h.scrollbarSize:0),x=(e.position==="vertical"?h.viewportInnerSize.height:h.viewportOuterSize.width)*(S/h.viewportOuterSize[p]),O=Mt(()=>{const k=a.current,$=e.scrollPosition.current;if(!k||$[m]===s.current)return;if(s.current=$[m],i.current){i.current=!1;return}i.current=!0;const D=$[m]/S;k[g]=D*x}),M=Mt(()=>{const k=r.current.virtualScrollerRef.current,$=a.current;if(!$)return;if(i.current){i.current=!1;return}i.current=!0;const D=$[g]/x;k[g]=D*S});sI(()=>{const k=r.current.virtualScrollerRef.current,$=a.current,D={passive:!0};return k.addEventListener("scroll",O,D),$.addEventListener("scroll",M,D),()=>{k.removeEventListener("scroll",O,D),$.removeEventListener("scroll",M,D)}}),w.useEffect(()=>{c.current.style.setProperty(p,`${x}px`)},[x,p]);const P=e.position==="vertical"?W1e:q1e;return T.jsx(P,{ref:Tn(n,a),className:d.root,style:e.position==="vertical"&&o.listView?{height:"100%",top:0}:void 0,tabIndex:-1,"aria-hidden":"true",onFocus:k=>{k.target.blur()},children:T.jsx("div",{ref:c,className:d.content})})}),K1e=t=>{const{classes:e,hasScrollX:n,hasPinnedRight:r,loadingOverlayVariant:o,overlayType:i}=t;return Ze({root:["main",r&&"main--hasPinnedRight",(o==="skeleton"||i==="noColumnsOverlay")&&"main--hiddenContent"],scroller:["virtualScroller",n&&"virtualScroller--hasScrollX"]},en,e)},Y1e=gn("div",{name:"MuiDataGrid",slot:"VirtualScroller",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.virtualScroller,n.hasScrollX&&e["virtualScroller--hasScrollX"]]}})({position:"relative",height:"100%",flexGrow:1,overflow:"scroll",scrollbarWidth:"none",display:"flex",flexDirection:"column","&::-webkit-scrollbar":{display:"none"},"@media print":{overflow:"hidden"},zIndex:0}),X1e=t=>t.current.state.dimensions.rightPinnedWidth>0;function Q1e(t){const e=aa(),n=et(),r=$e(e,VSe),o=$e(e,$Se),i=$e(e,X1e),s=$e(e,jSe),{getOverlay:a,overlaysProps:c}=Mxe(),d=U({classes:n.classes,hasScrollX:o,hasPinnedRight:i},c),h=K1e(d),p=e.current.virtualizer.api.useVirtualization().getters,{getContainerProps:g,getScrollerProps:m,getContentProps:v,getScrollbarVerticalProps:S,getScrollbarHorizontalProps:C,getRows:x,getScrollAreaProps:O}=p,M=x(void 0,Zo(e));return T.jsxs(Nxe,U({className:h.root},g(),{ownerState:d,children:[T.jsx(F1,U({scrollDirection:"left"},O())),T.jsx(F1,U({scrollDirection:"right"},O())),T.jsx(F1,U({scrollDirection:"up"},O())),T.jsx(F1,U({scrollDirection:"down"},O())),T.jsxs(Y1e,U({className:h.scroller},m(),{ownerState:d,children:[T.jsxs(Vxe,{children:[!n.listView&&T.jsx(Oxe,{}),T.jsx(n.slots.pinnedRows,{position:"top",virtualScroller:p})]}),a(),T.jsx(Hxe,U({},v(),{children:T.jsxs(Zxe,{role:"rowgroup",children:[M,T.jsx(n.slots.detailPanels,{virtualScroller:p})]})})),s&&T.jsx(Kxe,{rowsLength:M.length}),T.jsx(n.slots.bottomContainer,{children:T.jsx(n.slots.pinnedRows,{position:"bottom",virtualScroller:p})})]})),o&&!n.listView&&T.jsx(f5,U({position:"horizontal"},C())),r&&T.jsx(f5,U({position:"vertical"},S())),t.children]}))}function Z1e(){var e;const t=et();return t.hideFooter?null:T.jsx(t.slots.footer,U({},(e=t.slotProps)==null?void 0:e.footer))}let tk;function NN(){return tk===void 0&&document.createElement("div").focus({get preventScroll(){return tk=!0,!1}}),tk}function J1e({defaultSlots:t,slots:e}){const n=e;if(!n||Object.keys(n).length===0)return t;const r=U({},t);return Object.keys(n).forEach(o=>{const i=o;n[i]!==void 0&&(r[i]=n[i])}),r}const e_e=t=>{const e=t.match(/^__row_group_by_columns_group_(.*)__$/);return e?e[1]:null},t_e=t=>t===QW||e_e(t)!==null,Lq=(t,e)=>{if(t)if(e){if(t===nn.LEFT)return"right";if(t===nn.RIGHT)return"left"}else{if(t===nn.LEFT)return"left";if(t===nn.RIGHT)return"right"}};function VI(t,e,n,r){const o=Lq(n,e);return!o||r===void 0||(t[o]=r),t}const n_e=["column","row","rowId","rowNode","align","children","colIndex","width","className","style","colSpan","disableDragEvents","isNotVisible","pinnedOffset","pinnedPosition","showRightBorder","showLeftBorder","onClick","onDoubleClick","onMouseDown","onMouseUp","onMouseOver","onKeyDown","onKeyUp","onDragEnter","onDragOver"],r_e=["changeReason","unstable_updateValueOnRender"];nn.LEFT+"",rh.LEFT,nn.RIGHT+"",rh.RIGHT,nn.NONE+"",nn.VIRTUAL+"";const o_e=t=>{const{align:e,showLeftBorder:n,showRightBorder:r,pinnedPosition:o,isEditable:i,isSelected:s,isSelectionMode:a,classes:c}=t,d={root:["cell",`cell--text${Ie(e)}`,s&&"selected",i&&"cell--editable",n&&"cell--withLeftBorder",r&&"cell--withRightBorder",o===nn.LEFT&&"cell--pinnedLeft",o===nn.RIGHT&&"cell--pinnedRight",a&&!i&&"cell--selectionMode"]};return Ze(d,en,c)},i_e=xt(function(e,n){var it,Et,gt;const{column:r,row:o,rowId:i,rowNode:s,align:a,colIndex:c,width:d,className:h,style:p,colSpan:g,disableDragEvents:m,isNotVisible:v,pinnedOffset:S,pinnedPosition:C,showRightBorder:x,showLeftBorder:O,onClick:M,onDoubleClick:P,onMouseDown:k,onMouseUp:$,onMouseOver:D,onKeyDown:I,onKeyUp:A,onDragEnter:N,onDragOver:F}=e,R=Xe(e,n_e),V=aa(),q=et(),K=Ni(),z=r.field,H=$e(V,e1e,{rowId:i,field:z}),re=RI().hooks.useCellAggregationResult(i,z),j=H?In.Edit:In.View,X=V.current.getCellParamsForRow(i,z,o,{colDef:r,cellMode:j,rowNode:s,tabIndex:$e(V,()=>{const mt=ON(V);return mt&&mt.field===z&&mt.id===i?0:-1}),hasFocus:$e(V,()=>{const mt=fs(V);return(mt==null?void 0:mt.id)===i&&mt.field===z})});X.api=V.current,re&&(X.value=re.value,X.formattedValue=r.valueFormatter?r.valueFormatter(X.value,o,r,V):X.value);const ne=$e(V,()=>V.current.unstable_applyPipeProcessors("isCellSelected",!1,{id:i,field:z})),ie=V.current.virtualizer.store,se=rc(ie,gv.selectors.hiddenCells),ce=rc(ie,gv.selectors.spannedCells),{hasFocus:ae,isEditable:ge=!1,value:Ee}=X,Te=r.type==="actions"&&((it=r.getActions)==null?void 0:it.call(r,V.current.getRowParams(i)).some(mt=>!mt.props.disabled)),le=(j==="view"||!ge)&&!Te?X.tabIndex:-1,{classes:pe,getCellClassName:ye}=q,Ce=[$e(V,()=>V.current.unstable_applyPipeProcessors("cellClassName",[],{id:i,field:z}).filter(Boolean).join(" "))];r.cellClassName&&Ce.push(typeof r.cellClassName=="function"?r.cellClassName(X):r.cellClassName),r.display==="flex"&&Ce.push(ee["cell--flex"]),ye&&Ce.push(ye(X));const Pe=X.formattedValue??Ee,ze=w.useRef(null),Ke=Tn(n,ze),ke=w.useRef(null),ot=q.cellSelection??!1,Ye={align:a,showLeftBorder:O,showRightBorder:x,isEditable:ge,classes:q.classes,pinnedPosition:C,isSelected:ne,isSelectionMode:ot},at=o_e(Ye),he=w.useCallback(mt=>Ut=>{const Ot=V.current.getCellParams(i,z||"");V.current.publishEvent(mt,Ot,Ut),$&&$(Ut)},[V,z,$,i]),Ue=w.useCallback(mt=>Ut=>{const Ot=V.current.getCellParams(i,z||"");V.current.publishEvent(mt,Ot,Ut),k&&k(Ut)},[V,z,k,i]),qe=w.useCallback((mt,Ut)=>Ot=>{if(!V.current.getRow(i))return;const mn=V.current.getCellParams(i,z||"");V.current.publishEvent(mt,mn,Ot),Ut&&Ut(Ot)},[V,z,i]),nt=((Et=se[i])==null?void 0:Et[c])??!1,Je=((gt=ce[i])==null?void 0:gt[c])??1,Qe=w.useMemo(()=>{if(v)return{padding:0,opacity:0,width:0,height:0,border:0};const mt=VI(U({"--width":`${d}px`},p),K,C,S),Ut=C===nn.LEFT,Ot=C===nn.RIGHT;return Je>1&&(mt.height=`calc(var(--height) * ${Je})`,mt.zIndex=10,(Ut||Ot)&&(mt.zIndex=40)),mt},[d,v,p,S,C,K,Je]);if(w.useEffect(()=>{if(!ae||j===In.Edit)return;const mt=Br(V.current.rootElementRef.current);if(ze.current&&!ze.current.contains(mt.activeElement)){const Ut=ze.current.querySelector('[tabindex="0"]'),Ot=ke.current||Ut||ze.current;if(NN())Ot.focus({preventScroll:!0});else{const mn=V.current.getScrollPosition();Ot.focus(),V.current.scroll(mn)}}},[ae,j,V]),nt)return T.jsx("div",{"data-colindex":c,role:"presentation",style:U({width:"var(--width)"},Qe)});let dt=R.onFocus,ht,Ge;if(H===null&&r.renderCell&&(ht=r.renderCell(X)),H!==null&&r.renderEditCell){const mt=V.current.getRowWithUpdatedValues(i,r.field),Ut=Xe(H,r_e),Ot=r.valueFormatter?r.valueFormatter(H.value,mt,r,V):X.formattedValue,mn=U({},X,{row:mt,formattedValue:Ot},Ut);ht=r.renderEditCell(mn),Ce.push(ee["cell--editing"]),Ce.push(pe==null?void 0:pe["cell--editing"])}if(ht===void 0){const mt=Pe==null?void 0:Pe.toString();ht=mt,Ge=mt}w.isValidElement(ht)&&Te&&(ht=w.cloneElement(ht,{focusElementRef:ke}));const De=m?null:{onDragEnter:qe("cellDragEnter",N),onDragOver:qe("cellDragOver",F)};return T.jsx("div",U({className:Ne(at.root,Ce,h),role:"gridcell","data-field":z,"data-colindex":c,"aria-colindex":c+1,"aria-colspan":g,"aria-rowspan":Je,style:Qe,title:Ge,tabIndex:le,onClick:qe("cellClick",M),onDoubleClick:qe("cellDoubleClick",P),onMouseOver:qe("cellMouseOver",D),onMouseDown:Ue("cellMouseDown"),onMouseUp:he("cellMouseUp"),onKeyDown:qe("cellKeyDown",I),onKeyUp:qe("cellKeyUp",A)},De,R,{onFocus:dt,ref:Ke,children:ht}))}),s_e=xd(i_e),a_e=["field","type","align","width","height","empty","style","className"],p5="1.3em",l_e="1.2em",g5=[40,80],c_e={number:[40,60],string:[40,80],date:[40,60],dateTime:[60,80],singleSelect:[40,80]},u_e=t=>{const{align:e,classes:n,empty:r}=t,o={root:["cell","cellSkeleton",`cell--text${e?Ie(e):"Left"}`,r&&"cellEmpty"]};return Ze(o,en,n)},d_e=RCe(12345);function h_e(t){const{field:e,type:n,align:r,width:o,height:i,empty:s=!1,style:a,className:c}=t,d=Xe(t,a_e),h=et(),p={classes:h.classes,align:r,empty:s},g=u_e(p),m=w.useMemo(()=>{if(n==="boolean"||n==="actions")return{variant:"circular",width:p5,height:p5};const[S,C]=n?c_e[n]??g5:g5;return{variant:"text",width:`${Math.round(d_e(S,C))}%`,height:l_e}},[n]);return T.jsx("div",U({"data-field":e,className:Ne(g.root,c),style:U({height:i,maxWidth:o,minWidth:o},a)},d,{children:!s&&T.jsx(h.slots.baseSkeleton,U({},m))}))}const f_e=xd(h_e),p_e=10,$1=-5,cy=1,m5={width:3,rx:1.5,x:10.5},g_e="/* emotion-disable-server-rendering-unsafe-selector-warning-please-do-not-use-this-the-warning-exists-for-a-reason */",m_e=t=>t.current.state.dimensions.hasScrollX&&(!t.current.state.dimensions.hasScrollY||t.current.state.dimensions.scrollbarSize===0),y_e=Se("div",{name:"MuiDataGrid",slot:"Root",overridesResolver:(t,e)=>[e.root,{[`&.${ee.autoHeight}`]:e.autoHeight},{[`&.${ee.autosizing}`]:e.autosizing},{[`&.${ee["root--densityStandard"]}`]:e["root--densityStandard"]},{[`&.${ee["root--densityComfortable"]}`]:e["root--densityComfortable"]},{[`&.${ee["root--densityCompact"]}`]:e["root--densityCompact"]},{[`&.${ee["root--disableUserSelection"]}`]:e["root--disableUserSelection"]},{[`&.${ee["root--noToolbar"]}`]:e["root--noToolbar"]},{[`&.${ee.withVerticalBorder}`]:e.withVerticalBorder},{[`& .${ee.actionsCell}`]:e.actionsCell},{[`& .${ee.booleanCell}`]:e.booleanCell},{[`& .${ee.cell}`]:e.cell},{[`& .${ee["cell--editable"]}`]:e["cell--editable"]},{[`& .${ee["cell--editing"]}`]:e["cell--editing"]},{[`& .${ee["cell--flex"]}`]:e["cell--flex"]},{[`& .${ee["cell--pinnedLeft"]}`]:e["cell--pinnedLeft"]},{[`& .${ee["cell--pinnedRight"]}`]:e["cell--pinnedRight"]},{[`& .${ee["cell--rangeBottom"]}`]:e["cell--rangeBottom"]},{[`& .${ee["cell--rangeLeft"]}`]:e["cell--rangeLeft"]},{[`& .${ee["cell--rangeRight"]}`]:e["cell--rangeRight"]},{[`& .${ee["cell--rangeTop"]}`]:e["cell--rangeTop"]},{[`& .${ee["cell--selectionMode"]}`]:e["cell--selectionMode"]},{[`& .${ee["cell--textCenter"]}`]:e["cell--textCenter"]},{[`& .${ee["cell--textLeft"]}`]:e["cell--textLeft"]},{[`& .${ee["cell--textRight"]}`]:e["cell--textRight"]},{[`& .${ee["cell--withLeftBorder"]}`]:e["cell--withLeftBorder"]},{[`& .${ee["cell--withRightBorder"]}`]:e["cell--withRightBorder"]},{[`& .${ee.cellCheckbox}`]:e.cellCheckbox},{[`& .${ee.cellEmpty}`]:e.cellEmpty},{[`& .${ee.cellOffsetLeft}`]:e.cellOffsetLeft},{[`& .${ee.cellSkeleton}`]:e.cellSkeleton},{[`& .${ee.checkboxInput}`]:e.checkboxInput},{[`& .${ee.columnHeader}`]:e.columnHeader},{[`& .${ee["columnHeader--alignCenter"]}`]:e["columnHeader--alignCenter"]},{[`& .${ee["columnHeader--alignLeft"]}`]:e["columnHeader--alignLeft"]},{[`& .${ee["columnHeader--alignRight"]}`]:e["columnHeader--alignRight"]},{[`& .${ee["columnHeader--dragging"]}`]:e["columnHeader--dragging"]},{[`& .${ee["columnHeader--emptyGroup"]}`]:e["columnHeader--emptyGroup"]},{[`& .${ee["columnHeader--filledGroup"]}`]:e["columnHeader--filledGroup"]},{[`& .${ee["columnHeader--filtered"]}`]:e["columnHeader--filtered"]},{[`& .${ee["columnHeader--last"]}`]:e["columnHeader--last"]},{[`& .${ee["columnHeader--lastUnpinned"]}`]:e["columnHeader--lastUnpinned"]},{[`& .${ee["columnHeader--moving"]}`]:e["columnHeader--moving"]},{[`& .${ee["columnHeader--numeric"]}`]:e["columnHeader--numeric"]},{[`& .${ee["columnHeader--pinnedLeft"]}`]:e["columnHeader--pinnedLeft"]},{[`& .${ee["columnHeader--pinnedRight"]}`]:e["columnHeader--pinnedRight"]},{[`& .${ee["columnHeader--siblingFocused"]}`]:e["columnHeader--siblingFocused"]},{[`& .${ee["columnHeader--sortable"]}`]:e["columnHeader--sortable"]},{[`& .${ee["columnHeader--sorted"]}`]:e["columnHeader--sorted"]},{[`& .${ee["columnHeader--withLeftBorder"]}`]:e["columnHeader--withLeftBorder"]},{[`& .${ee["columnHeader--withRightBorder"]}`]:e["columnHeader--withRightBorder"]},{[`& .${ee.columnHeaderCheckbox}`]:e.columnHeaderCheckbox},{[`& .${ee.columnHeaderDraggableContainer}`]:e.columnHeaderDraggableContainer},{[`& .${ee.columnHeaderTitleContainer}`]:e.columnHeaderTitleContainer},{[`& .${ee.columnHeaderTitleContainerContent}`]:e.columnHeaderTitleContainerContent},{[`& .${ee.columnSeparator}`]:e.columnSeparator},{[`& .${ee["columnSeparator--resizable"]}`]:e["columnSeparator--resizable"]},{[`& .${ee["columnSeparator--resizing"]}`]:e["columnSeparator--resizing"]},{[`& .${ee["columnSeparator--sideLeft"]}`]:e["columnSeparator--sideLeft"]},{[`& .${ee["columnSeparator--sideRight"]}`]:e["columnSeparator--sideRight"]},{[`& .${ee["container--bottom"]}`]:e["container--bottom"]},{[`& .${ee["container--top"]}`]:e["container--top"]},{[`& .${ee.detailPanelToggleCell}`]:e.detailPanelToggleCell},{[`& .${ee["detailPanelToggleCell--expanded"]}`]:e["detailPanelToggleCell--expanded"]},{[`& .${ee.editBooleanCell}`]:e.editBooleanCell},{[`& .${ee.filterIcon}`]:e.filterIcon},{[`& .${ee["filler--borderBottom"]}`]:e["filler--borderBottom"]},{[`& .${ee["filler--pinnedLeft"]}`]:e["filler--pinnedLeft"]},{[`& .${ee["filler--pinnedRight"]}`]:e["filler--pinnedRight"]},{[`& .${ee.groupingCriteriaCell}`]:e.groupingCriteriaCell},{[`& .${ee.groupingCriteriaCellLoadingContainer}`]:e.groupingCriteriaCellLoadingContainer},{[`& .${ee.groupingCriteriaCellToggle}`]:e.groupingCriteriaCellToggle},{[`& .${ee.headerFilterRow}`]:e.headerFilterRow},{[`& .${ee.iconSeparator}`]:e.iconSeparator},{[`& .${ee.menuIcon}`]:e.menuIcon},{[`& .${ee.menuIconButton}`]:e.menuIconButton},{[`& .${ee.menuList}`]:e.menuList},{[`& .${ee.menuOpen}`]:e.menuOpen},{[`& .${ee.overlayWrapperInner}`]:e.overlayWrapperInner},{[`& .${ee.pinnedRows}`]:e.pinnedRows},{[`& .${ee["pinnedRows--bottom"]}`]:e["pinnedRows--bottom"]},{[`& .${ee["pinnedRows--top"]}`]:e["pinnedRows--top"]},{[`& .${ee.row}`]:e.row},{[`& .${ee["row--borderBottom"]}`]:e["row--borderBottom"]},{[`& .${ee["row--detailPanelExpanded"]}`]:e["row--detailPanelExpanded"]},{[`& .${ee["row--dragging"]}`]:e["row--dragging"]},{[`& .${ee["row--dynamicHeight"]}`]:e["row--dynamicHeight"]},{[`& .${ee["row--editable"]}`]:e["row--editable"]},{[`& .${ee["row--editing"]}`]:e["row--editing"]},{[`& .${ee["row--firstVisible"]}`]:e["row--firstVisible"]},{[`& .${ee["row--lastVisible"]}`]:e["row--lastVisible"]},{[`& .${ee.rowReorderCell}`]:e.rowReorderCell},{[`& .${ee["rowReorderCell--draggable"]}`]:e["rowReorderCell--draggable"]},{[`& .${ee.rowReorderCellContainer}`]:e.rowReorderCellContainer},{[`& .${ee.rowReorderCellPlaceholder}`]:e.rowReorderCellPlaceholder},{[`& .${ee.rowSkeleton}`]:e.rowSkeleton},{[`& .${ee.scrollbar}`]:e.scrollbar},{[`& .${ee["scrollbar--horizontal"]}`]:e["scrollbar--horizontal"]},{[`& .${ee["scrollbar--vertical"]}`]:e["scrollbar--vertical"]},{[`& .${ee.scrollbarFiller}`]:e.scrollbarFiller},{[`& .${ee["scrollbarFiller--borderBottom"]}`]:e["scrollbarFiller--borderBottom"]},{[`& .${ee["scrollbarFiller--borderTop"]}`]:e["scrollbarFiller--borderTop"]},{[`& .${ee["scrollbarFiller--header"]}`]:e["scrollbarFiller--header"]},{[`& .${ee["scrollbarFiller--pinnedRight"]}`]:e["scrollbarFiller--pinnedRight"]},{[`& .${ee.sortIcon}`]:e.sortIcon},{[`& .${ee.treeDataGroupingCell}`]:e.treeDataGroupingCell},{[`& .${ee.treeDataGroupingCellLoadingContainer}`]:e.treeDataGroupingCellLoadingContainer},{[`& .${ee.treeDataGroupingCellToggle}`]:e.treeDataGroupingCellToggle},{[`& .${ee.withBorderColor}`]:e.withBorderColor},{[`& .${ee["row--dropAbove"]}`]:e["row--dropAbove"]},{[`& .${ee["row--dropBelow"]}`]:e["row--dropBelow"]},{[`& .${ee["row--beingDragged"]}`]:e["row--beingDragged"]}]})(()=>{const t=aa(),e=$e(t,m_e),n=tt.colors.background.base,r=tt.header.background.base,o=tt.cell.background.pinned,i=b_e(tt.colors.interactive.hover),s=tt.colors.interactive.hoverOpacity,a=tt.colors.interactive.selected,c=tt.colors.interactive.selectedOpacity,d=a,h=`calc(${c} + ${s})`,p=eh(n,i,s),g=eh(n,a,c),m=eh(n,d,h),v=eh(o,i,s),S=eh(o,a,c),C=eh(o,d,h),x=D=>({[`& .${ee["cell--pinnedLeft"]}, & .${ee["cell--pinnedRight"]}`]:{backgroundColor:D,"&.Mui-selected":{backgroundColor:eh(D,g,c),"&:hover":{backgroundColor:eh(D,m,h)}}}}),O=x(v),M=x(S),P=x(C),k={backgroundColor:g,"&:hover":{backgroundColor:m,"@media (hover: none)":{backgroundColor:g}}};return{"--unstable_DataGrid-radius":tt.radius.base,"--unstable_DataGrid-headWeight":tt.typography.fontWeight.medium,"--DataGrid-rowBorderColor":tt.colors.border.base,"--DataGrid-cellOffsetMultiplier":2,"--DataGrid-width":"0px","--DataGrid-hasScrollX":"0","--DataGrid-hasScrollY":"0","--DataGrid-scrollbarSize":"10px","--DataGrid-rowWidth":"0px","--DataGrid-columnsTotalWidth":"0px","--DataGrid-leftPinnedWidth":"0px","--DataGrid-rightPinnedWidth":"0px","--DataGrid-headerHeight":"0px","--DataGrid-headersTotalHeight":"0px","--DataGrid-topContainerHeight":"0px","--DataGrid-bottomContainerHeight":"0px",flex:1,boxSizing:"border-box",position:"relative",borderWidth:"1px",borderStyle:"solid",borderColor:tt.colors.border.base,borderRadius:"var(--unstable_DataGrid-radius)",backgroundColor:tt.colors.background.base,color:tt.colors.foreground.base,font:tt.typography.font.body,outline:"none",height:"100%",display:"flex",minWidth:0,minHeight:0,flexDirection:"column",overflow:"hidden",overflowAnchor:"none",transform:"translate(0, 0)",[`.${ee.main} > *:first-child${g_e}`]:{borderTopLeftRadius:"var(--unstable_DataGrid-radius)",borderTopRightRadius:"var(--unstable_DataGrid-radius)"},[`&.${ee.autoHeight}`]:{height:"auto"},[`&.${ee.autosizing}`]:{[`& .${ee.columnHeaderTitleContainerContent} > *`]:{overflow:"visible !important"},"@media (hover: hover)":{[`& .${ee.menuIcon}`]:{width:"0 !important",visibility:"hidden !important"}},[`& .${ee.cell}`]:{overflow:"visible !important",whiteSpace:"nowrap",minWidth:"max-content !important",maxWidth:"max-content !important"},[`& .${ee.groupingCriteriaCell}`]:{width:"unset"},[`& .${ee.treeDataGroupingCell}`]:{width:"unset"}},[`&.${ee.withSidePanel}`]:{flexDirection:"row"},[`& .${ee.mainContent}`]:{display:"flex",flexDirection:"column",overflow:"hidden",flex:1},[`& .${ee.columnHeader}, & .${ee.cell}`]:{WebkitTapHighlightColor:"transparent",padding:"0 10px",boxSizing:"border-box"},[`& .${ee.columnHeader}:focus-within, & .${ee.cell}:focus-within`]:{outline:`solid ${Nq(tt.colors.interactive.focus,.5)} ${cy}px`,outlineOffset:cy*-1},[`& .${ee.columnHeader}:focus, & .${ee.cell}:focus`]:{outline:`solid ${tt.colors.interactive.focus} ${cy}px`,outlineOffset:cy*-1},[`& .${ee.columnHeader}:focus,
      & .${ee["columnHeader--withLeftBorder"]},
      & .${ee["columnHeader--withRightBorder"]},
      & .${ee["columnHeader--siblingFocused"]},
      & .${ee["virtualScroller--hasScrollX"]} .${ee["columnHeader--lastUnpinned"]},
      & .${ee["virtualScroller--hasScrollX"]} .${ee["columnHeader--last"]}
      `]:{[`& .${ee.columnSeparator}`]:{opacity:0},"@media (hover: none)":{[`& .${ee["columnSeparator--resizable"]}`]:{opacity:1}},[`& .${ee["columnSeparator--resizable"]}:hover`]:{opacity:1}},[`&.${ee["root--noToolbar"]} [aria-rowindex="1"] [aria-colindex="1"]`]:{borderTopLeftRadius:"calc(var(--unstable_DataGrid-radius) - 1px)"},[`&.${ee["root--noToolbar"]} [aria-rowindex="1"] .${ee["columnHeader--last"]}`]:{borderTopRightRadius:e?"calc(var(--unstable_DataGrid-radius) - 1px)":void 0},[`& .${ee.columnHeaderCheckbox}, & .${ee.cellCheckbox}`]:{padding:0,justifyContent:"center",alignItems:"center"},[`& .${ee.columnHeader}`]:{position:"relative",display:"flex",alignItems:"center",backgroundColor:r},[`& .${ee["columnHeader--filter"]}`]:{paddingTop:8,paddingBottom:8,paddingRight:5,minHeight:"min-content",overflow:"hidden"},[`& .${ee["virtualScroller--hasScrollX"]} .${ee["columnHeader--last"]}`]:{overflow:"hidden"},[`& .${ee["pivotPanelField--sorted"]} .${ee.iconButtonContainer},
      & .${ee["columnHeader--sorted"]} .${ee.iconButtonContainer},
      & .${ee["columnHeader--filtered"]} .${ee.iconButtonContainer}`]:{visibility:"visible",width:"auto"},[`& .${ee.pivotPanelField}:not(.${ee["pivotPanelField--sorted"]}) .${ee.sortButton},
      & .${ee.columnHeader}:not(.${ee["columnHeader--sorted"]}) .${ee.sortButton}`]:{opacity:0,transition:tt.transition(["opacity"],{duration:tt.transitions.duration.short})},[`& .${ee.columnHeaderTitleContainer}`]:{display:"flex",alignItems:"center",gap:tt.spacing(.25),minWidth:0,flex:1,whiteSpace:"nowrap",overflow:"hidden"},[`& .${ee.columnHeaderTitleContainerContent}`]:{overflow:"hidden",display:"flex",alignItems:"center"},[`& .${ee["columnHeader--filledGroup"]} .${ee.columnHeaderTitleContainer}`]:{borderBottomWidth:"1px",borderBottomStyle:"solid",boxSizing:"border-box"},[`& .${ee.sortIcon}, & .${ee.filterIcon}`]:{fontSize:"inherit"},[`& .${ee["columnHeader--sortable"]}`]:{cursor:"pointer"},[`& .${ee["columnHeader--alignCenter"]} .${ee.columnHeaderTitleContainer}`]:{justifyContent:"center"},[`& .${ee["columnHeader--alignRight"]} .${ee.columnHeaderDraggableContainer}, & .${ee["columnHeader--alignRight"]} .${ee.columnHeaderTitleContainer}`]:{flexDirection:"row-reverse"},[`& .${ee["columnHeader--alignCenter"]} .${ee.menuIcon}`]:{marginLeft:"auto"},[`& .${ee["columnHeader--alignRight"]} .${ee.menuIcon}`]:{marginRight:"auto",marginLeft:-5},[`& .${ee["columnHeader--moving"]}`]:{backgroundColor:p},[`& .${ee["columnHeader--pinnedLeft"]}, & .${ee["columnHeader--pinnedRight"]}`]:{position:"sticky",zIndex:40,background:tt.header.background.base},[`& .${ee.columnSeparator}`]:{position:"absolute",overflow:"hidden",zIndex:30,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",maxWidth:p_e,color:tt.colors.border.base},[`& .${ee.columnHeaders}`]:{width:"var(--DataGrid-rowWidth)",backgroundColor:r},"@media (hover: hover)":{[`& .${ee.columnHeader}:hover`]:{[`& .${ee.menuIcon}`]:{width:"auto",visibility:"visible"},[`& .${ee.iconButtonContainer}`]:{visibility:"visible",width:"auto"}},[`& .${ee.columnHeader}:not(.${ee["columnHeader--sorted"]}):hover .${ee.sortButton},
        & .${ee.pivotPanelField}:not(.${ee["pivotPanelField--sorted"]}):hover .${ee.sortButton},
        & .${ee.pivotPanelField}:not(.${ee["pivotPanelField--sorted"]}) .${ee.sortButton}:focus-visible`]:{opacity:.5}},"@media (hover: none)":{[`& .${ee.columnHeader} .${ee.menuIcon}`]:{width:"auto",visibility:"visible"},[`& .${ee.columnHeader}:focus,
        & .${ee["columnHeader--siblingFocused"]}`]:{[`.${ee["columnSeparator--resizable"]}`]:{color:tt.colors.foreground.accent}},[`& .${ee.pivotPanelField}:not(.${ee["pivotPanelField--sorted"]}) .${ee.sortButton}`]:{opacity:.5}},[`& .${ee["columnHeader--withLeftBorder"]} .${ee["columnSeparator--sideLeft"]}:not(.${ee["columnSeparator--resizable"]}), & .${ee["columnHeader--withRightBorder"]} .${ee["columnSeparator--sideRight"]}:not(.${ee["columnSeparator--resizable"]})`]:{display:"none"},[`& .${ee["columnSeparator--sideLeft"]}`]:{left:$1},[`& .${ee["columnSeparator--sideRight"]}`]:{right:$1},[`& .${ee["columnHeader--withRightBorder"]} .${ee["columnSeparator--sideLeft"]}`]:{left:$1-.5},[`& .${ee["columnHeader--withRightBorder"]} .${ee["columnSeparator--sideRight"]}`]:{right:$1-.5},[`& .${ee["columnSeparator--resizable"]}`]:{cursor:"col-resize",touchAction:"none",[`&.${ee["columnSeparator--resizing"]}`]:{color:tt.colors.foreground.accent},"@media (hover: none)":{[`& .${ee.iconSeparator} rect`]:m5},"@media (hover: hover)":{"&:hover":{color:tt.colors.foreground.accent,[`& .${ee.iconSeparator} rect`]:m5}},"& svg":{pointerEvents:"none"}},[`& .${ee.iconSeparator}`]:{color:"inherit",transition:tt.transition(["color","width"],{duration:tt.transitions.duration.short})},[`& .${ee.menuIcon}`]:{width:0,visibility:"hidden",fontSize:20,marginRight:-5,display:"flex",alignItems:"center"},[`.${ee.menuOpen}`]:{visibility:"visible",width:"auto"},[`& .${ee.headerFilterRow}`]:{[`& .${ee.columnHeader}`]:{boxSizing:"border-box",borderBottom:"1px solid var(--DataGrid-rowBorderColor)"}},[`& .${ee["row--borderBottom"]} .${ee.columnHeader},
      & .${ee["row--borderBottom"]} .${ee.filler},
      & .${ee["row--borderBottom"]} .${ee.scrollbarFiller}`]:{borderBottom:"1px solid var(--DataGrid-rowBorderColor)"},[`& .${ee["row--borderBottom"]} .${ee.cell}`]:{borderBottom:"1px solid var(--rowBorderColor)"},[`.${ee.row}`]:{display:"flex",width:"var(--DataGrid-rowWidth)",breakInside:"avoid","--rowBorderColor":"var(--DataGrid-rowBorderColor)",[`&.${ee["row--firstVisible"]}`]:{"--rowBorderColor":"transparent"},"&:hover":{backgroundColor:p,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${ee.rowSkeleton}:hover`]:{backgroundColor:"transparent"},"&.Mui-selected":k},[`& .${ee.cell}`]:{flex:"0 0 auto",height:"var(--height)",width:"var(--width)",lineHeight:"calc(var(--height) - 1px)",boxSizing:"border-box",borderTop:"1px solid var(--rowBorderColor)",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis","&.Mui-selected":k},[`& .${ee["virtualScrollerContent--overflowed"]} .${ee["row--lastVisible"]} .${ee.cell}`]:{borderTopColor:"transparent"},[`& .${ee.pinnedRows} .${ee.row}, .${ee.aggregationRowOverlayWrapper} .${ee.row}`]:{backgroundColor:o,"&:hover":{backgroundColor:v}},[`& .${ee["pinnedRows--top"]} :first-of-type`]:{[`& .${ee.cell}, .${ee.scrollbarFiller}`]:{borderTop:"none"}},[`&.${ee["root--disableUserSelection"]}`]:{userSelect:"none"},[`& .${ee["row--dynamicHeight"]} > .${ee.cell}`]:{whiteSpace:"initial",lineHeight:"inherit"},[`& .${ee.cellEmpty}`]:{flex:1,padding:0,height:"unset"},[`& .${ee.cell}.${ee["cell--selectionMode"]}`]:{cursor:"default"},[`& .${ee.cell}.${ee["cell--editing"]}`]:{padding:1,display:"flex",boxShadow:tt.shadows.base,backgroundColor:tt.colors.background.overlay,"&:focus-within":{outline:`${cy}px solid ${tt.colors.interactive.focus}`,outlineOffset:cy*-1}},[`& .${ee["cell--editing"]}`]:{"& .MuiInputBase-root":{height:"100%"}},[`& .${ee["row--editing"]}`]:{boxShadow:tt.shadows.base},[`& .${ee["row--editing"]} .${ee.cell}`]:{boxShadow:"none",backgroundColor:tt.colors.background.overlay},[`& .${ee.editBooleanCell}`]:{display:"flex",height:"100%",width:"100%",alignItems:"center",justifyContent:"center"},[`& .${ee.booleanCell}[data-value="true"]`]:{color:tt.colors.foreground.muted},[`& .${ee.booleanCell}[data-value="false"]`]:{color:tt.colors.foreground.disabled},[`& .${ee.actionsCell}`]:{display:"inline-flex",alignItems:"center",gridGap:tt.spacing(1)},[`& .${ee.rowReorderCell}`]:{display:"inline-flex",flex:1,alignItems:"center",justifyContent:"center",opacity:tt.colors.interactive.disabledOpacity},[`& .${ee["rowReorderCell--draggable"]}`]:{cursor:"grab",opacity:1},[`& .${ee.rowReorderCellContainer}`]:{padding:0,display:"flex",alignItems:"stretch"},[`.${ee.withBorderColor}`]:{borderColor:tt.colors.border.base},[`& .${ee["cell--withLeftBorder"]}, & .${ee["columnHeader--withLeftBorder"]}`]:{borderLeftColor:"var(--DataGrid-rowBorderColor)",borderLeftWidth:"1px",borderLeftStyle:"solid"},[`& .${ee["cell--withRightBorder"]}, & .${ee["columnHeader--withRightBorder"]}`]:{borderRightColor:"var(--DataGrid-rowBorderColor)",borderRightWidth:"1px",borderRightStyle:"solid"},[`& .${ee["cell--flex"]}`]:{display:"flex",alignItems:"center",lineHeight:"inherit"},[`& .${ee["cell--textLeft"]}`]:{textAlign:"left",justifyContent:"flex-start"},[`& .${ee["cell--textRight"]}`]:{textAlign:"right",justifyContent:"flex-end"},[`& .${ee["cell--textCenter"]}`]:{textAlign:"center",justifyContent:"center"},[`& .${ee["cell--pinnedLeft"]}, & .${ee["cell--pinnedRight"]}`]:{position:"sticky",zIndex:30,background:tt.cell.background.pinned,"&.Mui-selected":{backgroundColor:S}},[`& .${ee.row}`]:{"&:hover":O,"&.Mui-selected":M,"&.Mui-selected:hover":P},[`& .${ee.cellOffsetLeft}`]:{flex:"0 0 auto",display:"inline-block"},[`& .${ee.cellSkeleton}`]:{flex:"0 0 auto",height:"100%",display:"inline-flex",alignItems:"center"},[`& .${ee.columnHeaderDraggableContainer}`]:{display:"flex",width:"100%",height:"100%"},[`& .${ee.rowReorderCellPlaceholder}`]:{display:"none"},[`& .${ee["columnHeader--dragging"]}`]:{background:tt.colors.background.overlay,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",opacity:tt.colors.interactive.disabledOpacity},[`& .${ee["row--dragging"]}`]:{background:tt.colors.background.overlay,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",border:"1px solid var(--DataGrid-rowBorderColor)",color:tt.colors.foreground.base,transform:"translateZ(0)",[`& .${ee.rowReorderCellPlaceholder}`]:{padding:"0 6px",display:"flex"}},[`& .${ee.treeDataGroupingCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${ee.treeDataGroupingCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:tt.spacing(2)},[`& .${ee.treeDataGroupingCellLoadingContainer}, .${ee.groupingCriteriaCellLoadingContainer}`]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},[`& .${ee.groupingCriteriaCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${ee.groupingCriteriaCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:tt.spacing(2)},[`& .${ee.columnHeaders} .${ee.scrollbarFiller}`]:{backgroundColor:r},[`.${ee.scrollbarFiller}`]:{minWidth:"calc(var(--DataGrid-hasScrollY) * var(--DataGrid-scrollbarSize))",alignSelf:"stretch",[`&.${ee["scrollbarFiller--borderTop"]}`]:{borderTop:"1px solid var(--DataGrid-rowBorderColor)"},[`&.${ee["scrollbarFiller--borderBottom"]}`]:{borderBottom:"1px solid var(--DataGrid-rowBorderColor)"},[`&.${ee["scrollbarFiller--pinnedRight"]}`]:{backgroundColor:tt.cell.background.pinned,position:"sticky",zIndex:40,right:0}},[`& .${ee.filler}`]:{flex:"1 0 auto"},[`& .${ee["filler--borderBottom"]}`]:{borderBottom:"1px solid var(--DataGrid-rowBorderColor)"},[`& .${ee.columnHeaders} .${ee.filler}`]:{backgroundColor:r},[`& .${ee["main--hiddenContent"]}`]:{[`& .${ee.virtualScrollerContent}`]:{position:"fixed",visibility:"hidden"},[`& .${ee["scrollbar--vertical"]}, & .${ee.pinnedRows}, & .${ee.virtualScroller} > .${ee.filler}`]:{display:"none"}},[`& .${ee["row--dropAbove"]}`]:{position:"relative","&::before":{pointerEvents:"none",content:'""',position:"absolute",top:0,left:0,width:"100%",height:"2px",backgroundColor:tt.colors.interactive.selected}},[`& .${ee["row--dropBelow"]}`]:{position:"relative","&::after":{zIndex:100,pointerEvents:"none",content:'""',position:"absolute",bottom:"-2px",left:0,width:"100%",height:"2px",backgroundColor:tt.colors.interactive.selected},[`&.${ee["row--lastVisible"]}`]:{"&::after":{bottom:"calc(var(--DataGrid-hasScrollY) * 0px + (1 - var(--DataGrid-hasScrollY)) * -2px)"}}},[`& .${ee["row--beingDragged"]}`]:{color:tt.colors.foreground.disabled,"&:hover":{backgroundColor:"transparent"}}}});function Nq(t,e){return`rgba(from ${t} r g b / ${e})`}function b_e(t){return Nq(t,1)}function eh(t,e,n){return`color-mix(in srgb,${t}, ${e} calc(${n} * 100%))`}const v_e=()=>()=>{},w_e=()=>!1,S_e=()=>!0,C_e=()=>IW.useSyncExternalStore(v_e,w_e,S_e),Fq=w.createContext(void 0);function FN(){const t=w.useContext(Fq);if(t===void 0)throw new Error("MUI X: Missing context.");return t}function E_e({children:t}){const e=w.useRef(null),n=w.useRef(null),r=w.useRef(null),o=w.useMemo(()=>({columnsPanelTriggerRef:e,filterPanelTriggerRef:n,aiAssistantPanelTriggerRef:r}),[]);return T.jsx(Fq.Provider,{value:o,children:t})}function x_e(){var d;const t=Ft(),e=$e(t,ja),n=et(),r=$e(t,im),{columnsPanelTriggerRef:o,filterPanelTriggerRef:i,aiAssistantPanelTriggerRef:s}=FN(),a=t.current.unstable_applyPipeProcessors("preferencePanel",null,r.openedPanelValue??Xi.filters);let c=null;switch(r.openedPanelValue){case Xi.filters:c=i.current;break;case Xi.columns:c=o.current;break;case Xi.aiAssistant:c=s.current;break}return T.jsx(n.slots.panel,U({id:r.panelId,open:e.length>0&&r.open,"aria-labelledby":r.labelId,target:c,onClose:()=>t.current.hidePreferences()},(d=n.slotProps)==null?void 0:d.panel,{children:a}))}function __e(){var e;const t=et();return T.jsxs(w.Fragment,{children:[T.jsx(x_e,{}),t.showToolbar&&T.jsx(t.slots.toolbar,U({},(e=t.slotProps)==null?void 0:e.toolbar))]})}const T_e=["className","children","sidePanel"],A_e=(t,e)=>{const{autoHeight:n,classes:r,showCellVerticalBorder:o}=t,i={root:["root",n&&"autoHeight",`root--density${Ie(e)}`,t.slots.toolbar===null&&"root--noToolbar","withBorderColor",o&&"withVerticalBorder"]};return Ze(i,en,r)},I_e=xt(function(e,n){const r=et(),{className:o,children:i,sidePanel:s}=e,a=Xe(e,T_e),c=aa(),d=$e(c,Ty),h=c.current.rootElementRef,p=w.useCallback(x=>{x!==null&&c.current.publishEvent("rootMount",x)},[c]),g=Tn(h,n,p),m=r,v=A_e(m,d),S=WCe();return C_e()?null:T.jsxs(y_e,U({className:Ne(v.root,o,S.className,s&&ee.withSidePanel),ownerState:m},a,{ref:g,children:[T.jsxs("div",{className:ee.mainContent,role:"presentation",children:[T.jsx(__e,{}),T.jsx(Q1e,{children:i}),T.jsx(Z1e,{})]}),s,S.tag]}))}),R_e=xd(I_e),P_e=["className"],M_e=t=>{const{classes:e}=t;return Ze({root:["footerContainer","withBorderColor"]},en,e)},k_e=gn("div",{name:"MuiDataGrid",slot:"FooterContainer"})({display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:52,borderTop:"1px solid"}),O_e=xt(function(e,n){const{className:r}=e,o=Xe(e,P_e),i=et(),s=M_e(i);return T.jsx(k_e,U({className:Ne(s.root,r),ownerState:i},o,{ref:n}))}),D_e=["className"],L_e=t=>{const{classes:e}=t;return Ze({root:["overlay"]},en,e)},N_e=gn("div",{name:"MuiDataGrid",slot:"Overlay"})({width:"100%",height:"100%",display:"flex",gap:tt.spacing(1),flexDirection:"column",alignSelf:"center",alignItems:"center",justifyContent:"center",textAlign:"center",textWrap:"balance",backgroundColor:tt.colors.background.backdrop}),zI=xt(function(e,n){const{className:r}=e,o=Xe(e,D_e),i=et(),s=L_e(i);return T.jsx(N_e,U({className:Ne(s.root,r),ownerState:i},o,{ref:n}))});function Wc(t,e,n,r={}){return typeof e=="function"?e(n,r):e?(e.props.className&&(n.className=F_e(e.props.className,n.className)),(e.props.style||n.style)&&(n.style=U({},n.style,e.props.style)),w.cloneElement(e,n)):w.createElement(t,n)}function F_e(t,e){return!t||!e?t||e:`${t} ${e}`}const $q=w.createContext(void 0);function $_e(){const t=w.useContext($q);if(t===void 0)throw new Error("MUI X: Missing context. Toolbar subcomponents must be placed within a <Toolbar /> component.");return t}function V_e(t,e){if(!t.ref.current||!e.ref.current)return 0;const n=t.ref.current.compareDocumentPosition(e.ref.current);return n?n&Node.DOCUMENT_POSITION_FOLLOWING||n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_PRECEDING||n&Node.DOCUMENT_POSITION_CONTAINS?1:0:0}const z_e=["render","className"],B_e=t=>{const{classes:e}=t;return Ze({root:["toolbar"]},en,e)},H_e=gn("div",{name:"MuiDataGrid",slot:"Toolbar"})({flex:0,display:"flex",alignItems:"center",justifyContent:"end",gap:tt.spacing(.25),padding:tt.spacing(.75),minHeight:52,boxSizing:"border-box",borderBottom:`1px solid ${tt.colors.border.base}`}),j_e=xt(function(e,n){const{render:r,className:o}=e,i=Xe(e,z_e),s=et(),a=B_e(s),[c,d]=w.useState(null),[h,p]=w.useState([]),g=w.useCallback(()=>h.sort(V_e),[h]),m=w.useCallback((k,$,D=!0)=>{var F,R;let I=k;const A=g(),N=A.length;for(let V=0;V<N;V+=1){if(I+=$,I>=N){if(!D)return-1;I=0}else if(I<0){if(!D)return-1;I=N-1}if(!((F=A[I].ref.current)!=null&&F.disabled)&&((R=A[I].ref.current)==null?void 0:R.ariaDisabled)!=="true")return I}return-1},[g]),v=w.useCallback((k,$)=>{p(D=>[...D,{id:k,ref:$}])},[]),S=w.useCallback(k=>{p($=>$.filter(D=>D.id!==k))},[]),C=w.useCallback(k=>{var A;if(!c)return;const $=g(),D=$.findIndex(N=>N.id===c);let I=-1;if(k.key==="ArrowRight"?(k.preventDefault(),I=m(D,1)):k.key==="ArrowLeft"?(k.preventDefault(),I=m(D,-1)):k.key==="Home"?(k.preventDefault(),I=m(-1,1,!1)):k.key==="End"&&(k.preventDefault(),I=m($.length,-1,!1)),I>=0&&I<$.length){const N=$[I];d(N.id),(A=N.ref.current)==null||A.focus()}},[g,c,m]),x=w.useCallback(k=>{c!==k&&d(k)},[c,d]),O=w.useCallback(k=>{var A;const $=g(),D=$.findIndex(N=>N.id===k),I=m(D,1);if(I>=0&&I<$.length){const N=$[I];d(N.id),(A=N.ref.current)==null||A.focus()}},[g,m]);w.useEffect(()=>{var $,D;const k=g();if(k.length>0){if(!c){d(k[0].id);return}const I=k.findIndex(A=>A.id===c);if(k[I]){if(I===-1){const A=k[I];A&&(d(A.id),(D=A.ref.current)==null||D.focus())}}else{const A=k[k.length-1];A&&(d(A.id),($=A.ref.current)==null||$.focus())}}},[g,m]);const M=w.useMemo(()=>({focusableItemId:c,registerItem:v,unregisterItem:S,onItemKeyDown:C,onItemFocus:x,onItemDisabled:O}),[c,v,S,C,x,O]),P=Wc(H_e,r,U({role:"toolbar","aria-orientation":"horizontal","aria-label":s.label||void 0,className:Ne(a.root,o)},i,{ref:n}));return T.jsx($q.Provider,{value:M,children:P})}),U_e=["render","onKeyDown","onFocus","disabled","aria-disabled"],j_=xt(function(e,n){var I;const{render:r,onKeyDown:o,onFocus:i,disabled:s,"aria-disabled":a}=e,c=Xe(e,U_e),d=sn(),h=et(),p=w.useRef(null),g=Tn(p,n),{focusableItemId:m,registerItem:v,unregisterItem:S,onItemKeyDown:C,onItemFocus:x,onItemDisabled:O}=$_e(),M=A=>{C(A),o==null||o(A)},P=A=>{x(d),i==null||i(A)};w.useEffect(()=>(v(d,p),()=>S(d)),[]);const k=w.useRef(s);w.useEffect(()=>{k.current!==s&&s===!0&&O(d,s),k.current=s},[s,d,O]);const $=w.useRef(a);w.useEffect(()=>{$.current!==a&&a===!0&&O(d,!0),$.current=a},[a,d,O]);const D=Wc(h.slots.baseIconButton,r,U({},(I=h.slotProps)==null?void 0:I.baseIconButton,{tabIndex:m===d?0:-1},c,{disabled:s,"aria-disabled":a,onKeyDown:M,onFocus:P,ref:g}));return T.jsx(w.Fragment,{children:D})}),G_e=t=>{const{classes:e,open:n}=t;return Ze({root:["menuIcon",n&&"menuOpen"],button:["menuIconButton"]},en,e)},W_e=w.memo(t=>{var g,m;const{colDef:e,open:n,columnMenuId:r,columnMenuButtonId:o,iconButtonRef:i}=t,s=Ft(),a=et(),c=U({},t,{classes:a.classes}),d=G_e(c),h=w.useCallback(v=>{v.preventDefault(),v.stopPropagation(),s.current.toggleColumnMenu(e.field)},[s,e.field]),p=e.headerName??e.field;return T.jsx("div",{className:d.root,children:T.jsx(a.slots.baseTooltip,U({title:s.current.getLocaleText("columnMenuLabel"),enterDelay:1e3},(g=a.slotProps)==null?void 0:g.baseTooltip,{children:T.jsx(a.slots.baseIconButton,U({ref:i,tabIndex:-1,className:d.button,"aria-label":s.current.getLocaleText("columnMenuAriaLabel")(p),size:"small",onClick:h,"aria-haspopup":"menu","aria-expanded":n,"aria-controls":n?r:void 0,id:o},(m=a.slotProps)==null?void 0:m.baseIconButton,{children:T.jsx(a.slots.columnMenuIcon,{fontSize:"inherit"})}))}))})});function q_e({columnMenuId:t,columnMenuButtonId:e,ContentComponent:n,contentComponentProps:r,field:o,open:i,target:s,onExited:a}){const c=Ft(),d=c.current.getColumn(o),h=Mt(p=>{p&&(p.stopPropagation(),s!=null&&s.contains(p.target))||c.current.hideColumnMenu()});return!s||!d?null:T.jsx(PI,{position:`bottom-${d.align==="right"?"start":"end"}`,open:i,target:s,onClose:h,onExited:a,children:T.jsx(n,U({colDef:d,hideMenu:h,open:i,id:t,labelledby:e},r))})}function K_e(t){return t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth}function KT(t,e){return t.closest(`.${e}`)}function Td(t){return t.replace(/["\\]/g,"\\$&")}function Y_e(t,e){return t.querySelector(`[role="columnheader"][data-field="${Td(e)}"]`)}function Vq(t){return`.${ee.row}[data-id="${Td(String(t))}"]`}function X_e(t,e){return t.querySelector(Vq(e))}function Q_e(t,{id:e,field:n}){const r=Vq(e),o=`.${ee.cell}[data-field="${Td(n)}"]`,i=`${r} ${o}`;return t.querySelector(i)}function WE(t){return t.target.nodeType===1&&!t.currentTarget.contains(t.target)}function Z_e(t){return t.getAttribute("data-field")}function J_e(t,e){return t.querySelector(`[data-field="${Td(e)}"]`)}function eTe(t){return t.getAttribute("data-fields").slice(2,-2).split("-|-")}function tTe(t,e){return Array.from(t.querySelectorAll(`[data-fields*="|-${Td(e)}-|"]`)??[])}function nTe(t,e){var s;if(!KT(t,ee.root))throw new Error("MUI X: The root element is not found.");const r=t.getAttribute("aria-colindex");if(!r)return[];const o=Number(r)-1,i=[];return(s=e.virtualScrollerRef)!=null&&s.current?(Hq(e).forEach(a=>{const c=a.getAttribute("data-id");if(!c)return;let d=o;const h=e.unstable_getCellColSpanInfo(c,o);h&&h.spannedByColSpan&&(d=h.leftVisibleCellIndex);const p=a.querySelector(`[data-colindex="${d}"]`);p&&i.push(p)}),i):[]}function y5(t,e){return t.rootElementRef.current.querySelector(`.${ee[e]}`)}const zq=({api:t,colIndex:e,position:n,filterFn:r})=>{if(e===null)return[];const o=[];return Hq(t).forEach(i=>{i.getAttribute("data-id")&&i.querySelectorAll(`.${ee[n==="left"?"cell--pinnedLeft":"cell--pinnedRight"]}`).forEach(a=>{const c=Dv(a);c!==null&&r(c)&&o.push(a)})}),o};function rTe(t,e,n){const r=Dv(e);return zq({api:t,colIndex:r,position:n?"right":"left",filterFn:o=>n?o<r:o>r})}function oTe(t,e,n){const r=Dv(e);return zq({api:t,colIndex:r,position:n?"left":"right",filterFn:o=>n?o>r:o<r})}const Bq=({api:t,colIndex:e,position:n,filterFn:r})=>{var i;if(!((i=t.columnHeadersContainerRef)!=null&&i.current))return[];if(e===null)return[];const o=[];return t.columnHeadersContainerRef.current.querySelectorAll(`.${ee[n==="left"?"columnHeader--pinnedLeft":"columnHeader--pinnedRight"]}`).forEach(s=>{const a=Dv(s);a!==null&&r(a,s)&&o.push(s)}),o};function iTe(t,e,n){const r=Dv(e);return Bq({api:t,position:n?"right":"left",colIndex:r,filterFn:o=>n?o<r:o>r})}function sTe(t,e,n){const r=Dv(e);return Bq({api:t,position:n?"left":"right",colIndex:r,filterFn:(o,i)=>i.classList.contains(ee["columnHeader--last"])?!1:n?o>r:o<r})}function aTe(t,e){return t.columnHeadersContainerRef.current.querySelector(`:scope > div > [data-field="${Td(e)}"][role="columnheader"]`)}function lTe(t,e){const n=t.virtualScrollerRef.current;return Array.from(n.querySelectorAll(`:scope > div > div > div > [data-field="${Td(e)}"][role="gridcell"]`))}function Hq(t){return t.virtualScrollerRef.current.querySelectorAll(`:scope > div > div > .${ee.row}`)}function Dv(t){const e=t.getAttribute("aria-colindex");return e?Number(e)-1:null}const cTe=["className","aria-label"],uTe=t=>{const{classes:e}=t;return Ze({root:["columnHeaderTitle"]},en,e)},dTe=gn("div",{name:"MuiDataGrid",slot:"ColumnHeaderTitle"})({textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",fontWeight:"var(--unstable_DataGrid-headWeight)",lineHeight:"normal"}),hTe=xt(function(e,n){const{className:r}=e,o=Xe(e,cTe),i=et(),s=uTe(i);return T.jsx(dTe,U({className:Ne(s.root,r),ownerState:i},o,{ref:n}))});function fTe(t){var c;const{label:e,description:n}=t,r=et(),o=w.useRef(null),[i,s]=w.useState(""),a=w.useCallback(()=>{if(!n&&(o!=null&&o.current)){const d=K_e(o.current);s(d?e:"")}},[n,e]);return T.jsx(r.slots.baseTooltip,U({title:n||i},(c=r.slotProps)==null?void 0:c.baseTooltip,{children:T.jsx(hTe,{onMouseOver:a,ref:o,children:e})}))}const pTe=["resizable","resizing","height","side"];var $N=function(t){return t.Left="left",t.Right="right",t}($N||{});const gTe=t=>{const{resizable:e,resizing:n,classes:r,side:o}=t,i={root:["columnSeparator",e&&"columnSeparator--resizable",n&&"columnSeparator--resizing",o&&`columnSeparator--side${Ie(o)}`],icon:["iconSeparator"]};return Ze(i,en,r)};function mTe(t){const{height:e,side:n=$N.Right}=t,r=Xe(t,pTe),o=et(),i=U({},t,{side:n,classes:o.classes}),s=gTe(i),a=w.useCallback(c=>{c.preventDefault(),c.stopPropagation()},[]);return T.jsx("div",U({className:s.root,style:{minHeight:e}},r,{onClick:a,children:T.jsx(o.slots.columnResizeIcon,{className:s.icon})}))}const yTe=w.memo(mTe),bTe=["classes","columnMenuOpen","colIndex","height","isResizing","sortDirection","hasFocus","tabIndex","separatorSide","isDraggable","headerComponent","description","elementId","width","columnMenuIconButton","columnMenu","columnTitleIconButtons","headerClassName","label","resizable","draggableContainerProps","columnHeaderSeparatorProps","style"],jq=xt(function(e,n){const{classes:r,colIndex:o,height:i,isResizing:s,sortDirection:a,tabIndex:c,separatorSide:d,isDraggable:h,headerComponent:p,description:g,width:m,columnMenuIconButton:v=null,columnMenu:S=null,columnTitleIconButtons:C=null,headerClassName:x,label:O,resizable:M,draggableContainerProps:P,columnHeaderSeparatorProps:k,style:$}=e,D=Xe(e,bTe),I=et(),A=w.useRef(null),N=Tn(A,n);let F="none";return a!=null&&(F=a==="asc"?"ascending":"descending"),T.jsxs("div",U({className:Ne(r.root,x),style:U({},$,{width:m}),role:"columnheader",tabIndex:c,"aria-colindex":o+1,"aria-sort":F},D,{ref:N,children:[T.jsxs("div",U({className:r.draggableContainer,draggable:h,role:"presentation"},P,{children:[T.jsxs("div",{className:r.titleContainer,role:"presentation",children:[T.jsx("div",{className:r.titleContainerContent,children:p!==void 0?p:T.jsx(fTe,{label:O,description:g,columnWidth:m})}),C]}),v]})),T.jsx(yTe,U({resizable:!I.disableColumnResize&&!!M,resizing:s,height:i,side:d},k)),S]}))}),vTe=t=>{const{disableColumnSorting:e}=et(),{colDef:n,classes:r,isDragging:o,sortDirection:i,showRightBorder:s,showLeftBorder:a,filterItemsCounter:c,pinnedPosition:d,isLastUnpinned:h,isSiblingFocused:p}=t,g=n.sortable&&!e,m=i!=null,v=c!=null&&c>0,S=n.type==="number",C={root:["columnHeader",n.headerAlign==="left"&&"columnHeader--alignLeft",n.headerAlign==="center"&&"columnHeader--alignCenter",n.headerAlign==="right"&&"columnHeader--alignRight",g&&"columnHeader--sortable",o&&"columnHeader--moving",m&&"columnHeader--sorted",v&&"columnHeader--filtered",S&&"columnHeader--numeric","withBorderColor",s&&"columnHeader--withRightBorder",a&&"columnHeader--withLeftBorder",d===nn.LEFT&&"columnHeader--pinnedLeft",d===nn.RIGHT&&"columnHeader--pinnedRight",h&&"columnHeader--lastUnpinned",p&&"columnHeader--siblingFocused"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer"],titleContainerContent:["columnHeaderTitleContainerContent"]};return Ze(C,en,r)};function wTe(t){var Ee,Te,le;const{colDef:e,columnMenuOpen:n,colIndex:r,headerHeight:o,isResizing:i,isLast:s,sortDirection:a,sortIndex:c,filterItemsCounter:d,hasFocus:h,tabIndex:p,disableReorder:g,separatorSide:m,showLeftBorder:v,showRightBorder:S,pinnedPosition:C,pinnedOffset:x}=t,O=aa(),M=et(),P=Ni(),k=w.useRef(null),$=sn(),D=sn(),I=w.useRef(null),[A,N]=w.useState(n),F=w.useMemo(()=>!M.disableColumnReorder&&!g&&!e.disableReorder,[M.disableColumnReorder,g,e.disableReorder]);let R;e.renderHeader&&(R=e.renderHeader(O.current.getColumnHeaderParams(e.field)));const V=U({},t,{classes:M.classes,showRightBorder:S,showLeftBorder:v}),q=vTe(V),K=w.useCallback(pe=>ye=>{WE(ye)||O.current.publishEvent(pe,O.current.getColumnHeaderParams(e.field),ye)},[O,e.field]),z=w.useMemo(()=>({onClick:K("columnHeaderClick"),onContextMenu:K("columnHeaderContextMenu"),onDoubleClick:K("columnHeaderDoubleClick"),onMouseOver:K("columnHeaderOver"),onMouseOut:K("columnHeaderOut"),onMouseEnter:K("columnHeaderEnter"),onMouseLeave:K("columnHeaderLeave"),onKeyDown:K("columnHeaderKeyDown"),onFocus:K("columnHeaderFocus"),onBlur:K("columnHeaderBlur")}),[K]),H=w.useMemo(()=>F?{onDragStart:K("columnHeaderDragStart"),onDragEnter:K("columnHeaderDragEnter"),onDragOver:K("columnHeaderDragOver"),onDragEndCapture:K("columnHeaderDragEnd")}:{},[F,K]),Z=w.useMemo(()=>({onMouseDown:K("columnSeparatorMouseDown"),onDoubleClick:K("columnSeparatorDoubleClick")}),[K]);w.useEffect(()=>{A||N(n)},[A,n]);const re=w.useCallback(()=>{N(!1)},[]),j=!M.disableColumnMenu&&!e.disableColumnMenu&&T.jsx(W_e,{colDef:e,columnMenuId:$,columnMenuButtonId:D,open:A,iconButtonRef:I}),X=T.jsx(q_e,{columnMenuId:$,columnMenuButtonId:D,field:e.field,open:n,target:I.current,ContentComponent:M.slots.columnMenu,contentComponentProps:(Ee=M.slotProps)==null?void 0:Ee.columnMenu,onExited:re}),ne=e.sortingOrder??M.sortingOrder,ie=(e.sortable||a!=null)&&!e.hideSortIcons&&!M.disableColumnSorting,se=T.jsxs(w.Fragment,{children:[!M.disableColumnFilter&&T.jsx(M.slots.columnHeaderFilterIconButton,U({field:e.field,counter:d},(Te=M.slotProps)==null?void 0:Te.columnHeaderFilterIconButton)),ie&&T.jsx(M.slots.columnHeaderSortIcon,U({field:e.field,direction:a,index:c,sortingOrder:ne,disabled:!e.sortable},(le=M.slotProps)==null?void 0:le.columnHeaderSortIcon))]});w.useLayoutEffect(()=>{const pe=O.current.state.columnMenu;if(h&&!pe.open){const xe=k.current.querySelector('[tabindex="0"]')||k.current;if(!xe)return;if(NN())xe.focus({preventScroll:!0});else{const Ce=O.current.getScrollPosition();xe.focus(),O.current.scroll(Ce)}}},[O,h]);const ce=typeof e.headerClassName=="function"?e.headerClassName({field:e.field,colDef:e}):e.headerClassName,ae=e.headerName??e.field,ge=w.useMemo(()=>VI(U({},t.style),P,C,x),[C,x,t.style,P]);return T.jsx(jq,U({ref:k,classes:q,columnMenuOpen:n,colIndex:r,height:o,isResizing:i,sortDirection:a,hasFocus:h,tabIndex:p,separatorSide:m,isDraggable:F,headerComponent:R,description:e.description,elementId:e.field,width:e.computedWidth,columnMenuIconButton:j,columnTitleIconButtons:se,headerClassName:Ne(ce,s&&ee["columnHeader--last"]),label:ae,resizable:!M.disableColumnResize&&!!e.resizable,"data-field":e.field,columnMenu:X,draggableContainerProps:H,columnHeaderSeparatorProps:Z,style:ge},z))}const STe=xd(wTe),CTe=["className"],ETe=t=>{const{classes:e}=t;return Ze({root:["iconButtonContainer"]},en,e)},xTe=gn("div",{name:"MuiDataGrid",slot:"IconButtonContainer"})(()=>({display:"flex",visibility:"hidden",width:0})),Uq=xt(function(e,n){const{className:r}=e,o=Xe(e,CTe),i=et(),s=ETe(i);return T.jsx(xTe,U({className:Ne(s.root,r),ownerState:i},o,{ref:n}))}),_Te=["direction","index","sortingOrder","disabled","className"],TTe=t=>{const{classes:e}=t;return Ze({root:["sortButton"],icon:["sortIcon"]},en,e)},ATe=gn(Gc,{name:"MuiDataGrid",slot:"SortButton"})({transition:tt.transition(["opacity"],{duration:tt.transitions.duration.short,easing:tt.transitions.easing.easeInOut})});function ITe(t,e,n,r){let o;const i={};return e==="asc"?o=t.columnSortedAscendingIcon:e==="desc"?o=t.columnSortedDescendingIcon:(o=t.columnUnsortedIcon,i.sortingOrder=r),o?T.jsx(o,U({fontSize:"small",className:n},i)):null}function RTe(t){var m;const{direction:e,index:n,sortingOrder:r,disabled:o,className:i}=t,s=Xe(t,_Te),a=Ft(),c=et(),d=U({},t,{classes:c.classes}),h=TTe(d),p=ITe(c.slots,e,h.icon,r);if(!p)return null;const g=T.jsx(ATe,U({as:c.slots.baseIconButton,ownerState:d,"aria-label":a.current.getLocaleText("columnHeaderSortIconLabel"),title:a.current.getLocaleText("columnHeaderSortIconLabel"),size:"small",disabled:o,className:Ne(h.root,i)},(m=c.slotProps)==null?void 0:m.baseIconButton,s,{children:p}));return T.jsxs(w.Fragment,{children:[n!=null&&T.jsx(c.slots.baseBadge,{badgeContent:n,color:"default",overlap:"circular",children:g}),n==null&&g]})}function PTe(t){return T.jsx(Uq,{children:T.jsx(RTe,U({},t,{tabIndex:-1}))})}const MTe=w.memo(PTe),kTe=t=>{const{classes:e}=t;return Ze({icon:["filterIcon"]},en,e)};function OTe(t){return t.counter?T.jsx(DTe,U({},t)):null}function DTe(t){var m,v;const{counter:e,field:n,onClick:r}=t,o=Ft(),i=et(),s=U({},t,{classes:i.classes}),a=kTe(s),c=sn(),d=$e(o,t1e,c),h=sn(),p=w.useCallback(S=>{S.preventDefault(),S.stopPropagation();const{open:C,openedPanelValue:x}=im(o);C&&x===Xi.filters?o.current.hideFilterPanel():o.current.showFilterPanel(void 0,h,c),r&&r(o.current.getColumnHeaderParams(n),S)},[o,n,r,h,c]);if(!e)return null;const g=T.jsx(i.slots.baseIconButton,U({id:c,onClick:p,"aria-label":o.current.getLocaleText("columnHeaderFiltersLabel"),size:"small",tabIndex:-1,"aria-haspopup":"menu","aria-expanded":d,"aria-controls":d?h:void 0},(m=i.slotProps)==null?void 0:m.baseIconButton,{children:T.jsx(i.slots.columnFilteredIcon,{className:a.icon,fontSize:"small"})}));return T.jsx(i.slots.baseTooltip,U({title:o.current.getLocaleText("columnHeaderFiltersTooltipActive")(e),enterDelay:1e3},(v=i.slotProps)==null?void 0:v.baseTooltip,{children:T.jsxs(Uq,{children:[e>1&&T.jsx(i.slots.baseBadge,{badgeContent:e,color:"default",children:g}),e===1&&g]})}))}const LTe=["hideMenu","colDef","id","labelledby","className","children","open"],NTe=Se(Gc)(()=>({minWidth:248}));function b5(t){t.currentTarget.contains(t.target)&&t.stopPropagation()}const FTe=xt(function(e,n){const{hideMenu:r,id:o,labelledby:i,className:s,children:a,open:c}=e,d=Xe(e,LTe),h=et(),p=w.useCallback(g=>{g.key==="Tab"&&g.preventDefault(),qW(g.key)&&r(g)},[r]);return T.jsx(NTe,U({as:h.slots.baseMenuList,id:o,className:Ne(ee.menuList,s),"aria-labelledby":i,onKeyDown:p,onWheel:b5,onTouchMove:b5,autoFocus:c},d,{ref:n,children:a}))}),$Te=["displayOrder"],VTe=t=>{const e=aa(),n=et(),{defaultSlots:r,defaultSlotProps:o,slots:i={},slotProps:s={},hideMenu:a,colDef:c,addDividers:d=!0}=t,h=w.useMemo(()=>U({},r,i),[r,i]),p=w.useMemo(()=>{if(!s||Object.keys(s).length===0)return o;const v=U({},s);return Object.entries(o).forEach(([S,C])=>{v[S]=U({},C,s[S]||{})}),v},[o,s]),g=e.current.unstable_applyPipeProcessors("columnMenu",[],t.colDef),m=w.useMemo(()=>{const v=Object.keys(r);return Object.keys(i).filter(S=>!v.includes(S))},[i,r]);return w.useMemo(()=>{const C=Array.from(new Set([...g,...m])).filter(x=>h[x]!=null).sort((x,O)=>{const M=p[x],P=p[O],k=Number.isFinite(M==null?void 0:M.displayOrder)?M.displayOrder:100,$=Number.isFinite(P==null?void 0:P.displayOrder)?P.displayOrder:100;return k-$});return C.reduce((x,O,M)=>{let P={colDef:c,onClick:a};const k=p[O];if(k){const $=Xe(k,$Te);P=U({},P,$)}return d&&M!==C.length-1?[...x,[h[O],P],[n.slots.baseDivider,{}]]:[...x,[h[O],P]]},[])},[d,c,g,a,h,p,m,n.slots.baseDivider])};function zTe(t){const{colDef:e,onClick:n}=t,r=Ft(),o=et(),a=Or(r).filter(d=>d.disableColumnMenu!==!0).length===1,c=w.useCallback(d=>{a||(r.current.setColumnVisibility(e.field,!1),n(d))},[r,e.field,n,a]);return o.disableColumnSelector||e.hideable===!1?null:T.jsx(o.slots.baseMenuItem,{onClick:c,disabled:a,iconStart:T.jsx(o.slots.columnMenuHideIcon,{fontSize:"small"}),children:r.current.getLocaleText("columnMenuHideColumn")})}function BTe(t){const{onClick:e}=t,n=Ft(),r=et(),o=w.useCallback(i=>{e(i),n.current.showPreferences(Xi.columns)},[n,e]);return r.disableColumnSelector?null:T.jsx(r.slots.baseMenuItem,{onClick:o,iconStart:T.jsx(r.slots.columnMenuManageColumnsIcon,{fontSize:"small"}),children:n.current.getLocaleText("columnMenuManageColumns")})}function HTe(t){return T.jsxs(w.Fragment,{children:[T.jsx(zTe,U({},t)),T.jsx(BTe,U({},t))]})}function jTe(t){const{colDef:e,onClick:n}=t,r=Ft(),o=et(),i=w.useCallback(s=>{n(s),r.current.showFilterPanel(e.field)},[r,e.field,n]);return o.disableColumnFilter||!e.filterable?null:T.jsx(o.slots.baseMenuItem,{onClick:i,iconStart:T.jsx(o.slots.columnMenuFilterIcon,{fontSize:"small"}),children:r.current.getLocaleText("columnMenuFilter")})}function UTe(t){const{colDef:e,onClick:n}=t,r=Ft(),o=$e(r,ka),i=et(),s=w.useMemo(()=>{if(!e)return null;const h=o.find(p=>p.field===e.field);return h==null?void 0:h.sort},[e,o]),a=e.sortingOrder??i.sortingOrder,c=w.useCallback(h=>{n(h);const p=h.currentTarget.getAttribute("data-value")||null,g=i.multipleColumnsSortingMode==="always";r.current.sortColumn(e.field,p===s?null:p,g)},[r,e,n,s,i.multipleColumnsSortingMode]);if(i.disableColumnSorting||!e||!e.sortable||!a.some(h=>!!h))return null;const d=h=>{const p=r.current.getLocaleText(h);return typeof p=="function"?p(e):p};return T.jsxs(w.Fragment,{children:[a.includes("asc")&&s!=="asc"?T.jsx(i.slots.baseMenuItem,{onClick:c,"data-value":"asc",iconStart:T.jsx(i.slots.columnMenuSortAscendingIcon,{fontSize:"small"}),children:d("columnMenuSortAsc")}):null,a.includes("desc")&&s!=="desc"?T.jsx(i.slots.baseMenuItem,{onClick:c,"data-value":"desc",iconStart:T.jsx(i.slots.columnMenuSortDescendingIcon,{fontSize:"small"}),children:d("columnMenuSortDesc")}):null,a.includes(null)&&s!=null?T.jsx(i.slots.baseMenuItem,{onClick:c,iconStart:i.slots.columnMenuUnsortIcon?T.jsx(i.slots.columnMenuUnsortIcon,{fontSize:"small"}):T.jsx("span",{}),children:r.current.getLocaleText("columnMenuUnsort")}):null]})}const GTe=["defaultSlots","defaultSlotProps","slots","slotProps"],WTe={columnMenuSortItem:UTe,columnMenuFilterItem:jTe,columnMenuColumnsItem:HTe},qTe={columnMenuSortItem:{displayOrder:10},columnMenuFilterItem:{displayOrder:20},columnMenuColumnsItem:{displayOrder:30}},KTe=xt(function(e,n){const{defaultSlots:r,defaultSlotProps:o,slots:i,slotProps:s}=e,a=Xe(e,GTe),c=VTe(U({},a,{defaultSlots:r,defaultSlotProps:o,slots:i,slotProps:s}));return T.jsx(FTe,U({},a,{ref:n,children:c.map(([d,h],p)=>T.jsx(d,U({},h),p))}))}),YTe=xt(function(e,n){return T.jsx(KTe,U({},e,{ref:n,defaultSlots:WTe,defaultSlotProps:qTe}))}),XTe=["className"],QTe=t=>{const{classes:e}=t;return Ze({root:["panelWrapper"]},en,e)},ZTe=Se("div",{name:"MuiDataGrid",slot:"PanelWrapper"})({display:"flex",flexDirection:"column",flex:1,"&:focus":{outline:0}}),Gq=xt(function(e,n){const{className:r}=e,o=Xe(e,XTe),i=et(),s=QTe(i);return T.jsx(ZTe,U({tabIndex:-1,className:Ne(s.root,r),ownerState:i},o,{ref:n}))});function JTe(t){var n;const e=et();return T.jsx(Gq,U({},t,{children:T.jsx(e.slots.columnsManagement,U({},(n=e.slotProps)==null?void 0:n.columnsManagement))}))}const eAe=["children","className","classes","onClose"],tAe=Pt("MuiDataGrid",["panel","paper"]),nAe=Se(Gc,{name:"MuiDataGrid",slot:"panel"})({zIndex:tt.zIndex.panel}),rAe=Se("div",{name:"MuiDataGrid",slot:"panelContent"})({backgroundColor:tt.colors.background.overlay,borderRadius:tt.radius.base,boxShadow:tt.shadows.overlay,display:"flex",maxWidth:`calc(100vw - ${tt.spacing(2)})`,overflow:"auto"}),oAe=xt((t,e)=>{var O;const{children:n,className:r,onClose:o}=t,i=Xe(t,eAe),s=Ft(),a=et(),c=tAe,[d,h]=w.useState(!1),p=XW(),g=Mt(()=>h(!0)),m=Mt(()=>h(!1)),v=Mt(()=>{o==null||o()}),S=Mt(M=>{M.key==="Escape"&&(o==null||o())}),[C,x]=w.useState(null);return w.useEffect(()=>{var P,k;const M=(k=(P=s.current.rootElementRef)==null?void 0:P.current)==null?void 0:k.querySelector('[data-id="gridPanelAnchor"]');M&&x(M)},[s]),C?T.jsx(nAe,U({as:a.slots.basePopper,ownerState:a,placement:"bottom-end",className:Ne(c.panel,r,p),flip:!0,onDidShow:g,onDidHide:m,onClickAway:v,clickAwayMouseEvent:"onPointerUp",clickAwayTouchEvent:!1,focusTrap:!0},i,(O=a.slotProps)==null?void 0:O.basePopper,{target:t.target??C,ref:e,children:T.jsx(rAe,{className:c.paper,ownerState:a,onKeyDown:S,children:d&&n})})):null}),iAe=["className"],sAe=t=>{const{classes:e}=t;return Ze({root:["panelContent"]},en,e)},aAe=gn("div",{name:"MuiDataGrid",slot:"PanelContent"})({display:"flex",flexDirection:"column",overflow:"auto",flex:"1 1",maxHeight:400,padding:tt.spacing(2.5,1.5,2,1),gap:tt.spacing(2.5)});function lAe(t){const{className:e}=t,n=Xe(t,iAe),r=et(),o=sAe(r);return T.jsx(aAe,U({className:Ne(o.root,e),ownerState:r},n))}const cAe=["className"],uAe=t=>{const{classes:e}=t;return Ze({root:["panelFooter"]},en,e)},dAe=Se("div",{name:"MuiDataGrid",slot:"PanelFooter"})({padding:tt.spacing(1),display:"flex",justifyContent:"space-between",borderTop:`1px solid ${tt.colors.border.base}`});function hAe(t){const{className:e}=t,n=Xe(t,cAe),r=et(),o=uAe(r);return T.jsx(dAe,U({className:Ne(o.root,e),ownerState:r},n))}const fAe=["item","hasMultipleFilters","deleteFilter","applyFilterChanges","showMultiFilterOperators","disableMultiFilterOperator","applyMultiFilterOperatorChanges","focusElementRef","logicOperators","columnsSort","filterColumns","deleteIconProps","logicOperatorInputProps","operatorInputProps","columnInputProps","valueInputProps","readOnly","children"],pAe=["InputComponentProps"],gAe=t=>{const{classes:e}=t;return Ze({root:["filterForm"],deleteIcon:["filterFormDeleteIcon"],logicOperatorInput:["filterFormLogicOperatorInput"],columnInput:["filterFormColumnInput"],operatorInput:["filterFormOperatorInput"],valueInput:["filterFormValueInput"]},en,e)},mAe=Se("div",{name:"MuiDataGrid",slot:"FilterForm"})({display:"flex",gap:tt.spacing(1.5)}),yAe=Se("div",{name:"MuiDataGrid",slot:"FilterFormDeleteIcon"})({flexShrink:0,display:"flex",justifyContent:"center",alignItems:"center"}),bAe=Se("div",{name:"MuiDataGrid",slot:"FilterFormLogicOperatorInput"})({minWidth:75,justifyContent:"end"}),vAe=Se("div",{name:"MuiDataGrid",slot:"FilterFormColumnInput"})({width:150}),wAe=Se("div",{name:"MuiDataGrid",slot:"FilterFormOperatorInput"})({width:150}),SAe=Se("div",{name:"MuiDataGrid",slot:"FilterFormValueInput"})({width:190}),CAe=t=>{switch(t){case Yi.And:return"filterPanelOperatorAnd";case Yi.Or:return"filterPanelOperatorOr";default:throw new Error("MUI X: Invalid `logicOperator` property in the `GridFilterPanel`.")}},Xw=t=>t.headerName||t.field,v5=new Intl.Collator,w5=xt(function(e,n){var Pe,ze,Ke,ke,ot,Ye,at;const{item:r,hasMultipleFilters:o,deleteFilter:i,applyFilterChanges:s,showMultiFilterOperators:a,disableMultiFilterOperator:c,applyMultiFilterOperatorChanges:d,focusElementRef:h,logicOperators:p=[Yi.And,Yi.Or],columnsSort:g,filterColumns:m,deleteIconProps:v={},logicOperatorInputProps:S={},operatorInputProps:C={},columnInputProps:x={},valueInputProps:O={},readOnly:M}=e,P=Xe(e,fAe),k=Ft(),$=$e(k,_d),D=$e(k,jW),I=$e(k,Po),A=sn(),N=sn(),F=sn(),R=sn(),V=et(),q=gAe(V),K=w.useRef(null),z=w.useRef(null),H=I.logicOperator??Yi.And,Z=o&&p.length>0,j=(((Pe=V.slotProps)==null?void 0:Pe.baseSelect)||{}).native??!1,X=((ze=V.slotProps)==null?void 0:ze.baseSelectOption)||{},{InputComponentProps:ne}=O,ie=Xe(O,pAe),se=$e(k,om),ce=$e(k,Tq),{filteredColumns:ae,selectedField:ge}=w.useMemo(()=>{let he=r.field;const Ue=$[r.field].filterable===!1?$[r.field]:null;if(Ue)return{filteredColumns:[Ue],selectedField:he};if(se)return{filteredColumns:D.filter(nt=>ce.get(nt.field)!==void 0),selectedField:he};if(m===void 0||typeof m!="function")return{filteredColumns:D,selectedField:he};const qe=m({field:r.field,columns:D,currentFilters:(I==null?void 0:I.items)||[]});return{filteredColumns:D.filter(nt=>{const Je=qe.includes(nt.field);return nt.field===r.field&&!Je&&(he=void 0),Je}),selectedField:he}},[r.field,$,se,m,D,I==null?void 0:I.items,ce]),Ee=w.useMemo(()=>{switch(g){case"asc":return ae.sort((he,Ue)=>v5.compare(Xw(he),Xw(Ue)));case"desc":return ae.sort((he,Ue)=>-v5.compare(Xw(he),Xw(Ue)));default:return ae}},[ae,g]),Te=r.field?k.current.getColumn(r.field):null,le=w.useMemo(()=>{var he;return!r.operator||!Te?null:(he=Te.filterOperators)==null?void 0:he.find(Ue=>Ue.value===r.operator)},[r,Te]),pe=w.useCallback(he=>{const Ue=he.target.value,qe=k.current.getColumn(Ue);if(qe.field===Te.field)return;const nt=qe.filterOperators.find(dt=>dt.value===r.operator)||qe.filterOperators[0];let Qe=!nt.InputComponent||nt.InputComponent!==(le==null?void 0:le.InputComponent)||qe.type!==Te.type?void 0:r.value;if(qe.type==="singleSelect"&&Qe!==void 0){const dt=qe,ht=rm(dt);Array.isArray(Qe)?Qe=Qe.filter(Ge=>GT(Ge,ht,dt==null?void 0:dt.getOptionValue)!==void 0):GT(r.value,ht,dt==null?void 0:dt.getOptionValue)===void 0&&(Qe=void 0)}s(U({},r,{field:Ue,operator:nt.value,value:Qe}))},[k,s,r,Te,le]),ye=w.useCallback(he=>{const Ue=he.target.value,qe=Te==null?void 0:Te.filterOperators.find(Je=>Je.value===Ue),nt=!(qe!=null&&qe.InputComponent)||(qe==null?void 0:qe.InputComponent)!==(le==null?void 0:le.InputComponent);s(U({},r,{operator:Ue,value:nt?void 0:r.value}))},[s,r,Te,le]),xe=w.useCallback(he=>{const Ue=he.target.value===Yi.And.toString()?Yi.And:Yi.Or;d(Ue)},[d]),Ce=()=>{i(r)};return w.useImperativeHandle(h,()=>({focus:()=>{var he;le!=null&&le.InputComponent?(he=K==null?void 0:K.current)==null||he.focus():z.current.focus()}}),[le]),T.jsxs(mAe,U({className:q.root,"data-id":r.id,ownerState:V},P,{ref:n,children:[T.jsx(yAe,U({},v,{className:Ne(q.deleteIcon,v.className),ownerState:V,children:T.jsx(V.slots.baseIconButton,U({"aria-label":k.current.getLocaleText("filterPanelDeleteIconLabel"),title:k.current.getLocaleText("filterPanelDeleteIconLabel"),onClick:Ce,size:"small",disabled:M},(Ke=V.slotProps)==null?void 0:Ke.baseIconButton,{children:T.jsx(V.slots.filterPanelDeleteIcon,{fontSize:"small"})}))})),T.jsx(bAe,U({as:V.slots.baseSelect,sx:[Z?{display:"flex"}:{display:"none"},a?{visibility:"visible"}:{visibility:"hidden"},S.sx],className:Ne(q.logicOperatorInput,S.className),ownerState:V},S,{size:"small",slotProps:{htmlInput:{"aria-label":k.current.getLocaleText("filterPanelLogicOperator")}},value:H??"",onChange:xe,disabled:!!c||p.length===1,native:j},(ke=V.slotProps)==null?void 0:ke.baseSelect,{children:p.map(he=>w.createElement(V.slots.baseSelectOption,U({},X,{native:j,key:he.toString(),value:he.toString()}),k.current.getLocaleText(CAe(he))))})),T.jsx(vAe,U({as:V.slots.baseSelect},x,{className:Ne(q.columnInput,x.className),ownerState:V,size:"small",labelId:N,id:A,label:k.current.getLocaleText("filterPanelColumns"),value:ge??"",onChange:pe,native:j,disabled:M},(ot=V.slotProps)==null?void 0:ot.baseSelect,{children:Ee.map(he=>w.createElement(V.slots.baseSelectOption,U({},X,{native:j,key:he.field,value:he.field}),Xw(he)))})),T.jsx(wAe,U({as:V.slots.baseSelect,size:"small"},C,{className:Ne(q.operatorInput,C.className),ownerState:V,labelId:R,label:k.current.getLocaleText("filterPanelOperator"),id:F,value:r.operator,onChange:ye,native:j,inputRef:z,disabled:M},(Ye=V.slotProps)==null?void 0:Ye.baseSelect,{children:(at=Te==null?void 0:Te.filterOperators)==null?void 0:at.map(he=>w.createElement(V.slots.baseSelectOption,U({},X,{native:j,key:he.value,value:he.value}),he.label||k.current.getLocaleText(`filterOperator${Ie(he.value)}`)))})),T.jsx(SAe,U({},ie,{className:Ne(q.valueInput,ie.className),ownerState:V,children:le!=null&&le.InputComponent?T.jsx(le.InputComponent,U({apiRef:k,item:r,applyValue:s,focusElementRef:K,disabled:M,slotProps:{root:{size:"small"}}},le.InputComponentProps,ne),r.field):null}))]}))}),EAe=["logicOperators","columnsSort","filterFormProps","getColumnForNewFilter","children","disableAddFilterButton","disableRemoveAllButton"],S5=t=>({field:t.field,operator:t.filterOperators[0].value,id:Math.round(Math.random()*1e5)}),xAe=xt(function(e,n){var R,V;const r=Ft(),o=et(),i=$e(r,Po),s=$e(r,jW),a=$e(r,OCe),c=w.useRef(null),d=w.useRef(null),{logicOperators:h=[Yi.And,Yi.Or],columnsSort:p,filterFormProps:g,getColumnForNewFilter:m,disableAddFilterButton:v=!1,disableRemoveAllButton:S=!1}=e,C=Xe(e,EAe),x=r.current.upsertFilterItem,O=w.useCallback(q=>{r.current.setFilterLogicOperator(q)},[r]),M=w.useCallback(()=>{let q;if(m&&typeof m=="function"){const K=m({currentFilters:(i==null?void 0:i.items)||[],columns:s});if(K===null)return null;q=s.find(({field:z})=>z===K)}else q=s.find(K=>{var z;return(z=K.filterOperators)==null?void 0:z.length});return q?S5(q):null},[i==null?void 0:i.items,s,m]),P=w.useCallback(()=>{if(m===void 0||typeof m!="function")return M();const q=i.items.length?i.items:[M()].filter(Boolean),K=m({currentFilters:q,columns:s});if(K===null)return null;const z=s.find(({field:H})=>H===K);return z?S5(z):null},[i.items,s,m,M]),k=w.useMemo(()=>i.items.length?i.items:(d.current||(d.current=M()),d.current?[d.current]:[]),[i.items,M]),$=k.length>1,{readOnlyFilters:D,validFilters:I}=w.useMemo(()=>k.reduce((q,K)=>(a[K.field]?q.validFilters.push(K):q.readOnlyFilters.push(K),q),{readOnlyFilters:[],validFilters:[]}),[k,a]),A=w.useCallback(()=>{const q=P();q&&r.current.upsertFilterItems([...k,q])},[r,P,k]),N=w.useCallback(q=>{const K=I.length===1;r.current.deleteFilterItem(q),K&&r.current.hideFilterPanel()},[r,I.length]),F=w.useCallback(()=>I.length===1&&I[0].value===void 0?(r.current.deleteFilterItem(I[0]),r.current.hideFilterPanel()):r.current.setFilterModel(U({},i,{items:D}),"removeAllFilterItems"),[r,D,i,I]);return w.useEffect(()=>{h.length>0&&i.logicOperator&&!h.includes(i.logicOperator)&&O(h[0])},[h,O,i.logicOperator]),w.useEffect(()=>{I.length>0&&c.current.focus()},[I.length]),T.jsxs(Gq,U({},C,{ref:n,children:[T.jsxs(lAe,{children:[D.map((q,K)=>T.jsx(w5,U({item:q,applyFilterChanges:x,deleteFilter:N,hasMultipleFilters:$,showMultiFilterOperators:K>0,disableMultiFilterOperator:K!==1,applyMultiFilterOperatorChanges:O,focusElementRef:null,readOnly:!0,logicOperators:h,columnsSort:p},g),q.id==null?K:q.id)),I.map((q,K)=>T.jsx(w5,U({item:q,applyFilterChanges:x,deleteFilter:N,hasMultipleFilters:$,showMultiFilterOperators:D.length+K>0,disableMultiFilterOperator:D.length+K!==1,applyMultiFilterOperatorChanges:O,focusElementRef:K===I.length-1?c:null,logicOperators:h,columnsSort:p},g),q.id==null?K+D.length:q.id))]}),!o.disableMultipleColumnsFiltering&&!(v&&S)?T.jsxs(hAe,{children:[v?T.jsx("span",{}):T.jsx(o.slots.baseButton,U({onClick:A,startIcon:T.jsx(o.slots.filterPanelAddIcon,{})},(R=o.slotProps)==null?void 0:R.baseButton,{children:r.current.getLocaleText("filterPanelAddFilter")})),!S&&I.length>0?T.jsx(o.slots.baseButton,U({onClick:F,startIcon:T.jsx(o.slots.filterPanelRemoveAllIcon,{})},(V=o.slotProps)==null?void 0:V.baseButton,{children:r.current.getLocaleText("filterPanelRemoveAll")})):null]}):null]}))}),_Ae=(t,e)=>{const n=new Set(Object.keys(t).filter(i=>t[i]===!1)),r=new Set(Object.keys(e).filter(i=>e[i]===!1));if(n.size!==r.size)return!1;let o=!0;return n.forEach(i=>{r.has(i)||(o=!1)}),o},TAe=(t,e)=>(t.headerName||t.field).toLowerCase().indexOf(e)>-1,AAe=["children"],IAe=Ja({from:{opacity:0},to:{opacity:1}}),RAe=Ja({"from, to":{"--scrollable":'" "'}}),PAe=gn("div",{name:"MuiDataGrid",slot:"ShadowScrollArea"})`
  flex: 1;
  display: flex;
  flex-direction: column;
  animation: ${RAe};
  animation-timeline: --scroll-timeline;
  animation-fill-mode: none;
  box-sizing: border-box;
  overflow: auto;
  scrollbar-width: thin;
  scroll-timeline: --scroll-timeline block;

  &::before,
  &::after {
    content: '';
    flex-shrink: 0;
    display: block;
    position: sticky;
    left: 0;
    width: 100%;
    height: 4px;
    animation: ${IAe} linear both;
    animation-timeline: --scroll-timeline;

    // Custom property toggle trick:
    // - Detects if the element is scrollable
    // - https://css-tricks.com/the-css-custom-property-toggle-trick/
    --visibility-scrollable: var(--scrollable) visible;
    --visibility-not-scrollable: hidden;
    visibility: var(--visibility-scrollable, var(--visibility-not-scrollable));
  }

  &::before {
    top: 0;
    background: linear-gradient(to bottom, rgba(0, 0, 0, 0.05) 0, transparent 100%);
    animation-range: 0 4px;
  }

  &::after {
    bottom: 0;
    background: linear-gradient(to top, rgba(0, 0, 0, 0.05) 0, transparent 100%);
    animation-direction: reverse;
    animation-range: calc(100% - 4px) 100%;
  }
`,MAe=xt(function(e,n){const{children:r}=e,o=Xe(e,AAe);return T.jsx(PAe,U({},o,{ref:n,children:r}))}),kAe=t=>{const{classes:e}=t;return Ze({root:["columnsManagement"],header:["columnsManagementHeader"],searchInput:["columnsManagementSearchInput"],footer:["columnsManagementFooter"],row:["columnsManagementRow"]},en,e)},C5=new Intl.Collator;function OAe(t){var j,X,ne,ie;const e=Ft(),n=w.useRef(null),r=$e(e,kCe),o=$e(e,Ba),i=et(),[s,a]=w.useState(""),c=kAe(i),d=$e(e,ja),h=$e(e,om),p=$e(e,Tq),g=w.useMemo(()=>h?Array.from(p.values()):d,[h,p,d]),{sort:m,searchPredicate:v=TAe,autoFocusSearchField:S=!0,disableShowHideToggle:C=!1,disableResetButton:x=!1,toggleAllMode:O="all",getTogglableColumns:M,searchInputProps:P,searchDebounceMs:k=i.columnFilterDebounceMs}=t,$=w.useMemo(()=>Av(se=>{a(se)},k??150),[k]),D=w.useMemo(()=>_Ae(o,r),[o,r]),I=w.useMemo(()=>{switch(m){case"asc":return[...g].sort((se,ce)=>C5.compare(se.headerName||se.field,ce.headerName||ce.field));case"desc":return[...g].sort((se,ce)=>-C5.compare(se.headerName||se.field,ce.headerName||ce.field));default:return g}},[g,m]),A=se=>{const{name:ce}=se.target;e.current.setColumnVisibility(ce,o[ce]===!1)},N=w.useMemo(()=>{const se=M?M(I):null,ce=se?I.filter(({field:ae})=>se.includes(ae)):I;return s?ce.filter(ae=>v(ae,s.toLowerCase())):ce},[I,s,v,M]),F=w.useCallback(se=>{const ce=Ba(e),ae=U({},ce),ge=M?M(g):null;return(O==="filteredOnly"?N:g).forEach(Ee=>{Ee.hideable&&(ge==null||ge.includes(Ee.field))&&(se?delete ae[Ee.field]:ae[Ee.field]=!1)}),e.current.setColumnVisibilityModel(ae)},[e,g,M,O,N]),R=w.useCallback(se=>{$(se.target.value)},[$]),V=w.useMemo(()=>N.filter(se=>se.hideable),[N]),q=w.useMemo(()=>V.every(se=>o[se.field]==null||o[se.field]!==!1),[o,V]),K=w.useMemo(()=>V.every(se=>o[se.field]===!1),[o,V]),z=w.useRef(null);w.useEffect(()=>{var se;S?(se=n.current)==null||se.focus():z.current&&typeof z.current.focus=="function"&&z.current.focus()},[S]);let H=!1;const Z=se=>H===!1&&se.hideable!==!1?(H=!0,!0):!1,re=w.useCallback(()=>{a(""),n.current&&(n.current.value="",n.current.focus())},[]);return T.jsxs(w.Fragment,{children:[T.jsx(NAe,{className:c.header,ownerState:i,children:T.jsx(FAe,U({as:i.slots.baseTextField,ownerState:i,placeholder:e.current.getLocaleText("columnsManagementSearchTitle"),inputRef:n,className:c.searchInput,onChange:R,size:"small",type:"search",slotProps:{input:{startAdornment:T.jsx(i.slots.quickFilterIcon,{fontSize:"small"}),endAdornment:T.jsx(i.slots.baseIconButton,U({size:"small","aria-label":e.current.getLocaleText("columnsManagementDeleteIconLabel"),style:s?{visibility:"visible"}:{visibility:"hidden"},tabIndex:-1,onClick:re,edge:"end"},(j=i.slotProps)==null?void 0:j.baseIconButton,{children:T.jsx(i.slots.quickFilterClearIcon,{fontSize:"small"})}))},htmlInput:{"aria-label":e.current.getLocaleText("columnsManagementSearchTitle")}},autoComplete:"off",fullWidth:!0},(X=i.slotProps)==null?void 0:X.baseTextField,P))}),T.jsx(LAe,{ownerState:i,children:T.jsxs(DAe,{className:c.root,ownerState:i,children:[N.map(se=>{var ce;return T.jsx(zAe,U({as:i.slots.baseCheckbox,className:c.row,disabled:se.hideable===!1||h,checked:o[se.field]!==!1,onChange:A,name:se.field,inputRef:Z(se)?z:void 0,label:se.headerName||se.field,density:"compact",fullWidth:!0},(ce=i.slotProps)==null?void 0:ce.baseCheckbox),se.field)}),N.length===0&&T.jsx(VAe,{ownerState:i,children:e.current.getLocaleText("columnsManagementNoColumns")})]})}),!C||!x?T.jsxs($Ae,{ownerState:i,className:c.footer,children:[C?T.jsx("span",{}):T.jsx(i.slots.baseCheckbox,U({disabled:V.length===0||h,checked:q,indeterminate:!q&&!K,onChange:()=>F(!q),name:e.current.getLocaleText("columnsManagementShowHideAllText"),label:e.current.getLocaleText("columnsManagementShowHideAllText"),density:"compact"},(ne=i.slotProps)==null?void 0:ne.baseCheckbox)),x?null:T.jsx(i.slots.baseButton,U({onClick:()=>e.current.setColumnVisibilityModel(r),disabled:D||h},(ie=i.slotProps)==null?void 0:ie.baseButton,{children:e.current.getLocaleText("columnsManagementReset")}))]}):null]})}const DAe=Se("div",{name:"MuiDataGrid",slot:"ColumnsManagement"})({display:"flex",flexDirection:"column",padding:tt.spacing(.5,1.5)}),LAe=Se(MAe,{name:"MuiDataGrid",slot:"ColumnsManagementScrollArea"})({maxHeight:300}),NAe=Se("div",{name:"MuiDataGrid",slot:"ColumnsManagementHeader"})({padding:tt.spacing(1.5,2),borderBottom:`1px solid ${tt.colors.border.base}`}),FAe=Se(Gc,{name:"MuiDataGrid",slot:"ColumnsManagementSearchInput"})({[`& .${mi.input}::-webkit-search-decoration,
      & .${mi.input}::-webkit-search-cancel-button,
      & .${mi.input}::-webkit-search-results-button,
      & .${mi.input}::-webkit-search-results-decoration`]:{display:"none"}}),$Ae=Se("div",{name:"MuiDataGrid",slot:"ColumnsManagementFooter"})({padding:tt.spacing(1,1,1,1.5),display:"flex",justifyContent:"space-between",borderTop:`1px solid ${tt.colors.border.base}`}),VAe=Se("div",{name:"MuiDataGrid",slot:"ColumnsManagementEmptyText"})({padding:tt.spacing(1,0),alignSelf:"center",font:tt.typography.font.body}),zAe=Se(Gc,{name:"MuiDataGrid",slot:"ColumnsManagementRow"})(),BAe=xt(function(e,n){var x,O;const{children:r,slotProps:o={}}=e,i=o.button||{},s=o.tooltip||{},a=Ft(),c=et(),d=sn(),h=sn(),[p,g]=w.useState(!1),m=w.useRef(null),v=Tn(n,m),S=M=>{var P;g(k=>!k),(P=i.onClick)==null||P.call(i,M)},C=()=>g(!1);return r==null?null:T.jsxs(w.Fragment,{children:[T.jsx(c.slots.baseTooltip,U({title:a.current.getLocaleText("toolbarExportLabel"),enterDelay:1e3},(x=c.slotProps)==null?void 0:x.baseTooltip,s,{children:T.jsx(c.slots.baseButton,U({size:"small",startIcon:T.jsx(c.slots.exportIcon,{}),"aria-expanded":p,"aria-label":a.current.getLocaleText("toolbarExportLabel"),"aria-haspopup":"menu","aria-controls":p?h:void 0,id:d},(O=c.slotProps)==null?void 0:O.baseButton,i,{onClick:S,ref:v,children:a.current.getLocaleText("toolbarExport")}))})),T.jsx(PI,{open:p,target:m.current,onClose:C,position:"bottom-end",children:T.jsx(c.slots.baseMenuList,{id:h,className:ee.menuList,"aria-labelledby":d,autoFocusItem:p,children:w.Children.map(r,M=>w.isValidElement(M)?w.cloneElement(M,{hideMenu:C}):M)})})]})}),HAe=["hideMenu","options"],jAe=["hideMenu","options"],UAe=["csvOptions","printOptions","excelOptions"];function GAe(t){const e=Ft(),n=et(),{hideMenu:r,options:o}=t,i=Xe(t,HAe);return T.jsx(n.slots.baseMenuItem,U({onClick:()=>{e.current.exportDataAsCsv(o),r==null||r()}},i,{children:e.current.getLocaleText("toolbarExportCSV")}))}function WAe(t){const e=Ft(),n=et(),{hideMenu:r,options:o}=t,i=Xe(t,jAe);return T.jsx(n.slots.baseMenuItem,U({onClick:()=>{e.current.exportDataAsPrint(o),r==null||r()}},i,{children:e.current.getLocaleText("toolbarExportPrint")}))}xt(function(e,n){const r=e,{csvOptions:o={},printOptions:i={},excelOptions:s}=r,a=Xe(r,UAe),d=Ft().current.unstable_applyPipeProcessors("exportMenu",[],{excelOptions:s,csvOptions:o,printOptions:i}).sort((h,p)=>h.componentName>p.componentName?1:-1);return d.length===0?null:T.jsx(BAe,U({},a,{ref:n,children:d.map((h,p)=>w.cloneElement(h.component,{key:p}))}))});const Wq=w.createContext(void 0);function VN(){const t=w.useContext(Wq);if(t===void 0)throw new Error("MUI X: Missing context. Quick Filter subcomponents must be placed within a <QuickFilter /> component.");return t}const qAe=["render","className","parser","formatter","debounceMs","defaultExpanded","expanded","onExpandedChange"],KAe=t=>t.split(" ").filter(e=>e!==""),YAe=t=>t.join(" ");function XAe(t){const e=et(),{render:n,className:r,parser:o=KAe,formatter:i=YAe,debounceMs:s=e.filterDebounceMs,defaultExpanded:a,expanded:c,onExpandedChange:d}=t,h=Xe(t,qAe),p=Ft(),g=w.useRef(null),m=w.useRef(null),v=$e(p,eq),[S,C]=w.useState(i(v??[])),[x,O]=w.useState(a??S.length>0),M=c??x,P=w.useMemo(()=>({value:S,expanded:M}),[S,M]),k=typeof r=="function"?r(P):r,$=w.useRef(null),D=sn(),I=w.useCallback(H=>{d&&d(H),c===void 0&&O(H)},[d,c]),A=w.useRef(v);w.useEffect(()=>{Ua(A.current,v)||(A.current=v,C(H=>Ua(o(H),v)?H:i(v??[])))},[v,i,o]);const N=w.useRef(!0),F=w.useRef(M);w.useEffect(()=>{var H;if(N.current){N.current=!1;return}F.current!==M&&(M?requestAnimationFrame(()=>{var Z;(Z=g.current)==null||Z.focus({preventScroll:!0})}):(H=m.current)==null||H.focus({preventScroll:!0}),F.current=M)},[M]);const R=w.useMemo(()=>Av(H=>{const Z=o(H);A.current=Z,p.current.setQuickFilterValues(Z)},s),[p,s,o]);w.useEffect(()=>R.clear,[R]);const V=w.useCallback(H=>{const Z=H.target.value;C(Z),R(Z)},[R]),q=w.useCallback(()=>{var H;C(""),p.current.setQuickFilterValues([]),(H=g.current)==null||H.focus()},[p,g]),K=w.useMemo(()=>({controlRef:g,triggerRef:m,state:P,controlId:D,clearValue:q,onValueChange:V,onExpandedChange:I}),[D,P,V,q,I]);Un(()=>{var H;$.current&&m.current&&$.current.style.setProperty("--trigger-width",`${(H=m.current)==null?void 0:H.offsetWidth}px`)},[]);const z=Wc("div",n,U({className:k},h,{ref:$}),P);return T.jsx(Wq.Provider,{value:K,children:z})}const QAe=["render","className","slotProps","onKeyDown","onChange"],ZAe=xt(function(e,n){var $;const{render:r,className:o,slotProps:i,onKeyDown:s,onChange:a}=e,c=Xe(e,QAe),d=et(),{state:h,controlId:p,controlRef:g,onValueChange:m,onExpandedChange:v,clearValue:S}=VN(),C=typeof o=="function"?o(h):o,x=Tn(g,n),O=D=>{D.key==="Escape"&&(h.value===""?v(!1):S()),s==null||s(D)},M=D=>{var I,A;h.value===""&&v(!1),(A=(I=i==null?void 0:i.htmlInput)==null?void 0:I.onBlur)==null||A.call(I,D)},P=D=>{h.expanded||v(!0),m(D),a==null||a(D)},k=Wc(d.slots.baseTextField,r,U({},($=d.slotProps)==null?void 0:$.baseTextField,{slotProps:U({htmlInput:U({role:"searchbox",id:p,tabIndex:h.expanded?void 0:-1},i==null?void 0:i.htmlInput,{onBlur:M})},i),value:h.value,className:C},c,{onChange:P,onKeyDown:O,ref:x}),h);return T.jsx(w.Fragment,{children:k})}),JAe=["render","className","onClick"],eIe=xt(function(e,n){var m;const{render:r,className:o,onClick:i}=e,s=Xe(e,JAe),a=et(),{state:c,clearValue:d}=VN(),h=typeof o=="function"?o(c):o,p=v=>{d(),i==null||i(v)},g=Wc(a.slots.baseIconButton,r,U({},(m=a.slotProps)==null?void 0:m.baseIconButton,{className:h,tabIndex:-1},s,{onClick:p,ref:n}),c);return T.jsx(w.Fragment,{children:g})}),tIe=["render","className","onClick"],nIe=xt(function(e,n){var C;const{render:r,className:o,onClick:i}=e,s=Xe(e,tIe),a=et(),{state:c,controlId:d,onExpandedChange:h,triggerRef:p}=VN(),g=typeof o=="function"?o(c):o,m=Tn(p,n),v=x=>{h(!c.expanded),i==null||i(x)},S=Wc(a.slots.baseButton,r,U({},(C=a.slotProps)==null?void 0:C.baseButton,{className:g,"aria-controls":d,"aria-expanded":c.expanded},s,{onClick:v,ref:m}),c);return T.jsx(w.Fragment,{children:S})}),rIe=["quickFilterParser","quickFilterFormatter","debounceMs","className","slotProps"],oIe=["ref","slotProps"],iIe=t=>{const{classes:e}=t;return Ze({root:["toolbarQuickFilter"],trigger:["toolbarQuickFilterTrigger"],control:["toolbarQuickFilterControl"]},en,e)},sIe=gn("div",{name:"MuiDataGrid",slot:"ToolbarQuickFilter"})({display:"grid",alignItems:"center"}),aIe=gn(j_,{name:"MuiDataGrid",slot:"ToolbarQuickFilterTrigger"})(({ownerState:t})=>({gridArea:"1 / 1",width:"min-content",height:"min-content",zIndex:1,opacity:t.expanded?0:1,pointerEvents:t.expanded?"none":"auto",transition:tt.transition(["opacity"])})),lIe=gn(t=>{throw new Error("Failed assertion: should not be rendered")},{name:"MuiDataGrid",slot:"ToolbarQuickFilterControl"})(({ownerState:t})=>({gridArea:"1 / 1",overflowX:"clip",width:t.expanded?260:"var(--trigger-width)",opacity:t.expanded?1:0,transition:tt.transition(["width","opacity"])}));function cIe(t){const e=Ft(),n=et(),r={classes:n.classes,expanded:!1},o=iIe(r),{quickFilterParser:i,quickFilterFormatter:s,debounceMs:a,className:c,slotProps:d}=t,h=Xe(t,rIe);return T.jsx(XAe,{parser:i,formatter:s,debounceMs:a,render:(p,g)=>{const m=U({},r,{expanded:g.expanded});return T.jsxs(sIe,U({},p,{className:Ne(o.root,c),children:[T.jsx(nIe,{render:v=>T.jsx(n.slots.baseTooltip,{title:e.current.getLocaleText("toolbarQuickFilterLabel"),enterDelay:0,children:T.jsx(aIe,U({className:o.trigger},v,{ownerState:m,color:"default","aria-disabled":g.expanded,children:T.jsx(n.slots.quickFilterIcon,{fontSize:"small"})}))})}),T.jsx(ZAe,{render:v=>{var O;let{ref:S,slotProps:C}=v,x=Xe(v,oIe);return T.jsx(lIe,U({as:n.slots.baseTextField,className:o.control,ownerState:m,inputRef:S,"aria-label":e.current.getLocaleText("toolbarQuickFilterLabel"),placeholder:e.current.getLocaleText("toolbarQuickFilterPlaceholder"),size:"small",slotProps:U({input:U({startAdornment:T.jsx(n.slots.quickFilterIcon,{fontSize:"small"}),endAdornment:x.value?T.jsx(eIe,{render:T.jsx(n.slots.baseIconButton,{size:"small",edge:"end","aria-label":e.current.getLocaleText("toolbarQuickFilterDeleteIconLabel"),children:T.jsx(n.slots.quickFilterClearIcon,{fontSize:"small"})})}):null},C==null?void 0:C.input)},C)},(O=n.slotProps)==null?void 0:O.baseTextField,x,d==null?void 0:d.root,h))}})]}))}})}const uIe=["render","className","onClick","onPointerUp"],dIe=xt(function(e,n){var D;const{render:r,className:o,onClick:i,onPointerUp:s}=e,a=Xe(e,uIe),c=et(),d=sn(),h=sn(),p=Ft(),g=$e(p,im),m=g.open&&g.openedPanelValue===Xi.filters,S=$e(p,MN).length,C={open:m,filterCount:S},x=typeof o=="function"?o(C):o,{filterPanelTriggerRef:O}=FN(),M=Tn(n,O),P=I=>{m?p.current.hidePreferences():p.current.showPreferences(Xi.filters,h,d),i==null||i(I)},k=I=>{m&&I.stopPropagation(),s==null||s(I)},$=Wc(c.slots.baseButton,r,U({},(D=c.slotProps)==null?void 0:D.baseButton,{id:d,"aria-haspopup":"true","aria-expanded":m?"true":void 0,"aria-controls":m?h:void 0,onClick:P,onPointerUp:k,className:x},a,{ref:M}),C);return T.jsx(w.Fragment,{children:$})}),hIe=["render","className","onClick","onPointerUp"],fIe=xt(function(e,n){var k;const{render:r,className:o,onClick:i,onPointerUp:s}=e,a=Xe(e,hIe),c=et(),d=sn(),h=sn(),p=Ft(),g=$e(p,im),m=g.open&&g.openedPanelValue===Xi.columns,v={open:m},S=typeof o=="function"?o(v):o,{columnsPanelTriggerRef:C}=FN(),x=Tn(n,C),O=$=>{m?p.current.hidePreferences():p.current.showPreferences(Xi.columns,h,d),i==null||i($)},M=$=>{m&&$.stopPropagation(),s==null||s($)},P=Wc(c.slots.baseButton,r,U({},(k=c.slotProps)==null?void 0:k.baseButton,{id:d,"aria-haspopup":"true","aria-expanded":m?"true":void 0,"aria-controls":m?h:void 0,className:S},a,{onPointerUp:M,onClick:O,ref:x}),v);return T.jsx(w.Fragment,{children:P})}),pIe=["render","options","onClick"],gIe=xt(function(e,n){var p;const{render:r,options:o,onClick:i}=e,s=Xe(e,pIe),a=et(),c=Ft(),d=g=>{c.current.exportDataAsCsv(o),i==null||i(g)},h=Wc(a.slots.baseButton,r,U({},(p=a.slotProps)==null?void 0:p.baseButton,{onClick:d},s,{ref:n}));return T.jsx(w.Fragment,{children:h})}),mIe=["render","options","onClick"],yIe=xt(function(e,n){var p;const{render:r,options:o,onClick:i}=e,s=Xe(e,mIe),a=et(),c=Ft(),d=g=>{c.current.exportDataAsPrint(o),i==null||i(g)},h=Wc(a.slots.baseButton,r,U({},(p=a.slotProps)==null?void 0:p.baseButton,{onClick:d},s,{ref:n}));return T.jsx(w.Fragment,{children:h})}),bIe=["className"],vIe=["className"],qq=t=>{const{classes:e}=t;return Ze({divider:["toolbarDivider"],label:["toolbarLabel"]},en,e)},wIe=gn(Gc,{name:"MuiDataGrid",slot:"ToolbarDivider"})({height:"50%",margin:tt.spacing(0,.5)}),SIe=gn("span",{name:"MuiDataGrid",slot:"ToolbarLabel"})({flex:1,font:tt.typography.font.large,fontWeight:tt.typography.fontWeight.medium,margin:tt.spacing(0,.5),textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"});function E5(t){const e=Xe(t,bIe),n=et(),r=qq(n);return T.jsx(wIe,U({as:n.slots.baseDivider,orientation:"vertical",className:r.divider},e))}function CIe(t){const e=Xe(t,vIe),n=et(),r=qq(n);return T.jsx(SIe,U({className:r.label},e))}function EIe(t){var C,x,O;const{showQuickFilter:e=!0,quickFilterProps:n,csvOptions:r,printOptions:o,additionalItems:i,additionalExportMenuItems:s}=t,a=Ft(),c=et(),[d,h]=w.useState(!1),p=w.useRef(null),g=sn(),m=sn(),v=!(r!=null&&r.disableToolbarButton)||!(o!=null&&o.disableToolbarButton)||s,S=()=>h(!1);return T.jsxs(j_e,{children:[c.label&&T.jsx(CIe,{children:c.label}),!c.disableColumnSelector&&T.jsx(c.slots.baseTooltip,{title:a.current.getLocaleText("toolbarColumns"),children:T.jsx(fIe,{render:T.jsx(j_,{}),children:T.jsx(c.slots.columnSelectorIcon,{fontSize:"small"})})}),!c.disableColumnFilter&&T.jsx(c.slots.baseTooltip,{title:a.current.getLocaleText("toolbarFilters"),children:T.jsx(dIe,{render:(M,P)=>T.jsx(j_,U({},M,{color:P.filterCount>0?"primary":"default",children:T.jsx(c.slots.baseBadge,{badgeContent:P.filterCount,color:"primary",variant:"dot",children:T.jsx(c.slots.openFilterButtonIcon,{fontSize:"small"})})}))})}),i,v&&(!c.disableColumnFilter||!c.disableColumnSelector)&&T.jsx(E5,{}),v&&T.jsxs(w.Fragment,{children:[T.jsx(c.slots.baseTooltip,{title:a.current.getLocaleText("toolbarExport"),disableInteractive:d,children:T.jsx(j_,{ref:p,id:m,"aria-controls":g,"aria-haspopup":"true","aria-expanded":d?"true":void 0,onClick:()=>h(!d),children:T.jsx(c.slots.exportIcon,{fontSize:"small"})})}),T.jsx(PI,{target:p.current,open:d,onClose:S,position:"bottom-end",children:T.jsxs(c.slots.baseMenuList,U({id:g,"aria-labelledby":m,autoFocusItem:!0},(C=c.slotProps)==null?void 0:C.baseMenuList,{children:[!(o!=null&&o.disableToolbarButton)&&T.jsx(yIe,{render:T.jsx(c.slots.baseMenuItem,U({},(x=c.slotProps)==null?void 0:x.baseMenuItem)),options:o,onClick:S,children:a.current.getLocaleText("toolbarExportPrint")}),!(r!=null&&r.disableToolbarButton)&&T.jsx(gIe,{render:T.jsx(c.slots.baseMenuItem,U({},(O=c.slotProps)==null?void 0:O.baseMenuItem)),options:r,onClick:S,children:a.current.getLocaleText("toolbarExportCSV")}),s==null?void 0:s(S)]}))})]}),e&&T.jsxs(w.Fragment,{children:[T.jsx(E5,{}),T.jsx(cIe,U({},n))]})]})}const xIe=["className","selectedRowCount"],_Ie=t=>{const{classes:e}=t;return Ze({root:["selectedRowCount"]},en,e)},TIe=gn("div",{name:"MuiDataGrid",slot:"SelectedRowCount"})({alignItems:"center",display:"flex",margin:tt.spacing(0,2),visibility:"hidden",width:0,height:0,[tt.breakpoints.up("sm")]:{visibility:"visible",width:"auto",height:"auto"}}),AIe=xt(function(e,n){const{className:r,selectedRowCount:o}=e,i=Xe(e,xIe),s=Ft(),a=et(),c=_Ie(a),d=s.current.getLocaleText("footerRowSelected")(o);return T.jsx(TIe,U({className:Ne(c.root,r),ownerState:a},i,{ref:n,children:d}))}),IIe=xt(function(e,n){var p,g;const r=Ft(),o=et(),i=$e(r,GSe),s=$e(r,DI),a=$e(r,PN),c=!o.hideFooterSelectedRowCount&&s>0?T.jsx(AIe,{selectedRowCount:s}):T.jsx("div",{}),d=!o.hideFooterRowCount&&!o.pagination?T.jsx(o.slots.footerRowCount,U({},(p=o.slotProps)==null?void 0:p.footerRowCount,{rowCount:i,visibleRowCount:a})):null,h=o.pagination&&!o.hideFooterPagination&&o.slots.pagination&&T.jsx(o.slots.pagination,U({},(g=o.slotProps)==null?void 0:g.pagination));return T.jsxs(O_e,U({},e,{ref:n,children:[c,d,h]}))}),G0=(t,e,n,r,o,i)=>{let s;switch(t){case nn.LEFT:s=r[n];break;case nn.RIGHT:s=o-r[n]-e+i;break;default:s=void 0;break}return Number.isNaN(s)&&(s=void 0),s},YT=(t,e,n,r,o)=>{const i=e===n-1;return t===nn.LEFT&&i?!0:r?t===nn.LEFT?!0:t===nn.RIGHT?!i:!i||o:!1},XT=(t,e)=>t===nn.RIGHT&&e===0,Qw={root:ee.scrollbarFiller,header:ee["scrollbarFiller--header"],borderTop:ee["scrollbarFiller--borderTop"],borderBottom:ee["scrollbarFiller--borderBottom"],pinnedRight:ee["scrollbarFiller--pinnedRight"]};function zN({header:t,borderTop:e=!0,borderBottom:n,pinnedRight:r}){return T.jsx("div",{role:"presentation",className:Ne(Qw.root,t&&Qw.header,e&&Qw.borderTop,n&&Qw.borderBottom,r&&Qw.pinnedRight)})}const RIe=["skeletonRowsCount","visibleColumns","showFirstRowBorder"],PIe=gn("div",{name:"MuiDataGrid",slot:"SkeletonLoadingOverlay"})({minWidth:"100%",width:"max-content",height:"100%",overflow:"clip"}),MIe=t=>{const{classes:e}=t;return Ze({root:["skeletonLoadingOverlay"]},en,e)},x5=t=>parseInt(t.getAttribute("data-colindex"),10),kIe=xt(function(e,n){const r=et(),{slots:o}=r,i=Ni(),s=MIe({classes:r.classes}),a=w.useRef(null),c=Tn(a,n),d=Ft(),h=$e(d,Lr),p=$e(d,vN),g=$e(d,fm),m=w.useMemo(()=>g.filter(I=>I<=p).length,[p,g]),{skeletonRowsCount:v,visibleColumns:S,showFirstRowBorder:C}=e,x=Xe(e,RIe),O=$e(d,Or),M=w.useMemo(()=>O.slice(0,m),[O,m]),P=$e(d,II),k=w.useCallback(I=>{if(P.left.findIndex(A=>A.field===I)!==-1)return nn.LEFT;if(P.right.findIndex(A=>A.field===I)!==-1)return nn.RIGHT},[P.left,P.right]),$=w.useMemo(()=>{const I=[];for(let A=0;A<v;A+=1){const N=[];for(let F=0;F<M.length;F+=1){const R=M[F],V=k(R.field),q=V===nn.LEFT,K=V===nn.RIGHT,z=Lq(V,i),H=z?P[z].length:M.length-P.left.length-P.right.length,Z=z?P[z].findIndex(ye=>ye.field===R.field):F-P.left.length,re=h.hasScrollY?h.scrollbarSize:0,j=VI({},i,V,G0(V,R.computedWidth,F,g,h.columnsTotalWidth,re)),X=h.columnsTotalWidth<h.viewportOuterSize.width,ne=YT(V,Z,H,r.showCellVerticalBorder,X),ie=XT(V,Z),se=F===M.length-1,ce=K&&Z===0,ae=ce&&X,ge=se&&!ce&&X,Ee=h.viewportOuterSize.width-h.columnsTotalWidth,Te=Math.max(0,Ee),le=T.jsx(o.skeletonCell,{width:Te,empty:!0},`skeleton-filler-column-${A}`),pe=se&&re!==0;ae&&N.push(le),N.push(T.jsx(o.skeletonCell,{field:R.field,type:R.type,align:R.align,width:"var(--width)",height:h.rowHeight,"data-colindex":F,empty:S&&!S.has(R.field),className:Ne(q&&ee["cell--pinnedLeft"],K&&ee["cell--pinnedRight"],ne&&ee["cell--withRightBorder"],ie&&ee["cell--withLeftBorder"]),style:U({"--width":`${R.computedWidth}px`},j)},`skeleton-column-${A}-${R.field}`)),ge&&N.push(le),pe&&N.push(T.jsx(zN,{pinnedRight:P.right.length>0},`skeleton-scrollbar-filler-${A}`))}I.push(T.jsx("div",{className:Ne(ee.row,ee.rowSkeleton,A===0&&!C&&ee["row--firstVisible"]),children:N},`skeleton-row-${A}`))}return I},[v,M,k,i,P,h.hasScrollY,h.scrollbarSize,h.columnsTotalWidth,h.viewportOuterSize.width,h.rowHeight,g,r.showCellVerticalBorder,o,S,C]);return st(d,"columnResize",I=>{var Z,re,j;const{colDef:A,width:N}=I,F=(Z=a.current)==null?void 0:Z.querySelectorAll(`[data-field="${Td(A.field)}"]`);if(!F)throw new Error("MUI X: Expected skeleton cells to be defined with `data-field` attribute.");const R=M.findIndex(X=>X.field===A.field),V=k(A.field),q=V===nn.LEFT,K=V===nn.RIGHT,z=getComputedStyle(F[0]).getPropertyValue("--width"),H=parseInt(z,10)-N;if(F&&F.forEach(X=>{X.style.setProperty("--width",`${N}px`)}),q){const X=(re=a.current)==null?void 0:re.querySelectorAll(`.${ee["cell--pinnedLeft"]}`);X==null||X.forEach(ne=>{x5(ne)>R&&(ne.style.left=`${parseInt(getComputedStyle(ne).left,10)-H}px`)})}if(K){const X=(j=a.current)==null?void 0:j.querySelectorAll(`.${ee["cell--pinnedRight"]}`);X==null||X.forEach(ne=>{x5(ne)<R&&(ne.style.right=`${parseInt(getComputedStyle(ne).right,10)+H}px`)})}}),T.jsx(PIe,U({className:s.root},x,{ref:c,children:$}))}),OIe=xt(function(e,n){const r=Ft(),o=$e(r,Lr),i=(o==null?void 0:o.viewportInnerSize.height)??0,s=Math.ceil(i/o.rowHeight);return T.jsx(kIe,U({},e,{skeletonRowsCount:s,ref:n}))}),DIe=["variant","noRowsVariant","style"],LIe={"circular-progress":{component:t=>t.slots.baseCircularProgress,style:{}},"linear-progress":{component:t=>t.slots.baseLinearProgress,style:{display:"block"}},skeleton:{component:()=>OIe,style:{display:"block"}}},NIe=xt(function(e,n){const{variant:r="linear-progress",noRowsVariant:o="skeleton",style:i}=e,s=Xe(e,DIe),a=Ft(),c=et(),d=$e(a,Pv),h=LIe[d===0?o:r],p=h.component(c);return T.jsx(zI,U({style:U({},h.style,i)},s,{ref:n,children:T.jsx(p,{})}))}),FIe=xt(function(e,n){const o=Ft().current.getLocaleText("noRowsLabel");return T.jsx(zI,U({},e,{ref:n,children:o}))}),$Ie=xt(function(e,n){var c;const r=et(),o=Ft(),i=$e(o,Nc),s=()=>{o.current.showPreferences(Xi.columns)},a=!r.disableColumnSelector&&i.length>0;return T.jsxs(zI,U({},e,{ref:n,children:[o.current.getLocaleText("noColumnsOverlayLabel"),a&&T.jsx(r.slots.baseButton,U({size:"small"},(c=r.slotProps)==null?void 0:c.baseButton,{onClick:s,children:o.current.getLocaleText("noColumnsOverlayManageColumns")}))]}))}),VIe=Se(Gc)({maxHeight:"calc(100% + 1px)",flexGrow:1});function zIe(){var v;const t=Ft(),e=et(),n=$e(t,Qo),r=$e(t,Ay),o=$e(t,fq),{paginationMode:i,loading:s}=e,a=r===-1&&i==="server"&&s,c=w.useMemo(()=>Math.max(0,o-1),[o]),d=w.useMemo(()=>r===-1||n.page<=c?n.page:c,[c,n.page,r]),h=w.useCallback(S=>{t.current.setPageSize(S)},[t]),p=w.useCallback((S,C)=>{t.current.setPage(C)},[t]),m=(S=>{for(let C=0;C<e.pageSizeOptions.length;C+=1){const x=e.pageSizeOptions[C];if(typeof x=="number"){if(x===S)return!0}else if(x.value===S)return!0}return!1})(n.pageSize)?e.pageSizeOptions:[];return T.jsx(VIe,U({as:e.slots.basePagination,count:r,page:d,rowsPerPageOptions:m,rowsPerPage:n.pageSize,onPageChange:p,onRowsPerPageChange:h,disabled:a},(v=e.slotProps)==null?void 0:v.basePagination))}const BIe=["className","rowCount","visibleRowCount"],HIe=t=>{const{classes:e}=t;return Ze({root:["rowCount"]},en,e)},jIe=gn("div",{name:"MuiDataGrid",slot:"RowCount"})({alignItems:"center",display:"flex",margin:tt.spacing(0,2)}),UIe=xt(function(e,n){const{className:r,rowCount:o,visibleRowCount:i}=e,s=Xe(e,BIe),a=Ft(),c=et(),d=HIe(c);if(o===0)return null;const h=i<o?a.current.getLocaleText("footerTotalVisibleRows")(i,o):o.toLocaleString();return T.jsxs(jIe,U({className:Ne(d.root,r),ownerState:c},s,{ref:n,children:[a.current.getLocaleText("footerTotalRows")," ",h]}))});function GIe(t,e){return Ze(e,en,t)}const By=(t,e)=>jE(t),Kq=(t,e)=>$e(t,jE),WIe=gr(t=>t.rowReorder),qIe=ct(WIe,t=>(t==null?void 0:t.isActive)??!1),KIe=["selected","rowId","row","index","style","rowHeight","className","visibleColumns","pinnedColumns","offsetLeft","columnsTotalWidth","firstColumnIndex","lastColumnIndex","focusedColumnIndex","isFirstVisible","isLastVisible","isNotVisible","showBottomBorder","scrollbarWidth","gridHasFiller","onClick","onDoubleClick","onMouseEnter","onMouseLeave","onMouseOut","onMouseOver"],YIe=ct(Mo,(t,{rowReordering:e,treeData:n})=>!e||n?!1:!!kI(t)),XIe=xt(function(e,n){var ht;const{selected:r,rowId:o,row:i,index:s,style:a,rowHeight:c,className:d,visibleColumns:h,pinnedColumns:p,offsetLeft:g,columnsTotalWidth:m,firstColumnIndex:v,lastColumnIndex:S,focusedColumnIndex:C,isFirstVisible:x,isLastVisible:O,isNotVisible:M,showBottomBorder:P,scrollbarWidth:k,gridHasFiller:$,onClick:D,onDoubleClick:I,onMouseEnter:A,onMouseLeave:N,onMouseOut:F,onMouseOver:R}=e,V=Xe(e,KIe),q=aa(),K=RI(),z=w.useRef(null),H=et(),Z=Kq(q),re=$e(q,ka),j=$e(q,fm),X=H.rowReordering,ne=H.treeData,ie=$e(q,YIe,{rowReordering:X,treeData:ne}),se=$e(q,qIe),ce=Tn(z,n),ae=Lc(q,o),ge=$e(q,Iq,{rowId:o,editMode:H.editMode}),Ee=H.editMode===Bc.Row,Te=C!==void 0,le=Te&&C>=p.left.length&&C<v,pe=Te&&C<h.length-p.right.length&&C>=S,ye=GIe(H.classes,{root:["row",r&&"selected",Ee&&"row--editable",ge&&"row--editing",x&&"row--firstVisible",O&&"row--lastVisible",P&&"row--borderBottom",c==="auto"&&"row--dynamicHeight"]}),xe=K.hooks.useGridRowAriaAttributes();w.useLayoutEffect(()=>{if(Z.range){const Ge=q.current.getRowIndexRelativeToVisibleRows(o);Ge!==void 0&&q.current.unstable_setLastMeasuredRowIndex(Ge)}if(z.current&&c==="auto")return q.current.observeRowHeight(z.current,o)},[q,Z.range,c,o]);const Ce=w.useCallback((Ge,De)=>it=>{WE(it)||q.current.getRow(o)&&(q.current.publishEvent(Ge,q.current.getRowParams(o),it),De&&De(it))},[q,o]),Pe=w.useCallback(Ge=>{const De=KT(Ge.target,ee.cell),it=De==null?void 0:De.getAttribute("data-field");if(it){if(it===Ov.field||it===AN||it==="__reorder__"||q.current.getCellMode(o,it)===In.Edit)return;const Et=q.current.getColumn(it);if((Et==null?void 0:Et.type)===MI)return}Ce("rowClick",D)(Ge)},[q,D,Ce,o]),{slots:ze,slotProps:Ke,disableColumnReorder:ke}=H,ot=$e(q,()=>U({},q.current.getRowHeightEntry(o)),void 0,RW),Ye=w.useMemo(()=>{if(M)return{opacity:0,width:0,height:0};const Ge=U({},a,{maxHeight:c==="auto"?"none":c,minHeight:c,"--height":typeof c=="number"?`${c}px`:c});if(ot.spacingTop){const De=H.rowSpacingType==="border"?"borderTopWidth":"marginTop";Ge[De]=ot.spacingTop}if(ot.spacingBottom){const De=H.rowSpacingType==="border"?"borderBottomWidth":"marginBottom";let it=Ge[De];typeof it!="number"&&(it=parseInt(it||"0",10)),it+=ot.spacingBottom,Ge[De]=it}return Ge},[M,c,a,ot,H.rowSpacingType]);if(!ae)return null;const at=q.current.unstable_applyPipeProcessors("rowClassName",[],o),he=xe(ae,s);if(typeof H.getRowClassName=="function"){const Ge=s-(((ht=Z.range)==null?void 0:ht.firstRowIndex)||0),De=U({},q.current.getRowParams(o),{isFirstVisible:Ge===0,isLastVisible:Ge===Z.rows.length-1,indexRelativeToCurrentPage:Ge});at.push(H.getRowClassName(De))}const Ue=(Ge,De,it,Et,gt=nn.NONE)=>{const mt=q.current.unstable_getCellColSpanInfo(o,it);if(mt!=null&&mt.spannedByColSpan)return null;const Ut=(mt==null?void 0:mt.cellProps.width)??Ge.computedWidth,Ot=(mt==null?void 0:mt.cellProps.colSpan)??1,mn=G0(gt,Ge.computedWidth,it,j,m,k);if(ae.type==="skeletonRow")return T.jsx(ze.skeletonCell,{type:Ge.type,width:Ut,height:c,field:Ge.field,align:Ge.align},Ge.field);const vt=Ge.field==="__reorder__",Yt=!(ke||Ge.disableReorder),Zt=ie&&!re.length,An=!(Yt||vt&&Zt||se),_r=gt===nn.VIRTUAL,Qn=XT(gt,De),Tr=YT(gt,De,Et,H.showCellVerticalBorder,$);return T.jsx(ze.cell,U({column:Ge,width:Ut,rowId:o,align:Ge.align||"left",colIndex:it,colSpan:Ot,disableDragEvents:An,isNotVisible:_r,pinnedOffset:mn,pinnedPosition:gt,showLeftBorder:Qn,showRightBorder:Tr,row:i,rowNode:ae},Ke==null?void 0:Ke.cell),Ge.field)},qe=p.left.map((Ge,De)=>Ue(Ge,De,De,p.left.length,nn.LEFT)),nt=p.right.map((Ge,De)=>{const it=h.length-p.right.length+De;return Ue(Ge,De,it,p.right.length,nn.RIGHT)}),Je=h.length-p.left.length-p.right.length,Qe=[];le&&Qe.push(Ue(h[C],C-p.left.length,C,Je,nn.VIRTUAL));for(let Ge=v;Ge<S;Ge+=1){const De=h[Ge],it=Ge-p.left.length;De&&Qe.push(Ue(De,it,Ge,Je))}pe&&Qe.push(Ue(h[C],C-p.left.length,C,Je,nn.VIRTUAL));const dt=i?{onClick:Pe,onDoubleClick:Ce("rowDoubleClick",I),onMouseEnter:Ce("rowMouseEnter",A),onMouseLeave:Ce("rowMouseLeave",N),onMouseOut:Ce("rowMouseOut",F),onMouseOver:Ce("rowMouseOver",R)}:null;return T.jsxs("div",U({"data-id":o,"data-rowindex":s,role:"row",className:Ne(...at,ye.root,d),style:Ye},he,dt,V,{ref:ce,children:[qe,T.jsx("div",{role:"presentation",className:ee.cellOffsetLeft,style:{width:g}}),Qe,T.jsx("div",{role:"presentation",className:Ne(ee.cell,ee.cellEmpty)}),nt,k!==0&&T.jsx(zN,{pinnedRight:p.right.length>0,borderTop:!x})]}))}),QIe=xd(XIe),ZIe=()=>{const t=aa(),e=et(),n=$e(t,Or),r=$e(t,RN),o=$e(t,UE),i=$e(t,SW),s=e["aria-label"],a=e["aria-labelledby"];return{role:"grid","aria-label":!s&&!a&&e.label?e.label:s,"aria-labelledby":a,"aria-colcount":n.length,"aria-rowcount":o+1+i+r,"aria-multiselectable":kN(e)}},JIe=()=>{const t=aa(),e=$e(t,UE);return w.useCallback((n,r)=>{const o={},i=r+e+2;return o["aria-rowindex"]=i,n&&t.current.isRowSelectable(n.id)&&(o["aria-selected"]=t.current.isRowSelected(n.id)),o},[t,e])},eRe=t=>({setRowIndex:w.useCallback((n,r)=>{const o=Lc(t,n);if(!o)throw new Error(`MUI X: No row with id #${n} found.`);if(o.parent!==Lo)throw new Error("MUI X: The row reordering do not support reordering of grouped rows yet.");if(o.type!=="leaf")throw new Error("MUI X: The row reordering do not support reordering of footer or grouping rows.");t.current.setState(i=>{const s=Zo(t)[Lo],a=s.children,c=a.findIndex(h=>h===n);if(c===-1||c===r)return i;const d=[...a];return d.splice(r,0,d.splice(c,1)[0]),U({},i,{rows:U({},i.rows,{tree:U({},i.rows.tree,{[Lo]:U({},s,{children:d})})})})}),t.current.publishEvent("rowsSet")},[t])});function tRe({privateApiRef:t,configuration:e,props:n,children:r}){const o=w.useRef(t.current.getPublicApi());return T.jsx(YW.Provider,{value:e,children:T.jsx(dW.Provider,{value:n,children:T.jsx(Eq.Provider,{value:t,children:T.jsx(hW.Provider,{value:o,children:T.jsx(E_e,{children:T.jsx(qCe,{children:r})})})})})})}const nRe=t=>{const e=w.useRef(null),n=w.useRef(null),r=w.useRef(null),o=w.useRef(null),i=w.useRef(null),s=w.useRef(null);t.current.register("public",{rootElementRef:e}),t.current.register("private",{mainElementRef:n,virtualScrollerRef:r,virtualScrollbarVerticalRef:o,virtualScrollbarHorizontalRef:i,columnHeadersContainerRef:s})},rRe=t=>{const e=Ni();t.current.state.isRtl===void 0&&(t.current.state.isRtl=e);const n=w.useRef(!0);w.useEffect(()=>{n.current?n.current=!1:t.current.setState(r=>U({},r,{isRtl:e}))},[t,e])},oRe=ACe()&&window.localStorage.getItem("DEBUG")!=null,P0=()=>{},iRe={debug:P0,info:P0,warn:P0,error:P0},_5=["debug","info","warn","error"];function T5(t,e,n=console){const r=_5.indexOf(e);if(r===-1)throw new Error(`MUI X: Log level ${e} not recognized.`);return _5.reduce((i,s,a)=>(a>=r?i[s]=(...c)=>{const[d,...h]=c;n[s](`MUI X: ${t} - ${d}`,...h)}:i[s]=P0,i),{})}const sRe=(t,e)=>{const n=w.useCallback(r=>oRe?T5(r,"debug",e.logger):e.logLevel?T5(r,e.logLevel.toString(),e.logger):iRe,[e.logLevel,e.logger]);Wt(t,{getLogger:n},"private")},aRe=(t,e)=>{const n=w.useCallback(r=>{if(e.localeText[r]==null)throw new Error(`Missing translation for key ${r}.`);return e.localeText[r]},[e.localeText]);t.current.register("public",{getLocaleText:n})};function xS(t){"@babel/helpers - typeof";return xS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xS(t)}function lRe(t,e){if(xS(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function _S(t){var e=lRe(t,"string");return xS(e)=="symbol"?e:e+""}const cRe=t=>{const e=w.useRef({}),n=w.useRef(!1),r=w.useCallback(p=>{n.current||!p||(n.current=!0,Object.values(p.appliers).forEach(g=>{g()}),n.current=!1)},[]),o=w.useCallback((p,g,m)=>{e.current[p]||(e.current[p]={processors:new Map,processorsAsArray:[],appliers:{},processorsUpdated:!1});const v=e.current[p];return v.processors.get(g)!==m&&(v.processors.set(g,m),v.processorsAsArray=Array.from(e.current[p].processors.values()).filter(C=>C!==null),v.processorsUpdated=!0),()=>{e.current[p].processors.set(g,null),e.current[p].processorsAsArray=Array.from(e.current[p].processors.values()).filter(C=>C!==null)}},[]),i=w.useCallback((p,g,m)=>(e.current[p]||(e.current[p]={processors:new Map,processorsAsArray:[],appliers:{},processorsUpdated:!1}),e.current[p].appliers[g]=m,()=>{const v=e.current[p].appliers,S=Xe(v,[g].map(_S));e.current[p].appliers=S}),[]),s=w.useCallback(p=>{r(e.current[p])},[r]),a=w.useCallback(()=>{for(const p in e.current){if(!Object.prototype.hasOwnProperty.call(e.current,p))continue;const g=e.current[p];g.processorsUpdated&&(g.processorsUpdated=!1,r(g))}},[r]),c=w.useCallback((...p)=>{const[g,m,v]=p;if(!e.current[g])return m;const S=e.current[g].processorsAsArray;let C=m;for(let x=0;x<S.length;x+=1)C=S[x](C,v);return C},[]),d={registerPipeProcessor:o,registerPipeApplier:i,requestPipeProcessorsApplication:s,runAppliersForPendingProcessors:a},h={unstable_applyPipeProcessors:c};Wt(t,d,"private"),Wt(t,h,"public")},xr=(t,e,n,r=!0)=>{const o=w.useRef(null),i=w.useRef(`mui-${Math.round(Math.random()*1e9)}`),s=w.useCallback(()=>{o.current=t.current.registerPipeProcessor(e,i.current,n)},[t,n,e]);pm(()=>{r&&s()});const a=w.useRef(!0);w.useEffect(()=>(a.current?a.current=!1:r&&s(),()=>{o.current&&(o.current(),o.current=null)}),[s,r])},BN=(t,e,n)=>{const r=w.useRef(null),o=w.useRef(`mui-${Math.round(Math.random()*1e9)}`),i=w.useCallback(()=>{r.current=t.current.registerPipeApplier(e,o.current,n)},[t,n,e]);pm(()=>{i()});const s=w.useRef(!0);w.useEffect(()=>(s.current?s.current=!1:i(),()=>{r.current&&(r.current(),r.current=null)}),[i])};let hh=function(t){return t.DataSource="dataSource",t.RowTree="rowTree",t}({});const TS=(t,e,n,r)=>{const o=w.useCallback(()=>{t.current.registerStrategyProcessor(e,n,r)},[t,r,n,e]);pm(()=>{o()});const i=w.useRef(!0);w.useEffect(()=>{i.current?i.current=!1:o()},[o])},sm="none",A5={dataSourceRowsUpdate:hh.DataSource,rowTreeCreation:hh.RowTree,filtering:hh.RowTree,sorting:hh.RowTree,visibleRowsLookupCreation:hh.RowTree},uRe=t=>{const e=w.useRef(new Map),n=w.useRef({}),r=w.useCallback((c,d,h)=>{const p=()=>{const v=n.current[d],S=Xe(v,[c].map(_S));n.current[d]=S};n.current[d]||(n.current[d]={});const g=n.current[d],m=g[c];return g[c]=h,!m||m===h||c===t.current.getActiveStrategy(A5[d])&&t.current.publishEvent("activeStrategyProcessorChange",d),p},[t]),o=w.useCallback((c,d)=>{const h=t.current.getActiveStrategy(A5[c]);if(h==null)throw new Error("Can't apply a strategy processor before defining an active strategy");const p=n.current[c];if(!p||!p[h])throw new Error(`No processor found for processor "${c}" on strategy "${h}"`);const g=p[h];return g(d)},[t]),i=w.useCallback(c=>{const h=Array.from(e.current.entries()).find(([,p])=>p.group!==c?!1:p.isAvailable());return(h==null?void 0:h[0])??sm},[]),s=w.useCallback((c,d,h)=>{e.current.set(d,{group:c,isAvailable:h}),t.current.publishEvent("strategyAvailabilityChange")},[t]);Wt(t,{registerStrategyProcessor:r,applyStrategyProcessor:o,getActiveStrategy:i,setStrategyAvailability:s},"private")},dRe=t=>{const e=w.useRef({}),n=w.useCallback(a=>{e.current[a.stateId]=a},[]),r=w.useCallback((a,c)=>{let d;if(TCe(a)?d=a(t.current.state):d=a,t.current.state===d)return!1;const h={current:{state:d}};let p=!1;const g=[];if(Object.keys(e.current).forEach(m=>{const v=e.current[m],S=v.stateSelector(t),C=v.stateSelector(h);C!==S&&(g.push({stateId:v.stateId,hasPropChanged:C!==v.propModel}),v.propModel!==void 0&&C!==v.propModel&&(p=!0))}),g.length>1)throw new Error(`You're not allowed to update several sub-state in one transaction. You already updated ${g[0].stateId}, therefore, you're not allowed to update ${g.map(m=>m.stateId).join(", ")} in the same transaction.`);if(p||(t.current.state=d,t.current.publishEvent("stateChange",d),t.current.store.update(d)),g.length===1){const{stateId:m,hasPropChanged:v}=g[0],S=e.current[m],C=S.stateSelector(h);S.propOnChange&&v&&S.propOnChange(C,{reason:c,api:t.current}),p||t.current.publishEvent(S.changeEvent,C,{reason:c})}return!p},[t]),o=w.useCallback((a,c,d)=>t.current.setState(h=>U({},h,{[a]:c(h[a])}),d),[t]),i={setState:r},s={updateControlState:o,registerControlState:n};Wt(t,i,"public"),Wt(t,s,"private")},hRe=(t,e)=>U({},t,{props:{listView:e.listView,getRowId:e.getRowId}}),fRe=(t,e)=>{w.useEffect(()=>{t.current.setState(n=>U({},n,{props:{listView:e.listView,getRowId:e.getRowId}}))},[t,e.listView,e.getRowId])},pRe=(t,e)=>{nRe(t),fRe(t,e),rRe(t),sRe(t,e),dRe(t),cRe(t),uRe(t),aRe(t,e),t.current.register("private",{rootProps:e})},gRe=ct(fs,Oq,jE,Or,(t,e,n,r)=>{if(!t)return!1;const o=n.rowIdToIndexMap.get(t.id),i=r.slice(e.firstColumnIndex,e.lastColumnIndex).findIndex(a=>a.field===t.field);return!(o!==void 0&&i!==-1&&o>=e.firstRowIndex&&o<=e.lastRowIndex)}),mRe=Sn(gRe,Or,jE,fs,(t,e,n,r)=>{if(!t)return null;const o=n.rowIdToIndexMap.get(r.id);if(o===void 0)return null;const i=e.findIndex(s=>s.field===r.field);return i===-1?null:U({},r,{rowIndex:o,columnIndex:i})}),QT={autoHeight:!1,autoPageSize:!1,autosizeOnMount:!1,checkboxSelection:!1,checkboxSelectionVisibleOnly:!1,clipboardCopyCellDelimiter:"	",columnBufferPx:150,columnFilterDebounceMs:150,columnHeaderHeight:56,disableAutosize:!1,disableColumnFilter:!1,disableColumnMenu:!1,disableColumnReorder:!1,disableColumnResize:!1,disableColumnSelector:!1,disableColumnSorting:!1,disableDensitySelector:!1,disableEval:!1,disableMultipleColumnsFiltering:!1,disableMultipleColumnsSorting:!1,disableMultipleRowSelection:!1,disableRowSelectionOnClick:!1,disableVirtualization:!1,editMode:Bc.Cell,filterDebounceMs:150,filterMode:"client",hideFooter:!1,hideFooterPagination:!1,hideFooterRowCount:!1,hideFooterSelectedRowCount:!1,ignoreDiacritics:!1,ignoreValueFormatterDuringExport:!1,keepColumnPositionIfDraggedOutside:!1,keepNonExistentRowsSelected:!1,loading:!1,logger:console,logLevel:"error",pageSizeOptions:[25,50,100],pagination:!1,paginationMode:"client",resizeThrottleMs:60,rowBufferPx:150,rowHeight:52,rows:[],rowSelection:!0,rowSpacingType:"margin",rowSpanning:!1,showCellVerticalBorder:!1,showColumnVerticalBorder:!1,showToolbar:!1,sortingMode:"client",sortingOrder:["asc","desc",null],throttleRowsMs:0,virtualizeColumnsWithAutoRowHeight:!1};function yRe(t){return t}const bRe=ct(Or,fm,(t,e)=>{const n=t.length;return n===0?0:Ap(e[n-1]+t[n-1].computedWidth,1)}),vRe=()=>m2((t,e,n,r,o)=>U({},t,{headerHeight:e,groupHeaderHeight:n,headerFilterHeight:r,headersTotalHeight:o}),{maxSize:1});function wRe(t,e){var re;const n=Ni(),{listView:r}=e,o=$e(t,Or),i=$e(t,$E),s=II(t),a=$e(t,HE),c=j=>a.has(j)&&t.current.isRowSelectable(j),d=Kq(t),h=$e(t,DCe),p=$e(t,wW),g=$e(t,vW),{autoHeight:m}=e,v=r,S=$e(t,VE),C=TW(e.rowHeight,QT.rowHeight),x=Math.floor(C*S),O=Math.floor(e.columnHeaderHeight*S),M=Math.floor((e.columnGroupHeaderHeight??e.columnHeaderHeight)*S),P=Math.floor((e.headerFilterHeight??e.columnHeaderHeight)*S),k=$e(t,bRe),$=GE(t,e),D=s.left.reduce((j,X)=>j+X.computedWidth,0),I=s.right.reduce((j,X)=>j+X.computedWidth,0),A={rowHeight:x,headerHeight:O,columnsTotalWidth:k,leftPinnedWidth:D,rightPinnedWidth:I,topPinnedHeight:$,bottomPinnedHeight:0,scrollbarSize:e.scrollbarSize},N=sa(vRe).current,F=$e(t,Pv),R=$e(t,kv),V=Math.min(R.enabled?R.paginationModel.pageSize:F,F),{getRowHeight:q,getEstimatedRowHeight:K,getRowSpacing:z}=e,H=$e(t,mRe),Z=O1e({refs:{container:t.current.mainElementRef,scroller:t.current.virtualScrollerRef,scrollbarVertical:t.current.virtualScrollbarVerticalRef,scrollbarHorizontal:t.current.virtualScrollbarHorizontalRef},dimensions:A,virtualization:{isRtl:n,rowBufferPx:e.rowBufferPx,columnBufferPx:e.columnBufferPx},colspan:{enabled:h,getColspan:(j,X)=>{if(typeof X.colSpan=="function"){const ne=t.current.getRow(j),ie=t.current.getRowValue(ne,X);return X.colSpan(ie,ne,X,t)??0}return X.colSpan??1}},initialState:{scroll:(re=e.initialState)==null?void 0:re.scroll,rowSpanning:t.current.state.rowSpanning,virtualization:t.current.state.virtualization},rows:d.rows,range:d.range,rowCount:V,columns:o,pinnedRows:i,pinnedColumns:s,autoHeight:m,minimalContentHeight:_W,getRowHeight:w.useMemo(()=>{if(q)return j=>q(U({},j,{densityFactor:S}))},[q,S]),getEstimatedRowHeight:w.useMemo(()=>K?j=>K(U({},j,{densityFactor:S})):void 0,[K,S]),getRowSpacing:w.useMemo(()=>z?j=>{const X=d.rowIdToIndexMap.get(j.id)??-1,ne={isFirstVisible:X===0,isLastVisible:X===d.rows.length-1,indexRelativeToCurrentPage:X};return z(U({},j,ne,{indexRelativeToCurrentPage:t.current.getRowIndexRelativeToVisibleRows(j.id)}))}:void 0,[t,z,d.rows,d.rowIdToIndexMap]),applyRowHeight:Mt((j,X)=>t.current.unstable_applyPipeProcessors("rowHeight",j,X)),virtualizeColumnsWithAutoRowHeight:e.virtualizeColumnsWithAutoRowHeight,focusedVirtualCell:Mt(()=>H),resizeThrottleMs:e.resizeThrottleMs,onResize:Mt(j=>t.current.publishEvent("resize",j)),onWheel:Mt(j=>{t.current.publishEvent("virtualScrollerWheel",{},j)}),onTouchMove:Mt(j=>{t.current.publishEvent("virtualScrollerTouchMove",{},j)}),onRenderContextChange:Mt(j=>{t.current.publishEvent("renderedRowsIntervalChange",j)}),onScrollChange:(j,X)=>{t.current.publishEvent("scrollPositionChange",{top:j.top,left:j.left,renderContext:X})},scrollReset:v,renderRow:j=>{var X;return T.jsx(e.slots.row,U({row:j.model,rowId:j.id,index:j.rowIndex,selected:c(j.id),offsetLeft:j.offsetLeft,columnsTotalWidth:k,rowHeight:j.baseRowHeight,pinnedColumns:s,visibleColumns:o,firstColumnIndex:j.firstColumnIndex,lastColumnIndex:j.lastColumnIndex,focusedColumnIndex:j.focusedColumnIndex,isFirstVisible:j.isFirstVisible,isLastVisible:j.isLastVisible,isNotVisible:j.isVirtualFocusRow,showBottomBorder:j.showBottomBorder,scrollbarWidth:p,gridHasFiller:g},(X=e.slotProps)==null?void 0:X.row),j.id)},renderInfiniteLoadingTrigger:j=>{var X,ne;return(ne=(X=t.current).getInfiniteLoadingTriggerElement)==null?void 0:ne.call(X,{lastRowId:j})}});pm(()=>{t.current.store.state.dimensions=N(Z.store.state.dimensions,O,M,P,$),t.current.store.state.rowsMeta=Z.store.state.rowsMeta,t.current.store.state.virtualization=Z.store.state.virtualization}),zT(Z.store,ps.selectors.dimensions,(j,X)=>{t.current.setState(ne=>U({},ne,{dimensions:N(X,O,M,P,$)}))}),zT(Z.store,yRe,(j,X)=>{X.rowsMeta!==t.current.state.rowsMeta&&t.current.setState(ne=>U({},ne,{rowsMeta:X.rowsMeta})),X.virtualization!==t.current.state.virtualization&&t.current.setState(ne=>U({},ne,{virtualization:X.virtualization}))}),t.current.register("private",{virtualizer:Z})}const To=(t,e,n,r)=>{const o=w.useRef(r),i=w.useRef(!1);r!==o.current&&(i.current=!1,o.current=r),i.current||(e.current.state=t(e.current.state,n,e),i.current=!0)};function BD(t,e){if(t==null)return"";const n=typeof t=="string"?t:`${t}`;if(e.shouldAppendQuotes||e.escapeFormulas){const r=n.replace(/"/g,'""');return e.escapeFormulas&&["=","+","-","@","	","\r"].includes(r[0])?`"'${r}"`:[e.delimiter,`
`,"\r",'"'].some(o=>n.includes(o))?`"${r}"`:r}return n}const Yq=(t,e)=>{var i,s;const{csvOptions:n,ignoreValueFormatter:r}=e;let o;if(r){const a=t.colDef.type;a==="number"?o=String(t.value):a==="date"||a==="dateTime"?o=(i=t.value)==null?void 0:i.toISOString():typeof((s=t.value)==null?void 0:s.toString)=="function"?o=t.value.toString():o=t.value}else o=t.formattedValue;return BD(o,n)};class HD{constructor(e){je(this,"rowString","");je(this,"isEmpty",!0);this.options=e}addValue(e){this.isEmpty||(this.rowString+=this.options.csvOptions.delimiter),typeof this.options.sanitizeCellValue=="function"?this.rowString+=this.options.sanitizeCellValue(e,this.options.csvOptions):this.rowString+=e,this.isEmpty=!1}getRowString(){return this.rowString}}const SRe=({id:t,columns:e,getCellParams:n,csvOptions:r,ignoreValueFormatter:o})=>{const i=new HD({csvOptions:r});return e.forEach(s=>{const a=n(t,s.field);i.addValue(Yq(a,{ignoreValueFormatter:o,csvOptions:r}))}),i.getRowString()};function CRe(t){const{columns:e,rowIds:n,csvOptions:r,ignoreValueFormatter:o,apiRef:i}=t,s=n.reduce((p,g)=>`${p}${SRe({id:g,columns:e,getCellParams:i.current.getCellParams,ignoreValueFormatter:o,csvOptions:r})}\r
`,"").trim();if(!r.includeHeaders)return s;const a=e.filter(p=>p.field!==Ov.field),c=[];if(r.includeColumnGroupsHeaders){const p=i.current.getAllGroupDetails();let g=0;const m=a.reduce((v,S)=>{const C=i.current.getColumnGroupPath(S.field);return v[S.field]=C,g=Math.max(g,C.length),v},{});for(let v=0;v<g;v+=1){const S=new HD({csvOptions:r,sanitizeCellValue:BD});c.push(S),a.forEach(C=>{const x=(m[C.field]||[])[v],O=p[x];S.addValue(O?O.headerName||O.groupId:"")})}}const d=new HD({csvOptions:r,sanitizeCellValue:BD});return a.forEach(p=>{d.addValue(p.headerName||p.field)}),c.push(d),`${`${c.map(p=>p.getRowString()).join(`\r
`)}\r
`}${s}`.trim()}function I5(t){const e=document.createElement("span");e.style.whiteSpace="pre",e.style.userSelect="all",e.style.opacity="0px",e.textContent=t,document.body.appendChild(e);const n=document.createRange();n.selectNode(e);const r=window.getSelection();r.removeAllRanges(),r.addRange(n);try{document.execCommand("copy")}finally{document.body.removeChild(e)}}function ERe(t){navigator.clipboard?navigator.clipboard.writeText(t).catch(()=>{I5(t)}):I5(t)}function xRe(t){var e;return!!((e=window.getSelection())!=null&&e.toString()||t&&(t.selectionEnd||0)-(t.selectionStart||0)>0)}const _Re=(t,e)=>{const n=e.ignoreValueFormatterDuringExport,r=(typeof n=="object"?n==null?void 0:n.clipboardExport:n)||!1,o=e.clipboardCopyCellDelimiter,i=w.useCallback(s=>{if(!UCe(s)||xRe(s.target))return;let a="";if(DI(t)>0)a=t.current.getDataAsCsv({includeHeaders:!1,delimiter:o,shouldAppendQuotes:!1,escapeFormulas:!1});else{const d=fs(t);if(d){const h=t.current.getCellParams(d.id,d.field);a=Yq(h,{csvOptions:{delimiter:o,shouldAppendQuotes:!1,escapeFormulas:!1},ignoreValueFormatter:r})}}a=t.current.unstable_applyPipeProcessors("clipboardCopy",a),a&&(ERe(a),t.current.publishEvent("clipboardCopy",a))},[t,r,o]);xq(t,()=>t.current.rootElementRef.current,"keydown",i),Bn(t,"clipboardCopy",e.onClipboardCopy)},TRe=t=>U({},t,{columnMenu:{open:!1}}),ARe=t=>{const e=ti(t,"useGridColumnMenu"),n=w.useCallback(s=>{const a=B_(t),c={open:!0,field:s};(c.open!==a.open||c.field!==a.field)&&(t.current.setState(h=>h.columnMenu.open&&h.columnMenu.field===s?h:(e.debug("Opening Column Menu"),U({},h,{columnMenu:{open:!0,field:s}}))),t.current.hidePreferences())},[t,e]),r=w.useCallback(()=>{const s=B_(t);if(s.field){const d=_d(t),h=Ba(t),p=Nc(t);let g=s.field;if(d[g]||(g=p[0]),h[g]===!1){const m=p.filter(S=>S===g?!0:h[S]!==!1),v=m.indexOf(g);g=m[v+1]||m[v-1]}t.current.setColumnHeaderFocus(g)}const a={open:!1,field:void 0};(a.open!==s.open||a.field!==s.field)&&t.current.setState(d=>(e.debug("Hiding Column Menu"),U({},d,{columnMenu:a})))},[t,e]),o=w.useCallback(s=>{e.debug("Toggle Column Menu");const a=B_(t);!a.open||a.field!==s?n(s):r()},[t,e,n,r]);Wt(t,{showColumnMenu:n,hideColumnMenu:r,toggleColumnMenu:o},"public"),st(t,"columnResizeStart",r),st(t,"virtualScrollerWheel",t.current.hideColumnMenu),st(t,"virtualScrollerTouchMove",t.current.hideColumnMenu)},IRe=(t,e,n)=>{var o,i,s;n.current.caches.columns={lastColumnsProp:e.columns};const r=Ey({apiRef:n,columnsToUpsert:e.columns,initialState:(o=e.initialState)==null?void 0:o.columns,columnVisibilityModel:e.columnVisibilityModel??((s=(i=e.initialState)==null?void 0:i.columns)==null?void 0:s.columnVisibilityModel)??{},keepOnlyColumnsToUpsert:!0});return U({},t,{columns:r,pinnedColumns:t.pinnedColumns??HT})};function RRe(t,e){var I,A;const n=ti(t,"useGridColumns");t.current.registerControlState({stateId:"visibleColumns",propModel:e.columnVisibilityModel,propOnChange:e.onColumnVisibilityModelChange,stateSelector:Ba,changeEvent:"columnVisibilityModelChange"});const r=w.useCallback(N=>{n.debug("Updating columns state."),t.current.setState(PRe(N)),t.current.publishEvent("columnsChange",N.orderedFields)},[n,t]),o=w.useCallback(N=>_d(t)[N],[t]),i=w.useCallback(()=>ja(t),[t]),s=w.useCallback(()=>Or(t),[t]),a=w.useCallback((N,F=!0)=>(F?Or(t):ja(t)).findIndex(V=>V.field===N),[t]),c=w.useCallback(N=>{const F=a(N);return fm(t)[F]},[t,a]),d=w.useCallback(N=>{var R,V;Ba(t)!==N&&(t.current.setState(q=>U({},q,{columns:Ey({apiRef:t,columnsToUpsert:[],initialState:void 0,columnVisibilityModel:N,keepOnlyColumnsToUpsert:!1})})),(V=(R=t.current).updateRenderContext)==null||V.call(R))},[t]),h=w.useCallback(N=>{if(om(t)){t.current.updateNonPivotColumns(N);return}const F=Ey({apiRef:t,columnsToUpsert:N,initialState:void 0,keepOnlyColumnsToUpsert:!1,updateInitialVisibilityModel:!0});r(F)},[t,r]),p=w.useCallback((N,F)=>{const R=Ba(t),V=R[N]??!0;if(F!==V){const q=U({},R,{[N]:F});t.current.setColumnVisibilityModel(q)}},[t]),g=w.useCallback(N=>Nc(t).findIndex(R=>R===N),[t]),m=w.useCallback((N,F)=>{const R=Nc(t),V=g(N);if(V===F)return;n.debug(`Moving column ${N} to index ${F}`);const q=[...R],K=q.splice(V,1)[0];q.splice(F,0,K),r(U({},Rl(t),{orderedFields:q}));const z={column:t.current.getColumn(N),targetIndex:t.current.getColumnIndexRelativeToVisibleColumns(N),oldIndex:V};t.current.publishEvent("columnIndexChange",z)},[t,n,r,g]),v=w.useCallback((N,F)=>{n.debug(`Updating column ${N} width to ${F}`);const R=Rl(t),V=R.lookup[N],q=U({},V,{width:F,hasBeenResized:!0});r(VD(U({},R,{lookup:U({},R.lookup,{[N]:q})}),t.current.getRootDimensions())),t.current.publishEvent("columnWidthChange",{element:t.current.getColumnHeaderElement(N),colDef:q,width:F})},[t,n,r]),S={getColumn:o,getAllColumns:i,getColumnIndex:a,getColumnPosition:c,getVisibleColumns:s,getColumnIndexRelativeToVisibleColumns:g,updateColumns:h,setColumnVisibilityModel:d,setColumnVisibility:p,setColumnWidth:v},C={setColumnIndex:m};Wt(t,S,"public"),Wt(t,C,e.signature===Il.DataGrid?"private":"public");const x=w.useCallback((N,F)=>{var H,Z;const R={},V=Ba(t);(!F.exportOnlyDirtyModels||e.columnVisibilityModel!=null||Object.keys(((Z=(H=e.initialState)==null?void 0:H.columns)==null?void 0:Z.columnVisibilityModel)??{}).length>0||Object.keys(V).length>0)&&(R.columnVisibilityModel=V),R.orderedFields=Nc(t);const K=ja(t),z={};return K.forEach(re=>{if(re.hasBeenResized){const j={};wq.forEach(X=>{let ne=re[X];ne===1/0&&(ne=-1),j[X]=ne}),z[re.field]=j}}),Object.keys(z).length>0&&(R.dimensions=z),U({},N,{columns:R})},[t,e.columnVisibilityModel,(I=e.initialState)==null?void 0:I.columns]),O=w.useCallback((N,F)=>{const R=F.stateToRestore.columns,V=R==null?void 0:R.columnVisibilityModel;if(R==null)return N;const q=Ey({apiRef:t,columnsToUpsert:[],initialState:R,columnVisibilityModel:V,keepOnlyColumnsToUpsert:!1});return R!=null&&t.current.setState(K=>U({},K,{columns:U({},K.columns,{lookup:q.lookup,orderedFields:q.orderedFields,initialColumnVisibilityModel:q.initialColumnVisibilityModel})})),V!=null&&t.current.setState(K=>U({},K,{columns:U({},K.columns,{columnVisibilityModel:V})})),R!=null&&t.current.publishEvent("columnsChange",q.orderedFields),N},[t]),M=w.useCallback((N,F)=>{var R;if(F===Xi.columns){const V=e.slots.columnsPanel;return T.jsx(V,U({},(R=e.slotProps)==null?void 0:R.columnsPanel))}return N},[e.slots.columnsPanel,(A=e.slotProps)==null?void 0:A.columnsPanel]),P=w.useCallback(N=>{const F=om(t);return e.disableColumnSelector||F?N:[...N,"columnMenuColumnsItem"]},[e.disableColumnSelector,t]);xr(t,"columnMenu",P),xr(t,"exportState",x),xr(t,"restoreState",O),xr(t,"preferencePanel",M);const k=w.useRef(null);st(t,"viewportInnerSizeChange",N=>{if(k.current!==N.width){if(k.current=N.width,!Or(t).some(R=>R.flex&&R.flex>0))return;r(VD(Rl(t),t.current.getRootDimensions()))}});const D=w.useCallback(()=>{n.info("Columns pipe processing have changed, regenerating the columns");const N=Ey({apiRef:t,columnsToUpsert:[],initialState:void 0,keepOnlyColumnsToUpsert:!1});r(N)},[t,n,r]);BN(t,"hydrateColumns",D),w.useEffect(()=>{if(t.current.caches.columns.lastColumnsProp===e.columns)return;t.current.caches.columns.lastColumnsProp=e.columns,n.info(`GridColumns have changed, new length ${e.columns.length}`);const N=Ey({apiRef:t,initialState:void 0,columnsToUpsert:e.columns,keepOnlyColumnsToUpsert:!0,updateInitialVisibilityModel:!0,columnVisibilityModel:e.columnVisibilityModel});r(N)},[n,t,r,e.columns,e.columnVisibilityModel]),w.useEffect(()=>{e.columnVisibilityModel!==void 0&&t.current.setColumnVisibilityModel(e.columnVisibilityModel)},[t,n,e.columnVisibilityModel])}function PRe(t){return e=>U({},e,{columns:t})}const MRe=(t,e)=>{var n;return U({},t,{density:((n=e.initialState)==null?void 0:n.density)??e.density??"standard"})},kRe=(t,e)=>{var a;const n=ti(t,"useDensity");t.current.registerControlState({stateId:"density",propModel:e.density,propOnChange:e.onDensityChange,stateSelector:Ty,changeEvent:"densityChange"});const o={setDensity:Mt(c=>{Ty(t)!==c&&(n.debug(`Set grid density to ${c}`),t.current.setState(h=>U({},h,{density:c})))})};Wt(t,o,"public");const i=w.useCallback((c,d)=>{var g;const h=Ty(t);return!d.exportOnlyDirtyModels||e.density!=null||((g=e.initialState)==null?void 0:g.density)!=null?U({},c,{density:h}):c},[t,e.density,(a=e.initialState)==null?void 0:a.density]),s=w.useCallback((c,d)=>{var p;const h=(p=d.stateToRestore)!=null&&p.density?d.stateToRestore.density:Ty(t);return t.current.setState(g=>U({},g,{density:h})),c},[t]);xr(t,"exportState",i),xr(t,"restoreState",s),w.useEffect(()=>{e.density&&t.current.setDensity(e.density)},[t,e.density])};function ORe(t,e="csv",n=document.title||"untitled"){const r=`${n}.${e}`;if("download"in HTMLAnchorElement.prototype){const o=URL.createObjectURL(t),i=document.createElement("a");i.href=o,i.download=r,i.click(),setTimeout(()=>{URL.revokeObjectURL(o)});return}throw new Error("MUI X: exportAs not supported.")}const Xq=({apiRef:t,options:e})=>{const n=ja(t);return e.fields?e.fields.reduce((o,i)=>{const s=n.find(a=>a.field===i);return s&&o.push(s),o},[]):(e.allColumns?n:Or(t)).filter(o=>o.disableExport!==!0)},Qq=({apiRef:t})=>{var c,d;const e=nq(t),n=Zo(t),r=DI(t),o=e.filter(h=>n[h].type!=="footer"),i=$E(t),s=((c=i==null?void 0:i.top)==null?void 0:c.map(h=>h.id))||[],a=((d=i==null?void 0:i.bottom)==null?void 0:d.map(h=>h.id))||[];if(o.unshift(...s),o.push(...a),r>0){const h=iq(t);return o.filter(p=>h.has(p))}return o},DRe=(t,e)=>{const n=ti(t,"useGridCsvExport"),r=e.ignoreValueFormatterDuringExport,o=(typeof r=="object"?r==null?void 0:r.csvExport:r)||!1,i=w.useCallback((d={})=>{n.debug("Get data as CSV");const h=Xq({apiRef:t,options:d}),g=(d.getRowsToExport??Qq)({apiRef:t});return CRe({columns:h,rowIds:g,csvOptions:{delimiter:d.delimiter||",",shouldAppendQuotes:d.shouldAppendQuotes??!0,includeHeaders:d.includeHeaders??!0,includeColumnGroupsHeaders:d.includeColumnGroupsHeaders??!0,escapeFormulas:d.escapeFormulas??!0},ignoreValueFormatter:o,apiRef:t})},[n,t,o]),s=w.useCallback(d=>{n.debug("Export data as CSV");const h=i(d),p=new Blob([d!=null&&d.utf8WithBom?new Uint8Array([239,187,191]):"",h],{type:"text/csv"});ORe(p,"csv",d==null?void 0:d.fileName)},[n,i]);Wt(t,{getDataAsCsv:i,exportDataAsCsv:s},"public");const c=w.useCallback((d,h)=>{var p;return(p=h.csvOptions)!=null&&p.disableToolbarButton?d:[...d,{component:T.jsx(GAe,{options:h.csvOptions}),componentName:"csvExport"}]},[]);xr(t,"exportMenu",c)};function LRe(t,e){const n=[],r=e.querySelectorAll("style, link[rel='stylesheet']");for(let o=0;o<r.length;o+=1){const i=r[o];if(i.tagName==="STYLE"){const s=t.createElement(i.tagName),a=i.sheet;if(a){let c="";for(let d=0;d<a.cssRules.length;d+=1)typeof a.cssRules[d].cssText=="string"&&(c+=`${a.cssRules[d].cssText}\r
`);s.appendChild(t.createTextNode(c)),t.head.appendChild(s)}}else if(i.getAttribute("href")){const s=t.createElement(i.tagName);for(let a=0;a<i.attributes.length;a+=1){const c=i.attributes[a];c&&s.setAttribute(c.nodeName,c.nodeValue||"")}n.push(new Promise(a=>{s.addEventListener("load",()=>a())})),t.head.appendChild(s)}}return n}const U_=(t,e,n)=>{let r=t.paginationModel;const o=t.rowCount,i=(n==null?void 0:n.pageSize)??r.pageSize,s=(n==null?void 0:n.page)??r.page,a=lq(o,i,s);n&&((n==null?void 0:n.page)!==r.page||(n==null?void 0:n.pageSize)!==r.pageSize)&&(r=n);const c=i===-1?0:kEe(r.page,a);return c!==r.page&&(r=U({},r,{page:c})),uq(r.pageSize,e),r},NRe=(t,e)=>{var O,M;const n=ti(t,"useGridPaginationModel"),r=$e(t,VE),o=w.useRef(Po(t)),i=Math.floor(e.rowHeight*r);t.current.registerControlState({stateId:"paginationModel",propModel:e.paginationModel,propOnChange:e.onPaginationModelChange,stateSelector:Qo,changeEvent:"paginationModelChange"});const s=w.useCallback(P=>{const k=Qo(t);P!==k.page&&(n.debug(`Setting page to ${P}`),t.current.setPaginationModel({page:P,pageSize:k.pageSize}))},[t,n]),a=w.useCallback(P=>{const k=Qo(t);P!==k.pageSize&&(n.debug(`Setting page size to ${P}`),t.current.setPaginationModel({pageSize:P,page:k.page}))},[t,n]),c=w.useCallback(P=>{const k=Qo(t);P!==k&&(n.debug("Setting 'paginationModel' to",P),t.current.setState($=>U({},$,{pagination:U({},$.pagination,{paginationModel:U_($.pagination,e.signature,P)})}),"setPaginationModel"))},[t,n,e.signature]);Wt(t,{setPage:s,setPageSize:a,setPaginationModel:c},"public");const h=w.useCallback((P,k)=>{var I,A;const $=Qo(t);return!k.exportOnlyDirtyModels||e.paginationModel!=null||((A=(I=e.initialState)==null?void 0:I.pagination)==null?void 0:A.paginationModel)!=null||$.page!==0&&$.pageSize!==MEe(e.autoPageSize)?U({},P,{pagination:U({},P.pagination,{paginationModel:$})}):P},[t,e.paginationModel,(M=(O=e.initialState)==null?void 0:O.pagination)==null?void 0:M.paginationModel,e.autoPageSize]),p=w.useCallback((P,k)=>{var D,I;const $=(D=k.stateToRestore.pagination)!=null&&D.paginationModel?U({},cq(e.autoPageSize),(I=k.stateToRestore.pagination)==null?void 0:I.paginationModel):Qo(t);return t.current.setState(A=>U({},A,{pagination:U({},A.pagination,{paginationModel:U_(A.pagination,e.signature,$)})}),"stateRestorePreProcessing"),P},[t,e.autoPageSize,e.signature]);xr(t,"exportState",h),xr(t,"restoreState",p);const g=()=>{var k;const P=Qo(t);(k=t.current.virtualScrollerRef)!=null&&k.current&&t.current.scrollToIndexes({rowIndex:P.page*P.pageSize})},m=w.useCallback(()=>{if(!e.autoPageSize)return;const P=t.current.getRootDimensions(),k=Math.max(1,Math.floor(P.viewportInnerSize.height/i));t.current.setPageSize(k)},[t,e.autoPageSize,i]),v=w.useCallback(P=>{if(P==null)return;const k=Qo(t);if(k.page===0)return;const $=fq(t);k.page>$-1&&t.current.setPage(Math.max(0,$-1))},[t]),S=w.useCallback(()=>{Qo(t).page!==0&&t.current.setPage(0),t.current.getScrollPosition().top!==0&&t.current.scroll({top:0})},[t]),C=w.useCallback(P=>{const k=U({},P,{items:MN(t)});Ua(k,o.current)||(o.current=k,S())},[t,S]);st(t,"viewportInnerSizeChange",m),st(t,"paginationModelChange",g),st(t,"rowCountChange",v),st(t,"sortModelChange",S),st(t,"filterModelChange",C);const x=w.useRef(!0);w.useEffect(()=>{if(x.current){x.current=!1;return}e.pagination&&t.current.setState(P=>U({},P,{pagination:U({},P.pagination,{paginationModel:U_(P.pagination,e.signature,e.paginationModel)})}))},[t,e.paginationModel,e.signature,e.pagination]),w.useEffect(()=>{t.current.setState(P=>{const k=e.pagination===!0;return P.pagination.paginationMode===e.paginationMode&&P.pagination.enabled===k?P:U({},P,{pagination:U({},P.pagination,{paginationMode:e.paginationMode,enabled:k})})})},[t,e.paginationMode,e.pagination]),w.useEffect(m,[m])};function FRe(){return new Promise(t=>{requestAnimationFrame(()=>{t()})})}function $Re(t){const e=document.createElement("iframe");return e.style.position="absolute",e.style.width="0px",e.style.height="0px",e.title=t||document.title,e}const VRe=(t,e)=>{const n=t.current.rootElementRef.current!==null,r=ti(t,"useGridPrintExport"),o=w.useRef(null),i=w.useRef(null),s=w.useRef({}),a=w.useRef([]),c=w.useRef(null);w.useEffect(()=>{o.current=Br(t.current.rootElementRef.current)},[t,n]);const d=w.useCallback((C,x,O)=>new Promise(M=>{const P=Xq({apiRef:t,options:{fields:C,allColumns:x}}).map(D=>D.field),k=ja(t),$={};k.forEach(D=>{$[D.field]=P.includes(D.field)}),O&&($[Ov.field]=!0),t.current.setColumnVisibilityModel($),M()}),[t]),h=w.useCallback(C=>{const O=C({apiRef:t}).reduce((M,P)=>{const k=t.current.getRow(P);return k[nm]||M.push(k),M},[]);t.current.setRows(O)},[t]),p=w.useCallback((C,x)=>{var K,z,H;const O=U({copyStyles:!0,hideToolbar:!1,hideFooter:!1,includeCheckboxes:!1},x),M=C.contentDocument;if(!M)return;const P=wN(t),k=t.current.rootElementRef.current,$=k.cloneNode(!0),D=$.querySelector(`.${ee.main}`);D.style.overflow="visible",$.style.contain="size";let I=((K=k.querySelector(`.${ee.toolbar}`))==null?void 0:K.offsetHeight)||0,A=((z=k.querySelector(`.${ee.footerContainer}`))==null?void 0:z.offsetHeight)||0;const N=$.querySelector(`.${ee.footerContainer}`);O.hideToolbar&&((H=$.querySelector(`.${ee.toolbar}`))==null||H.remove(),I=0),O.hideFooter&&N&&(N.remove(),A=0);const F=P.currentPageTotalHeight+GE(t,e)+I+A;$.style.height=`${F}px`,$.style.boxSizing="content-box",!O.hideFooter&&N&&(N.style.position="absolute",N.style.width="100%",N.style.top=`${F-A}px`);const R=document.createElement("div");R.appendChild($),M.body.style.marginTop="0px",M.body.innerHTML=R.innerHTML;const V=typeof O.pageStyle=="function"?O.pageStyle():O.pageStyle;if(typeof V=="string"){const Z=M.createElement("style");Z.appendChild(M.createTextNode(V)),M.head.appendChild(Z)}O.bodyClassName&&M.body.classList.add(...O.bodyClassName.split(" "));let q=[];if(O.copyStyles){const Z=k.getRootNode(),re=Z.constructor.name==="ShadowRoot"?Z:o.current;q=LRe(M,re)}Promise.all(q).then(()=>{C.contentWindow.print()})},[t,o,e]),g=w.useCallback(C=>{var x,O;o.current.body.removeChild(C),t.current.restoreState(i.current||{}),(O=(x=i.current)==null?void 0:x.columns)!=null&&O.columnVisibilityModel||t.current.setColumnVisibilityModel(s.current),t.current.setState(M=>U({},M,{virtualization:c.current})),t.current.setRows(a.current),i.current=null,s.current={},a.current=[]},[t]),v={exportDataAsPrint:w.useCallback(async C=>{if(r.debug("Export data as Print"),!t.current.rootElementRef.current)throw new Error("MUI X: No grid root element available.");if(i.current=t.current.exportState(),s.current=Ba(t),a.current=t.current.getSortedRows().filter(O=>!O[nm]),e.pagination){const M={page:0,pageSize:RN(t)};t.current.setState(P=>U({},P,{pagination:U({},P.pagination,{paginationModel:U_(P.pagination,"DataGridPro",M)})}))}c.current=t.current.state.virtualization,t.current.unstable_setVirtualization(!1),await d(C==null?void 0:C.fields,C==null?void 0:C.allColumns,C==null?void 0:C.includeCheckboxes),h((C==null?void 0:C.getRowsToExport)??Qq),await FRe();const x=$Re(C==null?void 0:C.fileName);x.onload=()=>{p(x,C),x.contentWindow.matchMedia("print").addEventListener("change",M=>{M.matches===!1&&g(x)})},o.current.body.appendChild(x)},[e,r,t,p,g,d,h])};Wt(t,v,"public");const S=w.useCallback((C,x)=>{var O;return(O=x.printOptions)!=null&&O.disableToolbarButton?C:[...C,{component:T.jsx(WAe,{options:x.printOptions}),componentName:"printExport"}]},[]);xr(t,"exportMenu",S)},zRe=(t,e,n)=>{var o,i;const r=e.filterModel??((i=(o=e.initialState)==null?void 0:o.filter)==null?void 0:i.filterModel)??SS();return U({},t,{filter:U({filterModel:_N(r,e.disableMultipleColumnsFiltering,n)},NW),visibleRowsLookup:{}})},BRe=t=>t.filteredRowsLookup;function R5(t,e){return t.current.applyStrategyProcessor("visibleRowsLookupCreation",{tree:e.rows.tree,filteredRowsLookup:e.filter.filteredRowsLookup})}function HRe(){return m2(Object.values)}const jRe=(t,e)=>{var I,A,N;const n=ti(t,"useGridFilter");t.current.registerControlState({stateId:"filter",propModel:e.filterModel,propOnChange:e.onFilterModelChange,stateSelector:Po,changeEvent:"filterModelChange"});const r=w.useCallback(()=>{t.current.setState(F=>{const R=Po(t),V=t.current.getFilterState(R),q=U({},F,{filter:U({},F.filter,V)}),K=R5(t,q);return U({},q,{visibleRowsLookup:K})}),t.current.publishEvent("filteredRowsSet")},[t]),o=w.useCallback((F,R)=>R==null||R.filterable===!1||e.disableColumnFilter?F:[...F,"columnMenuFilterItem"],[e.disableColumnFilter]),i=w.useCallback(F=>{const R=Po(t),V=[...R.items],q=V.findIndex(K=>K.id===F.id);q===-1?V.push(F):V[q]=F,t.current.setFilterModel(U({},R,{items:V}),"upsertFilterItem")},[t]),s=w.useCallback(F=>{const R=Po(t),V=[...R.items];F.forEach(q=>{const K=V.findIndex(z=>z.id===q.id);K===-1?V.push(q):V[K]=q}),t.current.setFilterModel(U({},R,{items:V}),"upsertFilterItems")},[t]),a=w.useCallback(F=>{const R=Po(t),V=R.items.filter(q=>q.id!==F.id);V.length!==R.items.length&&t.current.setFilterModel(U({},R,{items:V}),"deleteFilterItem")},[t]),c=w.useCallback((F,R,V)=>{if(n.debug("Displaying filter panel"),F){const q=Po(t),K=q.items.filter(re=>{var ie;if(re.value!==void 0)return!(Array.isArray(re.value)&&re.value.length===0);const X=(ie=t.current.getColumn(re.field).filterOperators)==null?void 0:ie.find(se=>se.value===re.operator);return!(typeof(X==null?void 0:X.requiresFilterValue)>"u"?!0:X==null?void 0:X.requiresFilterValue)});let z;const H=K.find(re=>re.field===F),Z=t.current.getColumn(F);H?z=K:e.disableMultipleColumnsFiltering?z=[$D({field:F,operator:Z.filterOperators[0].value},t)]:z=[...K,$D({field:F,operator:Z.filterOperators[0].value},t)],t.current.setFilterModel(U({},q,{items:z}))}t.current.showPreferences(Xi.filters,R,V)},[t,n,e.disableMultipleColumnsFiltering]),d=w.useCallback(()=>{n.debug("Hiding filter panel"),t.current.hidePreferences()},[t,n]),h=w.useCallback(F=>{const R=Po(t);R.logicOperator!==F&&t.current.setFilterModel(U({},R,{logicOperator:F}),"changeLogicOperator")},[t]),p=w.useCallback(F=>{const R=Po(t);Ua(R.quickFilterValues,F)||t.current.setFilterModel(U({},R,{quickFilterValues:[...F]}))},[t]),g=w.useCallback((F,R)=>{Po(t)!==F&&(n.debug("Setting filter model"),t.current.updateControlState("filter",X4(F,e.disableMultipleColumnsFiltering,t),R),t.current.unstable_applyFilters())},[t,n,e.disableMultipleColumnsFiltering]),m=w.useCallback(F=>{const R=_N(F,e.disableMultipleColumnsFiltering,t),V=e.filterMode==="client"?$Ce(R,t,e.disableEval):null,q=t.current.applyStrategyProcessor("filtering",{isRowMatchingFilters:V,filterModel:R??SS()});return U({},q,{filterModel:R})},[e.disableMultipleColumnsFiltering,e.filterMode,e.disableEval,t]),v={setFilterLogicOperator:h,unstable_applyFilters:r,deleteFilterItem:a,upsertFilterItem:i,upsertFilterItems:s,setFilterModel:g,showFilterPanel:c,hideFilterPanel:d,setQuickFilterValues:p,ignoreDiacritics:e.ignoreDiacritics,getFilterState:m};Wt(t,v,"public");const S=w.useCallback((F,R)=>{var K,z;const V=Po(t);return V.items.forEach(H=>{delete H.fromInput}),!R.exportOnlyDirtyModels||e.filterModel!=null||((z=(K=e.initialState)==null?void 0:K.filter)==null?void 0:z.filterModel)!=null||!Ua(V,SS())?U({},F,{filter:{filterModel:V}}):F},[t,e.filterModel,(A=(I=e.initialState)==null?void 0:I.filter)==null?void 0:A.filterModel]),C=w.useCallback((F,R)=>{var q;const V=(q=R.stateToRestore.filter)==null?void 0:q.filterModel;return V==null?F:(t.current.updateControlState("filter",X4(V,e.disableMultipleColumnsFiltering,t),"restoreState"),U({},F,{callbacks:[...F.callbacks,t.current.unstable_applyFilters]}))},[t,e.disableMultipleColumnsFiltering]),x=w.useCallback((F,R)=>{var V;if(R===Xi.filters){const q=e.slots.filterPanel;return T.jsx(q,U({},(V=e.slotProps)==null?void 0:V.filterPanel))}return F},[e.slots.filterPanel,(N=e.slotProps)==null?void 0:N.filterPanel]),{getRowId:O}=e,M=sa(HRe),P=w.useCallback(F=>{var j;if(e.filterMode!=="client"||!F.isRowMatchingFilters||!F.filterModel.items.length&&!((j=F.filterModel.quickFilterValues)!=null&&j.length))return NW;const R=za(t),V={},{isRowMatchingFilters:q}=F,K={},z={passingFilterItems:null,passingQuickFilterValues:null},H=M.current(t.current.state.rows.dataRowIdToModelLookup);for(let X=0;X<H.length;X+=1){const ne=H[X],ie=O?O(ne):ne.id;q(ne,void 0,z);const se=zCe([z.passingFilterItems],[z.passingQuickFilterValues],F.filterModel,t,K);se||(V[ie]=se)}const Z="auto-generated-group-footer-root";return R[Z]&&(V[Z]=!0),{filteredRowsLookup:V,filteredChildrenCountLookup:{},filteredDescendantCountLookup:{}}},[t,e.filterMode,O,M]);xr(t,"columnMenu",o),xr(t,"exportState",S),xr(t,"restoreState",C),xr(t,"preferencePanel",x),TS(t,sm,"filtering",P),TS(t,sm,"visibleRowsLookupCreation",BRe);const k=w.useCallback(()=>{n.debug("onColUpdated - GridColumns changed, applying filters");const F=Po(t),R=_d(t),V=F.items.filter(q=>q.field&&R[q.field]);V.length<F.items.length&&t.current.setFilterModel(U({},F,{items:V}))},[t,n]),$=w.useCallback(F=>{F==="filtering"&&t.current.unstable_applyFilters()},[t]),D=w.useCallback(()=>{t.current.setState(F=>U({},F,{visibleRowsLookup:R5(t,F)}))},[t]);st(t,"rowsSet",r),st(t,"columnsChange",k),st(t,"activeStrategyProcessorChange",$),st(t,"rowExpansionChange",D),st(t,"columnVisibilityModelChange",()=>{var R;const F=Po(t);(R=F.quickFilterValues)!=null&&R.length&&GW(F)&&r()}),pm(()=>{r()}),Un(()=>{e.filterModel!==void 0&&t.current.setFilterModel(e.filterModel)},[t,n,e.filterModel])},URe=t=>U({},t,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},tabIndex:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}),GRe=(t,e)=>{const n=ti(t,"useGridFocus"),r=w.useRef(null),o=t.current.rootElementRef.current!==null,i=w.useCallback((I,A)=>{I&&t.current.getRow(I.id)&&t.current.publishEvent("cellFocusOut",t.current.getCellParams(I.id,I.field),A)},[t]),s=w.useCallback((I,A)=>{const N=fs(t);(N==null?void 0:N.id)===I&&(N==null?void 0:N.field)===A||(t.current.setState(F=>(n.debug(`Focusing on cell with id=${I} and field=${A}`),U({},F,{tabIndex:{cell:{id:I,field:A},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},focus:{cell:{id:I,field:A},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}))),t.current.getRow(I)&&(N&&i(N,{}),t.current.publishEvent("cellFocusIn",t.current.getCellParams(I,A))))},[t,n,i]),a=w.useCallback((I,A={})=>{const N=fs(t);i(N,A),t.current.setState(F=>(n.debug(`Focusing on column header with colIndex=${I}`),U({},F,{tabIndex:{columnHeader:{field:I},columnHeaderFilter:null,cell:null,columnGroupHeader:null},focus:{columnHeader:{field:I},columnHeaderFilter:null,cell:null,columnGroupHeader:null}})))},[t,n,i]),c=w.useCallback((I,A={})=>{const N=fs(t);i(N,A),t.current.setState(F=>(n.debug(`Focusing on column header filter with colIndex=${I}`),U({},F,{tabIndex:{columnHeader:null,columnHeaderFilter:{field:I},cell:null,columnGroupHeader:null},focus:{columnHeader:null,columnHeaderFilter:{field:I},cell:null,columnGroupHeader:null}})))},[t,n,i]),d=w.useCallback((I,A,N={})=>{const F=fs(t);F&&t.current.publishEvent("cellFocusOut",t.current.getCellParams(F.id,F.field),N),t.current.setState(R=>U({},R,{tabIndex:{columnGroupHeader:{field:I,depth:A},columnHeader:null,columnHeaderFilter:null,cell:null},focus:{columnGroupHeader:{field:I,depth:A},columnHeader:null,columnHeaderFilter:null,cell:null}}))},[t]),h=w.useCallback(()=>UT(t),[t]),p=w.useCallback((I,A,N)=>{let F=t.current.getColumnIndex(A);const R=Or(t),V=By(t,{pagination:e.pagination,paginationMode:e.paginationMode}),q=$E(t),K=[].concat(q.top||[],V.rows,q.bottom||[]);let z=K.findIndex(j=>j.id===I);N==="right"?F+=1:N==="left"?F-=1:z+=1,F>=R.length?(z+=1,z<K.length&&(F=0)):F<0&&(z-=1,z>=0&&(F=R.length-1)),z=Bg(z,0,K.length-1);const H=K[z];if(!H)return;const Z=t.current.unstable_getCellColSpanInfo(H.id,F);Z&&Z.spannedByColSpan&&(N==="left"||N==="below"?F=Z.leftVisibleCellIndex:N==="right"&&(F=Z.rightVisibleCellIndex)),F=Bg(F,0,R.length-1);const re=R[F];t.current.setCellFocus(H.id,re.field)},[t,e.pagination,e.paginationMode]),g=w.useCallback(({id:I,field:A})=>{t.current.setCellFocus(I,A)},[t]),m=w.useCallback((I,A)=>{A.key==="Enter"||A.key==="Tab"||A.key==="Shift"||jT(A.key)||t.current.setCellFocus(I.id,I.field)},[t]),v=w.useCallback(({field:I},A)=>{A.target===A.currentTarget&&t.current.setColumnHeaderFocus(I,A)},[t]),S=w.useCallback(({fields:I,depth:A},N)=>{if(N.target!==N.currentTarget)return;const F=UT(t);F!==null&&F.depth===A&&I.includes(F.field)||t.current.setColumnGroupHeaderFocus(I[0],A,N)},[t]),C=w.useCallback((I,A)=>{var N,F;(F=(N=A.relatedTarget)==null?void 0:N.getAttribute("class"))!=null&&F.includes(ee.columnHeader)||(n.debug("Clearing focus"),t.current.setState(R=>U({},R,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})))},[n,t]),x=w.useCallback(I=>{r.current=I},[]),O=w.useCallback(I=>{const A=r.current;r.current=null;const N=fs(t);if(!t.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:I,cell:A}))return;if(!N){A&&t.current.setCellFocus(A.id,A.field);return}if((A==null?void 0:A.id)===N.id&&(A==null?void 0:A.field)===N.field)return;const R=t.current.getCellElement(N.id,N.field);R!=null&&R.contains(I.target)||(A?t.current.setCellFocus(A.id,A.field):(t.current.setState(V=>U({},V,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})),i(N,I)))},[t,i]),M=w.useCallback(I=>{if(I.cellMode==="view")return;const A=fs(t);((A==null?void 0:A.id)!==I.id||(A==null?void 0:A.field)!==I.field)&&t.current.setCellFocus(I.id,I.field)},[t]),P=w.useCallback(()=>{const I=fs(t);if(I&&!t.current.getRow(I.id)){const A=I.id;let N=null;if(typeof A<"u"){const F=t.current.getRowElement(A),R=F!=null&&F.dataset.rowindex?Number(F==null?void 0:F.dataset.rowindex):0,V=By(t,{pagination:e.pagination,paginationMode:e.paginationMode}),q=V.rows[Bg(R,0,V.rows.length-1)];N=(q==null?void 0:q.id)??null}t.current.setState(F=>U({},F,{focus:{cell:N===null?null:{id:N,field:I.field},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}))}},[t,e.pagination,e.paginationMode]),k=Mt(()=>{const I=fs(t);if(!I)return;const A=By(t,{pagination:e.pagination,paginationMode:e.paginationMode});if(A.rows.find(R=>R.id===I.id)||A.rows.length===0)return;const F=Or(t);t.current.setState(R=>U({},R,{tabIndex:{cell:{id:A.rows[0].id,field:F[0].field},columnGroupHeader:null,columnHeader:null,columnHeaderFilter:null}}))}),$={setCellFocus:s,setColumnHeaderFocus:a,setColumnHeaderFilterFocus:c},D={moveFocusToRelativeCell:p,setColumnGroupHeaderFocus:d,getColumnGroupHeaderFocus:h};Wt(t,$,"public"),Wt(t,D,"private"),w.useEffect(()=>{const I=Br(t.current.rootElementRef.current);return I.addEventListener("mouseup",O),()=>{I.removeEventListener("mouseup",O)}},[t,o,O]),st(t,"columnHeaderBlur",C),st(t,"cellDoubleClick",g),st(t,"cellMouseDown",x),st(t,"cellKeyDown",m),st(t,"cellModeChange",M),st(t,"columnHeaderFocus",v),st(t,"columnGroupHeaderFocus",S),st(t,"rowsSet",P),st(t,"paginationModelChange",k)},nk=({currentColIndex:t,firstColIndex:e,lastColIndex:n,isRtl:r})=>{if(r){if(t<n)return t+1}else if(!r&&t>e)return t-1;return null},rk=({currentColIndex:t,firstColIndex:e,lastColIndex:n,isRtl:r})=>{if(r){if(t>e)return t-1}else if(!r&&t<n)return t+1;return null};function WRe(t,e,n,r){var a,c;const o=gv.selectors.hiddenCells(t.current.virtualizer.store.state);if(!((a=o[e])!=null&&a[n]))return e;const i=nq(t);let s=i.indexOf(e)+(r==="down"?1:-1);for(;s>=0&&s<i.length;){const d=i[s];if(!((c=o[d])!=null&&c[n]))return d;s+=r==="down"?1:-1}return e}const qRe=Sn(jE,$E,(t,e)=>(e.top||[]).concat(t.rows,e.bottom||[])),KRe=(t,e)=>{const n=ti(t,"useGridKeyboardNavigation"),r=Ni(),o=w.useCallback(()=>qRe(t),[t]),i=e.signature!=="DataGrid"&&e.headerFilters,s=w.useCallback((C,x,O="left",M="up")=>{const P=Of(t),k=t.current.unstable_getCellColSpanInfo(x,C);k&&k.spannedByColSpan&&(O==="left"?C=k.leftVisibleCellIndex:O==="right"&&(C=k.rightVisibleCellIndex));const $=zE(t)[C],D=WRe(t,x,C,M),I=P.findIndex(A=>A.id===D);n.debug(`Navigating to cell row ${I}, col ${C}`),t.current.scrollToIndexes({colIndex:C,rowIndex:I}),t.current.setCellFocus(D,$)},[t,n]),a=w.useCallback((C,x)=>{n.debug(`Navigating to header col ${C}`),t.current.scrollToIndexes({colIndex:C});const O=t.current.getVisibleColumns()[C].field;t.current.setColumnHeaderFocus(O,x)},[t,n]),c=w.useCallback((C,x)=>{n.debug(`Navigating to header filter col ${C}`),t.current.scrollToIndexes({colIndex:C});const O=t.current.getVisibleColumns()[C].field;t.current.setColumnHeaderFilterFocus(O,x)},[t,n]),d=w.useCallback((C,x,O)=>{n.debug(`Navigating to header col ${C}`),t.current.scrollToIndexes({colIndex:C});const{field:M}=t.current.getVisibleColumns()[C];t.current.setColumnGroupHeaderFocus(M,x,O)},[t,n]),h=w.useCallback(C=>{var x;return(x=o()[C])==null?void 0:x.id},[o]),p=w.useCallback((C,x)=>{const O=x.currentTarget.querySelector(`.${ee.columnHeaderTitleContainerContent}`);if(!!O&&O.contains(x.target)&&C.field!==Ov.field)return;const P=o(),k=t.current.getViewportPageSize(),$=C.field?t.current.getColumnIndex(C.field):0,D=P.length>0?0:null,I=P.length-1,A=0,N=Or(t).length-1,F=UE(t);let R=!0;switch(x.key){case"ArrowDown":{i?c($,x):D!==null&&s($,h(D));break}case"ArrowRight":{const V=rk({currentColIndex:$,firstColIndex:A,lastColIndex:N,isRtl:r});V!==null&&a(V,x);break}case"ArrowLeft":{const V=nk({currentColIndex:$,firstColIndex:A,lastColIndex:N,isRtl:r});V!==null&&a(V,x);break}case"ArrowUp":{F>0&&d($,F-1,x);break}case"PageDown":{D!==null&&I!==null&&s($,h(Math.min(D+k,I)));break}case"Home":{a(A,x);break}case"End":{a(N,x);break}case"Enter":{(x.ctrlKey||x.metaKey)&&t.current.toggleColumnMenu(C.field);break}case" ":break;default:R=!1}R&&x.preventDefault()},[t,o,i,c,s,h,r,a,d]),g=w.useCallback((C,x)=>{const O=fxe(t)===C.field,M=pxe(t)===C.field;if(O||M||!jT(x.key))return;const P=o(),k=t.current.getViewportPageSize(),$=C.field?t.current.getColumnIndex(C.field):0,D=0,I=P.length-1,A=0,N=Or(t).length-1;let F=!0;switch(x.key){case"ArrowDown":{const R=h(D);R!=null&&s($,R);break}case"ArrowRight":{const R=rk({currentColIndex:$,firstColIndex:A,lastColIndex:N,isRtl:r});R!==null&&c(R,x);break}case"ArrowLeft":{const R=nk({currentColIndex:$,firstColIndex:A,lastColIndex:N,isRtl:r});R!==null?c(R,x):t.current.setColumnHeaderFilterFocus(C.field,x);break}case"ArrowUp":{a($,x);break}case"PageDown":{I!==null&&s($,h(Math.min(D+k,I)));break}case"Home":{c(A,x);break}case"End":{c(N,x);break}case" ":break;default:F=!1}F&&x.preventDefault()},[t,o,c,r,a,s,h]),m=w.useCallback((C,x)=>{const O=UT(t);if(O===null)return;const{field:M,depth:P}=O,{fields:k,depth:$,maxDepth:D}=C,I=o(),A=t.current.getViewportPageSize(),N=t.current.getColumnIndex(M),F=M?t.current.getColumnIndex(M):0,R=0,V=I.length-1,q=0,K=Or(t).length-1;let z=!0;switch(x.key){case"ArrowDown":{$===D-1?a(N,x):d(N,P+1,x);break}case"ArrowUp":{$>0&&d(N,P-1,x);break}case"ArrowRight":{const H=k.length-k.indexOf(M)-1;N+H+1<=K&&d(N+H+1,P,x);break}case"ArrowLeft":{const H=k.indexOf(M);N-H-1>=q&&d(N-H-1,P,x);break}case"PageDown":{V!==null&&s(F,h(Math.min(R+A,V)));break}case"Home":{d(q,P,x);break}case"End":{d(K,P,x);break}case" ":break;default:z=!1}z&&x.preventDefault()},[t,o,a,d,s,h]),v=w.useCallback((C,x)=>{if(WE(x))return;const O=t.current.getCellParams(C.id,C.field);if(O.cellMode===In.Edit||!jT(x.key)||!t.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:x,cell:O}))return;const P=o();if(P.length===0)return;const k=t.current.getViewportPageSize(),$=C.field?t.current.getColumnIndex(C.field):0,D=P.findIndex(V=>V.id===C.id),I=0,A=P.length-1,N=0,F=Or(t).length-1;let R=!0;switch(x.key){case"ArrowDown":{D<A&&s($,h(D+1),r?"right":"left","down");break}case"ArrowUp":{D>I?s($,h(D-1)):i?c($,x):a($,x);break}case"ArrowRight":{const V=rk({currentColIndex:$,firstColIndex:N,lastColIndex:F,isRtl:r});V!==null&&s(V,h(D),r?"left":"right");break}case"ArrowLeft":{const V=nk({currentColIndex:$,firstColIndex:N,lastColIndex:F,isRtl:r});V!==null&&s(V,h(D),r?"right":"left");break}case"Tab":{x.shiftKey&&$>N?s($-1,h(D),"left"):!x.shiftKey&&$<F&&s($+1,h(D),"right");break}case" ":{if(C.field===AN)break;const q=C.colDef;if(q&&(q.field===rEe||t_e(q.field)))break;!x.shiftKey&&D<A&&s($,h(Math.min(D+k,A)));break}case"PageDown":{D<A&&s($,h(Math.min(D+k,A)));break}case"PageUp":{const V=Math.max(D-k,I);V!==D&&V>=I?s($,h(V)):a($,x);break}case"Home":{x.ctrlKey||x.metaKey||x.shiftKey?s(N,h(I)):s(N,h(D));break}case"End":{x.ctrlKey||x.metaKey||x.shiftKey?s(F,h(A)):s(F,h(D));break}default:R=!1}R&&x.preventDefault()},[t,o,r,s,h,i,c,a]),S=w.useCallback((C,{event:x})=>x.key===" "?!1:C,[]);xr(t,"canStartEditing",S),st(t,"columnHeaderKeyDown",p),st(t,"headerFilterKeyDown",g),st(t,"columnGroupHeaderKeyDown",m),st(t,"cellKeyDown",v)},YRe=(t,e)=>{var v,S;const n=ti(t,"useGridRowCount"),r=$e(t,PN),o=$e(t,Ay),i=$e(t,R0),s=$e(t,Qo),a=sa(()=>Qo(t).pageSize);t.current.registerControlState({stateId:"paginationRowCount",propModel:e.rowCount,propOnChange:e.onRowCountChange,stateSelector:Ay,changeEvent:"rowCountChange"});const d={setRowCount:w.useCallback(C=>{o!==C&&(n.debug("Setting 'rowCount' to",C),t.current.setState(x=>U({},x,{pagination:U({},x.pagination,{rowCount:C})})))},[t,n,o])};Wt(t,d,"public");const h=w.useCallback((C,x)=>{var P,k;const O=Ay(t);return!x.exportOnlyDirtyModels||e.rowCount!=null||((k=(P=e.initialState)==null?void 0:P.pagination)==null?void 0:k.rowCount)!=null?U({},C,{pagination:U({},C.pagination,{rowCount:O})}):C},[t,e.rowCount,(S=(v=e.initialState)==null?void 0:v.pagination)==null?void 0:S.rowCount]),p=w.useCallback((C,x)=>{var M;const O=(M=x.stateToRestore.pagination)!=null&&M.rowCount?x.stateToRestore.pagination.rowCount:Ay(t);return t.current.setState(P=>U({},P,{pagination:U({},P.pagination,{rowCount:O})})),C},[t]);xr(t,"exportState",h),xr(t,"restoreState",p);const g=w.useCallback(C=>{e.paginationMode==="client"||!a.current||C.pageSize!==a.current&&(a.current=C.pageSize,o===-1&&t.current.setPage(0))},[e.paginationMode,a,o,t]);st(t,"paginationModelChange",g),w.useEffect(()=>{e.paginationMode==="client"?t.current.setRowCount(r):e.rowCount!=null&&t.current.setRowCount(e.rowCount)},[t,e.paginationMode,r,e.rowCount]);const m=i.hasNextPage===!1;w.useEffect(()=>{m&&o===-1&&t.current.setRowCount(s.pageSize*s.page+r)},[t,r,m,o,s])},XRe=(t,e)=>{var c,d;const n=ti(t,"useGridPaginationMeta"),r=$e(t,R0);t.current.registerControlState({stateId:"paginationMeta",propModel:e.paginationMeta,propOnChange:e.onPaginationMetaChange,stateSelector:R0,changeEvent:"paginationMetaChange"});const i={setPaginationMeta:w.useCallback(h=>{r!==h&&(n.debug("Setting 'paginationMeta' to",h),t.current.setState(p=>U({},p,{pagination:U({},p.pagination,{meta:h})})))},[t,n,r])};Wt(t,i,"public");const s=w.useCallback((h,p)=>{var v,S;const g=R0(t);return!p.exportOnlyDirtyModels||e.paginationMeta!=null||((S=(v=e.initialState)==null?void 0:v.pagination)==null?void 0:S.meta)!=null?U({},h,{pagination:U({},h.pagination,{meta:g})}):h},[t,e.paginationMeta,(d=(c=e.initialState)==null?void 0:c.pagination)==null?void 0:d.meta]),a=w.useCallback((h,p)=>{var m;const g=(m=p.stateToRestore.pagination)!=null&&m.meta?p.stateToRestore.pagination.meta:R0(t);return t.current.setState(v=>U({},v,{pagination:U({},v.pagination,{meta:g})})),h},[t]);xr(t,"exportState",s),xr(t,"restoreState",a),w.useEffect(()=>{e.paginationMeta&&t.current.setPaginationMeta(e.paginationMeta)},[t,e.paginationMeta])},QRe=(t,e)=>{var i,s,a,c,d,h,p;const n=U({},cq(e.autoPageSize),e.paginationModel??((s=(i=e.initialState)==null?void 0:i.pagination)==null?void 0:s.paginationModel));uq(n.pageSize,e.signature);const r=e.rowCount??((c=(a=e.initialState)==null?void 0:a.pagination)==null?void 0:c.rowCount)??(e.paginationMode==="client"?(d=t.rows)==null?void 0:d.totalRowCount:void 0),o=e.paginationMeta??((p=(h=e.initialState)==null?void 0:h.pagination)==null?void 0:p.meta)??{};return U({},t,{pagination:U({},t.pagination,{paginationModel:n,rowCount:r,meta:o,enabled:e.pagination===!0,paginationMode:e.paginationMode})})},ZRe=(t,e)=>{XRe(t,e),NRe(t,e),YRe(t,e)},JRe=(t,e)=>{var n;return U({},t,{preferencePanel:((n=e.initialState)==null?void 0:n.preferencePanel)??{open:!1}})},ePe=(t,e)=>{var a;const n=ti(t,"useGridPreferencesPanel"),r=w.useCallback(()=>{t.current.setState(c=>{if(!c.preferencePanel.open)return c;n.debug("Hiding Preferences Panel");const d=im(t);return t.current.publishEvent("preferencePanelClose",{openedPanelValue:d.openedPanelValue}),U({},c,{preferencePanel:{open:!1}})})},[t,n]),o=w.useCallback((c,d,h)=>{n.debug("Opening Preferences Panel"),t.current.setState(p=>U({},p,{preferencePanel:U({},p.preferencePanel,{open:!0,openedPanelValue:c,panelId:d,labelId:h})})),t.current.publishEvent("preferencePanelOpen",{openedPanelValue:c})},[n,t]);Wt(t,{showPreferences:o,hidePreferences:r},"public");const i=w.useCallback((c,d)=>{var g;const h=im(t);return!d.exportOnlyDirtyModels||((g=e.initialState)==null?void 0:g.preferencePanel)!=null||h.open?U({},c,{preferencePanel:h}):c},[t,(a=e.initialState)==null?void 0:a.preferencePanel]),s=w.useCallback((c,d)=>{const h=d.stateToRestore.preferencePanel;return h!=null&&t.current.setState(p=>U({},p,{preferencePanel:h})),c},[t]);xr(t,"exportState",i),xr(t,"restoreState",s)},jD=t=>{switch(t.type){case"boolean":return!1;case"date":case"dateTime":case"number":return;case"singleSelect":return null;case"string":default:return""}},tPe=["id","field"],nPe=["id","field"],rPe=(t,e)=>{const[n,r]=w.useState({}),o=w.useRef(n),i=w.useRef({}),{processRowUpdate:s,onProcessRowUpdateError:a,cellModesModel:c,onCellModesModelChange:d}=e,h=K=>(...z)=>{e.editMode===Bc.Cell&&K(...z)},p=w.useCallback((K,z)=>{const H=t.current.getCellParams(K,z);if(!t.current.isCellEditable(H))throw new Error(`MUI X: The cell with id=${K} and field=${z} is not editable.`)},[t]),g=w.useCallback((K,z,H)=>{if(t.current.getCellMode(K,z)!==H)throw new Error(`MUI X: The cell with id=${K} and field=${z} is not in ${H} mode.`)},[t]),m=w.useCallback((K,z)=>{if(!K.isEditable||K.cellMode===In.Edit)return;const H=U({},K,{reason:vu.cellDoubleClick});t.current.publishEvent("cellEditStart",H,z)},[t]),v=w.useCallback((K,z)=>{if(K.cellMode===In.View||t.current.getCellMode(K.id,K.field)===In.View)return;const H=U({},K,{reason:cl.cellFocusOut});t.current.publishEvent("cellEditStop",H,z)},[t]),S=w.useCallback((K,z)=>{if(K.cellMode===In.Edit){if(z.which===229)return;let H;if(z.key==="Escape"?H=cl.escapeKeyDown:z.key==="Enter"?H=cl.enterKeyDown:z.key==="Tab"&&(H=z.shiftKey?cl.shiftTabKeyDown:cl.tabKeyDown,z.preventDefault()),H){const Z=U({},K,{reason:H});t.current.publishEvent("cellEditStop",Z,z)}}else if(K.isEditable){let H;if(!t.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:z,cellParams:K,editMode:"cell"}))return;if(WW(z)?H=vu.printableKeyDown:KW(z)?H=vu.pasteKeyDown:z.key==="Enter"?H=vu.enterKeyDown:(z.key==="Backspace"||z.key==="Delete")&&(H=vu.deleteKeyDown),H){const re=U({},K,{reason:H,key:z.key});t.current.publishEvent("cellEditStart",re,z)}}},[t]),C=w.useCallback(K=>{const{id:z,field:H,reason:Z}=K,re={id:z,field:H};(Z===vu.printableKeyDown||Z===vu.deleteKeyDown||Z===vu.pasteKeyDown)&&(re.deleteValue=!0),t.current.startCellEditMode(re)},[t]),x=w.useCallback(K=>{const{id:z,field:H,reason:Z}=K;t.current.runPendingEditCellValueMutation(z,H);let re;Z===cl.enterKeyDown?re="below":Z===cl.tabKeyDown?re="right":Z===cl.shiftTabKeyDown&&(re="left");const j=Z==="escapeKeyDown";t.current.stopCellEditMode({id:z,field:H,ignoreModifications:j,cellToFocusAfter:re})},[t]),O=K=>async(...z)=>{var H;if(K){const{id:Z,field:re}=z[0];((H=t.current.state.editRows[Z][re])==null?void 0:H.error)||K(...z)}};st(t,"cellDoubleClick",h(m)),st(t,"cellFocusOut",h(v)),st(t,"cellKeyDown",h(S)),st(t,"cellEditStart",h(C)),st(t,"cellEditStop",h(x)),Bn(t,"cellEditStart",e.onCellEditStart),Bn(t,"cellEditStop",O(e.onCellEditStop));const M=w.useCallback((K,z)=>{const H=Mo(t);return H[K]&&H[K][z]?In.Edit:In.View},[t]),P=Mt(K=>{const z=K!==e.cellModesModel;d&&z&&d(K,{api:t.current}),!(e.cellModesModel&&z)&&(r(K),o.current=K,t.current.publishEvent("cellModesModelChange",K))}),k=w.useCallback((K,z,H)=>{const Z=U({},o.current);if(H!==null)Z[K]=U({},Z[K],{[z]:U({},H)});else{const re=Z[K],j=Xe(re,[z].map(_S));Z[K]=j,Object.keys(Z[K]).length===0&&delete Z[K]}P(Z)},[P]),$=w.useCallback((K,z,H)=>{t.current.setState(Z=>{const re=U({},Z.editRows);return H!==null?re[K]=U({},re[K],{[z]:U({},H)}):(delete re[K][z],Object.keys(re[K]).length===0&&delete re[K]),U({},Z,{editRows:re})})},[t]),D=w.useCallback(K=>{const{id:z,field:H}=K,Z=Xe(K,tPe);p(z,H),g(z,H,In.View),k(z,H,U({mode:In.Edit},Z))},[p,g,k]),I=Mt(async K=>{const{id:z,field:H,deleteValue:Z,initialValue:re}=K,j=t.current.getCellValue(z,H);let X=j;Z?X=jD(t.current.getColumn(H)):re&&(X=re);const ne=t.current.getColumn(H),ie=!!ne.preProcessEditCellProps&&Z;let se={value:X,error:!1,isProcessingProps:ie};if($(z,H,se),t.current.setCellFocus(z,H),ie&&(se=await Promise.resolve(ne.preProcessEditCellProps({id:z,row:t.current.getRow(z),props:se,hasChanged:X!==j})),t.current.getCellMode(z,H)===In.Edit)){const ce=Mo(t);$(z,H,U({},se,{value:ce[z][H].value,isProcessingProps:!1}))}}),A=w.useCallback(K=>{const{id:z,field:H}=K,Z=Xe(K,nPe);g(z,H,In.Edit),k(z,H,U({mode:In.View},Z))},[g,k]),N=Mt(async K=>{var ae;const{id:z,field:H,ignoreModifications:Z,cellToFocusAfter:re="none"}=K;g(z,H,In.Edit),t.current.runPendingEditCellValueMutation(z,H);const j=()=>{$(z,H,null),k(z,H,null),re!=="none"&&t.current.moveFocusToRelativeCell(z,H,re)};if(Z){j();return}const X=Mo(t),{error:ne,isProcessingProps:ie}=X[z][H],se=t.current.getRow(z);if(ne||ie){i.current[z][H].mode=In.Edit,k(z,H,{mode:In.Edit});return}const ce=t.current.getRowWithUpdatedValuesFromCellEditing(z,H);if((ae=e.dataSource)!=null&&ae.updateRow){if(Ua(se,ce)){j();return}const ge=()=>{i.current[z][H].mode=In.Edit,k(z,H,{mode:In.Edit})},Ee={rowId:z,updatedRow:ce,previousRow:se};try{await t.current.dataSource.editRow(Ee),j()}catch{ge()}}else if(s){const ge=Ee=>{i.current[z][H].mode=In.Edit,k(z,H,{mode:In.Edit}),a&&a(Ee)};try{Promise.resolve(s(ce,se,{rowId:z})).then(Ee=>{t.current.updateRows([Ee]),j()}).catch(ge)}catch(Ee){ge(Ee)}}else t.current.updateRows([ce]),j()}),F=w.useCallback(async K=>{var ae,ge;const{id:z,field:H,value:Z,debounceMs:re,unstable_skipValueParser:j}=K;p(z,H),g(z,H,In.Edit);const X=t.current.getColumn(H),ne=t.current.getRow(z);let ie=Z;X.valueParser&&!j&&(ie=X.valueParser(Z,ne,X,t));let se=Mo(t),ce=U({},se[z][H],{value:ie,changeReason:re?"debouncedSetEditCellValue":"setEditCellValue"});if(X.preProcessEditCellProps){const Ee=Z!==se[z][H].value;ce=U({},ce,{isProcessingProps:!0}),$(z,H,ce),ce=await Promise.resolve(X.preProcessEditCellProps({id:z,row:ne,props:ce,hasChanged:Ee}))}return t.current.getCellMode(z,H)===In.View?!1:(se=Mo(t),ce=U({},ce,{isProcessingProps:!1}),ce.value=X.preProcessEditCellProps?se[z][H].value:ie,$(z,H,ce),se=Mo(t),!((ge=(ae=se[z])==null?void 0:ae[H])!=null&&ge.error))},[t,p,g,$]),R=w.useCallback((K,z)=>{const H=t.current.getColumn(z),Z=Mo(t),re=t.current.getRow(K);if(!Z[K]||!Z[K][z])return t.current.getRow(K);const{value:j}=Z[K][z];return H.valueSetter?H.valueSetter(j,re,H,t):U({},re,{[z]:j})},[t]),V={getCellMode:M,startCellEditMode:D,stopCellEditMode:A},q={setCellEditingEditCellValue:F,getRowWithUpdatedValuesFromCellEditing:R};Wt(t,V,"public"),Wt(t,q,"private"),w.useEffect(()=>{c&&P(c)},[c,P]),Un(()=>{const K=za(t),z=i.current;i.current=OW(n),Object.entries(n).forEach(([H,Z])=>{Object.entries(Z).forEach(([re,j])=>{var ie,se;const X=((se=(ie=z[H])==null?void 0:ie[re])==null?void 0:se.mode)||In.View,ne=K[H]?t.current.getRowId(K[H]):H;j.mode===In.Edit&&X===In.View?I(U({id:ne,field:re},j)):j.mode===In.View&&X===In.Edit&&N(U({id:ne,field:re},j))})})},[t,n,I,N])},oPe=["id"],iPe=["id"],sPe=(t,e)=>{const[n,r]=w.useState({}),o=w.useRef(n),i=w.useRef({}),s=w.useRef({}),a=w.useRef(void 0),c=w.useRef(null),{processRowUpdate:d,onProcessRowUpdateError:h,rowModesModel:p,onRowModesModelChange:g}=e,m=j=>(...X)=>{e.editMode===Bc.Row&&j(...X)},v=w.useCallback((j,X)=>{const ne=t.current.getCellParams(j,X);if(!t.current.isCellEditable(ne))throw new Error(`MUI X: The cell with id=${j} and field=${X} is not editable.`)},[t]),S=w.useCallback((j,X)=>{if(t.current.getRowMode(j)!==X)throw new Error(`MUI X: The row with id=${j} is not in ${X} mode.`)},[t]),C=w.useCallback(j=>{const X=Mo(t);return Object.values(X[j]).some(ne=>ne.error)},[t]),x=w.useCallback((j,X)=>{if(!j.isEditable||t.current.getRowMode(j.id)===sr.Edit)return;const ne=t.current.getRowParams(j.id),ie=U({},ne,{field:j.field,reason:nh.cellDoubleClick});t.current.publishEvent("rowEditStart",ie,X)},[t]),O=w.useCallback(j=>{c.current=j},[]),M=w.useCallback((j,X)=>{j.isEditable&&t.current.getRowMode(j.id)!==sr.View&&(c.current=null,a.current=setTimeout(()=>{var ne;if(((ne=c.current)==null?void 0:ne.id)!==j.id){if(!t.current.getRow(j.id)||t.current.getRowMode(j.id)===sr.View||C(j.id))return;const ie=t.current.getRowParams(j.id),se=U({},ie,{field:j.field,reason:tc.rowFocusOut});t.current.publishEvent("rowEditStop",se,X)}}))},[t,C]);w.useEffect(()=>()=>{clearTimeout(a.current)},[]);const P=w.useCallback((j,X)=>{if(j.cellMode===sr.Edit){if(X.which===229)return;let ne;if(X.key==="Escape")ne=tc.escapeKeyDown;else if(X.key==="Enter")ne=tc.enterKeyDown;else if(X.key==="Tab"){const ie=zE(t).filter(se=>t.current.getColumn(se).type===MI?!0:t.current.isCellEditable(t.current.getCellParams(j.id,se)));if(X.shiftKey?j.field===ie[0]&&(ne=tc.shiftTabKeyDown):j.field===ie[ie.length-1]&&(ne=tc.tabKeyDown),X.preventDefault(),!ne){const se=ie.findIndex(ae=>ae===j.field),ce=ie[X.shiftKey?se-1:se+1];t.current.setCellFocus(j.id,ce)}}if(ne){if(ne!==tc.escapeKeyDown&&C(j.id))return;const ie=U({},t.current.getRowParams(j.id),{reason:ne,field:j.field});t.current.publishEvent("rowEditStop",ie,X)}}else if(j.isEditable){let ne;if(!t.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:X,cellParams:j,editMode:"row"}))return;if(WW(X)||KW(X)?ne=nh.printableKeyDown:X.key==="Enter"?ne=nh.enterKeyDown:(X.key==="Backspace"||X.key==="Delete")&&(ne=nh.deleteKeyDown),ne){const se=t.current.getRowParams(j.id),ce=U({},se,{field:j.field,reason:ne});t.current.publishEvent("rowEditStart",ce,X)}}},[t,C]),k=w.useCallback(j=>{const{id:X,field:ne,reason:ie}=j,se={id:X,fieldToFocus:ne};(ie===nh.printableKeyDown||ie===nh.deleteKeyDown)&&(se.deleteValue=!!ne),t.current.startRowEditMode(se)},[t]),$=w.useCallback(j=>{const{id:X,reason:ne,field:ie}=j;t.current.runPendingEditCellValueMutation(X);let se;ne===tc.enterKeyDown?se="below":ne===tc.tabKeyDown?se="right":ne===tc.shiftTabKeyDown&&(se="left");const ce=ne==="escapeKeyDown";t.current.stopRowEditMode({id:X,ignoreModifications:ce,field:ie,cellToFocusAfter:se})},[t]);st(t,"cellDoubleClick",m(x)),st(t,"cellFocusIn",m(O)),st(t,"cellFocusOut",m(M)),st(t,"cellKeyDown",m(P)),st(t,"rowEditStart",m(k)),st(t,"rowEditStop",m($)),Bn(t,"rowEditStart",e.onRowEditStart),Bn(t,"rowEditStop",e.onRowEditStop);const D=w.useCallback(j=>Iq(t,{rowId:j,editMode:e.editMode})?sr.Edit:sr.View,[t,e.editMode]),I=Mt(j=>{const X=j!==e.rowModesModel;g&&X&&g(j,{api:t.current}),!(e.rowModesModel&&X)&&(r(j),o.current=j,t.current.publishEvent("rowModesModelChange",j))}),A=w.useCallback((j,X)=>{const ne=U({},o.current);X!==null?ne[j]=U({},X):delete ne[j],I(ne)},[I]),N=w.useCallback((j,X)=>{t.current.setState(ne=>{const ie=U({},ne.editRows);return X!==null?ie[j]=X:delete ie[j],U({},ne,{editRows:ie})})},[t]),F=w.useCallback((j,X,ne)=>{t.current.setState(ie=>{const se=U({},ie.editRows);return ne!==null?se[j]=U({},se[j],{[X]:U({},ne)}):(delete se[j][X],Object.keys(se[j]).length===0&&delete se[j]),U({},ie,{editRows:se})})},[t]),R=w.useCallback(j=>{const{id:X}=j,ne=Xe(j,oPe);S(X,sr.View),A(X,U({mode:sr.Edit},ne))},[S,A]),V=Mt(j=>{const{id:X,fieldToFocus:ne,deleteValue:ie,initialValue:se}=j,ce=t.current.getRow(X),ae=ja(t),ge=ae.reduce((Ee,Te)=>{const le=Te.field;if(!t.current.getCellParams(X,le).isEditable)return Ee;const ye=t.current.getColumn(le);let xe=t.current.getCellValue(X,le);return ne===le&&(ie||se)&&(ie?xe=jD(ye):se&&(xe=se)),Ee[le]={value:xe,error:!1,isProcessingProps:ye.editable&&!!ye.preProcessEditCellProps&&ie},Ee},{});s.current[X]=ce,N(X,ge),ne&&t.current.setCellFocus(X,ne),ae.filter(Ee=>t.current.getCellParams(X,Ee.field).isEditable&&Ee.editable&&!!Ee.preProcessEditCellProps&&ie).forEach(Ee=>{const Te=Ee.field,le=t.current.getCellValue(X,Te),pe=ie?jD(Ee):se??le;Promise.resolve(Ee.preProcessEditCellProps({id:X,row:ce,props:ge[Te],hasChanged:pe!==le})).then(ye=>{if(t.current.getRowMode(X)===sr.Edit){const xe=Mo(t);F(X,Te,U({},ye,{value:xe[X][Te].value,isProcessingProps:!1}))}})})}),q=w.useCallback(j=>{const{id:X}=j,ne=Xe(j,iPe);S(X,sr.Edit),A(X,U({mode:sr.View},ne))},[S,A]),K=Mt(async j=>{var le;const{id:X,ignoreModifications:ne,field:ie,cellToFocusAfter:se="none"}=j;t.current.runPendingEditCellValueMutation(X);const ce=()=>{se!=="none"&&ie&&t.current.moveFocusToRelativeCell(X,ie,se),N(X,null),A(X,null),delete s.current[X]};if(ne){ce();return}const ae=Mo(t),ge=s.current[X];if(Object.values(ae[X]).some(pe=>pe.isProcessingProps)){i.current[X].mode=sr.Edit;return}if(C(X)){i.current[X].mode=sr.Edit,A(X,{mode:sr.Edit});return}const Te=t.current.getRowWithUpdatedValuesFromRowEditing(X);if((le=e.dataSource)!=null&&le.updateRow){if(Ua(ge,Te)){ce();return}const pe=()=>{i.current[X].mode=sr.Edit,A(X,{mode:sr.Edit})},ye={rowId:X,updatedRow:Te,previousRow:ge};try{await t.current.dataSource.editRow(ye),ce()}catch{pe()}}else if(d){const pe=ye=>{i.current[X]&&(i.current[X].mode=sr.Edit,A(X,{mode:sr.Edit})),h&&h(ye)};try{Promise.resolve(d(Te,ge,{rowId:X})).then(ye=>{t.current.updateRows([ye]),ce()}).catch(pe)}catch(ye){pe(ye)}}else t.current.updateRows([Te]),ce()}),z=w.useCallback(j=>{const{id:X,field:ne,value:ie,debounceMs:se,unstable_skipValueParser:ce}=j;v(X,ne);const ae=t.current.getColumn(ne),ge=t.current.getRow(X);let Ee=ie;ae.valueParser&&!ce&&(Ee=ae.valueParser(ie,ge,ae,t));let Te=Mo(t),le=U({},Te[X][ne],{value:Ee,changeReason:se?"debouncedSetEditCellValue":"setEditCellValue"});return ae.preProcessEditCellProps||F(X,ne,le),new Promise(pe=>{const ye=[];if(ae.preProcessEditCellProps){const xe=le.value!==Te[X][ne].value;le=U({},le,{isProcessingProps:!0}),F(X,ne,le);const Ce=Te[X],Pe=Xe(Ce,[ne].map(_S)),ze=Promise.resolve(ae.preProcessEditCellProps({id:X,row:ge,props:le,hasChanged:xe,otherFieldsProps:Pe})).then(Ke=>{if(t.current.getRowMode(X)===sr.View){pe(!1);return}Te=Mo(t),Ke=U({},Ke,{isProcessingProps:!1}),Ke.value=ae.preProcessEditCellProps?Te[X][ne].value:Ee,F(X,ne,Ke)});ye.push(ze)}Object.entries(Te[X]).forEach(([xe,Ce])=>{if(xe===ne)return;const Pe=t.current.getColumn(xe);if(!Pe.preProcessEditCellProps)return;Ce=U({},Ce,{isProcessingProps:!0}),F(X,xe,Ce),Te=Mo(t);const ze=Te[X],Ke=Xe(ze,[xe].map(_S)),ke=Promise.resolve(Pe.preProcessEditCellProps({id:X,row:ge,props:Ce,hasChanged:!1,otherFieldsProps:Ke})).then(ot=>{if(t.current.getRowMode(X)===sr.View){pe(!1);return}ot=U({},ot,{isProcessingProps:!1}),F(X,xe,ot)});ye.push(ke)}),Promise.all(ye).then(()=>{t.current.getRowMode(X)===sr.Edit?(Te=Mo(t),pe(!Te[X][ne].error)):pe(!1)})})},[t,v,F]),H=w.useCallback(j=>{const X=Mo(t),ne=t.current.getRow(j);if(!X[j])return t.current.getRow(j);let ie=U({},s.current[j],ne);return Object.entries(X[j]).forEach(([se,ce])=>{const ae=t.current.getColumn(se);ae!=null&&ae.valueSetter?ie=ae.valueSetter(ce.value,ie,ae,t):ie[se]=ce.value}),ie},[t]),Z={getRowMode:D,startRowEditMode:R,stopRowEditMode:q},re={setRowEditingEditCellValue:z,getRowWithUpdatedValuesFromRowEditing:H};Wt(t,Z,"public"),Wt(t,re,"private"),w.useEffect(()=>{p&&I(p)},[p,I]),Un(()=>{const j=za(t),X=i.current;i.current=OW(n);const ne=new Set([...Object.keys(n),...Object.keys(X)]);Array.from(ne).forEach(ie=>{var ge;const se=n[ie]??{mode:sr.View},ce=((ge=X[ie])==null?void 0:ge.mode)||sr.View,ae=j[ie]?t.current.getRowId(j[ie]):ie;se.mode===sr.Edit&&ce===sr.View?V(U({id:ae},se)):se.mode===sr.View&&ce===sr.Edit&&K(U({id:ae},se))})},[t,n,V,K])},aPe=t=>U({},t,{editRows:{}}),lPe=(t,e)=>{rPe(t,e),sPe(t,e);const n=w.useRef({}),{isCellEditable:r}=e,o=w.useCallback(g=>fv(g.rowNode)||!g.colDef.editable||!g.colDef.renderEditCell?!1:r?r(g):!0,[r]),i=(g,m,v,S)=>{if(!v){S();return}if(n.current[g]||(n.current[g]={}),n.current[g][m]){const[O]=n.current[g][m];clearTimeout(O)}const C=()=>{const[O]=n.current[g][m];clearTimeout(O),S(),delete n.current[g][m]},x=setTimeout(()=>{S(),delete n.current[g][m]},v);n.current[g][m]=[x,C]};w.useEffect(()=>{const g=n.current;return()=>{Object.entries(g).forEach(([m,v])=>{Object.keys(v).forEach(S=>{const[C]=g[m][S];clearTimeout(C),delete g[m][S]})})}},[]);const s=w.useCallback((g,m)=>{if(n.current[g]){if(!m)Object.keys(n.current[g]).forEach(v=>{const[,S]=n.current[g][v];S()});else if(n.current[g][m]){const[,v]=n.current[g][m];v()}}},[]),a=w.useCallback(g=>{const{id:m,field:v,debounceMs:S}=g;return new Promise(C=>{i(m,v,S,async()=>{const x=e.editMode===Bc.Row?t.current.setRowEditingEditCellValue:t.current.setCellEditingEditCellValue;if(t.current.getCellMode(m,v)===In.Edit){const O=await x(g);C(O)}})})},[t,e.editMode]),c=w.useCallback((g,m)=>e.editMode===Bc.Cell?t.current.getRowWithUpdatedValuesFromCellEditing(g,m):t.current.getRowWithUpdatedValuesFromRowEditing(g),[t,e.editMode]),d=w.useCallback((g,m)=>{var S;return((S=Mo(t)[g])==null?void 0:S[m])??null},[t]),h={isCellEditable:o,setEditCellValue:a,getRowWithUpdatedValues:c,unstable_getEditCellMeta:d},p={runPendingEditCellValueMutation:s};Wt(t,h,"public"),Wt(t,p,"private")},cPe=(t,e,n)=>{const r=!!e.dataSource;return n.current.caches.rows=V_({rows:r?[]:e.rows,getRowId:e.getRowId,loading:e.loading,rowCount:e.rowCount}),U({},t,{rows:EW({apiRef:n,rowCountProp:e.rowCount,loadingProp:r?!0:e.loading,previousTree:null,previousTreeDepths:null})})},uPe=(t,e,n)=>{const r=ti(t,"useGridRows"),o=w.useRef(Date.now()),i=w.useRef(e.rowCount),s=Js(),{setRowIndex:a}=n.hooks.useGridRowsOverridableMethods(t,e),c=w.useCallback(z=>{const H=za(t)[z];if(H)return H;const Z=Lc(t,z);return Z&&fv(Z)?{[nm]:z}:null},[t]),d=w.useCallback(z=>pv(t,z),[t]),h=w.useCallback(({cache:z,throttle:H})=>{const Z=()=>{o.current=Date.now(),t.current.setState(j=>U({},j,{rows:EW({apiRef:t,rowCountProp:e.rowCount,loadingProp:e.loading,previousTree:Zo(t),previousTreeDepths:H4(t),previousGroupsToFetch:WSe(t)})})),t.current.publishEvent("rowsSet")};if(s.clear(),t.current.caches.rows=z,!H){Z();return}const re=e.throttleRowsMs-(Date.now()-o.current);if(re>0){s.start(re,Z);return}Z()},[e.throttleRowsMs,e.rowCount,e.loading,t,s]),p=w.useCallback(z=>{if(r.debug(`Updating all rows, new length ${z.length}`),om(t)){t.current.updateNonPivotRows(z,!1);return}const H=V_({rows:z,getRowId:e.getRowId,loading:e.loading,rowCount:e.rowCount}),Z=t.current.caches.rows;H.rowsBeforePartialUpdates=Z.rowsBeforePartialUpdates,h({cache:H,throttle:!0})},[r,e.getRowId,e.loading,e.rowCount,h,t]),g=w.useCallback(z=>{if(e.signature===Il.DataGrid&&z.length>1)throw new Error(["MUI X: You cannot update several rows at once in `apiRef.current.updateRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`));if(om(t)){t.current.updateNonPivotRows(z);return}const H=U4(t,z,e.getRowId),Z=j4({updates:H,getRowId:e.getRowId,previousCache:t.current.caches.rows});h({cache:Z,throttle:!0})},[e.signature,e.getRowId,h,t]),m=w.useCallback((z,H)=>{const Z=U4(t,z,e.getRowId),re=j4({updates:Z,getRowId:e.getRowId,previousCache:t.current.caches.rows,groupKeys:H??[]});h({cache:re,throttle:!1})},[e.getRowId,h,t]),v=w.useCallback(z=>{r.debug(`Setting loading to ${z}`),t.current.setState(H=>U({},H,{rows:U({},H.rows,{loading:z})})),t.current.caches.rows.loadingPropBeforePartialUpdates=z},[t,r]),S=w.useCallback(()=>{const z=Tp(t),H=za(t);return new Map(z.map(Z=>[Z,H[Z]??{}]))},[t]),C=w.useCallback(()=>Pv(t),[t]),x=w.useCallback(()=>Tp(t),[t]),O=w.useCallback(z=>{const{rowIdToIndexMap:H}=By(t);return H.get(z)},[t]),M=w.useCallback((z,H)=>{const Z=Lc(t,z);if(!Z)throw new Error(`MUI X: No row with id #${z} found.`);if(Z.type!=="group")throw new Error("MUI X: Only group nodes can be expanded or collapsed.");const re=U({},Z,{childrenExpanded:H});t.current.setState(j=>U({},j,{rows:U({},j.rows,{tree:U({},j.rows.tree,{[z]:re})})})),t.current.publishEvent("rowExpansionChange",re)},[t]),P=w.useCallback(z=>Lc(t,z)??null,[t]),k=w.useCallback(({skipAutoGeneratedRows:z=!0,groupId:H,applySorting:Z,applyFiltering:re,directChildrenOnly:j=!1})=>{const X=Zo(t);let ne;if(Z){const ie=X[H];if(!ie)return[];const se=BE(t);ne=[];const ce=se.findIndex(ae=>ae===H)+1;for(let ae=ce;ae<se.length&&(j?X[se[ae]].depth===ie.depth+1:X[se[ae]].depth>ie.depth);ae+=1){const ge=se[ae];(!z||!fv(X[ge]))&&ne.push(ge)}}else ne=SN(X,H,z,j);if(re){const ie=Mv(t);ne=kI(ie)?ne:ne.filter(se=>ie[se]!==!1)}return ne},[t]),$=w.useCallback((z,H)=>{if(e.signature===Il.DataGrid&&H.length>1)throw new Error(["MUI X: You cannot replace rows using `apiRef.current.unstable_replaceRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`));if(H.length===0)return;if(FE(t)>1)throw new Error("`apiRef.current.unstable_replaceRows` is not compatible with tree data and row grouping");const re=U({},Zo(t)),j=U({},za(t)),X=re[Lo],ne=[...X.children],ie=new Set;for(let ce=0;ce<H.length;ce+=1){const ae=H[ce],ge=AI(ae,e.getRowId,"A row was provided without id when calling replaceRows()."),[Ee]=ne.splice(z+ce,1,ge);ie.has(Ee)||(delete j[Ee],delete re[Ee]);const Te={id:ge,depth:0,parent:Lo,type:"leaf",groupingKey:null};j[ge]=ae,re[ge]=Te,ie.add(ge)}re[Lo]=U({},X,{children:ne});const se=ne.filter(ce=>{var ae;return((ae=re[ce])==null?void 0:ae.type)==="leaf"});t.current.caches.rows.dataRowIdToModelLookup=j,t.current.setState(ce=>U({},ce,{rows:U({},ce.rows,{loading:e.loading,totalRowCount:Math.max(e.rowCount||0,ne.length),dataRowIdToModelLookup:j,dataRowIds:se,tree:re})})),t.current.publishEvent("rowsSet")},[t,e.signature,e.getRowId,e.loading,e.rowCount]),D={getRow:c,setLoading:v,getRowId:d,getRowModels:S,getRowsCount:C,getAllRowIds:x,setRows:p,updateRows:g,getRowNode:P,getRowIndexRelativeToVisibleRows:O,unstable_replaceRows:$},I={setRowIndex:a,setRowChildrenExpansion:M,getRowGroupChildren:k},A={updateNestedRows:m},N=w.useCallback(()=>{r.info("Row grouping pre-processing have changed, regenerating the row tree");let z;t.current.caches.rows.rowsBeforePartialUpdates===e.rows?z=U({},t.current.caches.rows,{updates:{type:"full",rows:Tp(t)}}):z=V_({rows:e.rows,getRowId:e.getRowId,loading:e.loading,rowCount:e.rowCount}),h({cache:z,throttle:!1})},[r,t,e.rows,e.getRowId,e.loading,e.rowCount,h]),F=sa(()=>e.dataSource),R=w.useCallback(z=>{if(e.dataSource&&e.dataSource!==F.current){F.current=e.dataSource;return}z==="rowTreeCreation"&&N()},[N,F,e.dataSource]),V=w.useCallback(()=>{t.current.getActiveStrategy(hh.RowTree)!==qSe(t)&&N()},[t,N]);st(t,"activeStrategyProcessorChange",R),st(t,"strategyAvailabilityChange",V);const q=w.useCallback(()=>{t.current.setState(z=>{const H=t.current.unstable_applyPipeProcessors("hydrateRows",{tree:Zo(t),treeDepths:H4(t),dataRowIds:Tp(t),dataRowIdToModelLookup:za(t)});return U({},z,{rows:U({},z.rows,H,{totalTopLevelRowCount:CW({tree:H.tree,rowCountProp:e.rowCount})})})}),t.current.publishEvent("rowsSet")},[t,e.rowCount]);BN(t,"hydrateRows",q),Wt(t,D,"public"),Wt(t,I,e.signature===Il.DataGrid?"private":"public"),Wt(t,A,"private");const K=w.useRef(!0);w.useEffect(()=>{if(K.current){K.current=!1;return}let z=!1;e.rowCount!==i.current&&(z=!0,i.current=e.rowCount);const H=e.dataSource?KSe(t):e.rows,Z=t.current.caches.rows.rowsBeforePartialUpdates===H,re=t.current.caches.rows.loadingPropBeforePartialUpdates===e.loading,j=t.current.caches.rows.rowCountPropBeforePartialUpdates===e.rowCount;Z&&(re||(t.current.setState(X=>U({},X,{rows:U({},X.rows,{loading:e.loading})})),t.current.caches.rows.loadingPropBeforePartialUpdates=e.loading),j||(t.current.setState(X=>U({},X,{rows:U({},X.rows,{totalRowCount:Math.max(e.rowCount||0,X.rows.totalRowCount),totalTopLevelRowCount:Math.max(e.rowCount||0,X.rows.totalTopLevelRowCount)})})),t.current.caches.rows.rowCountPropBeforePartialUpdates=e.rowCount),!z)||(r.debug(`Updating all rows, new length ${H==null?void 0:H.length}`),h({cache:V_({rows:H,getRowId:e.getRowId,loading:e.loading,rowCount:e.rowCount}),throttle:!1}))},[e.rows,e.rowCount,e.getRowId,e.loading,e.dataSource,r,h,t])},dPe=t=>{const e={[Lo]:U({},XSe(),{children:t})};for(let n=0;n<t.length;n+=1){const r=t[n];e[r]={id:r,depth:0,parent:Lo,type:"leaf",groupingKey:null}}return{groupingName:sm,tree:e,treeDepths:{0:t.length},dataRowIds:t}},hPe=({previousTree:t,actions:e})=>{const n=U({},t),r={};for(let s=0;s<e.remove.length;s+=1){const a=e.remove[s];r[a]=!0,delete n[a]}for(let s=0;s<e.insert.length;s+=1){const a=e.insert[s];n[a]={id:a,depth:0,parent:Lo,type:"leaf",groupingKey:null}}const o=n[Lo];let i=[...o.children,...e.insert];return Object.values(r).length&&(i=i.filter(s=>!r[s])),n[Lo]=U({},o,{children:i}),{groupingName:sm,tree:n,treeDepths:{0:i.length},dataRowIds:i}},fPe=t=>t.updates.type==="full"?dPe(t.updates.rows):hPe({previousTree:t.previousTree,actions:t.updates.actions}),pPe=t=>{TS(t,sm,"rowTreeCreation",fPe)};class ok extends Error{}function gPe(t,e){var v;const n=w.useCallback(S=>({field:S,colDef:t.current.getColumn(S)}),[t]),r=w.useCallback(S=>{const C=t.current.getRow(S);if(!C)throw new ok(`No row with id #${S} found`);return{id:S,columns:t.current.getAllColumns(),row:C}},[t]),o=w.useCallback((S,C,x,{cellMode:O,colDef:M,hasFocus:P,rowNode:k,tabIndex:$})=>{const D=x[C],I=M!=null&&M.valueGetter?M.valueGetter(D,x,M,t):D,A={id:S,field:C,row:x,rowNode:k,colDef:M,cellMode:O,hasFocus:P,tabIndex:$,value:I,formattedValue:I,isEditable:!1,api:t.current};return M&&M.valueFormatter&&(A.formattedValue=M.valueFormatter(I,x,M,t)),A.isEditable=M&&t.current.isCellEditable(A),A},[t]),i=w.useCallback((S,C)=>{var $;const x=t.current.getRow(S),O=Lc(t,S);if(!x||!O)throw new ok(`No row with id #${S} found`);const M=fs(t),P=ON(t),k=t.current.getCellMode(S,C);return t.current.getCellParamsForRow(S,C,x,{colDef:e.listView&&(($=e.listViewColumn)==null?void 0:$.field)===C?zW(t):t.current.getColumn(C),rowNode:O,hasFocus:M!==null&&M.field===C&&M.id===S,tabIndex:P&&P.field===C&&P.id===S?0:-1,cellMode:k})},[t,e.listView,(v=e.listViewColumn)==null?void 0:v.field]),s=w.useCallback((S,C)=>{const x=t.current.getColumn(C),O=t.current.getRow(S);if(!O)throw new ok(`No row with id #${S} found`);return!x||!x.valueGetter?O[C]:x.valueGetter(O[x.field],O,x,t)},[t]),a=w.useCallback((S,C)=>ZSe(S,C,t),[t]),c=w.useCallback((S,C)=>{const x=a(S,C);return!C||!C.valueFormatter?x:C.valueFormatter(x,S,C,t)},[t,a]),d=w.useCallback(S=>t.current.rootElementRef.current?Y_e(t.current.rootElementRef.current,S):null,[t]),h=w.useCallback(S=>t.current.rootElementRef.current?X_e(t.current.rootElementRef.current,S):null,[t]),p=w.useCallback((S,C)=>t.current.rootElementRef.current?Q_e(t.current.rootElementRef.current,{id:S,field:C}):null,[t]),g={getCellValue:s,getCellParams:i,getCellElement:p,getRowValue:a,getRowFormattedValue:c,getRowParams:r,getRowElement:h,getColumnHeaderParams:n,getColumnHeaderElement:d},m={getCellParamsForRow:o};Wt(t,g,"public"),Wt(t,m,"private")}const W0={type:"include",ids:new Set},mPe=(t,e)=>U({},t,{rowSelection:e.rowSelection?e.rowSelectionModel??W0:W0}),yPe=(t,e)=>{var j,X,ne,ie,se,ce,ae,ge,Ee,Te;const n=ti(t,"useGridSelection"),r=w.useCallback(le=>(...pe)=>{e.rowSelection&&le(...pe)},[e.rowSelection]),o=$e(t,FE)>1,i=e.signature!==Il.DataGrid&&(((j=e.rowSelectionPropagation)==null?void 0:j.parents)||((X=e.rowSelectionPropagation)==null?void 0:X.descendants))&&o,s=w.useMemo(()=>e.rowSelectionModel,[e.rowSelectionModel]),a=w.useRef(null);t.current.registerControlState({stateId:"rowSelection",propModel:s,propOnChange:e.onRowSelectionModelChange,stateSelector:Cl,changeEvent:"rowSelectionChange"});const{checkboxSelection:c,disableRowSelectionOnClick:d,isRowSelectable:h}=e,p=kN(e),g=$e(t,Zo),m=w.useCallback(le=>{let pe=le;const ye=a.current??le,xe=t.current.isRowSelected(le);if(xe){const Ce=Hg(t),Pe=Ce.findIndex(Ke=>Ke===ye),ze=Ce.findIndex(Ke=>Ke===pe);if(Pe===ze)return;Pe>ze?pe=Ce[ze+1]:pe=Ce[ze-1]}a.current=le,t.current.selectRowRange({startId:ye,endId:pe},!xe)},[t]),v=Mt(()=>e.pagination&&e.checkboxSelectionVisibleOnly&&e.paginationMode==="client"?pq(t):Hg(t)),S=w.useCallback((le,pe)=>{if(e.signature===Il.DataGrid&&!p&&(le.type!=="include"||le.ids.size>1))throw new Error(["MUI X: `rowSelectionModel` can only contain 1 item in DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock multiple selection."].join(`
`));Cl(t)!==le&&(n.debug("Setting selection model"),t.current.setState(xe=>U({},xe,{rowSelection:e.rowSelection?le:W0}),pe))},[t,n,e.rowSelection,e.signature,p]),C=w.useCallback(le=>HE(t).has(le),[t]),x=w.useCallback(le=>{if(e.rowSelection===!1||h&&!h(t.current.getRowParams(le)))return!1;const pe=Lc(t,le);return!((pe==null?void 0:pe.type)==="footer"||(pe==null?void 0:pe.type)==="pinnedRow")},[t,e.rowSelection,h]),O=w.useCallback(()=>iq(t),[t]),M=w.useCallback((le,pe=!0,ye=!1)=>{var xe,Ce,Pe,ze,Ke,ke;if(t.current.isRowSelectable(le))if(a.current=le,ye){n.debug(`Setting selection for row ${le}`);const ot={type:"include",ids:new Set},Ye=at=>{ot.ids.add(at)};pe&&(Ye(le),i&&Yw(t,g,le,((xe=e.rowSelectionPropagation)==null?void 0:xe.descendants)??!1,((Ce=e.rowSelectionPropagation)==null?void 0:Ce.parents)??!1,Ye)),t.current.setRowSelectionModel(ot,"singleRowSelection")}else{n.debug(`Toggling selection for row ${le}`);const ot=Cl(t),Ye={type:ot.type,ids:new Set(ot.ids)},at=dh(Ye);at.unselect(le);const he=nt=>{at.select(nt)},Ue=nt=>{at.unselect(nt)};pe?(he(le),i&&Yw(t,g,le,((Pe=e.rowSelectionPropagation)==null?void 0:Pe.descendants)??!1,((ze=e.rowSelectionPropagation)==null?void 0:ze.parents)??!1,he)):i&&n5(t,g,le,((Ke=e.rowSelectionPropagation)==null?void 0:Ke.descendants)??!1,((ke=e.rowSelectionPropagation)==null?void 0:ke.parents)??!1,Ue),(Ye.type==="include"&&Ye.ids.size<2||p)&&t.current.setRowSelectionModel(Ye,"singleRowSelection")}},[t,n,i,g,(ne=e.rowSelectionPropagation)==null?void 0:ne.descendants,(ie=e.rowSelectionPropagation)==null?void 0:ie.parents,p]),P=w.useCallback((le,pe=!0,ye=!1)=>{var Ke,ke,ot,Ye,at,he;if(n.debug("Setting selection for several rows"),e.rowSelection===!1)return;const xe=new Set;for(let Ue=0;Ue<le.length;Ue+=1){const qe=le[Ue];t.current.isRowSelectable(qe)&&xe.add(qe)}const Ce=Cl(t);let Pe;if(ye){if(Pe={type:"include",ids:xe},pe){const Ue=dh(Pe);if(i){const qe=nt=>{Ue.select(nt)};for(const nt of xe)Yw(t,g,nt,((Ke=e.rowSelectionPropagation)==null?void 0:Ke.descendants)??!1,((ke=e.rowSelectionPropagation)==null?void 0:ke.parents)??!1,qe)}}else Pe.ids=new Set;if(Ce.type===Pe.type&&Pe.ids.size===Ce.ids.size&&Array.from(Pe.ids).every(Ue=>Ce.ids.has(Ue)))return}else{Pe={type:Ce.type,ids:new Set(Ce.ids)};const Ue=dh(Pe),qe=Je=>{Ue.select(Je)},nt=Je=>{Ue.unselect(Je)};for(const Je of xe)pe?(Ue.select(Je),i&&Yw(t,g,Je,((ot=e.rowSelectionPropagation)==null?void 0:ot.descendants)??!1,((Ye=e.rowSelectionPropagation)==null?void 0:Ye.parents)??!1,qe)):(nt(Je),i&&n5(t,g,Je,((at=e.rowSelectionPropagation)==null?void 0:at.descendants)??!1,((he=e.rowSelectionPropagation)==null?void 0:he.parents)??!1,nt))}(Pe.type==="include"&&Pe.ids.size<2||p)&&t.current.setRowSelectionModel(Pe,"multipleRowsSelection")},[n,i,p,t,g,(se=e.rowSelectionPropagation)==null?void 0:se.descendants,(ce=e.rowSelectionPropagation)==null?void 0:ce.parents,e.rowSelection]),k=w.useCallback(le=>{var Ce,Pe;if(!o||!i||le.ids.size===0&&le.type==="include")return le;const pe={type:le.type,ids:new Set(le.ids)},ye=dh(pe),xe=ze=>{ye.select(ze)};for(const ze of le.ids)Yw(t,g,ze,((Ce=e.rowSelectionPropagation)==null?void 0:Ce.descendants)??!1,((Pe=e.rowSelectionPropagation)==null?void 0:Pe.parents)??!1,xe,ye);return pe},[t,g,(ae=e.rowSelectionPropagation)==null?void 0:ae.descendants,(ge=e.rowSelectionPropagation)==null?void 0:ge.parents,o,i]),$=w.useCallback(({startId:le,endId:pe},ye=!0,xe=!1)=>{if(!t.current.getRow(le)||!t.current.getRow(pe))return;n.debug(`Expanding selection from row ${le} to row ${pe}`);const Ce=Hg(t),Pe=Ce.indexOf(le),ze=Ce.indexOf(pe),[Ke,ke]=Pe>ze?[ze,Pe]:[Pe,ze],ot=Ce.slice(Ke,ke+1);t.current.selectRows(ot,ye,xe)},[t,n]),D={selectRow:M,setRowSelectionModel:S,getSelectedRows:O,isRowSelected:C,isRowSelectable:x},I={selectRows:P,selectRowRange:$,getPropagatedRowSelectionModel:k};Wt(t,D,"public"),Wt(t,I,e.signature===Il.DataGrid?"private":"public");const A=w.useRef(!0),N=w.useCallback((le=!1)=>{var Ye,at;if(A.current)return;const pe=Cl(t),ye=za(t),xe=Zo(t),Ce=Mv(t),Pe=he=>e.filterMode==="server"?!ye[he]:!xe[he]||Ce[he]===!1,ze={type:pe.type,ids:new Set(pe.ids)},Ke=dh(ze);let ke=!1;for(const he of pe.ids){if(Pe(he)){if(e.keepNonExistentRowsSelected)continue;Ke.unselect(he),ke=!0;continue}if(!((Ye=e.rowSelectionPropagation)!=null&&Ye.parents))continue;const Ue=g[he];if((Ue==null?void 0:Ue.type)==="group"){if(Ue.isAutoGenerated){Ke.unselect(he),ke=!0;continue}Ue.children.every(nt=>Ce[nt]===!1)||(Ke.unselect(he),ke=!0)}}const ot=o&&((at=e.rowSelectionPropagation)==null?void 0:at.parents)&&(ze.ids.size>0||ze.type==="exclude");if(ke||ot&&!le)if(ot)if(ze.type==="exclude"){const he=v(),Ue=[];for(let qe=0;qe<he.length;qe+=1){const nt=he[qe];(e.keepNonExistentRowsSelected||!Pe(nt))&&Ke.has(nt)&&Ue.push(nt)}t.current.selectRows(Ue,!0,!0)}else t.current.selectRows(Array.from(ze.ids),!0,!0);else t.current.setRowSelectionModel(ze,"multipleRowsSelection")},[t,o,(Ee=e.rowSelectionPropagation)==null?void 0:Ee.parents,e.keepNonExistentRowsSelected,e.filterMode,g,v]),F=w.useCallback((le,pe)=>{const ye=pe.metaKey||pe.ctrlKey,xe=!c&&!ye&&!jCe(pe),Ce=!p||xe,Pe=t.current.isRowSelected(le),ke=DI(t)>1&&Ce||!Pe;t.current.selectRow(le,ke,Ce)},[t,p,c]),R=w.useCallback((le,pe)=>{var Ce;if(d)return;const ye=(Ce=pe.target.closest(`.${ee.cell}`))==null?void 0:Ce.getAttribute("data-field");if(ye===Ov.field||ye===AN)return;if(ye){const Pe=t.current.getColumn(ye);if((Pe==null?void 0:Pe.type)===MI)return}Lc(t,le.id).type!=="pinnedRow"&&(pe.shiftKey&&p?m(le.id):F(le.id,pe))},[d,p,t,m,F]),V=w.useCallback((le,pe)=>{var ye;p&&pe.shiftKey&&((ye=window.getSelection())==null||ye.removeAllRanges())},[p]),q=w.useCallback((le,pe)=>{p&&pe.nativeEvent.shiftKey?m(le.id):t.current.selectRow(le.id,le.value,!p)},[t,m,p]),K=w.useCallback(le=>{var Ce;const pe=Po(t),ye=eq(t),xe=pe.items.length>0||(ye==null?void 0:ye.some(Pe=>Pe.length));!e.isRowSelectable&&!e.checkboxSelectionVisibleOnly&&(!o||(Ce=e.rowSelectionPropagation)!=null&&Ce.descendants)&&!xe?t.current.setRowSelectionModel({type:le?"exclude":"include",ids:new Set},"multipleRowsSelection"):t.current.selectRows(v(),le)},[t,v,e.checkboxSelectionVisibleOnly,e.isRowSelectable,(Te=e.rowSelectionPropagation)==null?void 0:Te.descendants,o]),z=w.useCallback(le=>{K(le.value)},[K]),H=w.useCallback((le,pe)=>{if(t.current.getCellMode(le.id,le.field)!==In.Edit&&!WE(pe)){if(jT(pe.key)&&pe.shiftKey){const ye=fs(t);if(ye&&ye.id!==le.id){pe.preventDefault();const xe=t.current.isRowSelected(ye.id);if(!p){t.current.selectRow(ye.id,!xe,!0);return}const Ce=t.current.getRowIndexRelativeToVisibleRows(ye.id),Pe=t.current.getRowIndexRelativeToVisibleRows(le.id);let ze,Ke;Ce>Pe?xe?(ze=Pe,Ke=Ce-1):(ze=Pe,Ke=Ce):xe?(ze=Ce+1,Ke=Pe):(ze=Ce,Ke=Pe);const ke=By(t),ot=[];for(let Ye=ze;Ye<=Ke;Ye+=1)ot.push(ke.rows[Ye].id);t.current.selectRows(ot,!xe);return}}if(pe.key===" "&&pe.shiftKey){pe.preventDefault(),F(le.id,pe);return}String.fromCharCode(pe.keyCode)==="A"&&(pe.ctrlKey||pe.metaKey)&&(pe.preventDefault(),K(!0))}},[t,p,F,K]),Z=Mt(()=>{if(!e.rowSelection){t.current.setRowSelectionModel(W0);return}if(s===void 0)return;if(!i||!o||s.type==="include"&&s.ids.size===0){t.current.setRowSelectionModel(s);return}const le=t.current.getPropagatedRowSelectionModel(s);if(le.type!==s.type||le.ids.size!==s.ids.size||!Array.from(s.ids).every(pe=>le.ids.has(pe))){t.current.setRowSelectionModel(le);return}t.current.setRowSelectionModel(s)});st(t,"sortedRowsSet",r(()=>N(!0))),st(t,"filteredRowsSet",r(()=>N())),st(t,"rowClick",r(R)),st(t,"rowSelectionCheckboxChange",r(q)),st(t,"headerSelectionCheckboxChange",z),st(t,"cellMouseDown",r(V)),st(t,"cellKeyDown",r(H)),w.useEffect(()=>{Z()},[t,s,e.rowSelection,Z]);const re=s!=null;w.useEffect(()=>{if(re||!e.rowSelection||typeof x!="function")return;const le=Cl(t);if(le.type!=="include")return;const pe=new Set;for(const ye of le.ids)x(ye)&&pe.add(ye);pe.size<le.ids.size&&t.current.setRowSelectionModel({type:le.type,ids:pe})},[t,x,re,e.rowSelection]),w.useEffect(()=>{if(!e.rowSelection||re)return;const le=Cl(t);!p&&(le.type==="include"&&le.ids.size>1||le.type==="exclude")&&t.current.setRowSelectionModel(W0)},[t,p,c,re,e.rowSelection]),w.useEffect(()=>{r(N)},[N,r]),w.useEffect(()=>{A.current&&(A.current=!1)},[])},bPe=t=>{const{classes:e}=t;return w.useMemo(()=>Ze({cellCheckbox:["cellCheckbox"],columnHeaderCheckbox:["columnHeaderCheckbox"]},en,e),[e])},vPe=(t,e)=>{const n={classes:e.classes},r=bPe(n),o=w.useCallback(i=>{const s=U({},Ov,{cellClassName:r.cellCheckbox,headerClassName:r.columnHeaderCheckbox,headerName:t.current.getLocaleText("checkboxSelectionHeaderName")}),a=e.checkboxSelection,c=i.lookup[al]!=null;return a&&!c?(i.lookup[al]=s,i.orderedFields=[al,...i.orderedFields]):!a&&c?(delete i.lookup[al],i.orderedFields=i.orderedFields.filter(d=>d!==al)):a&&c&&(i.lookup[al]=U({},s,i.lookup[al]),e.columns.some(d=>d.field===al)||(i.orderedFields=[al,...i.orderedFields.filter(d=>d!==al)])),i},[t,r,e.columns,e.checkboxSelection]);xr(t,"hydrateColumns",o)},wPe=(t,e)=>{var r,o;const n=e.sortModel??((o=(r=e.initialState)==null?void 0:r.sorting)==null?void 0:o.sortModel)??[];return U({},t,{sorting:{sortModel:PW(n,e.disableMultipleColumnsSorting),sortedRows:[]}})},SPe=(t,e)=>{var k,$;const n=ti(t,"useGridSorting");t.current.registerControlState({stateId:"sortModel",propModel:e.sortModel,propOnChange:e.onSortModelChange,stateSelector:ka,changeEvent:"sortModelChange"});const r=w.useCallback((D,I)=>{const A=ka(t),N=A.findIndex(R=>R.field===D);let F=[...A];return N>-1?(I==null?void 0:I.sort)==null?F.splice(N,1):F.splice(N,1,I):F=[...A,I],F},[t]),o=w.useCallback((D,I)=>{const N=ka(t).find(F=>F.field===D.field);if(N){const F=I===void 0?Y4(D.sortingOrder??e.sortingOrder,N.sort):I;return F===void 0?void 0:U({},N,{sort:F})}return{field:D.field,sort:I===void 0?Y4(D.sortingOrder??e.sortingOrder):I}},[t,e.sortingOrder]),i=w.useCallback((D,I)=>I==null||I.sortable===!1||e.disableColumnSorting?D:(I.sortingOrder||e.sortingOrder).some(N=>!!N)?[...D,"columnMenuSortItem"]:D,[e.sortingOrder,e.disableColumnSorting]),s=w.useCallback(()=>{t.current.setState(D=>{if(e.sortingMode==="server")return n.debug("Skipping sorting rows as sortingMode = server"),U({},D,{sorting:U({},D.sorting,{sortedRows:SN(Zo(t),Lo,!1)})});const I=ka(t),A=SCe(I,t),N=t.current.applyStrategyProcessor("sorting",{sortRowList:A});return U({},D,{sorting:U({},D.sorting,{sortedRows:N})})}),t.current.publishEvent("sortedRowsSet")},[t,n,e.sortingMode]),a=w.useCallback(D=>{ka(t)!==D&&(n.debug("Setting sort model"),t.current.setState(K4(D,e.disableMultipleColumnsSorting)),t.current.applySorting())},[t,n,e.disableMultipleColumnsSorting]),c=w.useCallback((D,I,A)=>{const N=t.current.getColumn(D),F=o(N,I);let R;!A||e.disableMultipleColumnsSorting?R=(F==null?void 0:F.sort)==null?[]:[F]:R=r(N.field,F),t.current.setSortModel(R)},[t,r,o,e.disableMultipleColumnsSorting]),d=w.useCallback(()=>ka(t),[t]),h=w.useCallback(()=>IN(t).map(I=>I.model),[t]),p=w.useCallback(()=>BE(t),[t]),g=w.useCallback(D=>t.current.getSortedRowIds()[D],[t]);Wt(t,{getSortModel:d,getSortedRows:h,getSortedRowIds:p,getRowIdFromRowIndex:g,setSortModel:a,sortColumn:c,applySorting:s},"public");const v=w.useCallback((D,I)=>{var F,R;const A=ka(t);return!I.exportOnlyDirtyModels||e.sortModel!=null||((R=(F=e.initialState)==null?void 0:F.sorting)==null?void 0:R.sortModel)!=null||A.length>0?U({},D,{sorting:{sortModel:A}}):D},[t,e.sortModel,($=(k=e.initialState)==null?void 0:k.sorting)==null?void 0:$.sortModel]),S=w.useCallback((D,I)=>{var N;const A=(N=I.stateToRestore.sorting)==null?void 0:N.sortModel;return A==null?D:(t.current.setState(K4(A,e.disableMultipleColumnsSorting)),U({},D,{callbacks:[...D.callbacks,t.current.applySorting]}))},[t,e.disableMultipleColumnsSorting]),C=w.useCallback(D=>{const I=Zo(t),A=I[Lo],N=D.sortRowList?D.sortRowList(A.children.map(F=>I[F])):[...A.children];return A.footerId!=null&&N.push(A.footerId),N},[t]);xr(t,"exportState",v),xr(t,"restoreState",S),TS(t,sm,"sorting",C);const x=w.useCallback(({field:D,colDef:I},A)=>{if(!I.sortable||e.disableColumnSorting)return;const N=e.multipleColumnsSortingMode==="always"||A.shiftKey||A.metaKey||A.ctrlKey;c(D,void 0,N)},[c,e.disableColumnSorting,e.multipleColumnsSortingMode]),O=w.useCallback(({field:D,colDef:I},A)=>{!I.sortable||e.disableColumnSorting||A.key==="Enter"&&!A.ctrlKey&&!A.metaKey&&c(D,void 0,e.multipleColumnsSortingMode==="always"||A.shiftKey)},[c,e.disableColumnSorting,e.multipleColumnsSortingMode]),M=w.useCallback(()=>{const D=ka(t),I=_d(t);if(D.length>0){const A=D.filter(N=>I[N.field]);A.length<D.length&&t.current.setSortModel(A)}},[t]),P=w.useCallback(D=>{D==="sorting"&&t.current.applySorting()},[t]);xr(t,"columnMenu",i),st(t,"columnHeaderClick",x),st(t,"columnHeaderKeyDown",O),st(t,"rowsSet",t.current.applySorting),st(t,"columnsChange",M),st(t,"activeStrategyProcessorChange",P),pm(()=>{t.current.applySorting()}),Un(()=>{e.sortModel!==void 0&&t.current.setSortModel(e.sortModel)},[t,e.sortModel])};function P5(t){const{containerSize:e,scrollPosition:n,elementSize:r,elementOffset:o}=t,i=o+r;if(r>e)return o;if(i-e>n)return i-e;if(o<n)return o}const CPe=(t,e)=>{const n=Ni(),r=ti(t,"useGridScroll"),o=t.current.columnHeadersContainerRef,i=t.current.virtualScrollerRef,s=$e(t,Of),a=w.useCallback(p=>{var x;const g=Lr(t),m=Pv(t),v=Or(t);if(!(p.rowIndex==null)&&m===0||v.length===0)return!1;r.debug(`Scrolling to cell at row ${p.rowIndex}, col: ${p.colIndex} `);let C={};if(p.colIndex!==void 0){const O=fm(t);let M;if(typeof p.rowIndex<"u"){const P=(x=s[p.rowIndex])==null?void 0:x.id,k=t.current.unstable_getCellColSpanInfo(P,p.colIndex);k&&!k.spannedByColSpan&&(M=k.cellProps.width)}typeof M>"u"&&(M=v[p.colIndex].computedWidth),C.left=P5({containerSize:g.viewportOuterSize.width,scrollPosition:Math.abs(i.current.scrollLeft),elementSize:M,elementOffset:O[p.colIndex]})}if(p.rowIndex!==void 0){const O=wN(t),M=DEe(t),P=hq(t),k=e.pagination?p.rowIndex-M*P:p.rowIndex,$=O.positions[k+1]?O.positions[k+1]-O.positions[k]:O.currentPageTotalHeight-O.positions[k];C.top=P5({containerSize:g.viewportInnerSize.height,scrollPosition:i.current.scrollTop,elementSize:$,elementOffset:O.positions[k]})}return C=t.current.unstable_applyPipeProcessors("scrollToIndexes",C,p),typeof C.left<"u"||typeof C.top<"u"?(t.current.scroll(C),!0):!1},[r,t,i,e.pagination,s]),c=w.useCallback(p=>{if(i.current&&p.left!==void 0&&o.current){const g=n?-1:1;o.current.scrollLeft=p.left,i.current.scrollLeft=g*p.left,r.debug(`Scrolling left: ${p.left}`)}i.current&&p.top!==void 0&&(i.current.scrollTop=p.top,r.debug(`Scrolling top: ${p.top}`)),r.debug("Scrolling, updating container, and viewport")},[i,n,o,r]),d=w.useCallback(()=>i!=null&&i.current?{top:i.current.scrollTop,left:i.current.scrollLeft}:{top:0,left:0},[i]);Wt(t,{scroll:c,scrollToIndexes:a,getScrollPosition:d},"public")};function EPe(t,e){Bn(t,"columnHeaderClick",e.onColumnHeaderClick),Bn(t,"columnHeaderContextMenu",e.onColumnHeaderContextMenu),Bn(t,"columnHeaderDoubleClick",e.onColumnHeaderDoubleClick),Bn(t,"columnHeaderOver",e.onColumnHeaderOver),Bn(t,"columnHeaderOut",e.onColumnHeaderOut),Bn(t,"columnHeaderEnter",e.onColumnHeaderEnter),Bn(t,"columnHeaderLeave",e.onColumnHeaderLeave),Bn(t,"cellClick",e.onCellClick),Bn(t,"cellDoubleClick",e.onCellDoubleClick),Bn(t,"cellKeyDown",e.onCellKeyDown),Bn(t,"preferencePanelClose",e.onPreferencePanelClose),Bn(t,"preferencePanelOpen",e.onPreferencePanelOpen),Bn(t,"menuOpen",e.onMenuOpen),Bn(t,"menuClose",e.onMenuClose),Bn(t,"rowDoubleClick",e.onRowDoubleClick),Bn(t,"rowClick",e.onRowClick),Bn(t,"stateChange",e.onStateChange)}const Zw={width:0,height:0},xPe={isReady:!1,root:Zw,viewportOuterSize:Zw,viewportInnerSize:Zw,contentSize:Zw,minimumSize:Zw,hasScrollX:!1,hasScrollY:!1,scrollbarSize:0,headerHeight:0,groupHeaderHeight:0,headerFilterHeight:0,rowWidth:0,rowHeight:0,columnsTotalWidth:0,leftPinnedWidth:0,rightPinnedWidth:0,headersTotalHeight:0,topContainerHeight:0,bottomContainerHeight:0},_Pe=(t,e,n)=>{const r=xPe,o=VE(n);return U({},t,{dimensions:U({},r,IPe(e,n,o,II(n)))})},TPe=ct(Or,fm,(t,e)=>{const n=t.length;return n===0?0:Ap(e[n-1]+t[n-1].computedWidth,1)});function APe(t,e){const n=t.current.virtualizer,r=n.api.updateDimensions,o=n.api.getViewportPageSize,s={getRootDimensions:w.useCallback(()=>Lr(t),[t])},a={updateDimensions:r,getViewportPageSize:o};Wt(t,s,"public"),Wt(t,a,"private"),Bn(t,"rootMount",d=>{M5(d,Lr(t))}),Bn(t,"debouncedResize",e.onResize),zT(t.current.store,d=>d.dimensions,(d,h)=>{t.current.rootElementRef.current&&M5(t.current.rootElementRef.current,h),RPe(h.viewportInnerSize,d.viewportInnerSize)||t.current.publishEvent("viewportInnerSizeChange",h.viewportInnerSize),t.current.publishEvent("debouncedResize",h.root)})}function M5(t,e){const n=(r,o)=>t.style.setProperty(r,o);n("--DataGrid-hasScrollX",`${Number(e.hasScrollX)}`),n("--DataGrid-hasScrollY",`${Number(e.hasScrollY)}`),n("--DataGrid-scrollbarSize",`${e.scrollbarSize}px`),n("--DataGrid-rowWidth",`${e.rowWidth}px`),n("--DataGrid-columnsTotalWidth",`${e.columnsTotalWidth}px`),n("--DataGrid-leftPinnedWidth",`${e.leftPinnedWidth}px`),n("--DataGrid-rightPinnedWidth",`${e.rightPinnedWidth}px`),n("--DataGrid-headerHeight",`${e.headerHeight}px`),n("--DataGrid-headersTotalHeight",`${e.headersTotalHeight}px`),n("--DataGrid-topContainerHeight",`${e.topContainerHeight}px`),n("--DataGrid-bottomContainerHeight",`${e.bottomContainerHeight}px`),n("--height",`${e.rowHeight}px`)}function IPe(t,e,n,r){const o=TW(t.rowHeight,QT.rowHeight);return{rowHeight:Math.floor(o*n),headerHeight:Math.floor(t.columnHeaderHeight*n),groupHeaderHeight:Math.floor((t.columnGroupHeaderHeight??t.columnHeaderHeight)*n),headerFilterHeight:Math.floor((t.headerFilterHeight??t.columnHeaderHeight)*n),columnsTotalWidth:TPe(e),headersTotalHeight:GE(e,t),leftPinnedWidth:r.left.reduce((i,s)=>i+s.computedWidth,0),rightPinnedWidth:r.right.reduce((i,s)=>i+s.computedWidth,0)}}function RPe(t,e){return t.width===e.width&&t.height===e.height}const PPe=(t,e,n)=>{const r=FSe(n),o=Pv(n),i=kv(n),s=Math.min(i.enabled?i.paginationModel.pageSize:o,o);return U({},t,{rowsMeta:{currentPageTotalHeight:s*r,positions:Array.from({length:s},(a,c)=>c*r),pinnedTopRowsTotalHeight:0,pinnedBottomRowsTotalHeight:0}})},MPe=(t,e)=>{const n=t.current.virtualizer,{getRowHeight:r,setLastMeasuredRowIndex:o,storeRowHeightMeasurement:i,resetRowHeights:s,hydrateRowsMeta:a,observeRowHeight:c,rowHasAutoHeight:d,getRowHeightEntry:h,getLastMeasuredRowIndex:p}=n.api.rowsMeta;BN(t,"rowHeight",a);const g={unstable_getRowHeight:r,unstable_setLastMeasuredRowIndex:o,unstable_storeRowHeightMeasurement:i,resetRowHeights:s},m={hydrateRowsMeta:a,observeRowHeight:c,rowHasAutoHeight:d,getRowHeightEntry:h,getLastMeasuredRowIndex:p};Wt(t,g,"public"),Wt(t,m,"private")},kPe=t=>{const e=w.useCallback((o={})=>t.current.unstable_applyPipeProcessors("exportState",{},o),[t]),n=w.useCallback(o=>{t.current.unstable_applyPipeProcessors("restoreState",{callbacks:[]},{stateToRestore:o}).callbacks.forEach(s=>{s()})},[t]);Wt(t,{exportState:e,restoreState:n},"public")},OPe=t=>{const e=t.current.virtualizer,n=e.api.resetColSpan,r=e.api.getCellColSpanInfo,o=e.api.calculateColSpan,i={unstable_getCellColSpanInfo:r},s={resetColSpan:n,calculateColSpan:o};Wt(t,i,"public"),Wt(t,s,"private"),st(t,"columnOrderChange",n)},Zq=(t,e,n)=>{if(LW(t)){if(n[t.field]!==void 0)throw new Error(["MUI X: columnGroupingModel contains duplicated field",`column field ${t.field} occurs two times in the grouping model:`,`- ${n[t.field].join(" > ")}`,`- ${e.join(" > ")}`].join(`
`));n[t.field]=e;return}const{groupId:r,children:o}=t;o.forEach(i=>{Zq(i,[...e,r],n)})},UD=t=>{if(!t)return{};const e={};return t.forEach(n=>{Zq(n,[],e)}),e},GD=(t,e,n)=>{const r=c=>e[c]??[],o=[],i=Math.max(0,...t.map(c=>r(c).length)),s=(c,d,h)=>{const p=r(c),g=r(d);for(let m=0;m<=h;m+=1)if(p[m]!==g[m])return!1;return!0},a=(c,d)=>{const h=n==null?void 0:n.left,p=n==null?void 0:n.right,g=!!(h!=null&&h.includes(c)),m=!!(h!=null&&h.includes(d)),v=!!(p!=null&&p.includes(c)),S=!!(p!=null&&p.includes(d));return g!==m||v!==S};for(let c=0;c<i;c+=1){const d=[];for(let h=0;h<t.length;h+=1){const p=t[h],g=r(p)[c]??null;if(d.length===0){d.push({columnFields:[p],groupId:g});continue}const m=d[d.length-1],v=m.columnFields[m.columnFields.length-1];m.groupId!==g||!s(v,p,c)||a(v,p)?d.push({columnFields:[p],groupId:g}):m.columnFields.push(p)}o.push(d)}return o},DPe=["groupId","children"],HN=t=>{const e={};for(let n=0;n<t.length;n+=1){const r=t[n];if(LW(r))continue;const{groupId:o,children:i}=r,s=Xe(r,DPe);if(!o)throw new Error("MUI X: An element of the columnGroupingModel does not have either `field` or `groupId`.");const a=U({},s,{groupId:o}),c=HN(i);if(c[o]!==void 0||e[o]!==void 0)throw new Error(`MUI X: The groupId ${o} is used multiple times in the columnGroupingModel.`);Object.assign(e,c),e[o]=a}return e},LPe=(t,e,n)=>{if(n.current.caches.columnGrouping={lastColumnGroupingModel:e.columnGroupingModel},!e.columnGroupingModel)return t;const r=Nc(n),o=zE(n),i=HN(e.columnGroupingModel??[]),s=UD(e.columnGroupingModel??[]),a=GD(r,s,n.current.state.pinnedColumns??{}),c=o.length===0?0:Math.max(...o.map(d=>{var h;return((h=s[d])==null?void 0:h.length)??0}));return U({},t,{columnGrouping:{lookup:i,unwrappedGroupingModel:s,headerStructure:a,maxDepth:c}})},NPe=(t,e)=>{const n=w.useCallback(a=>bq(t)[a]??[],[t]),r=w.useCallback(()=>vq(t),[t]);Wt(t,{getColumnGroupPath:n,getAllGroupDetails:r},"public");const i=w.useCallback(()=>{const a=UD(e.columnGroupingModel??[]);t.current.setState(c=>{var g;const d=((g=c.columns)==null?void 0:g.orderedFields)??[],h=c.pinnedColumns??{},p=GD(d,a,h);return U({},c,{columnGrouping:U({},c.columnGrouping,{headerStructure:p})})})},[t,e.columnGroupingModel]),s=w.useCallback(a=>{var S,C;t.current.caches.columnGrouping.lastColumnGroupingModel=a;const c=((C=(S=t.current).getPinnedColumns)==null?void 0:C.call(S))??{},d=Nc(t),h=zE(t),p=HN(a??[]),g=UD(a??[]),m=GD(d,g,c),v=h.length===0?0:Math.max(...h.map(x=>{var O;return((O=g[x])==null?void 0:O.length)??0}));t.current.setState(x=>U({},x,{columnGrouping:{lookup:p,unwrappedGroupingModel:g,headerStructure:m,maxDepth:v}}))},[t]);st(t,"columnIndexChange",i),st(t,"columnsChange",()=>{s(e.columnGroupingModel)}),st(t,"columnVisibilityModelChange",()=>{s(e.columnGroupingModel)}),w.useEffect(()=>{e.columnGroupingModel!==t.current.caches.columnGrouping.lastColumnGroupingModel&&s(e.columnGroupingModel)},[t,s,e.columnGroupingModel])};function FPe(){let t,e;const n=new Promise((r,o)=>{t=r,e=o});return n.resolve=t,n.reject=e,n}function k5(t,e){if(e!==void 0&&t.changedTouches){for(let n=0;n<t.changedTouches.length;n+=1){const r=t.changedTouches[n];if(r.identifier===e)return{x:r.clientX,y:r.clientY}}return!1}return{x:t.clientX,y:t.clientY}}function O5(t,e,n,r){let o=t;return r==="Right"?o+=e-n.left:o+=n.right-e,o}function $Pe(t,e,n){return n==="Left"?t-e.left:e.right-t}function VPe(t){return t==="Right"?"Left":"Right"}function zPe(t,e){const n=t.classList.contains(ee["columnSeparator--sideRight"])?"Right":"Left";return e?VPe(n):n}function D5(t){t.preventDefault(),t.stopImmediatePropagation()}function BPe(t){const e=w.useRef(void 0),n=()=>F1e(t),r=$e(t,n);return w.useEffect(()=>{e.current&&r===!1&&(e.current.resolve(),e.current=void 0)}),()=>{if(!e.current){if(n()===!1)return Promise.resolve();e.current=FPe()}return e.current}}function HPe(t,e){if(t.length<4)return t;const n=t.slice();n.sort((a,c)=>a-c);const r=n[Math.floor(n.length*.25)],o=n[Math.floor(n.length*.75)-1],i=o-r,s=i<5?5:i*e;return n.filter(a=>a>r-s&&a<o+s)}function jPe(t,e,n){const r={},o=t.current.rootElementRef.current;return o.classList.add(ee.autosizing),n.forEach(i=>{const a=lTe(t.current,i.field).map(v=>v.getBoundingClientRect().width??0),c=e.includeOutliers?a:HPe(a,e.outliersFactor);if(e.includeHeaders){const v=aTe(t.current,i.field);if(v){const S=v.querySelector(`.${ee.columnHeaderTitle}`),C=v.querySelector(`.${ee.columnHeaderTitleContainerContent}`),x=v.querySelector(`.${ee.iconButtonContainer}`),O=v.querySelector(`.${ee.menuIcon}`),M=S??C,P=window.getComputedStyle(v,null),k=parseInt(P.paddingLeft,10)+parseInt(P.paddingRight,10),D=M.scrollWidth+1+k+((x==null?void 0:x.clientWidth)??0)+((O==null?void 0:O.clientWidth)??0);c.push(D)}}const d=i.minWidth!==-1/0&&i.minWidth!==void 0,h=i.maxWidth!==1/0&&i.maxWidth!==void 0,p=d?i.minWidth:0,g=h?i.maxWidth:1/0,m=c.length===0?0:Math.max(...c);r[i.field]=Bg(m,p,g)}),o.classList.remove(ee.autosizing),r}const UPe=t=>U({},t,{columnResize:{resizingColumnField:""}});function GPe(){return{colDef:void 0,initialColWidth:0,initialTotalWidth:0,previousMouseClickEvent:void 0,columnHeaderElement:void 0,headerFilterElement:void 0,groupHeaderElements:[],cellElements:[],leftPinnedCellsAfter:[],rightPinnedCellsBefore:[],fillerLeft:void 0,fillerRight:void 0,leftPinnedHeadersAfter:[],rightPinnedHeadersBefore:[]}}const WPe=(t,e)=>{const n=Ni(),r=ti(t,"useGridColumnResize"),o=sa(GPe).current,i=w.useRef(null),s=w.useRef(null),a=Js(),c=w.useRef(void 0),d=A=>{var K,z;r.debug(`Updating width to ${A} for col ${o.colDef.field}`);const N=o.columnHeaderElement.offsetWidth,F=A-N,R=A-o.initialColWidth;if(R>0){const H=o.initialTotalWidth+R;(z=(K=t.current.rootElementRef)==null?void 0:K.current)==null||z.style.setProperty("--DataGrid-rowWidth",`${H}px`)}o.colDef.computedWidth=A,o.colDef.width=A,o.colDef.flex=0,o.columnHeaderElement.style.width=`${A}px`;const V=o.headerFilterElement;V&&(V.style.width=`${A}px`),o.groupHeaderElements.forEach(H=>{const Z=H;let re;Z.getAttribute("aria-colspan")==="1"?re=`${A}px`:re=`${Z.offsetWidth+F}px`,Z.style.width=re}),o.cellElements.forEach(H=>{const Z=H;let re;Z.getAttribute("aria-colspan")==="1"?re=`${A}px`:re=`${Z.offsetWidth+F}px`,Z.style.setProperty("--width",re)});const q=t.current.unstable_applyPipeProcessors("isColumnPinned",!1,o.colDef.field);q===rh.LEFT&&(uy(o.fillerLeft,"width",F),o.leftPinnedCellsAfter.forEach(H=>{uy(H,"left",F)}),o.leftPinnedHeadersAfter.forEach(H=>{uy(H,"left",F)})),q===rh.RIGHT&&(uy(o.fillerRight,"width",F),o.rightPinnedCellsBefore.forEach(H=>{uy(H,"right",F)}),o.rightPinnedHeadersBefore.forEach(H=>{uy(H,"right",F)}))},h=A=>{if(x(),o.previousMouseClickEvent){const N=o.previousMouseClickEvent,F=N.timeStamp,R=N.clientX,V=N.clientY;if(A.timeStamp-F<300&&A.clientX===R&&A.clientY===V){o.previousMouseClickEvent=void 0,t.current.publishEvent("columnResizeStop",null,A);return}}if(o.colDef){t.current.setColumnWidth(o.colDef.field,o.colDef.width),r.debug(`Updating col ${o.colDef.field} with new width: ${o.colDef.width}`);const N=Rl(t);o.groupHeaderElements.forEach(F=>{const R=eTe(F),V=F,K=`${R.reduce((z,H)=>N.columnVisibilityModel[H]!==!1?z+N.lookup[H].computedWidth:z,0)}px`;V.style.width=K})}a.start(0,()=>{t.current.publishEvent("columnResizeStop",null,A)})},p=(A,N,F)=>{var K;const R=t.current.rootElementRef.current;o.initialColWidth=A.computedWidth,o.initialTotalWidth=t.current.getRootDimensions().rowWidth,o.colDef=A,o.columnHeaderElement=J_e(t.current.columnHeadersContainerRef.current,A.field);const V=R.querySelector(`.${ee.headerFilterRow} [data-field="${Td(A.field)}"]`);V&&(o.headerFilterElement=V),o.groupHeaderElements=tTe((K=t.current.columnHeadersContainerRef)==null?void 0:K.current,A.field),o.cellElements=nTe(o.columnHeaderElement,t.current),o.fillerLeft=y5(t.current,n?"filler--pinnedRight":"filler--pinnedLeft"),o.fillerRight=y5(t.current,n?"filler--pinnedLeft":"filler--pinnedRight");const q=t.current.unstable_applyPipeProcessors("isColumnPinned",!1,o.colDef.field);o.leftPinnedCellsAfter=q!==rh.LEFT?[]:rTe(t.current,o.columnHeaderElement,n),o.rightPinnedCellsBefore=q!==rh.RIGHT?[]:oTe(t.current,o.columnHeaderElement,n),o.leftPinnedHeadersAfter=q!==rh.LEFT?[]:iTe(t.current,o.columnHeaderElement,n),o.rightPinnedHeadersBefore=q!==rh.RIGHT?[]:sTe(t.current,o.columnHeaderElement,n),s.current=zPe(N,n),i.current=$Pe(F,o.columnHeaderElement.getBoundingClientRect(),s.current)},g=Mt(h),m=Mt(A=>{if(A.buttons===0){g(A);return}let N=O5(i.current,A.clientX,o.columnHeaderElement.getBoundingClientRect(),s.current);N=Bg(N,o.colDef.minWidth,o.colDef.maxWidth),d(N);const F={element:o.columnHeaderElement,colDef:o.colDef,width:N};t.current.publishEvent("columnResize",F,A)}),v=Mt(A=>{k5(A,c.current)&&h(A)}),S=Mt(A=>{const N=k5(A,c.current);if(!N)return;if(A.type==="mousemove"&&A.buttons===0){v(A);return}let F=O5(i.current,N.x,o.columnHeaderElement.getBoundingClientRect(),s.current);F=Bg(F,o.colDef.minWidth,o.colDef.maxWidth),d(F);const R={element:o.columnHeaderElement,colDef:o.colDef,width:F};t.current.publishEvent("columnResize",R,A)}),C=Mt(A=>{const N=KT(A.target,ee["columnSeparator--resizable"]);if(!N)return;const F=A.changedTouches[0];F!=null&&(c.current=F.identifier);const R=KT(A.target,ee.columnHeader),V=Z_e(R),q=t.current.getColumn(V);r.debug(`Start Resize on col ${q.field}`),t.current.publishEvent("columnResizeStart",{field:V},A),p(q,N,F.clientX);const K=Br(A.currentTarget);K.addEventListener("touchmove",S),K.addEventListener("touchend",v)}),x=w.useCallback(()=>{const A=Br(t.current.rootElementRef.current);A.body.style.removeProperty("cursor"),A.removeEventListener("mousemove",m),A.removeEventListener("mouseup",g),A.removeEventListener("touchmove",S),A.removeEventListener("touchend",v),setTimeout(()=>{A.removeEventListener("click",D5,!0)},100),o.columnHeaderElement&&(o.columnHeaderElement.style.pointerEvents="unset")},[t,o,m,g,S,v]),O=w.useCallback(({field:A})=>{t.current.setState(N=>U({},N,{columnResize:U({},N.columnResize,{resizingColumnField:A})}))},[t]),M=w.useCallback(()=>{t.current.setState(A=>U({},A,{columnResize:U({},A.columnResize,{resizingColumnField:""})}))},[t]),P=Mt(({colDef:A},N)=>{if(N.button!==0||!N.currentTarget.classList.contains(ee["columnSeparator--resizable"]))return;N.preventDefault(),r.debug(`Start Resize on col ${A.field}`),t.current.publishEvent("columnResizeStart",{field:A.field},N),p(A,N.currentTarget,N.clientX);const F=Br(t.current.rootElementRef.current);F.body.style.cursor="col-resize",o.previousMouseClickEvent=N.nativeEvent,F.addEventListener("mousemove",m),F.addEventListener("mouseup",g),F.addEventListener("click",D5,!0)}),k=Mt((A,N)=>{if(e.disableAutosize||N.button!==0)return;const F=t.current.state.columns.lookup[A.field];F.resizable!==!1&&t.current.autosizeColumns(U({},e.autosizeOptions,{disableColumnVirtualization:!1,columns:[F.field]}))}),$=BPe(t),D=w.useRef(!1),I=w.useCallback(async A=>{var q;if(!((q=t.current.rootElementRef)==null?void 0:q.current)||D.current)return;D.current=!0;const F=Rl(t),R=U({},Jxe,A,{columns:(A==null?void 0:A.columns)??F.orderedFields});R.columns=R.columns.filter(K=>F.columnVisibilityModel[K]!==!1);const V=R.columns.map(K=>t.current.state.columns.lookup[K]);try{!e.disableVirtualization&&R.disableColumnVirtualization&&(t.current.unstable_setColumnVirtualization(!1),await $());const K=jPe(t,R,V),z=V.map(H=>U({},H,{width:K[H.field],computedWidth:K[H.field],flex:0}));if(R.expand){const Z=F.orderedFields.map(ne=>F.lookup[ne]).filter(ne=>F.columnVisibilityModel[ne.field]!==!1).reduce((ne,ie)=>ne+(K[ie.field]??ie.computedWidth??ie.width),0),X=t.current.getRootDimensions().viewportInnerSize.width-Z;if(X>0){const ne=X/(z.length||1);z.forEach(ie=>{ie.width+=ne,ie.computedWidth+=ne})}}t.current.updateColumns(z),z.forEach((H,Z)=>{if(H.width!==V[Z].width){const re=H.width;t.current.publishEvent("columnWidthChange",{element:t.current.getColumnHeaderElement(H.field),colDef:H,width:re})}})}finally{e.disableVirtualization||t.current.unstable_setColumnVirtualization(!0),D.current=!1}},[t,$,e.disableVirtualization]);w.useEffect(()=>x,[x]),sI(()=>{e.autosizeOnMount&&Promise.resolve().then(()=>{t.current.autosizeColumns(e.autosizeOptions)})}),xq(t,()=>{var A;return(A=t.current.columnHeadersContainerRef)==null?void 0:A.current},"touchstart",C,{passive:!0}),Wt(t,{autosizeColumns:I},"public"),st(t,"columnResizeStop",M),st(t,"columnResizeStart",O),st(t,"columnSeparatorMouseDown",P),st(t,"columnSeparatorDoubleClick",k),Bn(t,"columnResize",e.onColumnResize),Bn(t,"columnWidthChange",e.onColumnWidthChange)};function uy(t,e,n){t&&(t.style[e]=`${parseInt(t.style[e],10)+n}px`)}function qPe(t,e){return t.firstRowIndex>=e.firstRowIndex&&t.lastRowIndex<=e.lastRowIndex?null:t.firstRowIndex>=e.firstRowIndex&&t.lastRowIndex>e.lastRowIndex?{firstRowIndex:e.lastRowIndex,lastRowIndex:t.lastRowIndex}:t.firstRowIndex<e.firstRowIndex&&t.lastRowIndex<=e.lastRowIndex?{firstRowIndex:t.firstRowIndex,lastRowIndex:e.firstRowIndex-1}:t}function L5(t){return t.firstRowIndex!==0||t.lastRowIndex!==0}const ik=(t,e,n)=>{if(!t)return null;let r=t[e.field];const o=e.rowSpanValueGetter??e.valueGetter;return o&&(r=o(r,t,e,n)),r},Jq={spannedCells:{},hiddenCells:{},hiddenCellOriginMap:{}},KPe={firstRowIndex:0,lastRowIndex:0},Hy={caches:Jq,processedRange:KPe},N5=20,eK=(t,e,n,r,o,i)=>{const s=t.current.virtualizer,a=i?Hy:gv.selectors.state(s.store.state),c=U({},a.caches.spannedCells),d=U({},a.caches.hiddenCells),h=U({},a.caches.hiddenCellOriginMap),p={firstRowIndex:Math.min(a.processedRange.firstRowIndex,o.firstRowIndex),lastRowIndex:Math.max(a.processedRange.lastRowIndex,o.lastRowIndex)};return e.forEach((g,m)=>{var v;for(let S=o.firstRowIndex;S<o.lastRowIndex;S+=1){const C=n[S];if((v=d[C.id])!=null&&v[m])continue;const x=ik(C.model,g,t);if(x==null)continue;let O=C.id,M=S,P=0;const k=[];if(S===o.firstRowIndex){let D=S-1,I=n[D];for(;D>=r.firstRowIndex&&I&&ik(I.model,g,t)===x;){const A=n[D+1];d[A.id]?d[A.id][m]=!0:d[A.id]={[m]:!0},k.push(S),P+=1,O=I.id,M=D,D-=1,I=n[D]}}k.forEach(D=>{h[D]?h[D][m]=M:h[D]={[m]:M}});let $=S+1;for(;$<=r.lastRowIndex&&n[$]&&ik(n[$].model,g,t)===x;){const D=n[$];d[D.id]?d[D.id][m]=!0:d[D.id]={[m]:!0},h[$]?h[$][m]=M:h[$]={[m]:M},$+=1,P+=1}P>0&&(c[O]?c[O][m]=P+1:c[O]={[m]:P+1})}}),{caches:{spannedCells:c,hiddenCells:d,hiddenCellOriginMap:h},processedRange:p}},YPe=(t,e)=>{const n=Tp(e).length;if(t.pagination){const r=hq(e);let o=N5;return r>0&&(o=r-1),{firstRowIndex:0,lastRowIndex:Math.min(o,n)}}return{firstRowIndex:0,lastRowIndex:Math.min(N5,n)}},XPe=(t,e,n)=>{var g;if(!e.rowSpanning)return U({},t,{rowSpanning:Hy});const r=t.rows.dataRowIds||[],o=t.columns.orderedFields||[],i=t.rows.dataRowIdToModelLookup,s=t.columns.lookup,a=!!t.filter.filterModel.items.length||!!((g=t.filter.filterModel.quickFilterValues)!=null&&g.length);if(!r.length||!o.length||!i||!s||a)return U({},t,{rowSpanning:Hy});const c=YPe(e,n),d=r.map(m=>({id:m,model:i[m]})),h=o.map(m=>s[m]),p=eK(n,h,d,c,c,!0);return U({},t,{rowSpanning:p})},QPe=(t,e)=>{const n=t.current.virtualizer.store,r=w.useCallback((i,s=!1)=>{const{range:a,rows:c}=By(t);if(a===null||!L5(i))return;const d=s?Hy:gv.selectors.state(n.state),h=qPe({firstRowIndex:i.firstRowIndex,lastRowIndex:Math.min(i.lastRowIndex,a.lastRowIndex-a.firstRowIndex+1)},d.processedRange);if(h===null)return;const p=Or(t),g=eK(t,p,c,a,h,s),m=Object.keys(g.caches.spannedCells).length,v=Object.keys(g.caches.hiddenCells).length,S=Object.keys(d.caches.spannedCells).length,C=Object.keys(d.caches.hiddenCells).length;!(s||m!==S||v!==C)||m===0&&S===0||n.set("rowSpanning",g)},[t,n]),o=w.useCallback(()=>{const i=Oq(t);L5(i)&&r(i,!0)},[t,r]);st(t,"renderedRowsIntervalChange",uh(e.rowSpanning,r)),st(t,"sortedRowsSet",uh(e.rowSpanning,o)),st(t,"paginationModelChange",uh(e.rowSpanning,o)),st(t,"filteredRowsSet",uh(e.rowSpanning,o)),st(t,"columnsChange",uh(e.rowSpanning,o)),w.useEffect(()=>{e.rowSpanning?n.state.rowSpanning.caches===Jq&&o():n.state.rowSpanning!==Hy&&n.set("rowSpanning",Hy)},[t,n,o,e.rowSpanning])},ZPe=(t,e,n)=>U({},t,{listViewColumn:e.listViewColumn?U({},e.listViewColumn,{computedWidth:WD(n)}):void 0});function JPe(t,e){const n=()=>{t.current.setState(i=>i.listViewColumn?U({},i,{listViewColumn:U({},i.listViewColumn,{computedWidth:WD(t)})}):i)},r=w.useRef(null);st(t,"viewportInnerSizeChange",i=>{r.current!==i.width&&(r.current=i.width,n())}),st(t,"columnVisibilityModelChange",n),Un(()=>{const i=e.listViewColumn;i&&t.current.setState(s=>U({},s,{listViewColumn:U({},i,{computedWidth:WD(t)})}))},[t,e.listViewColumn]),w.useEffect(()=>{e.listView&&e.listViewColumn},[e.listView,e.listViewColumn])}function WD(t){return Lr(t).viewportInnerSize.width}const eMe=ct(Po,ka,Qo,(t,e,n)=>({groupKeys:[],paginationModel:n,sortModel:e,filterModel:t,start:n.page*n.pageSize,end:n.page*n.pageSize+n.pageSize-1}));let sk=function(t){return t.Default="set-new-rows",t.LazyLoading="replace-row-range",t}({});class G_{constructor(e){je(this,"getCacheKeys",e=>{if(this.chunkSize<1||typeof e.start!="number")return[e];const n=[];for(let r=e.start;r<=e.end;r+=this.chunkSize){const o=Math.min(r+this.chunkSize-1,e.end);n.push(U({},e,{start:r,end:o}))}return n});je(this,"splitResponse",(e,n)=>{const r=this.getCacheKeys(e);if(r.length===1)return new Map([[e,n]]);const o=new Map;return r.forEach(i=>{var c,d,h,p;const s=i.end===e.end,a=U({},n,{pageInfo:U({},n.pageInfo,{hasNextPage:((c=n.pageInfo)==null?void 0:c.hasNextPage)!==void 0&&!s?!0:(d=n.pageInfo)==null?void 0:d.hasNextPage,nextCursor:((h=n.pageInfo)==null?void 0:h.nextCursor)!==void 0&&!s?n.rows[i.end+1].id:(p=n.pageInfo)==null?void 0:p.nextCursor}),rows:typeof i.start!="number"||typeof e.start!="number"?n.rows:n.rows.slice(i.start-e.start,i.end-e.start+1)});o.set(i,a)}),o});this.chunkSize=e}}je(G_,"mergeResponses",e=>e.length===1?e[0]:e.reduce((n,r)=>({rows:[...n.rows,...r.rows],rowCount:r.rowCount,pageInfo:r.pageInfo}),{rows:[],rowCount:0,pageInfo:{}}));const tMe=["skipCache"],nMe={clear:()=>{},get:()=>{},set:()=>{}};function F5(t,e={}){return t===null?nMe:t??new H1e(e)}const rMe=(t,e,n={})=>{var k,$;const r=w.useCallback(()=>{t.current.setStrategyAvailability(hh.DataSource,sk.Default,e.dataSource?()=>!0:()=>!1)},[t,e.dataSource]),[o,i]=w.useState(!1),s=$e(t,Qo),a=w.useRef(0),c=e.onDataSourceError,d=sa(()=>{if(!e.pagination)return new G_(s.pageSize);const D=e.pageSizeOptions.map(A=>typeof A=="number"?A:A.value).sort((A,N)=>A-N),I=Math.min(s.pageSize,D[0]);return new G_(I)}).current,[h,p]=w.useState(()=>F5(e.dataSourceCache,n.cacheOptions)),g=w.useCallback(async(D,I)=>{var H,Z,re;const A=(H=e.dataSource)==null?void 0:H.getRows;if(!A)return;if(D&&D!==Lo&&e.signature!=="DataGrid"){(Z=n.fetchRowChildren)==null||Z.call(n,[D]);return}(re=n.clearDataSourceState)==null||re.call(n);const N=I||{},{skipCache:F}=N,R=Xe(N,tMe),V=U({},eMe(t),t.current.unstable_applyPipeProcessors("getRowsParams",{}),R),K=d.getCacheKeys(V).map(j=>h.get(j));if(!F&&K.every(j=>j!==void 0)){t.current.applyStrategyProcessor("dataSourceRowsUpdate",{response:G_.mergeResponses(K),fetchParams:V});return}(o||t.current.getRowsCount()===0)&&t.current.setLoading(!0);const z=a.current+1;a.current=z;try{const j=await A(V);d.splitResponse(V,j).forEach((ne,ie)=>h.set(ie,ne)),a.current===z&&t.current.applyStrategyProcessor("dataSourceRowsUpdate",{response:j,fetchParams:V})}catch(j){a.current===z&&(t.current.applyStrategyProcessor("dataSourceRowsUpdate",{error:j,fetchParams:V}),typeof c=="function"&&c(new j1e({message:j==null?void 0:j.message,params:V,cause:j})))}finally{o&&a.current===z&&t.current.setLoading(!1)}},[d,h,t,o,(k=e.dataSource)==null?void 0:k.getRows,c,n,e.signature]),m=w.useCallback(()=>{i(t.current.getActiveStrategy(hh.DataSource)===sk.Default)},[t]),v=w.useCallback(D=>{if("error"in D){t.current.setRows([]);return}const{response:I}=D;I.rowCount!==void 0&&t.current.setRowCount(I.rowCount),t.current.setRows(I.rows),t.current.unstable_applyPipeProcessors("processDataSourceRows",{params:D.fetchParams,response:I},!0)},[t]),S=($=e.dataSource)==null?void 0:$.updateRow,C=n.handleEditRow,x=w.useCallback(async D=>{if(S)try{const I=await S(D);return typeof C=="function"?(C(D,I),I):(t.current.updateNestedRows([I],[]),I&&!Ua(I,D.previousRow)&&t.current.dataSource.cache.clear(),I)}catch(I){throw typeof c=="function"&&c(new U1e({message:I==null?void 0:I.message,params:D,cause:I})),I}},[t,S,c,C]),O={dataSource:{fetchRows:g,cache:h,editRow:x}},M=w.useMemo(()=>Av(g,0),[g]),P=w.useRef(!0);return w.useEffect(()=>{if(P.current){P.current=!1;return}if(e.dataSourceCache===void 0)return;const D=F5(e.dataSourceCache,n.cacheOptions);p(I=>I!==D?D:I)},[e.dataSourceCache,n.cacheOptions]),w.useEffect(()=>(e.dataSource&&(t.current.dataSource.cache.clear(),t.current.dataSource.fetchRows()),()=>{a.current+=1}),[t,e.dataSource]),{api:{public:O},debouncedFetchRows:M,strategyProcessor:{strategyName:sk.Default,group:"dataSourceRowsUpdate",processor:v},setStrategyAvailability:r,cacheChunkManager:d,cache:h,events:{strategyAvailabilityChange:m,sortModelChange:uh(o,()=>M()),filterModelChange:uh(o,()=>M()),paginationModelChange:uh(o,()=>M())}}},oMe=(t,e)=>{const{api:n,strategyProcessor:r,events:o,setStrategyAvailability:i}=rMe(t,e);Wt(t,n.public,"public"),TS(t,r.strategyName,r.group,r.processor),Object.entries(o).forEach(([s,a])=>{st(t,s,a)}),w.useEffect(()=>{i()},[i])},iMe=(t,e,n)=>{pRe(t,e),vPe(t,e),pPe(t),To(hRe,t,e),To(mPe,t,e),To(IRe,t,e),To(cPe,t,e),To(QRe,t,e),To(aPe,t,e),To(URe,t,e),To(wPe,t,e),To(JRe,t,e),To(zRe,t,e),To(XPe,t,e),To(MRe,t,e),To(UPe,t,e),To(TRe,t,e),To(LPe,t,e),To(L1e,t,e),To(_Pe,t,e),To(PPe,t,e),To(ZPe,t,e),wRe(t,e),KRe(t,e),yPe(t,e),RRe(t,e),uPe(t,e,n),QPe(t,e),gPe(t,e),OPe(t),NPe(t,e),lPe(t,e),GRe(t,e),ePe(t,e),jRe(t,e),SPe(t,e),kRe(t,e),WPe(t,e),ZRe(t,e),MPe(t),CPe(t,e),ARe(t),DRe(t,e),VRe(t,e),_Re(t,e),APe(t,e),EPe(t,e),kPe(t),N1e(t,e),JPe(t,e),oMe(t,e),w.useEffect(()=>{t.current.runAppliersForPendingProcessors()})},sMe=t=>{const{classes:e,headerAlign:n,isDragging:r,isLastColumn:o,showLeftBorder:i,showRightBorder:s,groupId:a,pinnedPosition:c}=t,d={root:["columnHeader",n==="left"&&"columnHeader--alignLeft",n==="center"&&"columnHeader--alignCenter",n==="right"&&"columnHeader--alignRight",r&&"columnHeader--moving",s&&"columnHeader--withRightBorder",i&&"columnHeader--withLeftBorder","withBorderColor",a===null?"columnHeader--emptyGroup":"columnHeader--filledGroup",c===nn.LEFT&&"columnHeader--pinnedLeft",c===nn.RIGHT&&"columnHeader--pinnedRight",o&&"columnHeader--last"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer","withBorderColor"],titleContainerContent:["columnHeaderTitleContainerContent"]};return Ze(d,en,e)};function aMe(t){var Z;const{groupId:e,width:n,depth:r,maxDepth:o,fields:i,height:s,colIndex:a,hasFocus:c,tabIndex:d,isLastColumn:h,pinnedPosition:p,pinnedOffset:g}=t,m=et(),v=Ni(),S=w.useRef(null),C=Ft(),x=$e(C,vq),O=e?x[e]:{},{headerName:M=e??"",description:P="",headerAlign:k=void 0}=O;let $;const D=e&&((Z=x[e])==null?void 0:Z.renderHeaderGroup),I=w.useMemo(()=>({groupId:e,headerName:M,description:P,depth:r,maxDepth:o,fields:i,colIndex:a,isLastColumn:h}),[e,M,P,r,o,i,a,h]);e&&D&&($=D(I));const A=U({},t,{classes:m.classes,headerAlign:k,depth:r,isDragging:!1}),N=M??e,F=sn(),R=e===null?`empty-group-cell-${F}`:e,V=sMe(A);w.useLayoutEffect(()=>{if(c){const j=S.current.querySelector('[tabindex="0"]')||S.current;if(!j)return;if(NN())j.focus({preventScroll:!0});else{const X=C.current.getScrollPosition();j.focus(),C.current.scroll(X)}}},[C,c]);const q=w.useCallback(re=>j=>{WE(j)||C.current.publishEvent(re,I,j)},[C,I]),K=w.useMemo(()=>({onKeyDown:q("columnGroupHeaderKeyDown"),onFocus:q("columnGroupHeaderFocus"),onBlur:q("columnGroupHeaderBlur")}),[q]),z=typeof O.headerClassName=="function"?O.headerClassName(I):O.headerClassName,H=w.useMemo(()=>VI(U({},t.style),v,p,g),[p,g,t.style,v]);return T.jsx(jq,U({ref:S,classes:V,columnMenuOpen:!1,colIndex:a,height:s,isResizing:!1,sortDirection:null,hasFocus:!1,tabIndex:d,isDraggable:!1,headerComponent:$,headerClassName:z,description:P,elementId:R,width:n,columnMenuIconButton:null,columnTitleIconButtons:null,resizable:!1,label:N,"aria-colspan":i.length,"data-fields":`|-${i.join("-|-")}-|`,style:H},K))}const $5=Se("div",{name:"MuiDataGrid",slot:"ColumnHeaderRow"})({display:"flex"}),lMe=t=>{const{visibleColumns:e,sortColumnLookup:n,filterColumnLookup:r,columnHeaderTabIndexState:o,columnGroupHeaderTabIndexState:i,columnHeaderFocus:s,columnGroupHeaderFocus:a,headerGroupingMaxDepth:c,columnMenuState:d,columnVisibility:h,columnGroupsHeaderStructure:p,hasOtherElementInTabSequence:g}=t,[m,v]=w.useState(""),[S,C]=w.useState(""),x=aa(),O=et(),M=$e(x,bq),P=$e(x,fm),k=$e(x,z1e),$=$e(x,II),D=$e(x,_d),I=Pq(P,k,$.left.length),A=$e(x,vN),N=$e(x,vW),F=$e(x,zSe),R=$e(x,BSe),V=$e(x,wW),q=w.useCallback(ae=>C(ae.field),[]),K=w.useCallback(()=>C(""),[]),z=w.useCallback(ae=>v(ae.field),[]),H=w.useCallback(()=>v(""),[]),Z=w.useMemo(()=>$.left.length?{firstColumnIndex:0,lastColumnIndex:$.left.length}:null,[$.left.length]),re=w.useMemo(()=>$.right.length?{firstColumnIndex:e.length-$.right.length,lastColumnIndex:e.length}:null,[$.right.length,e.length]);st(x,"columnResizeStart",q),st(x,"columnResizeStop",K),st(x,"columnHeaderDragStart",z),st(x,"columnHeaderDragEndNative",H);const j=ae=>{const{renderContext:ge=k}=ae||{},Ee=ge.firstColumnIndex,Te=Math.min(ge.lastColumnIndex,e.length);return{renderedColumns:e.slice(Ee,Te),firstColumnToRender:Ee,lastColumnToRender:Te}},X=(ae,ge,Ee,Te=!1)=>{const le=(ae==null?void 0:ae.position)===nn.RIGHT,pe=(ae==null?void 0:ae.position)===void 0,ye=$.right.length>0&&le||$.right.length===0&&pe,xe=I-Ee;return T.jsxs(w.Fragment,{children:[pe&&T.jsx("div",{role:"presentation",style:{width:xe}}),ge,pe&&T.jsx("div",{role:"presentation",className:Ne(ee.filler,Te&&ee["filler--borderBottom"])}),ye&&T.jsx(zN,{header:!0,pinnedRight:le,borderBottom:Te,borderTop:!1})]})},ne=(ae,ge={})=>{const{renderedColumns:Ee,firstColumnToRender:Te}=j(ae),le=[];for(let pe=0;pe<Ee.length;pe+=1){const ye=Ee[pe],xe=Te+pe,Ce=xe===0,Pe=o!==null&&o.field===ye.field||Ce&&!g?0:-1,ze=s!==null&&s.field===ye.field,Ke=d.open&&d.field===ye.field,ke=ae==null?void 0:ae.position,ot=G0(ke,ye.computedWidth,xe,P,A,V),Ye=ke===nn.RIGHT?Ee[pe-1]:Ee[pe+1],at=Ye?s!==null&&s.field===Ye.field:!1,he=xe+1===P.length-$.right.length,Ue=pe,qe=Ee.length,nt=XT(ke,Ue),Je=YT(ke,Ue,qe,O.showColumnVerticalBorder,N);le.push(T.jsx(STe,U({},n[ye.field],{columnMenuOpen:Ke,filterItemsCounter:r[ye.field]&&r[ye.field].length,headerHeight:F,isDragging:ye.field===m,colDef:ye,colIndex:xe,isResizing:S===ye.field,isLast:xe===P.length-1,hasFocus:ze,tabIndex:Pe,pinnedPosition:ke,pinnedOffset:ot,isLastUnpinned:he,isSiblingFocused:at,showLeftBorder:nt,showRightBorder:Je},ge),ye.field))}return X(ae,le,0)},ie=()=>T.jsxs($5,{role:"row","aria-rowindex":c+1,ownerState:O,className:ee["row--borderBottom"],style:{height:F},children:[Z&&ne({position:nn.LEFT,renderContext:Z},{disableReorder:!0}),ne({renderContext:k}),re&&ne({position:nn.RIGHT,renderContext:re},{disableReorder:!0,separatorSide:$N.Left})]}),se=({depth:ae,params:ge})=>{var qe,nt;const Ee=j(ge);if(Ee.renderedColumns.length===0)return null;const{firstColumnToRender:Te,lastColumnToRender:le}=Ee,pe=p[ae],ye=e[Te].field,xe=((qe=M[ye])==null?void 0:qe[ae])??null,Ce=pe.findIndex(({groupId:Je,columnFields:Qe})=>Je===xe&&Qe.includes(ye)),Pe=e[le-1].field,ze=((nt=M[Pe])==null?void 0:nt[ae])??null,Ke=pe.findIndex(({groupId:Je,columnFields:Qe})=>Je===ze&&Qe.includes(Pe)),ke=pe.slice(Ce,Ke+1).map(Je=>U({},Je,{columnFields:Je.columnFields.filter(Qe=>h[Qe]!==!1)})).filter(Je=>Je.columnFields.length>0),ot=ke[0].columnFields.indexOf(ye),at=ke[0].columnFields.slice(0,ot).reduce((Je,Qe)=>{const dt=D[Qe];return Je+(dt.computedWidth??0)},0);let he=Te;const Ue=ke.map(({groupId:Je,columnFields:Qe},dt)=>{const ht=a!==null&&a.depth===ae&&Qe.includes(a.field),Ge=i!==null&&i.depth===ae&&Qe.includes(i.field)?0:-1,De={width:Qe.reduce((mt,Ut)=>mt+D[Ut].computedWidth,0),fields:Qe,colIndex:he},it=ge.position,Et=G0(it,De.width,he,P,A,V);he+=Qe.length;let gt=dt;return it===nn.LEFT&&(gt=he-1),T.jsx(aMe,{groupId:Je,width:De.width,fields:De.fields,colIndex:De.colIndex,depth:ae,isLastColumn:dt===ke.length-1,maxDepth:c,height:R,hasFocus:ht,tabIndex:Ge,pinnedPosition:it,pinnedOffset:Et,showLeftBorder:XT(it,gt),showRightBorder:YT(it,gt,ke.length,O.showColumnVerticalBorder,N)},dt)});return X(ge,Ue,at)};return{renderContext:k,leftRenderContext:Z,rightRenderContext:re,pinnedColumns:$,visibleColumns:e,columnPositions:P,getFillers:X,getColumnHeadersRow:ie,getColumnsToRender:j,getColumnGroupHeadersRows:()=>{if(c===0)return null;const ae=[];for(let ge=0;ge<c;ge+=1)ae.push(T.jsxs($5,{role:"row","aria-rowindex":ge+1,ownerState:O,style:{height:R},children:[Z&&se({depth:ge,params:{position:nn.LEFT,renderContext:Z,maxLastColumn:Z.lastColumnIndex}}),se({depth:ge,params:{renderContext:k}}),re&&se({depth:ge,params:{position:nn.RIGHT,renderContext:re,maxLastColumn:re.lastColumnIndex}})]},ge));return ae},getPinnedCellOffset:G0,isDragging:!!m,getInnerProps:()=>({role:"rowgroup"})}},cMe=["className"],uMe=t=>{const{classes:e}=t;return Ze({root:["columnHeaders"]},en,e)},dMe=gn("div",{name:"MuiDataGrid",slot:"ColumnHeaders"})({display:"flex",flexDirection:"column",borderTopLeftRadius:"var(--unstable_DataGrid-radius)",borderTopRightRadius:"var(--unstable_DataGrid-radius)"}),hMe=xt(function(e,n){const{className:r}=e,o=Xe(e,cMe),i=et(),s=uMe(i);return T.jsx(dMe,U({className:Ne(s.root,r),ownerState:i},o,{role:"presentation",ref:n}))}),fMe=["className","visibleColumns","sortColumnLookup","filterColumnLookup","columnHeaderTabIndexState","columnGroupHeaderTabIndexState","columnHeaderFocus","columnGroupHeaderFocus","headerGroupingMaxDepth","columnMenuState","columnVisibility","columnGroupsHeaderStructure","hasOtherElementInTabSequence"],pMe=xt(function(e,n){const{visibleColumns:r,sortColumnLookup:o,filterColumnLookup:i,columnHeaderTabIndexState:s,columnGroupHeaderTabIndexState:a,columnHeaderFocus:c,columnGroupHeaderFocus:d,headerGroupingMaxDepth:h,columnMenuState:p,columnVisibility:g,columnGroupsHeaderStructure:m,hasOtherElementInTabSequence:v}=e,S=Xe(e,fMe),{getInnerProps:C,getColumnHeadersRow:x,getColumnGroupHeadersRows:O}=lMe({visibleColumns:r,sortColumnLookup:o,filterColumnLookup:i,columnHeaderTabIndexState:s,columnGroupHeaderTabIndexState:a,columnHeaderFocus:c,columnGroupHeaderFocus:d,headerGroupingMaxDepth:h,columnMenuState:p,columnVisibility:g,columnGroupsHeaderStructure:m,hasOtherElementInTabSequence:v});return T.jsxs(hMe,U({},S,C(),{ref:n,children:[O(),x()]}))}),gMe=xd(pMe);function mMe(t){return null}function yMe(t){return null}const bMe=xt(function(e,n){const o=Ft().current.getLocaleText("noResultsOverlayLabel");return T.jsx(zI,U({},e,{ref:n,children:o}))}),vMe=()=>Ze({root:["bottomContainer"]},en,{}),wMe=gn("div")({position:"sticky",zIndex:40,bottom:"calc(var(--DataGrid-hasScrollX) * var(--DataGrid-scrollbarSize))"});function SMe(t){const e=vMe();return T.jsx(wMe,U({},t,{className:Ne(e.root,ee["container--bottom"]),role:"presentation"}))}const CMe=U({},RSe,{cell:s_e,skeletonCell:f_e,columnHeaderFilterIconButton:OTe,columnHeaderSortIcon:MTe,columnMenu:YTe,columnHeaders:gMe,detailPanels:mMe,bottomContainer:SMe,footer:IIe,footerRowCount:UIe,toolbar:EIe,pinnedRows:yMe,loadingOverlay:NIe,noResultsOverlay:bMe,noRowsOverlay:FIe,noColumnsOverlay:$Ie,pagination:zIe,filterPanel:xAe,columnsPanel:JTe,columnsManagement:OAe,panel:oAe,row:QIe}),EMe={disableMultipleColumnsFiltering:!0,disableMultipleColumnsSorting:!0,throttleRowsMs:void 0,hideFooterRowCount:!1,pagination:!0,checkboxSelectionVisibleOnly:!1,disableColumnReorder:!0,keepColumnPositionIfDraggedOutside:!1,signature:"DataGrid",listView:!1},xMe=t=>U({},EMe,t.dataSource?{filterMode:"server",sortingMode:"server",paginationMode:"server"}:{}),_Me=CMe,TMe=t=>{const e=Cd(),n=w.useMemo(()=>OG({props:t,theme:e,name:"MuiDataGrid"}),[e,t]),r=w.useMemo(()=>U({},eCe,n.localeText),[n.localeText]),o=w.useMemo(()=>J1e({defaultSlots:_Me,slots:n.slots}),[n.slots]),i=w.useMemo(()=>Object.keys(QT).reduce((s,a)=>(s[a]=n[a]??QT[a],s),{}),[n]);return w.useMemo(()=>U({},n,i,{localeText:r,slots:o},xMe(n)),[n,r,o,i])};class AMe{constructor(){je(this,"maxListeners",20);je(this,"warnOnce",!1);je(this,"events",{})}on(e,n,r={}){let o=this.events[e];o||(o={highPriority:new Map,regular:new Map},this.events[e]=o),r.isFirst?o.highPriority.set(n,!0):o.regular.set(n,!0)}removeListener(e,n){this.events[e]&&(this.events[e].regular.delete(n),this.events[e].highPriority.delete(n))}removeAllListeners(){this.events={}}emit(e,...n){const r=this.events[e];if(!r)return;const o=Array.from(r.highPriority.keys()),i=Array.from(r.regular.keys());for(let s=o.length-1;s>=0;s-=1){const a=o[s];r.highPriority.has(a)&&a.apply(this,n)}for(let s=0;s<i.length;s+=1){const a=i[s];r.regular.has(a)&&a.apply(this,n)}}once(e,n){const r=this;this.on(e,function o(...i){r.removeListener(e,o),n.apply(r,i)})}}const tK=Symbol("mui.api_private"),IMe=t=>t.isPropagationStopped!==void 0;let V5=0;function RMe(t){var o;const e=(o=t.current)==null?void 0:o[tK];if(e)return e;const n={},r={state:n,store:TI.create(n),instanceId:{id:V5}};return V5+=1,r.getPublicApi=()=>t.current,r.register=(i,s)=>{Object.keys(s).forEach(a=>{const c=s[a],d=r[a];if((d==null?void 0:d.spying)===!0?d.target=c:r[a]=c,i==="public"){const h=t.current,p=h[a];(p==null?void 0:p.spying)===!0?p.target=c:h[a]=c}})},r.register("private",{caches:{},eventManager:new AMe}),r}function PMe(t){return{get state(){return t.current.state},get store(){return t.current.store},get instanceId(){return t.current.instanceId},[tK]:t.current}}function MMe(t,e){var s;const n=w.useRef(null),r=w.useRef(null);r.current||(r.current=RMe(n)),n.current||(n.current=PMe(r));const o=w.useCallback((...a)=>{const[c,d,h={}]=a;if(h.defaultMuiPrevented=!1,IMe(h)&&h.isPropagationStopped())return;const p=e.signature===Il.DataGridPro||e.signature===Il.DataGridPremium?{api:r.current.getPublicApi()}:{};r.current.eventManager.emit(c,d,h,p)},[r,e.signature]),i=w.useCallback((a,c,d)=>{r.current.eventManager.on(a,c,d);const h=r.current;return()=>{h.eventManager.removeListener(a,c)}},[r]);return Wt(r,{subscribeEvent:i,publishEvent:o},"public"),t&&!((s=t.current)!=null&&s.state)&&(t.current=n.current),w.useImperativeHandle(t,()=>n.current,[n]),w.useEffect(()=>{const a=r.current;return()=>{a.publishEvent("unmount")}},[r]),r}const z5={hooks:{useCSSVariables:R0e,useGridAriaAttributes:ZIe,useGridRowAriaAttributes:JIe,useGridRowsOverridableMethods:eRe,useCellAggregationResult:()=>null}},nK=function(e,n){var i;const r=TMe(e),o=MMe(r.apiRef,r);return iMe(o,r,z5),T.jsx(tRe,{privateApiRef:o,configuration:z5,props:r,children:T.jsx(R_e,U({className:r.className,style:r.style,sx:r.sx},(i=r.slotProps)==null?void 0:i.root,{ref:n}))})},kMe=w.memo(xt(nK));nK.propTypes={apiRef:fe.shape({current:fe.object}),"aria-label":fe.string,"aria-labelledby":fe.string,autoHeight:fe.bool,autoPageSize:fe.bool,autosizeOnMount:fe.bool,autosizeOptions:fe.shape({columns:fe.arrayOf(fe.string),disableColumnVirtualization:fe.bool,expand:fe.bool,includeHeaders:fe.bool,includeOutliers:fe.bool,outliersFactor:fe.number}),cellModesModel:fe.object,checkboxSelection:fe.bool,classes:fe.object,className:fe.string,clipboardCopyCellDelimiter:fe.string,columnBufferPx:fe.number,columnFilterDebounceMs:fe.number,columnGroupHeaderHeight:fe.number,columnGroupingModel:fe.arrayOf(fe.object),columnHeaderHeight:fe.number,columns:fe.arrayOf(fe.object).isRequired,columnVisibilityModel:fe.object,dataSource:fe.shape({getRows:fe.func.isRequired,updateRow:fe.func}),dataSourceCache:fe.shape({clear:fe.func.isRequired,get:fe.func.isRequired,set:fe.func.isRequired}),density:fe.oneOf(["comfortable","compact","standard"]),disableAutosize:fe.bool,disableColumnFilter:fe.bool,disableColumnMenu:fe.bool,disableColumnResize:fe.bool,disableColumnSelector:fe.bool,disableColumnSorting:fe.bool,disableDensitySelector:fe.bool,disableEval:fe.bool,disableMultipleRowSelection:fe.bool,disableRowSelectionOnClick:fe.bool,disableVirtualization:fe.bool,editMode:fe.oneOf(["cell","row"]),estimatedRowCount:fe.number,experimentalFeatures:fe.shape({warnIfFocusStateIsNotSynced:fe.bool}),filterDebounceMs:fe.number,filterMode:fe.oneOf(["client","server"]),filterModel:fe.shape({items:fe.arrayOf(fe.shape({field:fe.string.isRequired,id:fe.oneOfType([fe.number,fe.string]),operator:fe.string.isRequired,value:fe.any})).isRequired,logicOperator:fe.oneOf(["and","or"]),quickFilterExcludeHiddenColumns:fe.bool,quickFilterLogicOperator:fe.oneOf(["and","or"]),quickFilterValues:fe.array}),getCellClassName:fe.func,getDetailPanelContent:fe.func,getEstimatedRowHeight:fe.func,getRowClassName:fe.func,getRowHeight:fe.func,getRowId:fe.func,getRowSpacing:fe.func,hideFooter:fe.bool,hideFooterPagination:fe.bool,hideFooterSelectedRowCount:fe.bool,ignoreDiacritics:fe.bool,ignoreValueFormatterDuringExport:fe.oneOfType([fe.shape({clipboardExport:fe.bool,csvExport:fe.bool}),fe.bool]),initialState:fe.object,isCellEditable:fe.func,isRowSelectable:fe.func,keepNonExistentRowsSelected:fe.bool,label:fe.string,loading:fe.bool,localeText:fe.object,logger:fe.shape({debug:fe.func.isRequired,error:fe.func.isRequired,info:fe.func.isRequired,warn:fe.func.isRequired}),logLevel:fe.oneOf(["debug","error","info","warn",!1]),nonce:fe.string,onCellClick:fe.func,onCellDoubleClick:fe.func,onCellEditStart:fe.func,onCellEditStop:fe.func,onCellKeyDown:fe.func,onCellModesModelChange:fe.func,onClipboardCopy:fe.func,onColumnHeaderClick:fe.func,onColumnHeaderContextMenu:fe.func,onColumnHeaderDoubleClick:fe.func,onColumnHeaderEnter:fe.func,onColumnHeaderLeave:fe.func,onColumnHeaderOut:fe.func,onColumnHeaderOver:fe.func,onColumnOrderChange:fe.func,onColumnResize:fe.func,onColumnVisibilityModelChange:fe.func,onColumnWidthChange:fe.func,onDataSourceError:fe.func,onDensityChange:fe.func,onFilterModelChange:fe.func,onMenuClose:fe.func,onMenuOpen:fe.func,onPaginationMetaChange:fe.func,onPaginationModelChange:fe.func,onPreferencePanelClose:fe.func,onPreferencePanelOpen:fe.func,onProcessRowUpdateError:fe.func,onResize:fe.func,onRowClick:fe.func,onRowCountChange:fe.func,onRowDoubleClick:fe.func,onRowEditStart:fe.func,onRowEditStop:fe.func,onRowModesModelChange:fe.func,onRowSelectionModelChange:fe.func,onSortModelChange:fe.func,onStateChange:fe.func,pageSizeOptions:fe.arrayOf(fe.oneOfType([fe.number,fe.shape({label:fe.string.isRequired,value:fe.number.isRequired})]).isRequired),pagination:fe.oneOf([!0]),paginationMeta:fe.shape({hasNextPage:fe.bool}),paginationMode:fe.oneOf(["client","server"]),paginationModel:fe.shape({page:fe.number.isRequired,pageSize:fe.number.isRequired}),processRowUpdate:fe.func,resizeThrottleMs:fe.number,rowBufferPx:fe.number,rowCount:fe.number,rowHeight:fe.number,rowModesModel:fe.object,rows:fe.arrayOf(fe.object),rowSelection:fe.bool,rowSelectionModel:fe.shape({ids:fe.instanceOf(Set).isRequired,type:fe.oneOf(["exclude","include"]).isRequired}),rowSpacingType:fe.oneOf(["border","margin"]),rowSpanning:fe.bool,scrollbarSize:fe.number,showCellVerticalBorder:fe.bool,showColumnVerticalBorder:fe.bool,showToolbar:fe.bool,slotProps:fe.object,slots:fe.object,sortingMode:fe.oneOf(["client","server"]),sortingOrder:fe.arrayOf(fe.oneOf(["asc","desc"])),sortModel:fe.arrayOf(fe.shape({field:fe.string.isRequired,sort:fe.oneOf(["asc","desc"])})),style:fe.object,sx:fe.oneOfType([fe.arrayOf(fe.oneOfType([fe.func,fe.object,fe.bool])),fe.func,fe.object]),virtualizeColumnsWithAutoRowHeight:fe.bool};var qD=function(t,e){return qD=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},qD(t,e)};function rK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");qD(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function B5(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function KD(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],s;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return i}function YD(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function sd(t){return typeof t=="function"}function OMe(t){var e=function(r){Error.call(r),r.stack=new Error().stack},n=t(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ak=OMe(function(t){return function(n){t(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,o){return o+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function H5(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var jN=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,n,r,o,i;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var a=B5(s),c=a.next();!c.done;c=a.next()){var d=c.value;d.remove(this)}}catch(S){e={error:S}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}else s.remove(this);var h=this.initialTeardown;if(sd(h))try{h()}catch(S){i=S instanceof ak?S.errors:[S]}var p=this._finalizers;if(p){this._finalizers=null;try{for(var g=B5(p),m=g.next();!m.done;m=g.next()){var v=m.value;try{j5(v)}catch(S){i=i??[],S instanceof ak?i=YD(YD([],KD(i)),KD(S.errors)):i.push(S)}}}catch(S){r={error:S}}finally{try{m&&!m.done&&(o=g.return)&&o.call(g)}finally{if(r)throw r.error}}}if(i)throw new ak(i)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)j5(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}},t.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},t.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},t.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&H5(n,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&H5(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}();jN.EMPTY;function oK(t){return t instanceof jN||t&&"closed"in t&&sd(t.remove)&&sd(t.add)&&sd(t.unsubscribe)}function j5(t){sd(t)?t():t.unsubscribe()}var DMe={Promise:void 0},LMe={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,YD([t,e],KD(n)))},clearTimeout:function(t){return clearTimeout(t)},delegate:void 0};function NMe(t){LMe.setTimeout(function(){throw t})}function U5(){}function FMe(t){t()}var iK=function(t){rK(e,t);function e(n){var r=t.call(this)||this;return r.isStopped=!1,n?(r.destination=n,oK(n)&&n.add(r)):r.destination=zMe,r}return e.create=function(n,r,o){return new XD(n,r,o)},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(jN),$Me=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(r){V1(r)}},t.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(r){V1(r)}else V1(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){V1(n)}},t}(),XD=function(t){rK(e,t);function e(n,r,o){var i=t.call(this)||this,s;return sd(n)||!n?s={next:n??void 0,error:r??void 0,complete:o??void 0}:s=n,i.destination=new $Me(s),i}return e}(iK);function V1(t){NMe(t)}function VMe(t){throw t}var zMe={closed:!0,next:U5,error:VMe,complete:U5},BMe=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function HMe(t){return t}function jMe(t){return t.length===0?HMe:t.length===1?t[0]:function(n){return t.reduce(function(r,o){return o(r)},n)}}var sK=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var o=this,i=GMe(e)?e:new XD(e,n,r);return FMe(function(){var s=o,a=s.operator,c=s.source;i.add(a?a.call(i,c):c?o._subscribe(i):o._trySubscribe(i))}),i},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},t.prototype.forEach=function(e,n){var r=this;return n=G5(n),new n(function(o,i){var s=new XD({next:function(a){try{e(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});r.subscribe(s)})},t.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},t.prototype[BMe]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return jMe(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=G5(e),new e(function(r,o){var i;n.subscribe(function(s){return i=s},function(s){return o(s)},function(){return r(i)})})},t.create=function(e){return new t(e)},t}();function G5(t){var e;return(e=t??DMe.Promise)!==null&&e!==void 0?e:Promise}function UMe(t){return t&&sd(t.next)&&sd(t.error)&&sd(t.complete)}function GMe(t){return t&&t instanceof iK||UMe(t)&&oK(t)}const WMe=()=>new sK(t=>{console.log("   ");const e=tG(aL(Ml,"users"),n=>{console.log(" ,  :",n.docs.length);const r=n.docs.map(o=>{const i=o.data();return{uid:o.id,displayName:i.displayName||"",email:i.email||"",testList:i.testList||[]}});console.log(" :",r.length),t.next(r)},n=>{console.error("  getAllStudentInfo:",n),t.error(n)});return()=>{console.log("  getAllStudentInfo"),e()}}),qMe=t=>new sK(e=>{if(!t)return console.log("UID  "),e.next([]),()=>{};console.log("   :",t);const n=tG(Vc(Ml,"users",t),r=>{if(r.exists()){console.log("  ");const o=r.data(),i={uid:r.id,displayName:o.displayName||"",email:o.email||"",testList:o.testList||[]};e.next([i])}else console.log("   "),e.next([])},r=>{console.error("  getCurrentUserInfo:",r),e.error(r)});return()=>{console.log("  getCurrentUserInfo"),n()}}),KMe=()=>{const[t,e]=w.useState([]),[n,r]=w.useState(!0),[o,i]=w.useState(!1),s=bi(m=>m.auth.email),a=bi(m=>m.auth.uid),c=s?GA.has(s):!1;w.useEffect(()=>{const m=setTimeout(()=>{i(!0)},100);return()=>clearTimeout(m)},[]),w.useEffect(()=>{if(!o)return;if(!s&&!a){const v=setTimeout(()=>{!s&&!a&&r(!1)},1e3);return()=>clearTimeout(v)}r(!0);let m;return c?(console.log("   "),m=WMe().subscribe({next:v=>{console.log("  :",v.length);const S=v.map(C=>{const x={};return(C.testList??[]).forEach(O=>{x[O.idTest]={score:O.score??"",completed:!!O.completed}}),{id:C.uid,studentName:C.displayName??"",lessons:x}});e(S),r(!1)},error:v=>{console.error("   :",v),e([]),r(!1)}})):a?(console.log("   :",a),m=qMe(a).subscribe({next:v=>{console.log("  :",v.length);const S=v.map(C=>{const x={};return(C.testList??[]).forEach(O=>{x[O.idTest]={score:O.score??"",completed:!!O.completed}}),{id:C.uid,studentName:C.displayName??"",lessons:x}});e(S),r(!1)},error:v=>{console.error("   :",v),e([]),r(!1)}})):(e([]),r(!1)),()=>{m&&(console.log("  "),m.unsubscribe())}},[o,s,a,c]);const d=Array.from({length:8},(m,v)=>{const S=`lesson${v+1}`;return{field:S,headerName:` ${v+1}`,width:120,renderCell:C=>{const x=C.row.lessons[S];return x?x.completed?T.jsx(sf,{label:x.score||"",color:"success",size:"small"}):T.jsx(sf,{label:" ",variant:"outlined",size:"small"}):""}}}),h=c?[{field:"studentName",headerName:"",minWidth:180,flex:1},...d,{field:"actions",headerName:"",width:120,sortable:!1,filterable:!1,renderCell:m=>T.jsxs(Er,{sx:{display:"flex",gap:1},children:[T.jsx(qye,{size:18,color:"#666",style:{cursor:"pointer",margin:"2px"},onClick:()=>p(m.row.id)}),T.jsx(Lye,{size:18,color:"#d32f2f",style:{cursor:"pointer",margin:"2px"},onClick:()=>g(m.row.id)})]})}]:d,p=m=>{console.log("",m)},g=m=>{console.log("",m)};return o?T.jsxs(Er,{sx:{height:"100%",width:"100%",bgcolor:"background.paper",p:2,borderRadius:2},children:[T.jsx(pr,{variant:"h5",sx:{mb:2},children:c?"   ":" "}),T.jsx(kMe,{rows:t,sx:{height:"auto"},getRowId:m=>m.id,columns:h,loading:n,pageSizeOptions:[5,10,20],initialState:{pagination:{paginationModel:{pageSize:10}}},disableRowSelectionOnClick:!0,hideFooter:!c&&t.length<=1})]}):T.jsx(Er,{sx:{height:"100%",width:"100%",bgcolor:"background.paper",p:2,borderRadius:2},children:T.jsx(pr,{variant:"h5",sx:{mb:2},children:"..."})})},YMe=[{path:Pi.HOME,element:T.jsx(hse,{}),role:""},{path:`${Pi.QUIZ}/:quizId`,element:T.jsx(Tye,{}),role:lh.USER},{path:Pi.LOGIN,element:T.jsx(abe,{}),role:""},{path:Pi.LOGOUT,element:T.jsx(F9,{}),role:lh.USER},{path:Pi.REGISTER,element:T.jsx(ube,{}),role:""},{path:Pi.LECTURES,element:T.jsx(Ywe,{}),role:lh.USER},{path:Pi.ANATOMY,element:T.jsx(Zwe,{}),role:lh.USER},{path:`${Pi.ANATOMY}/:id`,element:T.jsx(r0e,{}),role:lh.USER},{path:Pi.OPTIONS,element:T.jsx(mbe,{}),role:""},{path:Pi.USERSCORES,element:T.jsx(KMe,{}),role:""},{path:Pi.ERROR,element:T.jsx(dbe,{}),role:""}];function XMe({children:t}){const e=bi(n=>n.lang.language);return w.useEffect(()=>{document.documentElement.lang=e==="he"?"he":"ru",document.documentElement.dir=e==="he"?"rtl":"ltr"},[e]),T.jsx(T.Fragment,{children:t})}function QMe(){const{isLoading:t}=bi(n=>n.auth),e=VQ();return w.useEffect(()=>{const n=_te(gf,r=>{e(r?y2({uid:r.uid,email:r.email,displayName:r.displayName,testList:[],isLoading:!1,isAuth:!0}):DU())});return()=>n()},[e]),t?T.jsx("div",{className:"fullscreen-loader",children:"..."}):T.jsx(XMe,{children:T.jsx("div",{className:"app",children:T.jsx(BX,{children:YMe.map(({path:n,element:r,role:o})=>o===lh.USER||o===lh.ADMIN?T.jsx(H1,{element:T.jsx(zQ,{}),children:T.jsx(H1,{path:n,element:r})},n):T.jsx(H1,{path:n,element:r},n))})})})}function W_(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?W_=function(n){return typeof n}:W_=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},W_(t)}function ZMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JMe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function eke(t,e,n){return e&&JMe(t.prototype,e),t}function tke(t,e){return e&&(W_(e)==="object"||typeof e=="function")?e:q_(t)}function QD(t){return QD=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},QD(t)}function q_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ZD(t,e)}function ZD(t,e){return ZD=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},ZD(t,e)}function K_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var aK=function(t){nke(e,t);function e(){var n,r;ZMe(this,e);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=tke(this,(n=QD(e)).call.apply(n,[this].concat(i))),K_(q_(r),"state",{bootstrapped:!1}),K_(q_(r),"_unsubscribe",void 0),K_(q_(r),"handlePersistorState",function(){var a=r.props.persistor,c=a.getState(),d=c.bootstrapped;d&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return eke(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(w.PureComponent);K_(aK,"defaultProps",{children:null,loading:null});var Jw={},z1={},B1={},W5;function rke(){if(W5)return B1;W5=1,B1.__esModule=!0,B1.default=o;function t(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(a){return typeof a}:t=function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},t(i)}function e(){}var n={getItem:e,setItem:e,removeItem:e};function r(i){if((typeof self>"u"?"undefined":t(self))!=="object"||!(i in self))return!1;try{var s=self[i],a="redux-persist ".concat(i," test");s.setItem(a,"test"),s.getItem(a),s.removeItem(a)}catch{return!1}return!0}function o(i){var s="".concat(i,"Storage");return r(s)?self[s]:n}return B1}var q5;function oke(){if(q5)return z1;q5=1,z1.__esModule=!0,z1.default=n;var t=e(rke());function e(r){return r&&r.__esModule?r:{default:r}}function n(r){var o=(0,t.default)(r);return{getItem:function(s){return new Promise(function(a,c){a(o.getItem(s))})},setItem:function(s,a){return new Promise(function(c,d){c(o.setItem(s,a))})},removeItem:function(s){return new Promise(function(a,c){a(o.removeItem(s))})}}}return z1}var K5;function ike(){if(K5)return Jw;K5=1,Jw.__esModule=!0,Jw.default=void 0;var t=e(oke());function e(r){return r&&r.__esModule?r:{default:r}}var n=(0,t.default)("local");return Jw.default=n,Jw}var ske=ike();const ake=tE(ske);var UN="persist:",GN="persist/FLUSH",BI="persist/REHYDRATE",WN="persist/PAUSE",qN="persist/PERSIST",KN="persist/PURGE",YN="persist/REGISTER",lke=-1;function Y_(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Y_=function(n){return typeof n}:Y_=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Y_(t)}function Y5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function cke(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y5(n,!0).forEach(function(r){uke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y5(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uke(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dke(t,e,n,r){r.debug;var o=cke({},n);return t&&Y_(t)==="object"&&Object.keys(t).forEach(function(i){i!=="_persist"&&e[i]===n[i]&&(o[i]=t[i])}),o}function hke(t){var e=t.blacklist||null,n=t.whitelist||null,r=t.transforms||[],o=t.throttle||0,i="".concat(t.keyPrefix!==void 0?t.keyPrefix:UN).concat(t.key),s=t.storage,a;t.serialize===!1?a=function(k){return k}:typeof t.serialize=="function"?a=t.serialize:a=fke;var c=t.writeFailHandler||null,d={},h={},p=[],g=null,m=null,v=function(k){Object.keys(k).forEach(function($){x($)&&d[$]!==k[$]&&p.indexOf($)===-1&&p.push($)}),Object.keys(d).forEach(function($){k[$]===void 0&&x($)&&p.indexOf($)===-1&&d[$]!==void 0&&p.push($)}),g===null&&(g=setInterval(S,o)),d=k};function S(){if(p.length===0){g&&clearInterval(g),g=null;return}var P=p.shift(),k=r.reduce(function($,D){return D.in($,P,d)},d[P]);if(k!==void 0)try{h[P]=a(k)}catch($){console.error("redux-persist/createPersistoid: error serializing state",$)}else delete h[P];p.length===0&&C()}function C(){Object.keys(h).forEach(function(P){d[P]===void 0&&delete h[P]}),m=s.setItem(i,a(h)).catch(O)}function x(P){return!(n&&n.indexOf(P)===-1&&P!=="_persist"||e&&e.indexOf(P)!==-1)}function O(P){c&&c(P)}var M=function(){for(;p.length!==0;)S();return m||Promise.resolve()};return{update:v,flush:M}}function fke(t){return JSON.stringify(t)}function pke(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:UN).concat(t.key),r=t.storage;t.debug;var o;return t.deserialize===!1?o=function(s){return s}:typeof t.deserialize=="function"?o=t.deserialize:o=gke,r.getItem(n).then(function(i){if(i)try{var s={},a=o(i);return Object.keys(a).forEach(function(c){s[c]=e.reduceRight(function(d,h){return h.out(d,c,a)},o(a[c]))}),s}catch(c){throw c}else return})}function gke(t){return JSON.parse(t)}function mke(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:UN).concat(t.key);return e.removeItem(n,yke)}function yke(t){}function X5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function gu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X5(n,!0).forEach(function(r){bke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X5(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bke(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vke(t,e){if(t==null)return{};var n=wke(t,e),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wke(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,i;for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}var Ske=5e3;function Cke(t,e){var n=t.version!==void 0?t.version:lke;t.debug;var r=t.stateReconciler===void 0?dke:t.stateReconciler,o=t.getStoredState||pke,i=t.timeout!==void 0?t.timeout:Ske,s=null,a=!1,c=!0,d=function(p){return p._persist.rehydrated&&s&&!c&&s.update(p),p};return function(h,p){var g=h||{},m=g._persist,v=vke(g,["_persist"]),S=v;if(p.type===qN){var C=!1,x=function(I,A){C||(p.rehydrate(t.key,I,A),C=!0)};if(i&&setTimeout(function(){!C&&x(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},i),c=!1,s||(s=hke(t)),m)return gu({},e(S,p),{_persist:m});if(typeof p.rehydrate!="function"||typeof p.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return p.register(t.key),o(t).then(function(D){var I=t.migrate||function(A,N){return Promise.resolve(A)};I(D,n).then(function(A){x(A)},function(A){x(void 0,A)})},function(D){x(void 0,D)}),gu({},e(S,p),{_persist:{version:n,rehydrated:!1}})}else{if(p.type===KN)return a=!0,p.result(mke(t)),gu({},e(S,p),{_persist:m});if(p.type===GN)return p.result(s&&s.flush()),gu({},e(S,p),{_persist:m});if(p.type===WN)c=!0;else if(p.type===BI){if(a)return gu({},S,{_persist:gu({},m,{rehydrated:!0})});if(p.key===t.key){var O=e(S,p),M=p.payload,P=r!==!1&&M!==void 0?r(M,h,O,t):O,k=gu({},P,{_persist:gu({},m,{rehydrated:!0})});return d(k)}}}if(!m)return e(h,p);var $=e(S,p);return $===S?h:d(gu({},$,{_persist:m}))}}function Q5(t){return _ke(t)||xke(t)||Eke()}function Eke(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function xke(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function _ke(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function Z5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function JD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z5(n,!0).forEach(function(r){Tke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z5(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tke(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var lK={registry:[],bootstrapped:!1},Ake=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:lK,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case YN:return JD({},e,{registry:[].concat(Q5(e.registry),[n.key])});case BI:var r=e.registry.indexOf(n.key),o=Q5(e.registry);return o.splice(r,1),JD({},e,{registry:o,bootstrapped:o.length===0});default:return e}};function Ike(t,e,n){var r=f2(Ake,lK,void 0),o=function(c){r.dispatch({type:YN,key:c})},i=function(c,d,h){var p={type:BI,payload:d,err:h,key:c};t.dispatch(p),r.dispatch(p)},s=JD({},r,{purge:function(){var c=[];return t.dispatch({type:KN,result:function(h){c.push(h)}}),Promise.all(c)},flush:function(){var c=[];return t.dispatch({type:GN,result:function(h){c.push(h)}}),Promise.all(c)},pause:function(){t.dispatch({type:WN})},persist:function(){t.dispatch({type:qN,register:o,rehydrate:i})}});return s.persist(),s}const Rke=vU({auth:FZ,lang:fbe}),Pke={key:"root",storage:ake,whitelist:["lang","auth"]},Mke=Cke(Pke,Rke),cK=xZ({reducer:Mke,middleware:t=>t({serializableCheck:{ignoredActions:[GN,BI,WN,qN,KN,YN]}})}),kke=Ike(cK),Oke=[{id:"lesson1",title:{ru:" 1",he:" 1"},description:{ru:"  ",he:"  "},icon:"image/icon_1.png"},{id:"lesson2",title:{ru:" 2",he:" 2"},description:{ru:" ",he:"  "},icon:"image/icon_2.png"},{id:"lesson3",title:{ru:" 3",he:" 3"},description:{ru:" ",he:" "},icon:"image/icon_3.png"},{id:"lesson4",title:{ru:" 4",he:" 4"},description:{ru:", , ",he:",  "},icon:"image/icon_4.png"},{id:"lesson5",title:{ru:" 5",he:" 5"},description:{ru:"    ",he:"     "},icon:"image/icon_5.png"},{id:"lesson6",title:{ru:" 6",he:" 6"},description:{ru:"    .  ",he:"     .  "},icon:"image/icon_6.png"},{id:"lesson7",title:{ru:" 7",he:" 7"},description:{ru:" ",he:" "},icon:"image/icon_7.png"},{id:"lesson8",title:{ru:" 8",he:" 8"},description:{ru:"   ",he:"  "},icon:"image/icon_8.png"},{id:"lesson-test",title:{ru:"",he:""},description:{ru:"",he:""},icon:"image/icon_1.png"}],Dke=[{question:{ru:"        ?",he:"?        "},options:{ru:["  ","  "," "," "],he:["  ","  ","  "," "]},answer:2},{question:{ru:"     ?",he:"      ?"},options:{ru:["","  90","  45",""],he:[""," 90"," 45",""]},answer:2},{question:{ru:"       ?",he:"      ?"},options:{ru:["",""," ",""],he:["",""," ",""]},answer:2},{question:{ru:"      ?",he:"     ?"},options:{ru:["45 ","67 ","78 ","10 "],he:['4-5 "','6-7 "','7-8 "','10 "']},answer:2},{question:{ru:"       ?",he:"       ?"},options:{ru:["","","-",""],he:["","","-",""]},answer:2},{question:{ru:"       ?",he:"      ?"},options:{ru:[" "," "," "," "],he:[" "," "," "," -"]},answer:2},{question:{ru:"  ,   ?",he:"    ?"},options:{ru:["","","",""],he:["","","",""]},answer:2},{question:{ru:"     ?",he:"      -?"},options:{ru:[" "," ","  "," "],he:["  "," "," - "," "]},answer:2},{question:{ru:"       ?",he:"      ?"},options:{ru:[" "," "," ","  "],he:[" "," "," ","  "]},answer:3},{question:{ru:"     ?",he:"    ?"},options:{ru:["   "," ","  "," "],he:["  "," ","  "," "]},answer:0},{question:{ru:"       ?",he:"      ?"},options:{ru:[" "," ","  ","  "],he:[" "," ","  ","  "]},answer:3},{question:{ru:"        ?",he:"      ?"},options:{ru:["-",""," "," "],he:["A-",""," --"," "]},answer:1},{question:{ru:"         ?",he:"          ?"},options:{ru:["  "," ","  ","   "],he:["  "," ","   ","    "]},answer:3},{question:{ru:"       ?",he:"       ?"},options:{ru:[" "," "," "," "],he:[" "," "," "," "]},answer:1},{question:{ru:"          ?",he:"         ?"},options:{ru:[" ","  "," ","  "],he:[" ","  "," ","  "]},answer:0},{question:{ru:"        ?",he:"        ?"},options:{ru:["  ","  ","    ","  "],he:["   ","   ","   - ","  "]},answer:2},{question:{ru:"        ?",he:"        ?"},options:{ru:["  ","  "," ","  "],he:["    ","   "," ","   "]},answer:1},{question:{ru:"        ?",he:"        ?"},options:{ru:[" ","  ","  ","  "],he:[" ","   ","  ","    "]},answer:3}],Lke={questions:Dke},uK=()=>{const{email:t,displayName:e}=bi(a=>a.auth);console.log(t,e);const n=Za(),r=bi(a=>a.lang.language),o=w.useMemo(()=>GA.has(t||""),[t]),[i,s]=w.useState(!1);return T.jsxs("div",{className:"navbar",children:[T.jsx("h3",{children:""}),T.jsx("button",{onClick:()=>n("/"),children:r==="ru"?"":""}),T.jsx("button",{onClick:()=>n("/lectures"),children:r==="ru"?"":""}),T.jsx("button",{onClick:()=>n("/anatomy"),children:r==="ru"?"":""}),T.jsx("button",{onClick:()=>n("/options"),children:r==="ru"?"":""}),o&&T.jsxs("div",{children:[T.jsx("button",{disabled:i,onClick:async()=>{console.log("isAdmin ",o);try{s(!0),await sse(Oke,{overwrite:!0}),alert(" ")}catch(a){console.error(a),alert("  ")}finally{s(!1)}},children:i?"":"   "}),T.jsx("button",{disabled:i,onClick:async()=>{console.log("isAdmin ",o);try{s(!0),await ase("lesson7",Lke.questions),alert(" ")}catch(a){console.error(a),alert("  ")}finally{s(!1)}},children:i?"":"   "})]})]})},Nke=()=>{var i,s;const{email:t,displayName:e}=bi(a=>a.auth);console.log(t,e);const n=Za(),[r,o]=w.useState(!1);return T.jsxs("div",{className:"header",children:[T.jsxs(Er,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[T.jsx("div",{className:"burger",children:T.jsx(Va,{"aria-label":"open navigation",onClick:()=>o(!0),edge:"start",size:"large",children:T.jsx(Bye,{})})}),T.jsx(pr,{variant:"h5",sx:{fontWeight:700},children:"Quiz Dent"})]}),t?T.jsxs(Er,{sx:{display:"flex",alignItems:"center",ml:"15px",mr:"15px"},children:[T.jsxs(Er,{sx:{display:"flex",alignItems:"center",mr:3,ml:3},children:[T.jsx(ofe,{sx:{m:"3px"},children:(s=(i=e||t)==null?void 0:i[0])==null?void 0:s.toUpperCase()}),T.jsx(pr,{sx:{color:"#E5E7EB",fontSize:20,cursor:"pointer","&:hover":{textDecoration:"underline"}},onClick:()=>n("/userscores"),children:e||t})]}),T.jsx(F9,{})]}):T.jsx(Er,{sx:{display:"flex",alignItems:"center",ml:"15px",mr:"15px"},children:T.jsx(Iv,{variant:"contained",style:{backgroundColor:"green",fontWeight:"bold"},onClick:async()=>{n("/login")},children:"Login"})}),T.jsx(Wpe,{anchor:"left",open:r,onClose:()=>o(!1),BackdropProps:{sx:{backgroundColor:"rgba(0,0,0,0.5)"}},PaperProps:{sx:{backgroundColor:"rgba(21,26,33,0.0)",backdropFilter:"blur(6px)",boxShadow:6,borderRadius:"0 0 16px 16px",px:2,py:2,height:"auto",maxHeight:"80vh"}},children:T.jsx(Er,{sx:{p:2,display:"block"},className:"navbar--drawer",children:T.jsx(uK,{})})})]})},Fke=t=>iI({palette:{mode:t,primary:{main:"#1976d2"},secondary:{main:"#6ea8fe"},text:{primary:t==="dark"?"#E5E7EB":"#0f172a"},background:{default:t==="dark"?"#0B1220":"#f5f7fb",paper:t==="dark"?"#151A21":"#ffffff"}},shape:{borderRadius:14},typography:{fontFamily:"Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial",allVariants:{color:t==="dark"?"#E5E7EB":void 0}}});function $ke(){const[t,e]=w.useState("dark"),n=w.useMemo(()=>Fke(t),[t]),r=w.useCallback(()=>{e(o=>o==="light"?"dark":"light")},[]);return T.jsx(V9.Provider,{value:{mode:t,toggle:r},children:T.jsxs(nue,{theme:n,children:[T.jsx(epe,{}),T.jsxs(dQ,{children:[T.jsx(Nke,{}),T.jsxs("div",{className:"main",children:[T.jsx("div",{className:"navbar--static",children:T.jsx(uK,{})}),T.jsx("div",{className:"main __right-block",children:T.jsx(QMe,{})})]})]})]})})}WY.createRoot(document.getElementById("root")).render(T.jsx(DQ,{store:cK,children:T.jsx(aK,{loading:!0,persistor:kke,children:T.jsx($ke,{})})}));
